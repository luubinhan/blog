<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>6 vÃ­ dá»¥ Ä‘á»ƒ báº¡n yÃªu luÃ´n observable - VuiLapTrinh.com</title><meta name="gridsome:hash" content="2220dd7e21ec580c079d73e55205e2a635c3762b"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="A simple, hackable &amp; minimalistic starter for Gridsome that uses Markdown for content."><meta data-vue-tag="ssr" name="desc" content="ThÃªm nhá»¯ng lÃ½ do Ä‘á»ƒ dá»¥ dá»— báº¡n xÃ i Observable"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/blog/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/blog/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/blog/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/blog/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/blog/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/blog/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/blog/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/blog/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/blog/assets/css/0.styles.9ab035e6.css" as="style"><link rel="preload" href="/blog/assets/js/app.24a01750.js" as="script"><link rel="preload" href="/blog/assets/js/page--src-templates-post-vue.da685d0f.js" as="script"><link rel="prefetch" href="/blog/assets/js/page--node-modules-gridsome-app-pages-404-vue.1906fe28.js"><link rel="prefetch" href="/blog/assets/js/page--src-pages-index-vue.267eee57.js"><link rel="prefetch" href="/blog/assets/js/page--src-templates-tag-vue.12682fb0.js"><link rel="stylesheet" href="/blog/assets/css/0.styles.9ab035e6.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/blog/" class="logo active"><span class="logo__text">
    â† VuiLapTrinh.com
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">6 vÃ­ dá»¥ Ä‘á»ƒ báº¡n yÃªu luÃ´n observable</h1><div class="post-meta">
   Posted 2019-07-09.
   <strong>6 min read.</strong></div></div><div class="post content-box"><div class="post__header"><!----></div><div class="post__content"><!-- TOC -->
<ul>
<li><a href="#Handle-c%C3%A1c-event-b%E1%BA%B1ng-Observable">Handle cÃ¡c event báº±ng Observable</a></li>
<li><a href="#Operator-operator">Operator, operator</a></li>
<li><a href="#Ai-c%C3%B3-th%E1%BB%83-l%C3%A0-Observable">Ai cÃ³ thá»ƒ lÃ  Observable</a></li>
<li><a href="#Observable-cho-c%C3%A1c-HTTP-request">Observable cho cÃ¡c HTTP request</a></li>
<li><a href="#K%E1%BA%BFt-h%E1%BB%A3p-c%C3%A1c-Observable">Káº¿t há»£p cÃ¡c Observable</a></li>
<li><a href="#K%E1%BA%BFt">Káº¿t</a></li>
</ul>
<!-- /TOC -->
<p><strong>Observable</strong> mÃ¬nh dá»‹ch ra tiáº¿ng viá»‡t tháº¿ nÃ y cho báº¡n dá»… hÃ¬nh dung. Má»™t khi báº¡n báº­t cháº¿ Ä‘á»™ <code class="language-text">observable</code> vá»›i má»™t Ä‘á»©a con gÃ¡i nÃ o Ä‘Ã³, lÃ  báº¡n Ä‘ang trong giai Ä‘oáº¡n bá»‹ nÃ³ Ã¡m áº£nh, nháº¥t cá»­ nháº¥t Ä‘á»™ng cá»§a nÃ³ báº¡n Ä‘iá»u Ä‘á»ƒ Ã½, nÃ³ háº¯c xÃ¬ báº¡n cÅ©ng biáº¿t, má»™t tuáº§n nÃ³ máº·c máº¥y bá»™ Ä‘á»“ báº¡n cÅ©ng biáº¿t. Chá»‰ cáº§n nghe tiáº¿ng bÆ°á»›c chÃ¢n lÃ  báº¡n biáº¿t Ä‘Æ°á»£c hÃ´m nay nÃ³ mang Ä‘Ã´i dÃ©p gÃ¬ (má»©c Ä‘á»™ nÃ y hÆ¡i kinh khá»§ng láº¯m rá»“i) lÃ  báº¡n cÃ³ nhá»¯ng pháº£n xáº¡ vÃ´ Ä‘iá»u kiá»‡n bá»™c phÃ¡t nÆ¡i cá»­a miá»‡ng "Chiá»u nay trá»i mÆ°a nhe em, mang dÃ©p lÃ o Ä‘i cho chuáº©n". Pháº£n xáº¡ nÃ y lÃ  gá»i lÃ  <strong>subscription</strong></p>
<p>Rá»“i quay láº¡i vá»›i váº¥n Ä‘á» ká»¹ thuáº­t, bÃ i nÃ y khÃ´ng giáº£i thÃ­ch rÃµ Observable pattern, cÃ¡c khÃ¡i niá»‡m chÃ­nh cá»§a nÃ³, náº¿u muá»‘n báº¡n Ä‘á»c láº¡i bÃ i nÃ y trÆ°á»›c Ä‘Ã¢y <a href="https://luubinhan.github.io/blog/2018-10-30-gioi-thieu-reactive-programing-trong-javascript" target="_blank" rel="nofollow noopener noreferrer">cÃ³ viáº¿t rá»“i</a>, nhÆ° cÃ¡i tá»±a bÃ i viáº¿t nÃ³ spoil háº¿t cÃ¡i ná»™i dung rá»“i "VÃ­ dá»¥ Ä‘á»ƒ tháº¥y táº¡i sao chÃºng ta nÃªn <em>báº­t cháº¿ Ä‘á»™</em> Observable vá»›i má»™t em gÃ¡i nÃ o Ä‘Ã³"</p>
<p>Tháº§n chÃº mÃ¬nh muá»‘n báº¡n thuá»™c láº§u</p>
<blockquote>
<p>Láº­p trÃ¬nh Reactive lÃ  lÃ m viá»‡c vá»›i luá»“ng dá»¯ liá»‡u báº¥t Ä‘á»“ng bá»™</p>
</blockquote>
<p>Láº¡i pháº£i giáº£i thÃ­ch cÃ¢u nÃ y chÃºt, <strong>Náº¿u nhá»¯ng gÃ¬ diá»…n ra trÃªn á»©ng dá»¥ng Ä‘ang xáº£y ra má»™t cÃ¡ch báº¥t Ä‘á»“ng bá»™, kháº£ nÄƒng ráº¥t cao lÃ  Observable sáº½ giÃºp Ã­ch cho cuá»™c sá»‘ng cá»§a anh em chÃºng ta bá»›t khá»• hÆ¡n</strong>.</p>
<p>CÃ³ nhiá»u cÃ¡ch lÃ m vÃ  thÆ° viá»‡n handle vá»¥ luá»“ng dá»¯ liá»‡u báº¥t Ä‘á»“ng bá»™ nÃ y, tuy nhiÃªn, Observable cÃ³ gÃ¬ mÃ  cool, sáº¯p Ä‘Æ°á»£c chuáº©n hÃ³a vÃ  Ä‘Æ°a vÃ o ECMAScript. ThÆ° viá»‡n RxJS Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i vÃ  quÃ¡ ngon rá»“i.</p>
<p>Rá»“i vÃ´ luÃ´n vÃ­ dá»¥ nhe</p>
<h2 id="handle-cÃ¡c-event-báº±ng-observable"><a href="#handle-c%C3%A1c-event-b%E1%BA%B1ng-observable" aria-hidden="true"><span class="icon icon-link"></span></a>Handle cÃ¡c event báº±ng Observable</h2>
<p>ChÃºng ta cÃ³ 1 button, khi button nÃ y click táº¡o ra má»™t chuá»—i ngáº«u nhiÃªn. Viáº¿t báº±ng cáº£ 2 cÃ¡ch javascript thuáº§n, vÃ  sá»­ dá»¥ng RxJS</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> button <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> output <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

button<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    output<span class="token punctuation">.</span><span class="token property-access">textContent</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Báº±ng RxJS nÃ¨</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> button <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> output <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token maybe-class-name">Rx</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Observable</span></span>
    <span class="token punctuation">.</span><span class="token method function property-access">fromEvent</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
        output<span class="token punctuation">.</span><span class="token property-access">textContent</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>NÃ³ dÃ i hÆ¡n khi viáº¿t javascript thuáº§n mÃ  man ğŸ˜‚. Chi mÃ  phá»©c táº¡p váº­y? ÄÃºng luÃ´n, nhÆ°ng giá» thÃªm yÃªu cáº§u nÃ y vÃ o thÃ¬ sao: <em>á» má»—i láº§n click Ä‘áº¿n bá»™i sá»‘ cá»§a 3 ( 3,6,9,12,...) thÃ¬ má»›i random má»™t string má»›i</em></p>
<pre class="language-js"><code class="language-js"><span class="token maybe-class-name">Rx</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Observable</span></span>
    <span class="token punctuation">.</span><span class="token method function property-access">fromEvent</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">bufferCount</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// má»™t dÃ²ng duy nháº¥t</span>
    <span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
        output<span class="token punctuation">.</span><span class="token property-access">textContent</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Váº­y báº¡n viáº¿t JS thÃ´i thÃ¬ sao, khá»i nÃ³i cÅ©ng biáº¿t nÃ³ sáº½ dÃ i dÃ²ng hÆ¡n.</p>
<h2 id="operator-operator"><a href="#operator-operator" aria-hidden="true"><span class="icon icon-link"></span></a>Operator, operator</h2>
<p>Trong vÃ­ dá»¥ trÃªn, <code class="language-text">.bufferCount</code> *Ä‘Ã£ cho tháº¥y sá»©c máº¡nh vÆ°á»£t trá»™i<strong> so vá»›i cÃ¡ch thÃ´ng thÆ°á»ng. CÃ³ thá»ƒ nÃ³i tháº¿ nÃ y, </strong>chÃºng ta xÃ i Observable nÃ y lÃ  vÃ¬ nhá»¯ng gÃ¬ chÃºng ta lÃ m Ä‘Æ°á»£c báº±ng operator**. Trong thÆ° viá»‡n RxJS nÃ³ cáº£ tÃ¡ Operator tha há»“ mÃ  chÆ¡i.</p>
<p>Má»™t vÃ­ dá»¥ khÃ¡c, cÅ©ng lÃ  vá»¥ random string á»Ÿ trÃªn, mÃ  giá» chá»‰ muá»‘n random <strong>khi nÃ³ lÃ  má»™t cÃº triple click</strong> (má»™t phÃ¡t 3 nhÃ¡y, khÃ´ng pháº£i double click nhoa)</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> click$ <span class="token operator">=</span> <span class="token maybe-class-name">Rx</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Observable</span></span><span class="token punctuation">.</span><span class="token method function property-access">fromEvent</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

click$<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Observable</span></span>
    <span class="token punctuation">.</span><span class="token method function property-access">bufferWhen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
        click$<span class="token punctuation">.</span><span class="token method function property-access">delay</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// kkhoáº£ng thá»i gian cá»§a má»™t cÃº 3 click</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token parameter">events</span> <span class="token arrow operator">=></span> events<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">>=</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
        output<span class="token punctuation">.</span><span class="token property-access">textContent</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Dá»Šch ra ngÃ´n ngá»¯ con ngÆ°á»i nÃ³ sáº½ nhÆ° tháº¿ nÃ y, <strong>trong khoáº£ng thá»i gian lÃ  400ms, trong Ä‘Ã¡m event Ä‘Æ°á»£c emit (tá»¥i nÃ y Ä‘Æ°á»£c Ä‘Æ°a vÃ o máº£ng <code class="language-text">events</code>), náº¿u máº£ng nÃ y lá»›n hÆ¡n hoáº·c báº±ng 3, thá»±c hiá»‡n Ä‘á»‘ng viá»‡c Ä‘Ã£ Ä‘Äƒng kÃ½ bÃªn dÆ°á»›i <code class="language-text">subscribe</code></strong></p>
<p>Báº¡n Ä‘Ã£ báº¯t Ä‘áº§u yÃªu Observable chÆ°a? MÃ¬nh Ä‘Ã£ khoÃ¡i khoÃ¡i rá»“i Ä‘Ã³.</p>
<h2 id="ai-cÃ³-thá»ƒ-lÃ --observable"><a href="#ai-c%C3%B3-th%E1%BB%83-l%C3%A0--observable" aria-hidden="true"><span class="icon icon-link"></span></a>Ai cÃ³ thá»ƒ lÃ   Observable</h2>
<p>ÄÆ¡n giáº£n, báº¥t ká»ƒ giÃ  tráº» lá»›n bÃ©, trai gÃ¡i, náº¿u RxJS cÃ³ hÃ m ( khi nÃ£y lÃ  <code class="language-text">.fromEvent</code>) thÃ¬ chÃºng ta cÃ³ thá»ƒ biáº¿n nÃ³ thÃ nh Ä‘á»‘i tÆ°á»£ng bá»‹ theo dÃµi liÃªn tá»¥c.</p>
<h2 id="observable-cho-cÃ¡c-http-request"><a href="#observable-cho-c%C3%A1c-http-request" aria-hidden="true"><span class="icon icon-link"></span></a>Observable cho cÃ¡c HTTP request</h2>
<p>Má»™t sá»©c máº¡nh <em>siÃªu nhiÃªn</em> khÃ¡c cá»§a RxJS: xá»­ lÃ½ máº¥y em HTTP request ráº¥t mÆ°á»£t mÃ </p>
<p>VÃ­ dá»¥, fetching má»™t danh sÃ¡ch album vÃ  render.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> albumsApiUrl <span class="token operator">=</span> <span class="token string">'https://jsonplaceholder.typicode.com/albums'</span><span class="token punctuation">;</span>

<span class="token maybe-class-name">Rx</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Observable</span></span>
    <span class="token punctuation">.</span><span class="token method function property-access">ajax</span><span class="token punctuation">(</span>albumsApiUrl<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span>
        <span class="token parameter">res</span> <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token parameter">err</span> <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">)</span></code></pre>
<p>Trá»™n chung vá»›i vÃ­ dá»¥ á»Ÿ trÃªn, chÃºng ta lÃ m cÃ¡i tÃ­nh nÄƒng awsome sau, click  lÃ  cÃ³ danh sÃ¡ch album ngáº«u nhiÃªn</p>
<pre class="language-js"><code class="language-js"><span class="token maybe-class-name">Rx</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Observable</span></span>
    <span class="token punctuation">.</span><span class="token method function property-access">fromEvent</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">flatMap</span><span class="token punctuation">(</span>getAlbums<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span>
        render<span class="token punctuation">,</span>
        <span class="token parameter">err</span> <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">getAlbums</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> userId <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">round</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token maybe-class-name">Rx</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Observable</span></span><span class="token punctuation">.</span><span class="token method function property-access">ajax</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://jsonplaceholder.typicode.com/albums?userId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
        <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<iframe height="265" style="width: 100%;" scrolling="no" title="Observables 4" src="//codepen.io/mmiszy/embed/WZOJjy/?height=265&theme-id=0&default-tab=js,result" frameborder="no" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/mmiszy/pen/WZOJjy/'>Observables 4</a> by MichaÅ‚ Miszczyszyn
  (<a href='https://codepen.io/mmiszy'>@mmiszy</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>
<p>VÃ­ dá»¥ trÃªn cÃ³ sá»­ dá»¥ng operator <code class="language-text">flatMap</code>, 1 trong nhá»¯ng operator siÃªu kinh Ä‘iá»ƒn cá»§a RxJS, cho phÃ©p merge 2 máº£ng kiá»ƒu Observable thÃ nh 1</p>
<p>Náº¿u chÃºng ta click liÃªn tá»¥c trong thá»i gian ngáº¯n, lÃ  cÃ³ váº¥n Ä‘á», re-render nhiá»u láº§n, chÃºng ta cÅ©ng ko xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c request nÃ o Ä‘Æ°á»£c resolve cuá»‘i cÃ¹ng. Cá»¥ thá»ƒ lÃ  tháº¿ nÃ y, cÃ³ thá»ƒ tháº±ng xuáº¥t phÃ¡t trÆ°á»›c láº¡i vá» Ä‘Ã­ch sau cÃ¹ng, chuyá»‡n cá»§a network ai mÃ  biáº¿t Ä‘Æ°á»£c thá»i Ä‘iá»ƒm Ä‘Ã³ nÃ³ download film gÃ¬ lÃ m cháº­m máº¡ng, tháº±ng request sau cÃ³ khi láº¡i vá» Ä‘Ã­ch trÆ°á»›c, nhÆ° váº­y thÃ¬ dÃ¹ng cá»¥c response lÃºc nÃ o Ä‘á»ƒ render, mÃ¬nh muá»‘n response cá»§a tháº±ng request cuá»‘i cÃ¹ng.</p>
<p>Báº¡n muá»‘n, trong cÃ´ng cuá»™c tÃ¡n gÃ¡i, Ä‘á»©a nÃ o á»Ÿ láº¡i Ä‘áº¿n giÃ¢y phÃºt cuá»‘i cÃ¹ng lÃ  Ä‘á»©a chiáº¿n tháº¯ng, báº¡n sáº½ dáº¹p luÃ´n nhá»¯ng Ä‘á»©a nÃ o tháº£ thÃ­nh trÆ°á»›c Ä‘Ã³? VÃ­ von nhÆ° váº­y cÅ©ng chÆ°a chuáº©n, pháº£i lÃ  Ä‘á»©a nÃ o Ä‘áº¿n sau cÃ¹ng thÃ¬ dá»¯ láº¡i, dáº¹p máº¹ tá»¥i tá»›i trÆ°á»›c (tháº¿ nÃ y thÃ¬ báº¥t cÃ´ng vl máº¥y báº¡n)</p>
<p>RxJS lÃ m Ä‘Æ°á»£c chuyá»‡n Ä‘Ã³ khÃ´ng? CÃ³ chá»©, <strong>má»i thá»© Ä‘Ã£ cÃ³ operator</strong>, chuyá»ƒn qua dÃ¹ng <code class="language-text">switchMap</code>, sáº½ chá»‰ cÃ³ <strong>response cuá»‘i cÃ¹ng Ä‘Æ°á»£c render</strong>, máº¥y request trÆ°á»›c Ä‘Ã³ sáº½ bá»‹ cancel háº¿t</p>
<p><img src="https://res.cloudinary.com/dukp6c7f7/image/upload/f_auto,fl_lossy,q_auto/s3-ghost/2017/09/Screen_Shot_2017_09_29_at_9_24_06_PM-1506713083152.png"></p>
<pre class="language-js{3}"><code class="language-js{3}">Rx.Observable
    .fromEvent(button, 'click')
    .switchMap(getAlbums)
    .subscribe(
        render,
        err => console.error(err)
    )</code></pre>
<h2 id="káº¿t-há»£p-cÃ¡c-observable"><a href="#k%E1%BA%BFt-h%E1%BB%A3p-c%C3%A1c-observable" aria-hidden="true"><span class="icon icon-link"></span></a>Káº¿t há»£p cÃ¡c Observable</h2>
<p>Má»™t use case khÃ¡c mÃ  chÃºng ta gáº·p hoÃ i. Chá»©c nÄƒng filter hoáº¡t Ä‘á»™ng nhÆ° sau: cho tá»¥i user nháº­p vÃ o <code class="language-text">user id</code> báº±ng <code class="language-text">&lt;input /&gt;</code>, vÃ  chá»n thá»ƒ loáº¡i Ã¢m nháº¡c nÃ³ muá»‘n báº±ng <code class="language-text">&lt;select /&gt;</code>. Äiá»u quan trá»ng lÃ  chá»‰ táº¡o request má»›i khi cáº£ 2 giÃ¡ trá»‹ trong Ä‘Ã³ Ä‘iá»u cÃ³ dá»¯ liá»‡u, vÃ  re-render khi má»™t trong 2 giÃ¡ trá»‹ nÃ y bá»‹ thay Ä‘á»•i.</p>
<p>Táº¡o Observable trÆ°á»›c nhÃ©</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> id$ <span class="token operator">=</span> <span class="token maybe-class-name">Rx</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Observable</span></span>
    <span class="token punctuation">.</span><span class="token method function property-access">fromEvent</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'input'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> resource$ <span class="token operator">=</span> <span class="token maybe-class-name">Rx</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Observable</span></span>
    <span class="token punctuation">.</span><span class="token method function property-access">fromEvent</span><span class="token punctuation">(</span>select<span class="token punctuation">,</span> <span class="token string">'change'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span></code></pre>
<p>ChÃºng ta pháº£i há»£p thá»ƒ 2 tháº±ng trÃªn vÃ o má»™t, Ä‘á»ƒ khi má»™t trong 2 tháº±ng cÃ³ thay Ä‘á»•i chÃºng ta láº¥y Ä‘Æ°á»£c giÃ¡ trá»‹ sau cÃ¹ng cá»§a cáº£ 2. <strong>má»i thá»© Ä‘Ã£ cÃ³ operator</strong>, nhiá»u láº¯m, á»Ÿ Ä‘Ã¢y dÃ¹ng <code class="language-text">combineLatest</code></p>
<pre class="language-js"><code class="language-js"><span class="token maybe-class-name">Rx</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Observable</span></span>
    <span class="token punctuation">.</span><span class="token method function property-access">combineLatest</span><span class="token punctuation">(</span>id$<span class="token punctuation">,</span> resource$<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">switchMap</span><span class="token punctuation">(</span>getResource<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span></code></pre>
<iframe height="265" style="width: 100%;" scrolling="no" title="Observables 6" src="//codepen.io/mmiszy/embed/mBwLoX/?height=265&theme-id=0&default-tab=js,result" frameborder="no" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/mmiszy/pen/mBwLoX/'>Observables 6</a> by MichaÅ‚ Miszczyszyn
  (<a href='https://codepen.io/mmiszy'>@mmiszy</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>
<h2 id="káº¿t"><a href="#k%E1%BA%BFt" aria-hidden="true"><span class="icon icon-link"></span></a>Káº¿t</h2>
<p>Báº¡n Ä‘Ã£ tháº¥y sá»­ dá»¥ng Observable thÃº vá»‹ dÆ°á»ng nÃ o chÆ°a? Náº¿u cÃ¢u tráº£ lá»i lÃ  "CÃ³ â¤ï¸, trá»n Ä‘á»i yÃªu em", báº¡n hÃ£y nhÃ o vÃ´ document cá»§a nÃ³ Ä‘á»ƒ nghiÃªn cá»©u chuyÃªn sÃ¢u hÆ¡n. Hoáº·c <a href="https://luubinhan.github.io/blog/2018-10-30-gioi-thieu-reactive-programing-trong-javascript" target="_blank" rel="nofollow noopener noreferrer">Ä‘á»c láº¡i bÃ i trÆ°á»›c Ä‘Ã¢y cá»§a mÃ¬nh</a>.</p>
<p>Náº¿u cÃ¢u tráº£ lá»i lÃ  "No ğŸ’©, anh Ã©o care máº¥y Ä‘á»©a áº¡". ThÃ¬ báº¡n cÅ©ng nÃªn bá»›t bá»›t Ä‘á»‘i xá»­ tá»‡ vá»›i nÃ³ Ä‘i, vÃ¬ trong tÆ°Æ¡ng lai JS sáº½ Ä‘Æ°a nÃ o vÃ o nhÆ° má»™t object chÃ­nh thá»©c luÃ´n, khÃ´ng cháº¡y Ä‘áº±ng trá»i Ä‘Æ°á»£c Ä‘Ã¢u cÃ¡c báº¡n áº¡.</p>
<p>Hy vá»ng anh em hÃ´m nay Ä‘Ã£ há»c thÃªm Ä‘Æ°á»£c cÃ¡i gÃ¬ Ä‘Ã³ thÃº vá»‹, háº¹n gáº·p láº¡i anh em vÃ o má»™t viáº¿t thÃº vá»‹ khÃ¡c.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://x-team.com/blog/rxjs-observables/">6 SIMPLE EXAMPLES WHICH WILL MAKE YOU LOVE OBSERVABLES (RXJS 5)</a></p>
</div><div class="post__footer"><div class="post-tags"><a href="/blog/tag/javascript/" class="post-tags__link"><span>#</span> javascript
		</a><a href="/blog/tag/thu-thuat/" class="post-tags__link"><span>#</span> thu-thuat
		</a></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/blog/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/blog/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/blog/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">Hiá»‡n táº¡i site Ä‘ang nÃ¢ng cáº¥p, cÃ¡c báº¡n xÃ i táº¡m</p></div></main><footer class="footer"><span class="footer__copyright">Copyright Â© 2020. </span><span class="footer__links">Powered by <a href="//gridsome.org"> Gridsome </a></span></footer></div>
    <script src="/blog/assets/js/app.24a01750.js" defer></script><script src="/blog/assets/js/page--src-templates-post-vue.da685d0f.js" defer></script>
  </body>
</html>
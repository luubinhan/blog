<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Hướng dẫn dùng npm link - VuiLapTrinh.com</title><meta name="gridsome:hash" content="0ea6a5c7ec18fcd2d372c0c225289996c79af9fc"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Tutorials, Blog, Hướng dẫn, chia sẽ kinh nghiệm về Frontend, react, vue, ux, ui"><meta data-vue-tag="ssr" name="desc" content="Cách dùng npm link để trỏ dependency đến thư mục local"><link rel="preload" href="/blog/assets/css/0.styles.d493c61a.css" as="style"><link rel="preload" href="/blog/assets/js/app.f8d91bd5.js" as="script"><link rel="preload" href="/blog/assets/js/page--src-templates-post-vue.980fbd47.js" as="script"><link rel="prefetch" href="/blog/assets/js/page--node-modules-gridsome-app-pages-404-vue.b044eecd.js"><link rel="prefetch" href="/blog/assets/js/page--src-pages-index-vue.bd4a2964.js"><link rel="prefetch" href="/blog/assets/js/page--src-templates-tag-vue.4999789e.js"><link rel="stylesheet" href="/blog/assets/css/0.styles.d493c61a.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/blog/" class="logo active"><span class="logo__text">
    ← VuiLapTrinh.com
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">Hướng dẫn dùng npm link</h1><div class="post-meta">
  Đăng ngày 2018-11-01.
  
    Mất khoảng
    <strong>1 phút</strong> để đọc.
  </div></div><div class="post content-box"><div class="post__header"><!----></div><div class="post__content"><!-- TOC -->
<ul>
<li><a href="#s%E1%BB%AD-d%E1%BB%A5ng">Sử dụng</a></li>
<li><a href="#debug">Debug</a></li>
<li><a href="#quay-l%E1%BA%A1i-b%C3%ACnh-th%C6%B0%E1%BB%9Dng">Quay lại bình thường</a></li>
</ul>
<!-- /TOC -->
<p>Nếu như bạn là tác giả của một module, bạn đang để nó ở một thư mục trên máy local, bạn không có viết test cho module này, bạn dùng chính app đang viết như là cách để test module luôn, tìm thấy lỗi trên module, sau khi sửa lỗi một cách thủ công trong thư mục <code class="language-text">node_modules</code>, copy toàn bộ file qua git repository, rồi commit lên.</p>
<p><img src="https://cdn-images-1.medium.com/max/880/0*wvDueqq35PXNE1qA" alt="Cách dùng npm link để trỏ dependency đến thư mục local"></p>
<p>Có một cách làm <strong>sạch sẽ</strong> hơn: <code class="language-text">npm link</code></p>
<h1 id="sử-dụng"><a href="#s%E1%BB%AD-d%E1%BB%A5ng" aria-hidden="true"><span class="icon icon-link"></span></a>Sử dụng</h1>
<p>Để link package, thực hiện bằng 2 bước</p>
<ol>
<li>Tạo một shortcut trên dependency với <code class="language-text">npm link</code>. Shortcut này trỏ tới một thư một khác trên máy.</li>
<li>Khai báo trên project sử dụng shortcut này, <code class="language-text">npm link some-dep</code></li>
</ol>
<pre class="language-powershell"><code class="language-powershell">cd ~<span class="token operator">/</span>projects<span class="token operator">/</span>some<span class="token operator">-</span>dep
npm link  <span class="token comment"># Step 1.</span>
cd ~<span class="token operator">/</span>projects<span class="token operator">/</span>my<span class="token operator">-</span>app
npm link some<span class="token operator">-</span>dep  <span class="token comment"># Step 2.</span></code></pre>
<p><img src="https://cdn-images-1.medium.com/max/880/0*x8jMbWUMifff9Eao" alt="Cách dùng npm link để trỏ dependency đến thư mục local"></p>
<p>Bạn có thể sửa, transpile, chạy test, commit bình thường trên <code class="language-text">some-dep</code>. Khi chạy <code class="language-text">my-app</code> nó sẽ chạy với những thay đổi đã thực hiện trên <code class="language-text">some-dep</code>. Shortcut đã tạo ra sẽ ko được commit lên git, nó chỉ có hiệu lực trên local</p>
<h1 id="debug"><a href="#debug" aria-hidden="true"><span class="icon icon-link"></span></a>Debug</h1>
<p>Nếu đang sử dụng VSCode và muốn set breakpoint trong <code class="language-text">some-dep</code>, trên debugger của <code class="language-text">my-app</code>, bạn cần thiết đặt trong <code class="language-text">launch.json</code></p>
<pre class="language-json"><code class="language-json"><span class="token property">"runtimeArgs"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">"--preserve-symlinks"</span>
<span class="token punctuation">]</span></code></pre>
<p><img src="https://cdn-images-1.medium.com/max/880/0*H1TB22svP8POFP8p" alt="Cách dùng npm link để trỏ dependency đến thư mục local"></p>
<h1 id="quay-lại-bình-thường"><a href="#quay-l%E1%BA%A1i-b%C3%ACnh-th%C6%B0%E1%BB%9Dng" aria-hidden="true"><span class="icon icon-link"></span></a>Quay lại bình thường</h1>
<p>Nếu không còn muốn sử dụng bản local của <code class="language-text">some-dep</code> nửa, <code class="language-text">npm unlink</code> chăng? Cũng được, nhưng thật ra nó sẽ chạy <code class="language-text">npm uninstall</code>, nghĩa là bạn phải uninstall rồi install lại từ đầu</p>
<pre class="language-powershell"><code class="language-powershell">cd ~<span class="token operator">/</span>projects<span class="token operator">/</span>my<span class="token operator">-</span>app
npm uninstall <span class="token operator">--</span>no<span class="token operator">-</span>save some<span class="token operator">-</span>dep &amp;&amp; npm install </code></pre>
<p>Nếu xóa shortcut trên <code class="language-text">some-dep</code> sẽ an toàn hơn, không đụng tới dependency của <code class="language-text">my-app</code></p>
<pre class="language-powershell"><code class="language-powershell">cd ~<span class="token operator">/</span>projects<span class="token operator">/</span>some<span class="token operator">-</span>dep
npm uninstall  <span class="token comment"># Delete global symlink</span></code></pre>
<p><a href="https://medium.com/dailyjs/how-to-use-npm-link-7375b6219557" target="_blank" rel="noopener noreferrer">Understanding npm-link</a></p>
</div><div class="post__footer"><div class="post-tags"><a href="/blog/tag/javascript/" class="post-tags__link"><span>#</span> javascript
		</a></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/blog/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/blog/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/blog/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">Hiện tại site đang nâng cấp, các bạn xài tạm</p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020.</span><span class="footer__links">luckyluu</span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Hướng dẫn dùng npm link","path":"\u002Fhuong-dan-dung-npm-link\u002F","date":"2018-11-01","timeToRead":1,"tags":[{"id":"javascript","title":"javascript","path":"\u002Ftag\u002Fjavascript\u002F"}],"desc":"Cách dùng npm link để trỏ dependency đến thư mục local","content":"\u003C!-- TOC --\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#s%E1%BB%AD-d%E1%BB%A5ng\"\u003ESử dụng\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#debug\"\u003EDebug\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#quay-l%E1%BA%A1i-b%C3%ACnh-th%C6%B0%E1%BB%9Dng\"\u003EQuay lại bình thường\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C!-- \u002FTOC --\u003E\n\u003Cp\u003ENếu như bạn là tác giả của một module, bạn đang để nó ở một thư mục trên máy local, bạn không có viết test cho module này, bạn dùng chính app đang viết như là cách để test module luôn, tìm thấy lỗi trên module, sau khi sửa lỗi một cách thủ công trong thư mục \u003Ccode class=\"language-text\"\u003Enode_modules\u003C\u002Fcode\u003E, copy toàn bộ file qua git repository, rồi commit lên.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F880\u002F0*wvDueqq35PXNE1qA\" alt=\"Cách dùng npm link để trỏ dependency đến thư mục local\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ECó một cách làm \u003Cstrong\u003Esạch sẽ\u003C\u002Fstrong\u003E hơn: \u003Ccode class=\"language-text\"\u003Enpm link\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Ch1 id=\"sử-dụng\"\u003E\u003Ca href=\"#s%E1%BB%AD-d%E1%BB%A5ng\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESử dụng\u003C\u002Fh1\u003E\n\u003Cp\u003EĐể link package, thực hiện bằng 2 bước\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ETạo một shortcut trên dependency với \u003Ccode class=\"language-text\"\u003Enpm link\u003C\u002Fcode\u003E. Shortcut này trỏ tới một thư một khác trên máy.\u003C\u002Fli\u003E\n\u003Cli\u003EKhai báo trên project sử dụng shortcut này, \u003Ccode class=\"language-text\"\u003Enpm link some-dep\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre class=\"language-powershell\"\u003E\u003Ccode class=\"language-powershell\"\u003Ecd ~\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Eprojects\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Esome\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Edep\nnpm link  \u003Cspan class=\"token comment\"\u003E# Step 1.\u003C\u002Fspan\u003E\ncd ~\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Eprojects\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Emy\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Eapp\nnpm link some\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Edep  \u003Cspan class=\"token comment\"\u003E# Step 2.\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F880\u002F0*x8jMbWUMifff9Eao\" alt=\"Cách dùng npm link để trỏ dependency đến thư mục local\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EBạn có thể sửa, transpile, chạy test, commit bình thường trên \u003Ccode class=\"language-text\"\u003Esome-dep\u003C\u002Fcode\u003E. Khi chạy \u003Ccode class=\"language-text\"\u003Emy-app\u003C\u002Fcode\u003E nó sẽ chạy với những thay đổi đã thực hiện trên \u003Ccode class=\"language-text\"\u003Esome-dep\u003C\u002Fcode\u003E. Shortcut đã tạo ra sẽ ko được commit lên git, nó chỉ có hiệu lực trên local\u003C\u002Fp\u003E\n\u003Ch1 id=\"debug\"\u003E\u003Ca href=\"#debug\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EDebug\u003C\u002Fh1\u003E\n\u003Cp\u003ENếu đang sử dụng VSCode và muốn set breakpoint trong \u003Ccode class=\"language-text\"\u003Esome-dep\u003C\u002Fcode\u003E, trên debugger của \u003Ccode class=\"language-text\"\u003Emy-app\u003C\u002Fcode\u003E, bạn cần thiết đặt trong \u003Ccode class=\"language-text\"\u003Elaunch.json\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003E\u003Cspan class=\"token property\"\u003E\"runtimeArgs\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token string\"\u003E\"--preserve-symlinks\"\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F880\u002F0*H1TB22svP8POFP8p\" alt=\"Cách dùng npm link để trỏ dependency đến thư mục local\"\u003E\u003C\u002Fp\u003E\n\u003Ch1 id=\"quay-lại-bình-thường\"\u003E\u003Ca href=\"#quay-l%E1%BA%A1i-b%C3%ACnh-th%C6%B0%E1%BB%9Dng\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EQuay lại bình thường\u003C\u002Fh1\u003E\n\u003Cp\u003ENếu không còn muốn sử dụng bản local của \u003Ccode class=\"language-text\"\u003Esome-dep\u003C\u002Fcode\u003E nửa, \u003Ccode class=\"language-text\"\u003Enpm unlink\u003C\u002Fcode\u003E chăng? Cũng được, nhưng thật ra nó sẽ chạy \u003Ccode class=\"language-text\"\u003Enpm uninstall\u003C\u002Fcode\u003E, nghĩa là bạn phải uninstall rồi install lại từ đầu\u003C\u002Fp\u003E\n\u003Cpre class=\"language-powershell\"\u003E\u003Ccode class=\"language-powershell\"\u003Ecd ~\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Eprojects\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Emy\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Eapp\nnpm uninstall \u003Cspan class=\"token operator\"\u003E--\u003C\u002Fspan\u003Eno\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Esave some\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Edep &amp;&amp; npm install \u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENếu xóa shortcut trên \u003Ccode class=\"language-text\"\u003Esome-dep\u003C\u002Fcode\u003E sẽ an toàn hơn, không đụng tới dependency của \u003Ccode class=\"language-text\"\u003Emy-app\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-powershell\"\u003E\u003Ccode class=\"language-powershell\"\u003Ecd ~\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Eprojects\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Esome\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Edep\nnpm uninstall  \u003Cspan class=\"token comment\"\u003E# Delete global symlink\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fmedium.com\u002Fdailyjs\u002Fhow-to-use-npm-link-7375b6219557\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EUnderstanding npm-link\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n","cover_image":""}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/blog/assets/js/app.f8d91bd5.js" defer></script><script src="/blog/assets/js/page--src-templates-post-vue.980fbd47.js" defer></script>
  </body>
</html>
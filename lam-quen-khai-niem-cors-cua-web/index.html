<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Làm quen khái niệm CORS của Web - VuiLapTrinh.com</title><meta name="gridsome:hash" content="0395a9475e6dcec202a1209b8bd40b74ee081359"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Tutorials, Blog, Hướng dẫn, chia sẽ kinh nghiệm về Frontend, react, vue, ux, ui"><meta data-vue-tag="ssr" name="desc" content="Bài này khá căn bản và cần thiết cho bạn nào chưa biết gì về CORS, nghe ai đó nói về từ khóa ghê gớm này mà ko biết nó là gì, không để cập đến vấn đề setup làm sao để chạy CORS trên server - vì mình ko biết code phía server đâu"><link rel="preload" href="/assets/css/0.styles.4e7b3092.css" as="style"><link rel="preload" href="/assets/js/app.88e72233.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.0d21aba4.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.204466f8.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.0b0d171f.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.854eb99f.js"><link rel="stylesheet" href="/assets/css/0.styles.4e7b3092.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true" class="layout-blog"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← VuiLapTrinh.com
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="single-post"><div class="single-post-container"><article><header><div class="post-title"><h1 class="post-title__text single-post-title">Làm quen khái niệm CORS của Web</h1><div class="post-meta">
  Đăng ngày 2019-09-06.
  
    Mất khoảng
    <strong>3 phút</strong> để đọc.
  </div></div></header><div class="post content-box"><div class="post__header"><!----></div><div className="blog-post"><div class="post-content"><div class="post__content"><!-- TOC -->
<ul>
<li><a href="#access-control-allow-origin">Access-Control-Allow-Origin</a></li>
<li>
<p><a href="#c%c3%a1c-ki%e1%bb%83u-request-cors">Các kiểu request CORS</a></p>
<ul>
<li><a href="#request-%c4%91%c6%a1n-thu%e1%ba%a7n-nh%c6%b0-get-post-head">Request đơn thuần như <code class="language-text">GET</code>, <code class="language-text">POST</code>, <code class="language-text">HEAD</code></a></li>
<li><a href="#preflight-request">Preflight request</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<p>Cross-Origin Resource Sharing (CORS) là một cơ chế sử dụng thông tin trên HTTP header để báo với trình duyệt, cho phép ứng dụng web chạy từ <em>nhà</em> này, có quyền truy xuất resource từ 1 <strong>nhà</strong> khác (2 thằng gọi là khác nhà khi khác tên miền, khác port, khác giao thức http và https)</p>
<p>Ví dụ một request cross-origin: nhà bạn ở <a href="http://domain-a.com" target="_blank" rel="nofollow noopener noreferrer">http://domain-a.com</a> dùng javascript gửi request bên nhà <a href="http://api.domain-b.com/data.json" target="_blank" rel="nofollow noopener noreferrer">http://api.domain-b.com/data.json</a></p>
<p>Vì lý do bảo mật, trình duyệt sẽ không cho thực hiện các request cross-origin như vậy. Nghĩa là các ứng dụng web gọi API chỉ có thể sử dụng resource từ cùng <em>nhà</em> (same-origin policy là từ chuẩn, nếu bạn cần research thêm), trừ khi response từ <em>nhà</em> khác đó cho phép gọi CORS (bằng cách thêm một số thông tin trên header)</p>
<p>Các request có thể dùng CORS</p>
<ul>
<li>Gửi một network request bằng <code class="language-text">fetch</code></li>
<li>Web font, hoặc load <code class="language-text">@font-face</code> trong CSS</li>
<li>WebGL texture</li>
<li>Image, video</li>
</ul>
<p>Khi config thành công trên server, server sẽ trả thêm một số thông tin trên header để trình duyệt biết và cấp phép chạy</p>
<h2 id="access-control-allow-origin"><a href="#access-control-allow-origin" aria-hidden="true"><span class="icon icon-link"></span></a>Access-Control-Allow-Origin</h2>
<p>Chỉ định các tên miền nào được phép truy cập,  ví dụ để cho phép tất cả tên miền có thể gọi tới</p>
<pre class="language-json"><code class="language-json">Access-Control-Allow-Origin<span class="token operator">:</span> *</code></pre>
<p>Cho phép 1 tên miền cụ thể</p>
<pre class="language-json"><code class="language-json">Access-Control-Allow-Origin<span class="token operator">:</span> https<span class="token operator">:</span><span class="token comment">//example.com</span></code></pre>
<h2 id="các-kiểu-request-cors"><a href="#c%C3%A1c-ki%E1%BB%83u-request-cors" aria-hidden="true"><span class="icon icon-link"></span></a>Các kiểu request CORS</h2>
<p>Có 2 kiểu CORS request: các request <em>đơn thuần</em>, và các request <strong>preflight</strong>, 2 cái này sẽ do trình duyệt xác định sử dụng cái nào, là một developer chúng ta cũng thật sự không cần quan tâm.</p>
<h3 id="request-đơn-thuần-như-get-post-head"><a href="#request-%C4%91%C6%A1n-thu%E1%BA%A7n-nh%C6%B0-get-post-head" aria-hidden="true"><span class="icon icon-link"></span></a>Request đơn thuần như <code class="language-text">GET</code>, <code class="language-text">POST</code>, <code class="language-text">HEAD</code></h3>
<p>Các request được trình duyệt xếp loại <em>đơn thuần</em> là
GET, POST, HEAD
Sử dụng <a href="https://fetch.spec.whatwg.org/#cors-safelisted-request-header" target="_blank" rel="nofollow noopener noreferrer">CORS safe -listed header</a>
Khi sử dụng <code class="language-text">Content-Type</code>, chỉ các giá trị sau là được cho phép <code class="language-text">application/x-www-form-urlencoded</code>, <code class="language-text">multipart/form-data</code>,  <code class="language-text">text/plain</code>
Không có các listener nào được đăng ký trên <code class="language-text">XMLHttpRequestUpload</code>
Không sử dụng <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream" target="_blank" rel="nofollow noopener noreferrer">ReadableStream</a></p>
<h3 id="preflight-request"><a href="#preflight-request" aria-hidden="true"><span class="icon icon-link"></span></a>Preflight request</h3>
<p>Đơn giản là ngược lại các trường hợp ở trên thì sẽ là dạng preflight, trình duyệt sẽ gửi đi một request ở phương thức <code class="language-text">options</code> để xác định server có hỗ trợ ko trước khi thực sự gửi đi request chính.</p>
<p>Đối với loại preflight request, ngoài việc chuyển phương thức sang <code class="language-text">options</code>, nó sẽ set thêm một số thuộc tính trên header</p>
<p><code class="language-text">Access-Control-Request-Method</code>:  phương thức GET hay POST nên được sử dụng
<code class="language-text">Access-Control-Request-Headers</code>: kiểu header muốn sử dụng
<code class="language-text">Origin</code>: nơi gửi request</p>
<p>Ví dụ</p>
<pre class="language-json"><code class="language-json"># Request
curl -i -X OPTIONS localhost<span class="token operator">:</span><span class="token number">3001</span>/api/ping \
-H 'Access-Control-Request-Method<span class="token operator">:</span> GET' \
-H 'Access-Control-Request-Headers<span class="token operator">:</span> Content-Type<span class="token punctuation">,</span> Accept' \
-H 'Origin<span class="token operator">:</span> http<span class="token operator">:</span><span class="token comment">//localhost:3000'</span></code></pre>
<p>Chúng ta có thể tạm dịch nó ra ngôn ngữ tự nhiên là “Tao muốn thực hiện một request dạng GET với <code class="language-text">content-type</code> và <code class="language-text">Accept</code> header từ địa chỉ localhost:3000 có được ko?”</p>
<p>Kết quả trả về từ server sẽ cho phép trình duyệt tiến hành tiếp, hay dừng lại ở đó. Response từ server sẽ như thế này</p>
<pre class="language-json"><code class="language-json">HTTP/<span class="token number">1.1</span> <span class="token number">204</span> No Content
Access-Control-Allow-Origin<span class="token operator">:</span> *
Access-Control-Allow-Methods<span class="token operator">:</span> GET<span class="token punctuation">,</span>HEAD<span class="token punctuation">,</span>PUT<span class="token punctuation">,</span>PATCH<span class="token punctuation">,</span>POST<span class="token punctuation">,</span>DELETE
Vary<span class="token operator">:</span> Access-Control-Request-Headers
Access-Control-Allow-Headers<span class="token operator">:</span> Content-Type<span class="token punctuation">,</span> Accept
Content-Length<span class="token operator">:</span> <span class="token number">0</span>
Date<span class="token operator">:</span> Fri<span class="token punctuation">,</span> <span class="token number">05</span> Apr <span class="token number">2019</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">08</span> GMT
Connection<span class="token operator">:</span> keep-alive</code></pre>
<p><a target="_blank" rel="noopener noreferrer" href="https://auth0.com/blog/cors-tutorial-a-guide-to-cross-origin-resource-sharing/
">📜 CORS Tutorial: A Guide to Cross-Origin Resource Sharing</a></p>
</div></div></div><div class="post__footer"><div class="post-tags"><a href="/tag/javascript/" class="post-tags__link"><span>#</span> javascript
		</a><a href="/tag/hoc-thuat/" class="post-tags__link"><span>#</span> hoc-thuat
		</a></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">Hiện tại site đang nâng cấp, các bạn xài tạm</p></div></article></div></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020.</span><span class="footer__links">luckyluu</span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Làm quen khái niệm CORS của Web","path":"\u002Flam-quen-khai-niem-cors-cua-web\u002F","date":"2019-09-06","timeToRead":3,"tags":[{"id":"javascript","title":"javascript","path":"\u002Ftag\u002Fjavascript\u002F"},{"id":"hoc-thuat","title":"hoc-thuat","path":"\u002Ftag\u002Fhoc-thuat\u002F"}],"desc":"Bài này khá căn bản và cần thiết cho bạn nào chưa biết gì về CORS, nghe ai đó nói về từ khóa ghê gớm này mà ko biết nó là gì, không để cập đến vấn đề setup làm sao để chạy CORS trên server - vì mình ko biết code phía server đâu","content":"\u003C!-- TOC --\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#access-control-allow-origin\"\u003EAccess-Control-Allow-Origin\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"#c%c3%a1c-ki%e1%bb%83u-request-cors\"\u003ECác kiểu request CORS\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#request-%c4%91%c6%a1n-thu%e1%ba%a7n-nh%c6%b0-get-post-head\"\u003ERequest đơn thuần như \u003Ccode class=\"language-text\"\u003EGET\u003C\u002Fcode\u003E, \u003Ccode class=\"language-text\"\u003EPOST\u003C\u002Fcode\u003E, \u003Ccode class=\"language-text\"\u003EHEAD\u003C\u002Fcode\u003E\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#preflight-request\"\u003EPreflight request\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C!-- \u002FTOC --\u003E\n\u003Cp\u003ECross-Origin Resource Sharing (CORS) là một cơ chế sử dụng thông tin trên HTTP header để báo với trình duyệt, cho phép ứng dụng web chạy từ \u003Cem\u003Enhà\u003C\u002Fem\u003E này, có quyền truy xuất resource từ 1 \u003Cstrong\u003Enhà\u003C\u002Fstrong\u003E khác (2 thằng gọi là khác nhà khi khác tên miền, khác port, khác giao thức http và https)\u003C\u002Fp\u003E\n\u003Cp\u003EVí dụ một request cross-origin: nhà bạn ở \u003Ca href=\"http:\u002F\u002Fdomain-a.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fdomain-a.com\u003C\u002Fa\u003E dùng javascript gửi request bên nhà \u003Ca href=\"http:\u002F\u002Fapi.domain-b.com\u002Fdata.json\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fapi.domain-b.com\u002Fdata.json\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EVì lý do bảo mật, trình duyệt sẽ không cho thực hiện các request cross-origin như vậy. Nghĩa là các ứng dụng web gọi API chỉ có thể sử dụng resource từ cùng \u003Cem\u003Enhà\u003C\u002Fem\u003E (same-origin policy là từ chuẩn, nếu bạn cần research thêm), trừ khi response từ \u003Cem\u003Enhà\u003C\u002Fem\u003E khác đó cho phép gọi CORS (bằng cách thêm một số thông tin trên header)\u003C\u002Fp\u003E\n\u003Cp\u003ECác request có thể dùng CORS\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGửi một network request bằng \u003Ccode class=\"language-text\"\u003Efetch\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EWeb font, hoặc load \u003Ccode class=\"language-text\"\u003E@font-face\u003C\u002Fcode\u003E trong CSS\u003C\u002Fli\u003E\n\u003Cli\u003EWebGL texture\u003C\u002Fli\u003E\n\u003Cli\u003EImage, video\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EKhi config thành công trên server, server sẽ trả thêm một số thông tin trên header để trình duyệt biết và cấp phép chạy\u003C\u002Fp\u003E\n\u003Ch2 id=\"access-control-allow-origin\"\u003E\u003Ca href=\"#access-control-allow-origin\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAccess-Control-Allow-Origin\u003C\u002Fh2\u003E\n\u003Cp\u003EChỉ định các tên miền nào được phép truy cập,  ví dụ để cho phép tất cả tên miền có thể gọi tới\u003C\u002Fp\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003EAccess-Control-Allow-Origin\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E *\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ECho phép 1 tên miền cụ thể\u003C\u002Fp\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003EAccess-Control-Allow-Origin\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E https\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002Fexample.com\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"các-kiểu-request-cors\"\u003E\u003Ca href=\"#c%C3%A1c-ki%E1%BB%83u-request-cors\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECác kiểu request CORS\u003C\u002Fh2\u003E\n\u003Cp\u003ECó 2 kiểu CORS request: các request \u003Cem\u003Eđơn thuần\u003C\u002Fem\u003E, và các request \u003Cstrong\u003Epreflight\u003C\u002Fstrong\u003E, 2 cái này sẽ do trình duyệt xác định sử dụng cái nào, là một developer chúng ta cũng thật sự không cần quan tâm.\u003C\u002Fp\u003E\n\u003Ch3 id=\"request-đơn-thuần-như-get-post-head\"\u003E\u003Ca href=\"#request-%C4%91%C6%A1n-thu%E1%BA%A7n-nh%C6%B0-get-post-head\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ERequest đơn thuần như \u003Ccode class=\"language-text\"\u003EGET\u003C\u002Fcode\u003E, \u003Ccode class=\"language-text\"\u003EPOST\u003C\u002Fcode\u003E, \u003Ccode class=\"language-text\"\u003EHEAD\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ECác request được trình duyệt xếp loại \u003Cem\u003Eđơn thuần\u003C\u002Fem\u003E là\nGET, POST, HEAD\nSử dụng \u003Ca href=\"https:\u002F\u002Ffetch.spec.whatwg.org\u002F#cors-safelisted-request-header\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ECORS safe -listed header\u003C\u002Fa\u003E\nKhi sử dụng \u003Ccode class=\"language-text\"\u003EContent-Type\u003C\u002Fcode\u003E, chỉ các giá trị sau là được cho phép \u003Ccode class=\"language-text\"\u003Eapplication\u002Fx-www-form-urlencoded\u003C\u002Fcode\u003E, \u003Ccode class=\"language-text\"\u003Emultipart\u002Fform-data\u003C\u002Fcode\u003E,  \u003Ccode class=\"language-text\"\u003Etext\u002Fplain\u003C\u002Fcode\u003E\nKhông có các listener nào được đăng ký trên \u003Ccode class=\"language-text\"\u003EXMLHttpRequestUpload\u003C\u002Fcode\u003E\nKhông sử dụng \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FReadableStream\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EReadableStream\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"preflight-request\"\u003E\u003Ca href=\"#preflight-request\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EPreflight request\u003C\u002Fh3\u003E\n\u003Cp\u003EĐơn giản là ngược lại các trường hợp ở trên thì sẽ là dạng preflight, trình duyệt sẽ gửi đi một request ở phương thức \u003Ccode class=\"language-text\"\u003Eoptions\u003C\u002Fcode\u003E để xác định server có hỗ trợ ko trước khi thực sự gửi đi request chính.\u003C\u002Fp\u003E\n\u003Cp\u003EĐối với loại preflight request, ngoài việc chuyển phương thức sang \u003Ccode class=\"language-text\"\u003Eoptions\u003C\u002Fcode\u003E, nó sẽ set thêm một số thuộc tính trên header\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode class=\"language-text\"\u003EAccess-Control-Request-Method\u003C\u002Fcode\u003E:  phương thức GET hay POST nên được sử dụng\n\u003Ccode class=\"language-text\"\u003EAccess-Control-Request-Headers\u003C\u002Fcode\u003E: kiểu header muốn sử dụng\n\u003Ccode class=\"language-text\"\u003EOrigin\u003C\u002Fcode\u003E: nơi gửi request\u003C\u002Fp\u003E\n\u003Cp\u003EVí dụ\u003C\u002Fp\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003E# Request\ncurl -i -X OPTIONS localhost\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E3001\u003C\u002Fspan\u003E\u002Fapi\u002Fping \\\n-H 'Access-Control-Request-Method\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E GET' \\\n-H 'Access-Control-Request-Headers\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E Content-Type\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E Accept' \\\n-H 'Origin\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E http\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002Flocalhost:3000'\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EChúng ta có thể tạm dịch nó ra ngôn ngữ tự nhiên là “Tao muốn thực hiện một request dạng GET với \u003Ccode class=\"language-text\"\u003Econtent-type\u003C\u002Fcode\u003E và \u003Ccode class=\"language-text\"\u003EAccept\u003C\u002Fcode\u003E header từ địa chỉ localhost:3000 có được ko?”\u003C\u002Fp\u003E\n\u003Cp\u003EKết quả trả về từ server sẽ cho phép trình duyệt tiến hành tiếp, hay dừng lại ở đó. Response từ server sẽ như thế này\u003C\u002Fp\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003EHTTP\u002F\u003Cspan class=\"token number\"\u003E1.1\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E204\u003C\u002Fspan\u003E No Content\nAccess-Control-Allow-Origin\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E *\nAccess-Control-Allow-Methods\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E GET\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003EHEAD\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003EPUT\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003EPATCH\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003EPOST\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003EDELETE\nVary\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E Access-Control-Request-Headers\nAccess-Control-Allow-Headers\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E Content-Type\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E Accept\nContent-Length\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\nDate\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E Fri\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E05\u003C\u002Fspan\u003E Apr \u003Cspan class=\"token number\"\u003E2019\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E11\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E41\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E08\u003C\u002Fspan\u003E GMT\nConnection\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E keep-alive\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https:\u002F\u002Fauth0.com\u002Fblog\u002Fcors-tutorial-a-guide-to-cross-origin-resource-sharing\u002F\n\"\u003E📜 CORS Tutorial: A Guide to Cross-Origin Resource Sharing\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n","cover_image":""}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.88e72233.js" defer></script><script src="/assets/js/page--src-templates-post-vue.0d21aba4.js" defer></script>
  </body>
</html>
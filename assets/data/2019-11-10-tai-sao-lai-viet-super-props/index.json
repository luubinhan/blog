{"hash":"aa1b14b28c6a95ff3b4e2423c3c2ee3502c18cfa","data":{"post":{"title":"Táº¡i sao láº¡i viáº¿t Super(props)","path":"/2019-11-10-tai-sao-lai-viet-super-props/","slug":"/2019-11-10-tai-sao-lai-viet-super-props","date":"2019-11-10","timeToRead":6,"tags":[{"id":"hoc-thuat","title":"hoc-thuat","path":"/tag/hoc-thuat/"},{"id":"javascript","title":"javascript","path":"/tag/javascript/"},{"id":"react","title":"react","path":"/tag/react/"}],"desc":"BÃ i cÅ©, dá»‹ch cÅ©ng lÃ¢u rá»“i, giá» má»›i Ä‘Äƒng lÃªn trang cÃ¡ nhÃ¢n cá»§a mÃ¬nh","content":"<p>Nghe nÃ³i <a href=\"https://reactjs.org/docs/hooks-intro.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hook</a> Ä‘ang lÃ  trend. Trá»› trÃªu thay, tÃ´i muá»‘n viáº¿t bÃ i Ä‘áº§u tiÃªn cho blog nÃ y Ä‘á»ƒ nÃ³i vá» Ä‘iá»u thÃº vá»‹ cá»§a <em>class</em> component.</p>\n<p><strong>Váº¥n Ä‘á» nÃ y <em>khÃ´ng</em> liÃªn quan tá»›i viá»‡c sá»­ dá»¥ng React má»™t cÃ¡ch hiá»‡u quáº£. NhÆ°ng báº¡n sáº½ cáº£m tháº¥y chÃºng thÃº vá»‹ náº¿u nhÆ° báº¡n muá»‘n tÃ¬m hiá»ƒu sÃ¢u hÆ¡n vá» cÃ¡ch hoáº¡t Ä‘á»™ng.</strong></p>\n<p>ÄÃ¢y lÃ  bÃ i Ä‘áº§u tiÃªn.</p>\n<hr>\n<p>ChÃºng ta Ä‘Ã£ viáº¿t <code class=\"language-inline-text\">super(props)</code> khÃ´ng biáº¿t bao nhiÃªu láº§n trong Ä‘á»i:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">isOn</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>DÄ© nhiÃªn, náº¿u Ã¡p dá»¥ng <a href=\"https://github.com/tc39/proposal-class-fields\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">class field proposal</a> thÃ¬ cÃ³ thá»ƒ bá» qua <em>nghi thá»©c</em> nÃ y:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">isOn</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>CÃº phÃ¡p nÃ y <a href=\"https://reactjs.org/blog/2015/01/27/react-v0.13.0-beta-1.html#es7-property-initializers\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ä‘Ã£  Ä‘Æ°á»£c hoáº¡ch Ä‘á»‹nh</a> khi React 0.13 Ä‘Ã£ há»— trá»£ cho plain class nÄƒm 2015. KHai bÃ¡o <code class=\"language-inline-text\">constructor</code> vÃ  gá»i <code class=\"language-inline-text\">super(props)</code> luÃ´n lÃ  káº¿ hoáº¡ch táº¡m thá»i cho Ä‘áº¿n khi cÃ³ má»™t cÃ¡ch khÃ¡c tá»‘t hÆ¡n.</p>\n<p>Quay vá» vÃ­ dá»¥,  chá»‰ sá»­ dá»¥ng cÃ¡c tÃ­nh nÄƒng cá»§a ES2015:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">isOn</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Táº¡i sao chÃºng ta láº¡i gá»i <code class=\"language-inline-text\">super</code>? ChÃºng ta cÃ³ thá»ƒ <em>khÃ´ng</em> gá»i chÃºng Ä‘Æ°á»£c khÃ´ng? Náº¿u chÃºng ta gá»i chÃºng, thÃ¬ chuyá»‡n gÃ¬ sáº½ xáº£y ra náº¿u chÃºng ta khÃ´ng truyá»n <code class=\"language-inline-text\">props</code>? Truyá»n thÃªm cÃ¡c tham sá»‘ khÃ¡c Ä‘Æ°á»£c khÃ´ng?</strong> CÃ¹ng tÃ¬m hiá»ƒu nÃ o.</p>\n<hr>\n<p>Trong JavaScript, <code class=\"language-inline-text\">super</code> Ä‘á»ƒ gá»i láº¡i constructor cá»§a class cha. (Trong vÃ­ dá»¥ cá»§a chÃºng ta, nÃ³ trá» vá» <code class=\"language-inline-text\">React.Component</code>.)</p>\n<p>Äiá»u quan trá»ng, báº¡n <strong>khÃ´ng thá»ƒ sá»­ dá»¥ng <code class=\"language-inline-text\">this</code></strong> trong constructor náº¿u chÆ°a gá»i Ä‘áº¿n constructor cá»§a class cha. JavaScript sáº½ khÃ´ng Ä‘á»ƒ báº¡n lÃ m viá»‡c nÃ y:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ğŸ”´  KhÃ´ng thá»ƒ dÃ¹ng `this` Ä‘Æ°á»£c</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// âœ…  Giá» thÃ¬ dÃ¹ng Ä‘Æ°á»£c rá»“i</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">isOn</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>CÃ³ má»™t lÃ½ do chÃ­nh Ä‘Ã¡ng giáº£i thÃ­ch vÃ¬ sao JavaScript pháº£i thá»±c hiá»‡n constructor cá»§a lá»›p cha trÆ°á»›c khi Ä‘á»¥ng vÃ o <code class=\"language-inline-text\">this</code>. HÃ£y xem xÃ©t trÆ°á»ng há»£p sau:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">PolitePerson</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ğŸ”´  Äiá»u nÃ y khÃ´ng cho phÃ©p, Ä‘á»c lÃ½ do á»Ÿ bÃªn dÆ°á»›i</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ChÃ o buá»•i sÃ¡ng!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>HÃ£y tÆ°á»Ÿng tÆ°á»£ng, khi báº¡n cÃ³ thá»ƒ dÃ¹ng <code class=\"language-inline-text\">this</code> trÆ°á»›c <code class=\"language-inline-text\">super</code>. Má»™t thÃ¡ng sau, chÃºng ta Ä‘á»•i <code class=\"language-inline-text\">greetColleagues</code>, thÃªm <code class=\"language-inline-text\">this.name</code> khi alert:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ChÃ o buá»•i sÃ¡ng!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'TÃªn tÃ´i lÃ  '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">', ráº¥t vui Ä‘Æ°á»£c gáº·p báº¡n!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>NhÆ°ng chÃºng ta quÃªn ráº±ng <code class=\"language-inline-text\">this.greetColleagues()</code> Ä‘Æ°á»£c gá»i trÆ°á»›c <code class=\"language-inline-text\">super()</code>, giÃ¡ trá»‹ <code class=\"language-inline-text\">this.name</code> <strong>chá»‰ cÃ³ sau khi gá»i <code class=\"language-inline-text\">super()</code></strong>! LÃºc nÃ y báº¡n cÃ³ thá»ƒ tháº¥y, code nhÆ° tháº¿ nÃ y khÃ³ Ä‘á»ƒ biáº¿t Ä‘Æ°á»£c lá»—i á»Ÿ Ä‘Ã¢u.</p>\n<p>Äá»ƒ trÃ¡nh nhá»¯ng Ä‘iá»u nhÆ° váº­y, <strong>JavaScript chá»‰ Ä‘á»‹nh ráº±ng náº¿u báº¡n muá»‘n sá»­ dá»¥ng <code class=\"language-inline-text\">this</code> bÃªn trong constructor, báº¡n <em>pháº£i</em> gá»i <code class=\"language-inline-text\">super</code> trÆ°á»›c.</strong> Äá»ƒ cho tháº±ng cha lÃ m viá»‡c cá»§a nÃ³! VÃ  Ä‘iá»u nÃ y cÅ©ng Ã¡p dá»¥ng vá»›i cÃ¡c lá»›p React components:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// âœ…  Okay, dÃ¹ng `this` Ä‘Æ°á»£c rá»“i</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">isOn</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ChÃºng ta cÃ¹ng Ä‘áº¿n vá»›i cÃ¢u há»i khÃ¡c: pháº£i sao pháº£i truyá»n vÃ o <code class=\"language-inline-text\">props</code>?</p>\n<hr>\n<p>Báº¡n hÃ£y nghÄ© Ä‘Æ¡n giáº£n ráº±ng khi truyá»n <code class=\"language-inline-text\">props</code> vÃ o <code class=\"language-inline-text\">super</code> lÃ  cáº§n thiáº¿t Ä‘á»ƒ <code class=\"language-inline-text\">React.Component</code> constructor cÃ³ thá»ƒ thiáº¿t láº­p <code class=\"language-inline-text\">this.props</code>:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// BÃªn trong React</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>NÃ³ tháº­t sá»± lÃ  <a href=\"https://github.com/facebook/react/blob/1d25aa5787d4e19704c049c3cfa985d3b5190e0d/packages/react/src/ReactBaseClasses.js#L22\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">cÃ¡ch mÃ  chÃºng tÃ´i thá»±c hiá»‡n bÃªn trong React.Component</a>.</p>\n<p>Báº±ng cÃ¡ch nÃ o Ä‘Ã³, náº¿u báº¡n gá»i <code class=\"language-inline-text\">super()</code> mÃ  khÃ´ng cÃ³ tham sá»‘ <code class=\"language-inline-text\">props</code>, báº¡n váº«n cÃ³ thá»ƒ sá»­ dá»¥ng <code class=\"language-inline-text\">this.props</code> trong phÆ°Æ¡ng thá»©c <code class=\"language-inline-text\">render</code> vÃ  cÃ¡c phÆ°Æ¡ng thá»©c khÃ¡c. (Náº¿u khÃ´ng tin, hÃ£y tá»± kiá»ƒm tra xem!)</p>\n<p>Váº­y <em>nÃ³</em> hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o? HÃ³a ra <strong>React Ä‘Ã£ gÃ¡n <code class=\"language-inline-text\">props</code> cho má»™t instance ngay sau constructor:</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token comment\">// BÃªn trong React</span>\n  <span class=\"token keyword\">const</span> instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">YourComponent</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  instance<span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Tháº¿ nÃªn khi báº¡n quÃªn bá» tháº±ng <code class=\"language-inline-text\">props</code> vÃ o <code class=\"language-inline-text\">super()</code>, thÃ¬ trong React báº¡n váº«n cÃ³ thá»ƒ gá»i nÃ³ sau Ä‘Ã³. CÃ³ má»™t lÃ½ do cho viá»‡c nÃ y.</p>\n<p>Khi React há»— trá»£ thÃªm class, nÃ³ khÃ´ng chá»‰ há»— trá»£ class cho má»—i phiÃªn báº£n ES6. MÃ  má»¥c tiÃªu chÃ­nh lÃ  há»— trá»£ nhiá»u class abstract nháº¥t cÃ³ thá»ƒ. <a href=\"https://reactjs.org/blog/2015/01/27/react-v0.13.0-beta-1.html#other-languages\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">KhÃ´ng rÃµ</a> lÃ m tháº¿ nÃ o ClojureScript, CoffeeScript, ES6, Fable, Scala.js, TypeScript, hoáº·c cÃ¡c giáº£i phÃ¡p khÃ¡c Ä‘á»‹nh nghÄ©a component. VÃ¬ váº­y, React sá»­ dá»¥ng <code class=\"language-inline-text\">super()</code> khÃ´ng há» lÃ  quan Ä‘iá»ƒm cÃ¡ nhÃ¢n.</p>\n<p>Váº­y cÃ³ nghÄ©a lÃ  báº¡n cÃ³ thá»ƒ gá»i <code class=\"language-inline-text\">super()</code> thay vÃ¬ <code class=\"language-inline-text\">super(props)</code>?</p>\n<p><strong>KhÃ´ng. NhÆ° váº­y ráº¥t khÃ³ hiá»ƒu.</strong> Cháº¯c cháº¯n, React sáº½ gÃ¡n <code class=\"language-inline-text\">this.props</code> <em>sau khi</em>  constructor cháº¡y. NhÆ°ng <code class=\"language-inline-text\">this.props</code> váº«n  lÃ  <code class=\"language-inline-text\">undefined</code> <em>giá»¯a</em> lÃºc gá»i <code class=\"language-inline-text\">super</code> vÃ  káº¿t thÃºc constructor:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// BÃªn trong React</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// BÃªn trong code cá»§a báº¡n</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ğŸ˜¬ ChÃºng ta khÃ´ng truyá»n vÃ o props</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// âœ… {}</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ğŸ˜¬ undefined - chÆ°a Ä‘á»‹nh nghÄ©a </span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Viá»‡c debug sáº½ trá»Ÿ nÃªn khÃ³ khÄƒn náº¿u nhÆ° má»™t vÃ i phÆ°Æ¡ng thá»©c Ä‘Æ°á»£c gá»i <em>tá»«</em> constructor. <strong>ÄÃ³ lÃ  lÃ½ do vÃ¬ sao luÃ´n khuyáº¿n khÃ­ch báº¡n sá»­ dá»¥ng <code class=\"language-inline-text\">super(props)</code>, máº·c dÃ¹ nÃ³ khÃ´ng pháº£i quy Ä‘á»‹nh báº¯t buá»™c:</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// âœ… ChÃºng ta truyá»n props vÃ o </span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// âœ… {}</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// âœ… {}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Äiá»u nÃ y Ä‘áº£m báº£o <code class=\"language-inline-text\">this.props</code> sáº½ Ä‘Æ°á»£c thiáº¿t láº­p trong constructor.</p>\n<hr>\n<p>CÃ³ má»™t Ä‘iá»u cuá»‘i mÃ  khiáº¿n cho cÃ¡c fan lÃ¢u nÄƒm cá»§a React tÃ² mÃ².</p>\n<p>Báº¡n cÃ³ thá»ƒ tháº¥y ráº±ng khi sá»­ dá»¥ng Context API bÃªn trong class (hoáº·c vá»›i <code class=\"language-inline-text\">contextTypes</code> cÅ© hoáº·c vá»›i <code class=\"language-inline-text\">contextType</code> API Ä‘Æ°á»£c thÃªm vÃ o á»Ÿ React 16.6), <code class=\"language-inline-text\">context</code> Ä‘Æ°á»£c Ä‘áº©y vÃ o tham sá»‘ thá»© hai trong constructor.</p>\n<p>Váº­y táº¡i sao chÃºng ta khÃ´ng viáº¿t lÃ  <code class=\"language-inline-text\">super(props, context)</code>? CÃ³ thá»ƒ chá»©, nhÆ°ng context Ã­t khi sá»­ dá»¥ng nÃªn viá»‡c phÃ¡t sinh lá»—i cÅ©ng Ã­t xuáº¥t hiá»‡n.</p>\n<p><strong>Vá»›i <a href=\"https://github.com/tc39/proposal-class-fields\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">class fields proposal</a> thÃ¬ nhá»¯ng váº¥n Ä‘á» nÃ y háº§u nhÆ° biáº¿n máº¥t.</strong> KhÃ´ng cÃ³ constructor, táº¥t cáº£ cÃ¡c tham sá»‘ Ä‘á»u Ä‘Æ°á»£c truyá»n vÃ o má»™t cÃ¡ch tá»± Ä‘á»™ng. ÄÃ¢y lÃ  nhá»¯ng lÃ½ do cho phÃ©p má»™t biá»ƒu thá»©c <code class=\"language-inline-text\">state = {}</code> bao gá»“m cáº£ cÃ¡c tham chiáº¿u <code class=\"language-inline-text\">this.props</code> hoáº·c <code class=\"language-inline-text\">this.context</code> náº¿u cáº§n thiáº¿t.</p>\n<p>Vá»›i Hooks, chÃºng ta tháº­m chÃ­ khÃ´ng cÃ³ <code class=\"language-inline-text\">super</code> hoáº·c <code class=\"language-inline-text\">this</code>. NhÆ°ng chá»§ Ä‘á» Ä‘Ã³ sáº½ giÃ nh cho má»™t ngÃ y khÃ¡c.</p>\n<p><strong>BÃ i viáº¿t Ä‘Æ°á»£c dá»‹ch tá»«</strong> <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://overreacted.io/why-do-we-write-super-props/\">Why Do We Write super(props)?</a></p>\n","cover_image":"","related":[{"id":"60f676e05ffae4b7f782d83aa26725a8","path":"/2019-11-17-giai-thich-tai-sao-ban-can-react-hook/","title":"Táº¡i sao láº¡i sinh ra React hook","desc":"Táº¡i sao vÃ  lá»£i Ã­ch mÃ  react hook Ä‘em láº¡i lÃ  gÃ¬, mÃ  thiÃªn háº¡ cá»© ráº§n ráº§n lÃªn váº­y?"},{"id":"8cd9d8c2dba06fb83a1f7d2ff11853f6","path":"/2019-11-27-huong-dan-pattern-react-render-prop/","title":"CÃ¡ch viáº¿t React render props","desc":"Má»™t trong nhá»¯ng pattern Ä‘á»ƒ chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng láº¡i logic"},{"id":"c3b0c1585f2bb1dbf4887da537c56854","path":"/2020-01-01-chi-dan-viet-redux-sao-cho-chuan/","title":"Chá»‰ dáº«n viáº¿t Redux sao cho chuáº©n","desc":"ÄÃ¢y khÃ´ng pháº£i lÃ  quan Ä‘iá»ƒm cÃ¡ nhÃ¢n, bÃ i viáº¿t Ä‘Æ°á»£c dá»‹ch thuáº­t tá»« tÃ i liá»‡u chÃ­nh thá»©c cá»§a Redux"}]}},"context":{}}
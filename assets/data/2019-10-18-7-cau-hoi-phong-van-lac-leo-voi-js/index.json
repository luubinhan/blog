{"hash":"f369d0891f41e5bd2c583b3c06d1d5fffc1c6b45","data":{"post":{"title":"7 Câu hỏi phỏng vấn lắc léo với Javascript","path":"/2019-10-18-7-cau-hoi-phong-van-lac-leo-voi-js/","slug":"/2019-10-18-7-cau-hoi-phong-van-lac-leo-voi-js","date":"2019-10-18","timeToRead":4,"tags":[{"id":"javascript","title":"javascript","path":"/tag/javascript/"}],"desc":"Thử kiến thức javascript của bạn đã đủ cho cuộc phỏng vấn cam go sắp tới chưa","content":"<h2 id=\"1\"><a href=\"#1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1</h2>\n<p>Kết quả của <code class=\"language-inline-text\">typeof a</code> và <code class=\"language-inline-text\">typeof b</code> trong đoạn code sau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> b <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  a<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> a<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">typeof</span> a<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span>\n<span class=\"token keyword\">typeof</span> b<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span></code></pre></div>\n<p><em>Đáp án</em></p>\n<p>Lắc léo là ở chổ <code class=\"language-inline-text\">let a = b = 0</code>. Câu này khai báo một biến cục bộ <code class=\"language-inline-text\">a</code>, <strong>đồng thời khai báo một biến toàn cục <code class=\"language-inline-text\">b</code></strong></p>\n<p>Vì không có một khai báo nào của <code class=\"language-inline-text\">b</code>, javascript tự hiểu b chính là <code class=\"language-inline-text\">window.b = 0</code> 😂😂</p>\n<p>Trường hợp này gọi là <em>vô tình</em> tạo ra một biến toàn cục, sự <em>vô tình</em> này còn có thể thấy ở</p>\n<p><img src=\"https://dmitripavlutin.com/static/41b7ea0d888dd9b298e41b9ff9bf4590/f8b1b/accitental-global-variables.webp\"></p>\n<p>Trình duyệt sẽ  chạy đoạn code trên như thế này</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token keyword\">let</span> a<span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  window<span class=\"token punctuation\">.</span>b <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  a <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">;</span></span>  a<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> a<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>✅ Kết quả</p>\n<div class=\"gridsome-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">typeof</span> a<span class=\"token punctuation\">;</span>        <span class=\"token comment\">// => 'undefined'</span>\n<span class=\"token keyword\">typeof</span> window<span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => 'number'</span></code></pre></div>\n<h2 id=\"2\"><a href=\"#2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2</h2>\n<p>Giá trị của <code class=\"language-inline-text\">clothes[0]</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> clothes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'jacket'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'t-shirt'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nclothes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\nclothes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span></code></pre></div>\n<p>Lắc léo ở giá trị <code class=\"language-inline-text\">length</code> của một array là một giá trị đặc biệt, đặc biệt ở chổ <em>nó tạo ra side-effect</em>, nếu thay đổi giá trị này sẽ ảnh hưởng trực tiếp đến array đó. 😂😂</p>\n<p>Trong trường hợp trên, với việc <code class=\"language-inline-text\">clothes.length = 0</code> chúng ta đã xóa toàn bộ item trong array clothes</p>\n<p>✅ Kết quả <code class=\"language-inline-text\">clothes[0]</code> là <code class=\"language-inline-text\">undefined</code></p>\n<h2 id=\"3\"><a href=\"#3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>3</h2>\n<p>Nội dung của array <code class=\"language-inline-text\">numbers</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> length <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">{</span>\n  numbers<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nnumbers<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span></code></pre></div>\n<p>Lắc léo là ở chổ <code class=\"language-inline-text\">;</code>, nếu bạn ko để ý kỹ.</p>\n<p><img src=\"https://dmitripavlutin.com/static/edd9c7bd7fa83cc909f5b7694686bdfd/f8b1b/for-and-null-statement-pitfall-4.webp\" alt=\"The null statement effect\"></p>\n<p>Đoạn <code class=\"language-inline-text\">for</code> chạy 4 lần mà không làm gì cả vì <code class=\"language-inline-text\">;</code> 😂😂</p>\n<p>Trình duyệt sẽ chạy theo kiểu</p>\n<div class=\"gridsome-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> length <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> i<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// does nothing</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// a simple block</span>\n  numbers<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nnumbers<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => [5]</span></code></pre></div>\n<p>✅ Kết quả <code class=\"language-inline-text\">numbers</code> chỉ gồm 1 phần tử với giá trị bằng 5</p>\n<p><em>Câu chuyện có thật, tác giả bài viết này bị chấm rớt bởi câu phỏng vấn này, lý do được đưa ra rất hợp lý: Chúng tôi cần những người cẩn thận và chi tiết</em></p>\n<h2 id=\"4\"><a href=\"#4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>4</h2>\n<p>Giá trị trả về của <code class=\"language-inline-text\">arrayFromValue()</code></p>\n<div class=\"gridsome-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">arrayFromValue</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span>\n    <span class=\"token punctuation\">[</span>items<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">arrayFromValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span></code></pre></div>\n<p>Rất nhiều người sẽ không nghĩ rằng việc xuống dòng giữa <code class=\"language-inline-text\">return</code> và <code class=\"language-inline-text\">[items]</code> ảnh hưởng gì tới kết quả cuối cùng.</p>\n<p>Javascript tự động thêm dấu <code class=\"language-inline-text\">;</code> vào sau câu <code class=\"language-inline-text\">return</code> 😂😂</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">arrayFromValue</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></span>  <span class=\"token punctuation\">[</span>items<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">arrayFromValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => undefined</span></code></pre></div>\n<p>✅ Kết quả của <code class=\"language-inline-text\">arrayFromValue(10)</code> là <code class=\"language-inline-text\">undefined</code></p>\n<h2 id=\"5\"><a href=\"#5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>5</h2>\n<p>Kết quả của <code class=\"language-inline-text\">console.log</code></p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> i<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">log</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"gridsome-highlight-code-line\">    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>log<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nếu câu trả lời của bạn là 0, 1, 2 thì xin chúc mừng, <em>bạn đã sai</em>. 😂😂</p>\n<p>Có 2 quá trình xảy ra với đoạn code trên, lắc léo là ở chổ <code class=\"language-inline-text\">setTimeout</code></p>\n<p><strong>Quá trình 1</strong></p>\n<ol>\n<li><code class=\"language-inline-text\">for()</code> chạy 3 lần. Mỗi lần chạy nó tạo ra một hàm <code class=\"language-inline-text\">log()</code>, nhận giá trị <code class=\"language-inline-text\">i</code>, sau đó <code class=\"language-inline-text\">setTimeout()</code> đưa hàm nào vào queue để chạy sau (xem thêm về event loop để hiểu cái queue này)</li>\n<li>Khi vòng lặp <code class=\"language-inline-text\">for()</code> kết thúc, giá trị <code class=\"language-inline-text\">i</code> đang là 3</li>\n</ol>\n<p><strong>Quá trình 2</strong></p>\n<p>Sau 100ms, nó thực hiện bước 2, ba hàm <code class=\"language-inline-text\">log()</code> đã đưa vào queue sẽ lần lượt được gọi, lúc này này <code class=\"language-inline-text\">i</code> đang là 3</p>\n<p>✅ Kết quả log ra là 3, 3, 3</p>\n<h2 id=\"6\"><a href=\"#6\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>6</h2>\n<p>Kết quả của so sánh</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token number\">0.1</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.2</span> <span class=\"token operator\">===</span> <span class=\"token number\">0.3</span> <span class=\"token comment\">// => ???</span></code></pre></div>\n<p>Trước tiên, xem giá trị của phép cộng <code class=\"language-inline-text\">0.1 + 0.2</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token number\">0.1</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => 0.30000000000000004</span></code></pre></div>\n<p>😂😂Javascript không cho kết quả <code class=\"language-inline-text\">0.3</code> ! 😂😂</p>\n<p>Cái sự tình này xảy ra là giá trị <strong>thập phân</strong> khi chuyển về nhị phân không thực sự chính xác</p>\n<p>✅ Nên <code class=\"language-inline-text\">0.1 + 0.2 === 0.3</code> sẽ là <code class=\"language-inline-text\">false</code></p>\n<h2 id=\"7\"><a href=\"#7\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>7</h2>\n<p>Chuyện gì xảy ra khi truy cập <code class=\"language-inline-text\">myVar</code> và <code class=\"language-inline-text\">myConst</code> trước khi khai báo</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"gridsome-highlight-code-line\">myVar<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// => ???</span></span><span class=\"gridsome-highlight-code-line\">myConst<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span></span>\n<span class=\"token keyword\">var</span> myVar <span class=\"token operator\">=</span> <span class=\"token string\">'value'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> myConst <span class=\"token operator\">=</span> <span class=\"token number\">3.14</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"https://dmitripavlutin.com/static/670c31f21f45e9b8a453e726293f4de0/f8b1b/temporal-dead-zone-and-hoisting-javascript.webp\"></p>\n<p>✅ Hoisting và temporal dead zone là 2 khái niệm quan trọng ảnh hưởng tới vòng đời của một biến trong javascript</p>\n<p>Truy cập vào <code class=\"language-inline-text\">myVar</code> trước khi khai báo sẽ trả về <code class=\"language-inline-text\">undefined</code>, nếu khai báo bằng <code class=\"language-inline-text\">var</code></p>\n<p>Tuy nhiên, nếu truy cập <code class=\"language-inline-text\">myConst</code> trước khi khai báo sẽ trả về <code class=\"language-inline-text\">ReferenceError</code>, nếu khai báo bằng <code class=\"language-inline-text\">const</code>, nó sẽ nằm trong khu vực <strong>temporal dead zone</strong>, không ai giải quyết cho đến khi có người nhận trách nhiệm.</p>\n<h2 id=\"kết-luận\"><a href=\"#k%E1%BA%BFt-lu%E1%BA%ADn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kết luận</h2>\n<p>Bạn sẽ thắc mắc, có những câu hỏi chả bao giờ sử dụng trong quá trình làm việc, mình cũng có cảm giác tương tự như vậy khi được hỏi những câu lắc léo thế này. <em>Nhưng thực tế vẫn bị hỏi khi phỏng vấn</em>.</p>\n<p>Các bạn có nghĩ những câu hỏi <em>lắc léo</em> như vậy có cần thiết trong lúc phỏng vấn không? Viết bình luận ở dưới nhé.</p>\n<p><a href=\"https://dmitripavlutin.com/simple-but-tricky-javascript-interview-questions/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">7 Simple but Tricky JavaScript Interview Questions</a></p>\n","cover_image":"","related":[{"id":"cc966bcacf4a3f8f4a9f2abf03463e59","path":"/2019-12-23-9-cau-hoi-ve-promise/","title":"9 câu hỏi lắc léo về Promise","desc":"Vài câu hỏi Promise, ôn tập kiến thức cho bạn cần đi phỏng vấn"},{"id":"17aa91b8bb6a8030186c20fab2e90f95","path":"/2020-09-19-bai-phong-van-evan-you/","title":"Bài phỏng vấn Evan You","desc":"Nhân sự kiện Vue 3 chính thức được giới thiệu, Evrone.com có cuộc nói chuyện cùng Evan You tác giả của Vue, xoay quanh vấn đề cách tiếp cận no-backend và fullstack, cân bằng giữa cuộc sống và công việc."},{"id":"5056f121bf99a2d9c1b987942c928592","path":"/2020-07-21-5-cau-hoi-phong-van-javascript/","title":"5 câu hỏi javascript và cách đánh bại chúng","desc":"Mỗi công ty mỗi kiểu phỏng vấn, điều hay bị phàn nàn trong các buổi phỏng vấn là phần lớn nó không liên quan tới những công việc hằng ngày mà vị trí đó đòi hỏi."},{"id":"d1bfc3e5e4598b7902ec8f15e0fb3f4a","path":"/2020-06-18-10-cau-hoi-javascript-de-nang-cao-kien-thuc-cua-ban/","title":"10 câu hỏi javascript để nâng cao trình độ","desc":"Cùng ôn luyện kiến thức javascript bằng 10 câu hỏi lắc léo"}]}},"context":{}}
{"hash":"5c36ce9365cdf048413216aa95f8ff64d5cbd5b8","data":{"post":{"title":"Micro frontend t·∫°i sao v√† nh∆∞ th·∫ø n√†o","path":"/2020-10-15-micro-frontend-giai-thich-huong-dan/","date":"2020-10-15","timeToRead":10,"tags":[{"id":"dam-dao","title":"dam-dao","path":"/tag/dam-dao/"},{"id":"hoc-thuat","title":"hoc-thuat","path":"/tag/hoc-thuat/"}],"desc":"L∆∞·ªõt qua m·ªôt v√†i ƒëi·ªÉm v·ªÅ Micro Frontend, √Ω t∆∞·ªüng ch√≠nh v√† c√°c v·∫•n ƒë·ªÅ ƒë∆∞·ª£c quan t√¢m","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#t%E1%BA%A1i-sao-b%E1%BA%A1n-c%E1%BA%A7n-bi%E1%BA%BFt-%C4%91%E1%BA%BFn-micro-frontend\">T·∫°i sao b·∫°n c·∫ßn bi·∫øt ƒë·∫øn Micro frontend</a></li>\n<li><a href=\"#micro-frontend-l%C3%A0-c%C3%A1i-g%C3%AC\">Micro frontend l√† c√°i g√¨</a></li>\n<li>\n<p><a href=\"#hi%E1%BB%87n-th%E1%BB%B1c-h%C3%B3a-nh%C6%B0-th%E1%BA%BF-n%C3%A0o\">Hi·ªán th·ª±c h√≥a nh∆∞ th·∫ø n√†o</a></p>\n<ul>\n<li><a href=\"#t%C6%B0%C6%A1ng-t%C3%A1c-gi%E1%BB%AFa-c%C3%A1c-%E1%BB%A9ng-d%E1%BB%A5ng\">T∆∞∆°ng t√°c gi·ªØa c√°c ·ª©ng d·ª•ng</a></li>\n<li><a href=\"#th%C6%B0-vi%E1%BB%87n-component-d%C3%B9ng-chung\">Th∆∞ vi·ªán component d√πng chung</a></li>\n<li><a href=\"#styling\">Styling</a></li>\n<li>\n<p><a href=\"#c%C3%A1c-c%C3%A1ch-%C4%91%E1%BB%83-integrate\">C√°c c√°ch ƒë·ªÉ integrate</a></p>\n<ul>\n<li><a href=\"#c%C3%A1ch-1-composition-d%C3%B9ng-server-side-template\">C√°ch 1: composition d√πng server side template</a></li>\n<li><a href=\"#c%C3%A1ch-2-integrate-l%C3%BAc-build\">C√°ch 2: Integrate l√∫c build</a></li>\n<li><a href=\"#c%C3%A1ch-3-integrate-l%C3%BAc-run-time-b%E1%BA%B1ng-iframe\">C√°ch 3: Integrate l√∫c run-time b·∫±ng iframe</a></li>\n<li><a href=\"#c%C3%A1ch-4-integrate-l%C3%BAc-run-time-b%E1%BA%B1ng-javascript\">C√°ch 4: Integrate l√∫c run-time b·∫±ng JavaScript</a></li>\n<li><a href=\"#c%C3%A1ch-5-integrate-l%C3%BAc-run-time-b%E1%BA%B1ng-web-component\">C√°ch 5: Integrate l√∫c run-time b·∫±ng Web Component</a></li>\n</ul>\n</li>\n<li><a href=\"#t%C6%B0%C6%A1ng-t%C3%A1c-v%E1%BB%9Bi-backend\">T∆∞∆°ng t√°c v·ªõi Backend</a></li>\n</ul>\n</li>\n<li><a href=\"#k%E1%BA%BFt\">K·∫øt</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"t·∫°i-sao-b·∫°n-c·∫ßn-bi·∫øt-ƒë·∫øn-micro-frontend\"><a href=\"#t%E1%BA%A1i-sao-b%E1%BA%A1n-c%E1%BA%A7n-bi%E1%BA%BFt-%C4%91%E1%BA%BFn-micro-frontend\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·∫°i sao b·∫°n c·∫ßn bi·∫øt ƒë·∫øn Micro frontend</h2>\n<p>V·∫•n ƒë·ªÅ c·∫ßn gi·∫£i quy·∫øt:</p>\n<ul>\n<li>·ª®ng d·ª•ng c√†ng l√∫c c√†ng ph√¨nh ra v·ªÅ quy m√¥, c≈©ng nh∆∞ ƒë·ªô ph·ª©c t·∫°p</li>\n<li><strong>M·ªôt codebase FE</strong> duy nh·∫•t m√† mu·ªën maintain th√¨ ch·ªâ c√≥ <em>g·∫∑p √°c m·ªông h·∫±ng ƒë√™m</em></li>\n<li>Nhi·ªÅu team FE, m·ªói team ch·ªâ l√†m vi·ªác tr√™n m·ªôt ph·∫ßn t√≠nh nƒÉng n√†o ƒë√≥ r·∫•t c·ª• th·ªÉ, ch·ªâ 1 codebase m√† h∆°n 5 team v√†o l√†m vi·ªác tr√™n ƒë√≥ th√¨ th√¥i xong</li>\n<li>B·∫°n mu·ªën c√≥ 1 codebase vi·∫øt b·∫±ng typescript, m·ªôt codebase vi·∫øt js, m·ªôt feature ƒë∆∞·ª£c build b·∫±ng React, feature kh√°c ƒë∆∞·ª£c build Vue. N·∫øu b·∫°n c√≥ th·∫Øc m·∫Øc t·∫°i sao l·∫°i c√≥ nhu c·∫ßu n√†y? C√¢u tr·∫£ l·ªùi l√† v√¨ b·∫°n ko r√†ng bu·ªôc team v√†o m·ªôt technical n√†o c·∫£, team c√≥ th·ªÉ t·ª± quy·∫øt ƒë·ªãnh</li>\n<li>N√¢ng c·∫•p t·ª´ng project s·∫Ω d·ªÖ h∆°n nhi·ªÅu</li>\n</ul>\n<h2 id=\"micro-frontend-l√†-c√°i-g√¨\"><a href=\"#micro-frontend-l%C3%A0-c%C3%A1i-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Micro frontend l√† c√°i g√¨</h2>\n<p>ƒê√¢y l√† c√°ch ti·∫øp c·∫≠n c≈©ng <em>na n√°</em> nh∆∞ microservice, thay v√¨ 1, ch√∫ng ta c√≥ nhi·ªÅu codebase, v√† tr√™n t·ª´ng codebase ch·ªâ qu·∫£n l√Ω m·ªôt t√≠nh nƒÉng c·ª• th·ªÉ m√† th√¥i.</p>\n<p>C√≥ th·ªÉ xem m·ªôt ·ª©ng d·ª•ng web l√† m·ªôt b·ªô k·∫øt h·ª£p c·ªßa nhi·ªÅu t√≠nh nƒÉng, m·ªói m·ªôt t√≠nh nƒÉng nh∆∞ v·∫≠y ƒë∆∞·ª£c qu·∫£n l√Ω b·ªüi m·ªôt team</p>\n<p><img src=\"https://microfrontends.com/img/deployment.png\" alt=\"A flow diagram showing 3         independent deployment pipelines for 3 different micro frontends, which         are then composed into a single app after deployment\"></p>\n<p>Thu·∫≠t ng·ªØ n√†y ƒë∆∞·ª£c gi·ªõi thi·ªáu l·∫ßn ƒë·∫ßu v√†o 2016 b·ªüi <a href=\"https://www.thoughtworks.com/radar/techniques/micro-frontends\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Thourghtworks Tech Radar</a></p>\n<blockquote>\n<p>An architectural style where independently deliverable frontend applications are composed into a greater whole</p>\n</blockquote>\n<p><img src=\"https://microfrontends.com/img/radar.png\" alt=\"Micro frontends on the ThoughtWorks tech radar\"></p>\n<p>M·ªôt c√°ch tr·ª±c quan h∆°n b·∫°n c√≥ th·ªÉ tham kh·∫£o h√¨nh sau</p>\n<p><img src=\"https://microfrontends.com/img/composition.png\" alt=\"A wireframe of an example website,         showing a container application that embeds a micro frontend within it\"></p>\n<p>C√≤n ƒë√¢y l√† demo c·ªßa trang microfrontends.com <a href=\"https://demo.microfrontends.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://demo.microfrontends.com/</a></p>\n<h2 id=\"hi·ªán-th·ª±c-h√≥a-nh∆∞-th·∫ø-n√†o\"><a href=\"#hi%E1%BB%87n-th%E1%BB%B1c-h%C3%B3a-nh%C6%B0-th%E1%BA%BF-n%C3%A0o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Hi·ªán th·ª±c h√≥a nh∆∞ th·∫ø n√†o</h2>\n<p>ƒê·ªÉ c√≥ th·ªÉ hi·ªán th·ª±c h√≥a ho√†n ch·ªânh micro frontend s·∫Ω bao g·ªìm r·∫•t nhi·ªÅu th·ª©, ·ªü ƒë√¢y ch·ªâ t√≥m t·∫Øt m·ªôt s·ªë v·∫•n ƒë·ªÅ c∆° b·∫£n c·∫ßn gi·∫£i quy·∫øt</p>\n<h4 id=\"t∆∞∆°ng-t√°c-gi·ªØa-c√°c-·ª©ng-d·ª•ng\"><a href=\"#t%C6%B0%C6%A1ng-t%C3%A1c-gi%E1%BB%AFa-c%C3%A1c-%E1%BB%A9ng-d%E1%BB%A5ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T∆∞∆°ng t√°c gi·ªØa c√°c ·ª©ng d·ª•ng</h4>\n<p>M·ªôt c√¢u h·ªèi ƒë∆∞·ª£c ƒë·∫∑t ra ƒë·∫ßu ti√™n l√† n·∫øu t√°ch ra th√†nh nhi·ªÅu b·ªô source nh∆∞ v·∫≠y, l√†m sao ch√∫ng c√≥ th·ªÉ n√≥i chuy·ªán ƒë∆∞·ª£c v·ªõi nhau? M·ªôt c√°ch t·ªïng qu√°t, <strong>n√™n h·∫°n ch·∫ø vi·ªác trao ƒë·ªïi th√¥ng tin qua l·∫°i √≠t ch·ª´ng n√†o t·ªët ch·ª´ng ƒë√≥</strong>, b·ªüi v√¨ n·∫øu b·∫°n l√†m ng∆∞·ª£c l·∫°i, nghƒ©a l√† b·∫°n ƒëang l·∫∑p l·∫°i v·∫•n ƒë·ªÅ ch√∫ng ta mu·ªën gi·∫£i quy·∫øt ngay t·ª´ ƒë√¢u: <strong>decoupling</strong> c√°c t√≠nh nƒÉng v·ªõi nhau.</p>\n<p>Nh∆∞ng vi·ªác trao ƒë·ªïi gi·ªØa c√°c ·ª©ng d·ª•ng v·ªõi nhau l√† kh√¥ng tr√°nh kh·ªèi v√† c·∫ßn thi·∫øt, ch√∫ng ta ch·ªâ ti·∫øt ch·∫ø ch·ª© kh√¥ng lo·∫°i b·ªè h·∫øt, <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Custom event</a> l√† m·ªôt c√°ch, c√°ch kh√°c, l·∫•y m√¥ h√¨nh truy·ªÅn callback v√† data t·ª´ tr√™n xu·ªëng trong React ƒë·ªÉ l√†m <strong>k√™nh</strong> trao ƒë·ªïi th√¥ng tin, l√†m nh∆∞ th·∫ø n√≥ s·∫Ω r·∫•t t∆∞·ªùng minh, c√°ch th·ª© 3 l√† th√¥ng qua thanh ƒë∆∞·ªùng d·∫´n tr√™n tr√¨nh duy·ªát, ch√∫t n·ªØa n√≥i k·ªπ h∆°n.</p>\n<p>T·ª±a chung, ch√∫ng ta kh√¥ng share state, m√† ch·ªâ share d·ªØ li·ªáu trong database nh∆∞ microservice.</p>\n<h4 id=\"th∆∞-vi·ªán-component-d√πng-chung\"><a href=\"#th%C6%B0-vi%E1%BB%87n-component-d%C3%B9ng-chung\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th∆∞ vi·ªán component d√πng chung</h4>\n<p>N√≥ chung, √Ω t∆∞·ªüng <strong>re-use</strong> l·∫°i nh·ªØng component UI kh√¥ng c√≥ g√¨ m·ªõi, nghe c≈©ng r·∫•t h·ª£p l√Ω, m·∫∑c d√π ai c≈©ng bi·∫øt vi·ªác ƒë√≥ kh√≥ l√†m.</p>\n<p>Sai l·∫ßm th∆∞·ªùng th·∫•y l√† vi·ªác t·∫°o c√°c component nh∆∞ v·∫≠y qu√° s·ªõm, vi·ªác <em>h√†o h·ª©ng</em> qu√° m·ª©c v√†o x√¢y d·ª±ng m·ªôt Framework UI chu·∫©n kh√¥ng c·∫ßn ch·ªânh, vi·∫øt m·ªôt l·∫ßn x√†i m√£i m√£i, th·ªëng nh·∫•t giao di·ªán tr√™n m·ªçi m·∫∑t tr·∫≠n l√† ƒëi·ªÅu th∆∞·ªùng th·∫•y ·ªü m·ªçi team. Tuy nhi√™n, trong th·ª±c t·∫ø, kinh nghi·ªám cho bi·∫øt r·∫±ng vi·ªác ƒë√≥ r·∫•t kh√≥, n·∫øu kh√¥ng mu·ªën n√≥i l√† kh√¥ng th·ªÉ, kh√¥ng th·ªÉ ng·ªìi nghƒ© ra m·ªôt b·ªô Framework v·ªõi t·∫•t c·∫£ c√°c API c·∫ßn thi·∫øt r·ªìi ƒë∆∞a cho t·∫•t c·∫£ c√°c team x√†i, ch·∫Øc g√¨ API ƒë√≥ ƒë√£ ƒë√°p ·ª©ng ƒë√∫ng nhu c·∫ßu cho t·∫•t c·∫£ c√°c team? L·ªùi khuy√™n l√† c√°c team c·ª© t·∫°o ra nh·ªØng component ri√™ng trong codebase n·∫øu h·ªç th·∫•y c·∫ßn, d√π cho n√≥ c√≥ b·ªã duplicate ƒë√¢y n·ªØa c≈©ng ch·∫≥ng sao. V√† khi ƒë√£ ch√≠n m√πi, nh·ªØng API n√†o c·∫ßn thi·∫øt s·∫Ω hi·ªán nguy√™n h√¨nh, ch√∫ng ta ƒë∆∞a nh·ªØng cho ƒëang b·ªã duplicate v√†o trong th∆∞ vi·ªán d√πng chung.</p>\n<p>T·∫•t nhi√™n c≈©ng c√≥ nh·ªØng ngo·∫°i l·ªá, nh·ªØng component m√† nh√¨n v√†o ch√∫ng ta bi·∫øt ngay l√† c·∫ßn ƒë∆∞a v√†o share component, nh∆∞ icon, label, button, autocomplete, drop-down, search, table. V√† nh·ªõ l√† ch·ªâ ƒë∆∞a ƒë√∫ng UI logic, ƒë·ª´ng ƒë∆∞a b·∫•t k·ª≥ business logic v√† domain logic v√†o ƒë√¢y. V√≠ d·ª• nh∆∞ m·ªôt component <code class=\"language-text\">ProductTable</code> cho ri√™ng c√°i domain Product l√† kh√¥ng n√™n, ch·ªâ n√™n l√†m m·ªôt c√°i component <code class=\"language-text\">Table</code>.</p>\n<p>Tho·∫°t nghe l√†m m·ªôt share component c√≥ v·∫ª ƒë∆°n gi·∫£n, nh∆∞ng n√≥ l·∫°i l√† c√¥ng vi·ªác ƒë√≤i h·ªèi k·ªπ thu·∫≠t ph·∫£i r·∫•t c·ª©ng tay, v√† ng∆∞·ªùi c√≥ nh√∫ng tay v√†o t·∫•t c·∫£ c√°c team.</p>\n<h4 id=\"styling\"><a href=\"#styling\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Styling</h4>\n<p>Styling 2020 l√† m·ªôt c√¢u chuy·ªán d√†i, nh∆∞ m√¨nh ƒë√£ k·ªÉ trong m·ªôt <a href=\"https://vuilaptrinh.com/2020-05-22-cam-giac-viet-css-nam-2020/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">b√†i vi·∫øt</a>, t·ª±a chung m√† n√≥i b·∫°n c√≥ th·ªÉ d√πng BEM, d√πng SASS, d√πng CSS module, d√πng CSS-in-JS, d√πng Styled Component, d√πng Tailwind, ki·ªÉu g√¨ c≈©ng ƒë∆∞·ª£c, mi·ªÖn ƒë·∫£m b·∫£o ƒë∆∞·ª£c style kh√¥ng ch·ªìng ch√©o l√™n nhau, th·∫±ng n√†o ƒë·ªôc l·∫≠p th·∫±ng ƒë√≥, v√† t·ª± tin ƒëo·∫°n code n√≥ s·∫Ω ch·∫°y nh∆∞ <strong>ƒë√∫ng nh∆∞ l∆∞·ªùng tr∆∞·ªõc</strong>.</p>\n<h4 id=\"c√°c-c√°ch-ƒë·ªÉ-integrate\"><a href=\"#c%C3%A1c-c%C3%A1ch-%C4%91%E1%BB%83-integrate\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°c c√°ch ƒë·ªÉ integrate</h4>\n<p>ƒê·ªÉ hi·ªán th·ª±c h√≥a √Ω t∆∞·ªüng c·ªßa micro frontend, c≈©ng c√≥ nhi·ªÅu c√°ch l√†m, c√°ch n√†o c≈©ng c√≥ ƒë√°nh ƒë·ªïi. T·ª±u chung, n·∫øu x√©t theo h∆∞·ªõng giao di·ªán, ch√∫ng ta c√≥ th·ªÉ t·ªï ch·ª©c n√≥ theo d·∫°ng m·ªôt ·ª©ng d·ª•ng d·∫°ng <strong>container</strong>, bao g·ªìm nh·ªØng th√†nh ph·∫ßn chung nh∆∞ <em>header</em>, <em>menu</em>, v√† c√°c <em>micro frontend</em> s·∫Ω nh√∫ng v√†o ph·∫ßn <strong>ru·ªôt</strong> c·ªßa trang</p>\n<p><img src=\"https://martinfowler.com/articles/micro-frontends/composition.png\" alt=\"A web page with boxes drawn around different sections. One box wraps the whole page, labelling it as the &#x27;container application&#x27;. Another box wraps the main content (but not the global page title and navigation), labelling it as the &#x27;browse micro frontend&#x27;\"></p>\n<h5 id=\"c√°ch-1-composition-d√πng-server-side-template\"><a href=\"#c%C3%A1ch-1-composition-d%C3%B9ng-server-side-template\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°ch 1: composition d√πng server side template</h5>\n<p>V·ªõi m·ªôt c√°ch <em>kh√¥ng ch√≠nh th·ªëng l·∫Øm</em> cho vi·ªác ph√°t tri·ªÉn code FE, ch√∫ng ta render HTML ·ªü ph√≠a server, v·ªõi nhi·ªÅu b·ªô template kh√°c nhau. Ch√∫ng ta c√≥ m·ªôt file <code class=\"language-text\">index.html</code> v·ªõi c√°c ph·∫ßn t·ª≠ chung, server s·∫Ω quy·∫øt ƒë·ªãnh ph·∫ßn <em>ru·ªôt</em> tr·∫£ v·ªÅ cho t·ª´ng trang</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dir</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ltr<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Feed me<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>üçΩ Feed me<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!--# include file=\"$PAGE.html\" --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>·ªû v√≠ d·ª• n√†y ƒëang d√πng v·ªõi Nginx, bi·∫øn <code class=\"language-text\">$PAGE</code> s·∫Ω ·ª©ng v·ªõi URL ƒëang ƒë∆∞·ª£c request</p>\n<pre class=\"language-nginx\"><code class=\"language-nginx\"><span class=\"token keyword\">server</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">listen</span> <span class=\"token number\">8080</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">server_name</span> localhost<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">root</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>nginx<span class=\"token operator\">/</span>html<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">index</span> <span class=\"token keyword\">index</span><span class=\"token punctuation\">.</span>html<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">ssi</span> on<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\"># Redirect / ƒë·∫øn /browse</span>\n    <span class=\"token keyword\">rewrite</span> <span class=\"token operator\">^</span><span class=\"token operator\">/</span>$ <span class=\"token keyword\">http</span><span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>localhost<span class=\"token punctuation\">:</span><span class=\"token number\">8080</span><span class=\"token operator\">/</span>browse redirect<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\"># D√πng HTML n√†o ƒë·ªÉ insert d·ª±a v√†o URL</span>\n    <span class=\"token keyword\">location</span> <span class=\"token operator\">/</span>browse <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">set</span> <span class=\"token variable\">$PAGE</span> <span class=\"token string\">'browse'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">location</span> <span class=\"token operator\">/</span>order <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">set</span> <span class=\"token variable\">$PAGE</span> <span class=\"token string\">'order'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">location</span> <span class=\"token operator\">/</span>profile <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">set</span> <span class=\"token variable\">$PAGE</span> <span class=\"token string\">'profile'</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\"># Cho ph√©p render ·ªü index.html</span>\n    <span class=\"token keyword\">error_page</span> <span class=\"token number\">404</span> <span class=\"token operator\">/</span><span class=\"token keyword\">index</span><span class=\"token punctuation\">.</span>html<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>K·ªπ thu·∫≠t n√†y m√¨nh kh√¥ng n·∫Øm l·∫Øm, n√™n c≈©ng ch·ªâ ƒë·ªÉ ƒë√¢y cho c√°c b·∫°n tham kh·∫£o, trong th·ª±c t·∫ø m√¨nh g·∫∑p v√† l√†m vi·ªác v·ªõi nh·ªØng c√°ch l√†m b√™n d∆∞·ªõi nhi·ªÅu h∆°n.</p>\n<h5 id=\"c√°ch-2-integrate-l√∫c-build\"><a href=\"#c%C3%A1ch-2-integrate-l%C3%BAc-build\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°ch 2: Integrate l√∫c build</h5>\n<p>C√°ch n√†y s·∫Ω publish c√°i micro frontend ·ªü d·∫°ng package, container s·∫Ω khai b√°o nh·ªØng micro frontend n√†y ·ªü d·∫°ng dependency. File <code class=\"language-text\">package.json</code> n√≥ s·∫Ω tr√¥ng nh∆∞ th·∫ø n√†y:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@feed-me/container\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"A food delivery web app\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@feed-me/browse-restaurants\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^1.2.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@feed-me/order-food\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.5.6\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@feed-me/user-profile\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.8.9\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Tho·∫°t nh√¨n, c≈©ng kh√° h·ª£p l√Ω, tuy nhi√™n n·∫øu ƒë·ªÉ √Ω, b·∫°n s·∫Ω th·∫•y ch√∫ng ta ph·∫£i re-compile v√† release tr√™n t·ª´ng c·ª•c dependency, r·ªìi sao ƒë√≥ l·∫°i ph·∫£i release ti·∫øp container. ƒê√¢y v·∫´n kh√¥ng ph·∫£i l√† c√°ch l√†m ƒë∆∞·ª£c khuy·∫øn kh√≠ch.</p>\n<h5 id=\"c√°ch-3-integrate-l√∫c-run-time-b·∫±ng-iframe\"><a href=\"#c%C3%A1ch-3-integrate-l%C3%BAc-run-time-b%E1%BA%B1ng-iframe\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°ch 3: Integrate l√∫c run-time b·∫±ng iframe</h5>\n<p>ƒê√¢y c≈©ng l√† c√°ch m√† d·ª± √°n m√¨nh ƒëang d√πng, m·ªôt c√°ch ti·∫øp c·∫≠n ƒë∆°n gi·∫£n nh·∫•t ƒë·ªÉ compose nhi·ªÅu ·ª©ng d·ª•ng v·ªõi nhau trong tr√¨nh duy·ªát ƒë√£ c√≥ t·ª´ r·∫•t r·∫•t l√¢u. L·ª£i √≠ch c√≥ th·ªÉ k·ªÉ th√™m c·ªßa c√°ch l√†m n√†y l√† ph·∫ßn styling v√† bi·∫øn global ƒë·ªÅu ƒë·ªôc l·∫≠p v√† kh√¥ng b·ªã ƒë·ª•ng ƒë·ªô l·∫´n nhau</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Welcome to Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>iframe</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>micro-frontend-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>iframe</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token keyword\">const</span> microFrontendsByRoute <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'/'</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://browse.example.com/index.html'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/order-food'</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://order.example.com/index.html'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/user-profile'</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://profile.example.com/index.html'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> iframe <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'micro-frontend-container'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      iframe<span class=\"token punctuation\">.</span><span class=\"token property-access\">src</span> <span class=\"token operator\">=</span> microFrontendsByRoute<span class=\"token punctuation\">[</span><span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">location</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">pathname</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Nh∆∞·ª£c ƒëi·ªÉm c·ªßa c√°ch n√†y l√† vi·ªác t√≠ch h·ª£p gi·ªØa c√°c ph·∫ßn c·ªßa ·ª©ng d·ª•ng, nh∆∞ route, history, deep-link s·∫Ω r·∫•t ph·ª©c t·∫°p, responsive c≈©ng s·∫Ω g·∫∑p nhi·ªÅu v·∫•n ƒë·ªÅ c·∫ßn x·ª≠ l√Ω h∆°n.</p>\n<h5 id=\"c√°ch-4-integrate-l√∫c-run-time-b·∫±ng-javascript\"><a href=\"#c%C3%A1ch-4-integrate-l%C3%BAc-run-time-b%E1%BA%B1ng-javascript\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°ch 4: Integrate l√∫c run-time b·∫±ng JavaScript</h5>\n<p>ƒê√¢y l√† c√°ch linh ho·∫°t nh·∫•t, v√† ƒë∆∞·ª£c nhi·ªÅu team ch·ªçn l√†m. M·ªói m·ªôt micro frontend s·∫Ω ƒë∆∞·ª£c nh√©t v√†o trong trang b·∫±ng th·∫ª <code class=\"language-text\">&lt;script /&gt;</code>. Container s·∫Ω l√†m nhi·ªám v·ª• cho mount micro frontend n√†o v√† th·ª±c thi c√°c h√†m li√™n quan ƒë·ªÉ b√°o cho c√°c micro frontend s·∫Ω render ·ªü ƒë√¢u v√† khi n√†o.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Welcome to Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token comment\">&lt;!-- N√≥ kh√¥ng render b·∫•t c·ª© g√¨ c·∫£ --></span>\n    <span class=\"token comment\">&lt;!-- N√≥ s·∫Ω ƒë∆∞a v√†o h√†m entry-point v√†o `window` --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://browse.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://order.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://profile.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>micro-frontend-root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token comment\">// Nh·ªØng global function n√†y ƒë∆∞·ª£c nh√©t v√†o window b·∫±ng c√°c ƒëo·∫°n script include ·ªü tr√™n</span>\n      <span class=\"token keyword\">const</span> microFrontendsByRoute <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'/'</span><span class=\"token operator\">:</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">renderBrowseRestaurants</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/order-food'</span><span class=\"token operator\">:</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">renderOrderFood</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/user-profile'</span><span class=\"token operator\">:</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">renderUserProfile</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> renderFunction <span class=\"token operator\">=</span> microFrontendsByRoute<span class=\"token punctuation\">[</span><span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">location</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">pathname</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// Sau khi ƒë√£ c√≥ c√°c h√†m c·∫ßn thi·∫øt,</span>\n      <span class=\"token comment\">// ƒë∆∞a id c·ªßa element s·∫Ω d√πng ƒë·ªÉ render</span>\n      <span class=\"token function\">renderFunction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'micro-frontend-root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Tr√™n ƒë√¢y ch·ªâ l√† v√≠ d·ª• c∆° b·∫£n nh·∫•t ƒë·ªÉ m√¥ t·∫£ k·ªπ thu·∫≠t s·∫Ω l√†m, th·∫≠t t·∫ø c√≥ th·ªÉ ph·∫£i th√™m th·∫Øt m·ªôt s·ªë th·ª© kh√°c. Kh√¥ng gi·ªëng v·ªõi c√°ch integrate l√∫c build, <code class=\"language-text\">bundle.js</code> c√≥ th·ªÉ ƒë∆∞·ª£c deploy m·ªôt c√°ch ƒë·ªôc l·∫≠p. V√† kh√°c iframe, ch√∫ng ta c√≥ th·ªÉ linh ƒë·ªông ch·ªçn l·ª±a vi·ªác render micro frontend n√†o ch√∫ng ta th√≠ch.</p>\n<p>N·∫øu c√≥ h·ª©ng th√∫ v·ªõi c√°ch l√†m n√†y, c√≥ th·ªÉ tham kh·∫£o th√™m <a href=\"https://martinfowler.com/articles/micro-frontends.html#TheExampleInDetail\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">v√≠ d·ª• chi ti·∫øt h∆°n</a></p>\n<h5 id=\"c√°ch-5-integrate-l√∫c-run-time-b·∫±ng-web-component\"><a href=\"#c%C3%A1ch-5-integrate-l%C3%BAc-run-time-b%E1%BA%B1ng-web-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°ch 5: Integrate l√∫c run-time b·∫±ng Web Component</h5>\n<p>M·ªôt l·ª±a ch·ªçn kh√°c c≈©ng t∆∞∆°ng t·ª± nh∆∞ c√°ch l√†m tr√™n, m·ªói m·ªôt micro frontend s·∫Ω ƒë∆∞·ª£c link v·ªõi element</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Welcome to Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token comment\">&lt;!-- Ch∆∞a render g√¨ c·∫£ --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://browse.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://order.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://profile.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>micro-frontend-root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token comment\">// Nh·ªØng element type n√†y ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a ·ªü c√°c script tr√™n</span>\n      <span class=\"token keyword\">const</span> webComponentsByRoute <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'/'</span><span class=\"token operator\">:</span> <span class=\"token string\">'micro-frontend-browse-restaurants'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/order-food'</span><span class=\"token operator\">:</span> <span class=\"token string\">'micro-frontend-order-food'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/user-profile'</span><span class=\"token operator\">:</span> <span class=\"token string\">'micro-frontend-user-profile'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> webComponentType <span class=\"token operator\">=</span> webComponentsByRoute<span class=\"token punctuation\">[</span><span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">location</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">pathname</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// T·∫°o instance v√† ƒë∆∞a v√†o document ·ª©ng v·ªõi t·ª´ng lo·∫°i ph√π h·ª£p</span>\n      <span class=\"token keyword\">const</span> root <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'micro-frontend-root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> webComponent <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">createElement</span><span class=\"token punctuation\">(</span>webComponentType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      root<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">appendChild</span><span class=\"token punctuation\">(</span>webComponent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Kh√°c nhau duy nh·∫•t so v·ªõi c√°ch tr√™n c√≥ l·∫Ω ch·ªâ l√† vi·ªác d√πng <em>web component</em> thay v√¨ m·ªôt interface ch√∫ng ta t·ª± ƒë·ªãnh nghƒ©a.</p>\n<h4 id=\"t∆∞∆°ng-t√°c-v·ªõi-backend\"><a href=\"#t%C6%B0%C6%A1ng-t%C3%A1c-v%E1%BB%9Bi-backend\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T∆∞∆°ng t√°c v·ªõi Backend</h4>\n<p>C√°i n√†y ch∆∞a bi·∫øt, kh√¥ng d√°m ch√©m.</p>\n<h2 id=\"k·∫øt\"><a href=\"#k%E1%BA%BFt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>K·∫øt</h2>\n<p>Micro frontend c√≥ th·ªÉ kh√¥ng l·∫° v·ªõi m·ªôt s·ªë ng∆∞·ªùi v√† kh√° m·ªõi v·ªõi s·ªë c√≤n l·∫°i, th·ª±c t·∫ø m√† n√≥i ƒë√£ c√≥ r·∫•t nhi·ªÅu d·ª± √°n ƒëang √°p d·ª•ng ki·∫øn tr√∫c n√†y (d·ª± √°n m√¨nh ƒëang l√†m).</p>\n<p>C√πng hy v·ªçng v·ªõi b√†i vi·∫øt n√†y b·∫°n ƒë√£ th·∫•y c√¥ng vi·ªác c·ªßa nh·ªØng l·∫≠p tr√¨nh vi√™n frontend kh√¥ng c√≤n ƒë∆°n thu·∫ßn l√† vi·ªác l√†m sao cho trang web bay, l∆∞·ª£n, responsive m∆∞·ª£t m√†, n·∫øu b·∫°n mu·ªën ti·∫øn xa h∆°n, gi·ªõi h·∫°n l√† ch√¢n tr·ªùi.</p>\n<p><strong>C√°c b√†i vi·∫øt ƒë√£ tham kh·∫£o</strong></p>\n<ul>\n<li><a href=\"https://martinfowler.com/articles/micro-frontends.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://martinfowler.com/articles/micro-frontends.html</a></li>\n<li><a href=\"https://microfrontends.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://microfrontends.com/</a></li>\n<li><a href=\"https://micro-frontends.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://micro-frontends.org/</a></li>\n</ul>\n","cover_image":"","related":[{"id":"dea079a7d56929f46cf5c0bdd1070ebf","path":"/2018-03-06-huong-dan-redux-van-hanh-nhu-the-nao-kem-vi-du/","title":"Redux v·∫≠n h√†nh nh∆∞ th·∫ø n√†o","desc":"Actions, reducers, action creators, middleware, pure functions, immutability,... nh·ªØng ngo·∫°i ng·ªØ l√†m r·ªëi b·∫•t k·ª≥ ai n·∫øu ch∆∞a bi·∫øt redux"},{"id":"d6fb0d32e4ef12d7a00ffb83684328e2","path":"/2020-10-20-import-lodash-sao-cho-dung/","title":"Import lodash nh∆∞ th·∫ø n√†o m·ªõi ƒë√∫ng","desc":"N·∫øu c·∫ßn x√†i lodash, th√¨ b·∫°n x√†i n√≥ sao cho hi·ªáu qu·∫£"},{"id":"82815509b42f03b7df5ff8ab1af616b8","path":"/2018-12-12-setstate-chay-nhu-the-nao/","title":"this.setState trong React ch·∫°y nh∆∞ th·∫ø n√†o","desc":"Gi·∫£i ƒë√°p th·∫Øc m·∫Øc v√¨ sao this.setState c√≥ th·ªÉ update DOM, ch·∫°y ƒë∆∞·ª£c tr√™n mobile, ch·∫°y ƒë∆∞·ª£c tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o"},{"id":"f8528e820fefc73636e76fd4e555b660","path":"/2018-10-13-css-content-hop-le/","title":"S·ª≠ d·ª•ng CSS content nh∆∞ th·∫ø n√†o cho ƒë√∫ng","desc":"Thu·ªôc t√≠nh content trong CSS th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng c√πng v·ªõi 2 ghost element l√† after v√† before, nh·ªØng gi√° tr·ªã n√†o c√≥ th·ªÉ ƒë∆∞a v√†o cho thu·ªôc t√≠nh content n√†y"}]}},"context":{}}
{"hash":"96c8dea8aa6d6e6f9c0c563edfb92dcd7958f442","data":{"post":{"title":"Sử dụng nhiều AWS account trong Gitlab CI","path":"/2023-04-09-su-dung-nhieu-account-aws-de-deploy-gitlab/","slug":"2023-04-09-su-dung-nhieu-account-aws-de-deploy-gitlab","date":"2023-04-09","timeToRead":4,"tags":[{"id":"gitlab","title":"gitlab","path":"/tag/gitlab/"},{"id":"beginner","title":"beginner","path":"/tag/beginner/"},{"id":"dev-ops","title":"dev-ops","path":"/tag/dev-ops/"}],"desc":"Một bài toán cũng quá ư phổ biến khi deploy là có nhiều môi trường khác nhau dev, qa, staging và production, và chúng ta sẽ có các tài khoản tương ứng để có đủ quyền trên môi trường đó.","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-1-t%C3%A0i-kho%E1%BA%A3n\">Sử dụng 1 tài khoản</a></li>\n<li><a href=\"#nhi%E1%BB%81u-t%C3%A0i-kho%E1%BA%A3n-b%E1%BA%B1ng-bi%E1%BA%BFn-m%C3%B4i-tr%C6%B0%E1%BB%9Dng\">Nhiều tài khoản bằng biến môi trường</a></li>\n<li><a href=\"#nhi%E1%BB%81u-t%C3%A0i-kho%E1%BA%A3n-theo-environment-v%C3%A0-scope-bi%E1%BA%BFn-m%C3%B4i-tr%C6%B0%E1%BB%9Dng-theo-environment\">Nhiều tài khoản theo environment và scope biến môi trường theo environment</a></li>\n<li><a href=\"#nhi%E1%BB%81u-t%C3%A0i-kho%E1%BA%A3n-b%E1%BA%B1ng-aws-profile\">Nhiều tài khoản bằng AWS Profile</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"sử-dụng-1-tài-khoản\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-1-t%C3%A0i-kho%E1%BA%A3n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Sử dụng 1 tài khoản</h2>\n<p>Để bắt đầu, chúng ta sử dụng 1 tài khoản để upload lên S3, chúng ta sẽ khai báo các biến môi trường sau bên trong Gitlab CI</p>\n<ul>\n<li><code class=\"language-inline-text\">AWS_S3_BUCKET</code></li>\n<li><code class=\"language-inline-text\">AWS_ACCESS_KEY_ID</code></li>\n<li><code class=\"language-inline-text\">AWS_SECRET_ACCESS_KEY</code></li>\n<li><code class=\"language-inline-text\">AWS_DEFAULT_REGION</code></li>\n</ul>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*rPl9Icr-_VuZXHfSW0NCrg.png\"></p>\n<p>File pipeline <code class=\"language-inline-text\">.gitlab-ci.yml</code></p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">stages</span><span class=\"token punctuation\">:</span>\n\t<span class=\"token punctuation\">-</span> build\n\t<span class=\"token punctuation\">-</span> production\n\n<span class=\"token key atrule\">create file</span><span class=\"token punctuation\">:</span>\n\t<span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> build\n\t<span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> alpine\n\t<span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n\t\t<span class=\"token punctuation\">-</span> touch foo.bar\n\t<span class=\"token key atrule\">artifacts</span><span class=\"token punctuation\">:</span>\n\t\t<span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n\t\t\t<span class=\"token punctuation\">-</span> foo.bar\n\n<span class=\"token key atrule\">deploy to production</span><span class=\"token punctuation\">:</span>\n\t<span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> production\n\t<span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span>\n\t\t<span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> amazon/aws<span class=\"token punctuation\">-</span>cli\n\t\t<span class=\"token key atrule\">entrypoint</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span>\n\t<span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n\t\t<span class=\"token punctuation\">-</span> aws <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>version\n\t\t<span class=\"token punctuation\">-</span> aws s3 cp foo.bar s3<span class=\"token punctuation\">:</span>//$AWS_S3_BUCKET/foo.txt</code></pre></div>\n<p>Theo mặc định các biến <code class=\"language-inline-text\">AWS_ACCESS_KEY_ID</code>, <code class=\"language-inline-text\">AWS_SECRET_ACCESS_KEY</code>, <code class=\"language-inline-text\">AWS_DEFAULT_REGION</code> sẽ được AWS CLI sử dụng để authen, không cần khai báo gì thêm</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*vEKIXwu9giYQYDhVBmrT_g.png\"></p>\n<h2 id=\"nhiều-tài-khoản-bằng-biến-môi-trường\"><a href=\"#nhi%E1%BB%81u-t%C3%A0i-kho%E1%BA%A3n-b%E1%BA%B1ng-bi%E1%BA%BFn-m%C3%B4i-tr%C6%B0%E1%BB%9Dng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nhiều tài khoản bằng biến môi trường</h2>\n<p>Cách này không phải hay nhất nhưng đa phần chúng ta sẽ nghĩ ngay tới đó là đặt hàng loạt biến AWS khác nhau cho từng môi trường</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*oxrBcHZ7w83fDS8ej16grg.png\"></p>\n<p>Bên trong job, chúng ta sẽ lấy các biến môi trường này ra để sử dụng, khá \"thủ công\"</p>\n<div class=\"gridsome-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">stages</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> build\n    <span class=\"token punctuation\">-</span> test\n    <span class=\"token punctuation\">-</span> production\n\n<span class=\"token key atrule\">create file</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> build\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> alpine\n    <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> touch foo.bar\n    <span class=\"token key atrule\">artifacts</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> foo.bar\n\n<span class=\"token key atrule\">deploy to test</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> test\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> amazon/aws<span class=\"token punctuation\">-</span>cli\n        <span class=\"token key atrule\">entrypoint</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">before_script</span><span class=\"token punctuation\">:</span>\n\t    <span class=\"token comment\"># Set lại giá trị credential</span>\n        <span class=\"token punctuation\">-</span> export AWS_ACCESS_KEY_ID=$TEST_AWS_ACCESS_KEY_ID\n        <span class=\"token punctuation\">-</span> export AWS_SECRET_ACCESS_KEY=$TEST_AWS_SECRET_ACCESS_KEY\n        <span class=\"token punctuation\">-</span> export AWS_DEFAULT_REGION=$TEST_AWS_DEFAULT_REGION\n    <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> aws <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>version\n        <span class=\"token punctuation\">-</span> aws s3 cp foo.bar s3<span class=\"token punctuation\">:</span>//$TEST_AWS_S3_BUCKET/foo.txt\n\n<span class=\"token key atrule\">deploy to production</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> production\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> amazon/aws<span class=\"token punctuation\">-</span>cli\n        <span class=\"token key atrule\">entrypoint</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">before_script</span><span class=\"token punctuation\">:</span>\n\t    <span class=\"token comment\"># Set lại giá trị credential</span>\n        <span class=\"token punctuation\">-</span> export AWS_ACCESS_KEY_ID=$PROD_AWS_ACCESS_KEY_ID\n        <span class=\"token punctuation\">-</span> export AWS_SECRET_ACCESS_KEY=$PROD_AWS_SECRET_ACCESS_KEY\n        <span class=\"token punctuation\">-</span> export AWS_DEFAULT_REGION=$PROD_AWS_DEFAULT_REGION        \n    <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> aws <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>version\n        <span class=\"token punctuation\">-</span> aws s3 cp foo.bar s3<span class=\"token punctuation\">:</span>//$PROD_AWS_S3_BUCKET/foo.txt</code></pre></div>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*seYjr6dGwJ6dz3KxC-TPqw.png\"></p>\n<p>Cách này nhìn chung là dễ hiểu, dễ làm, tuy nhiên nó lại phải khai báo khá nhiều biến bên trong pipeline và quá nhiều config trên từng job</p>\n<h2 id=\"nhiều-tài-khoản-theo-environment-và-scope-biến-môi-trường-theo-environment\"><a href=\"#nhi%E1%BB%81u-t%C3%A0i-kho%E1%BA%A3n-theo-environment-v%C3%A0-scope-bi%E1%BA%BFn-m%C3%B4i-tr%C6%B0%E1%BB%9Dng-theo-environment\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nhiều tài khoản theo environment và scope biến môi trường theo environment</h2>\n<p>Nếu bạn để ý bên trong phần khai báo biến môi trường, chúng ta có cột <strong>Environment</strong>, có nghĩa là biến có thể có scope theo từng môi trường được</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*OX--G_EvC4z_1EkawOfLwg.png\"></p>\n<p>Chúng ta cần khai báo thêm environment cho job để nó có thể sử dụng biến môi trường thuộc scope </p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy to test</span><span class=\"token punctuation\">:</span>  \n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> test  \n    <span class=\"token punctuation\">...</span>  \n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>  \n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token key atrule\">testdeploy to production</span><span class=\"token punctuation\">:</span>  \n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> production  \n    <span class=\"token punctuation\">...</span>  \n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>  \n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> production</code></pre></div>\n<p>Sau khi khai báo thêm biến môi trường cho job, bên trong màn hình thêm <strong>variables</strong> lúc này chúng ta sẽ có thêm các lựa chọn ngoài <strong>All</strong> như trước</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*rhppig_K2zKK88gvMqSGUw.png\"></p>\n<p>Bây giờ chúng ta chỉ cần bỏ đi prefix, đặt lại đúng tên và môi trường là xong</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*gcRkv_J8UAlP5-E9O7dsuQ.png\">\n<img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*3YNcoTVtC3_1asxMc-RzZw.png\"></p>\n<div class=\"gridsome-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">stages</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> build\n    <span class=\"token punctuation\">-</span> test\n    <span class=\"token punctuation\">-</span> production\n\n<span class=\"token key atrule\">create file</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> build\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> alpine\n    <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> touch foo.bar\n    <span class=\"token key atrule\">artifacts</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> foo.bar\n\n<span class=\"token key atrule\">deploy to test</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> test\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> amazon/aws<span class=\"token punctuation\">-</span>cli\n        <span class=\"token key atrule\">entrypoint</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> aws <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>version\n        <span class=\"token punctuation\">-</span> aws s3 cp foo.bar s3<span class=\"token punctuation\">:</span>//$AWS_S3_BUCKET/foo.txt\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> test        \n\n<span class=\"token key atrule\">deploy to production</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> production\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> amazon/aws<span class=\"token punctuation\">-</span>cli\n        <span class=\"token key atrule\">entrypoint</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span>      \n    <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> aws <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>version\n        <span class=\"token punctuation\">-</span> aws s3 cp foo.bar s3<span class=\"token punctuation\">:</span>//$AWS_S3_BUCKET/foo.txt\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> production</code></pre></div>\n<p>Như có thể thấy, pipeline giờ gần giống như trường hợp chúng ta chỉ có 1 tài khoản, rất dễ hiểu dễ làm, không cần thêm config gì rườm rà trên file <code class=\"language-inline-text\">.gitlab-ci.yml</code>, tuy nhiên nó vẫn có quá nhiều biến môi trường cần phải quản lý</p>\n<h2 id=\"nhiều-tài-khoản-bằng-aws-profile\"><a href=\"#nhi%E1%BB%81u-t%C3%A0i-kho%E1%BA%A3n-b%E1%BA%B1ng-aws-profile\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nhiều tài khoản bằng AWS Profile</h2>\n<p>Bên trong Gitlab, <strong>variables</strong> không chỉ có thể là giá trị, nó còn có thể là <strong>file</strong>, chúng ta khai báo các credentials theo dạng file</p>\n<p>Một file credentials của aws sẽ có dạng <code class=\"language-inline-text\">~/.aws/credentials</code></p>\n<div class=\"gridsome-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">[</span>production<span class=\"token punctuation\">]</span>\naws_access_key_id=AKIAXKYMDEKGYDJ2OT4U\naws_secret_access_key=N/T3ZafKprWt3EMnMFDQCXXXXXXXXXXXXX\nregion=us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n<span class=\"token punctuation\">[</span>test<span class=\"token punctuation\">]</span>\naws_access_key_id=AKIA6C7LEVAXLETXGONN\naws_secret_access_key=wtilH45rB3oUyIjJnIALhOhLlyXXXXXXXXXXXXX\nregion=us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span><span class=\"token number\">1</span></code></pre></div>\n<p>Khai báo biến <code class=\"language-inline-text\">AWS_SHARED_CREDENTIALS_FILE</code> dạng file</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*6_L4xNcITsl1Z1Ma6mO3Qg.png\"></p>\n<p>Biến <code class=\"language-inline-text\">AWS_SHARED_CREDENTIALS_FILE</code> lúc này sẽ chứa đường dẫn đến đến file</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*EUayc8Ef5VZBeIa1bbyeng.png\"></p>\n<p>AWS CLI một cách thần kỳ sẽ hiểu dùng file này để lấy thông tin credential, job chúng ta chỉ cần chỉ định biến <code class=\"language-inline-text\">AWS_PROFILE</code> muốn sử dụng</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">stages</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> build\n    <span class=\"token punctuation\">-</span> test\n    <span class=\"token punctuation\">-</span> production\n\n<span class=\"token key atrule\">create file</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> build\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> alpine\n    <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> touch foo.bar\n    <span class=\"token key atrule\">artifacts</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> foo.bar\n\n<span class=\"token key atrule\">deploy to test</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> test\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> amazon/aws<span class=\"token punctuation\">-</span>cli\n        <span class=\"token key atrule\">entrypoint</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">variables</span><span class=\"token punctuation\">:</span>\n\t    <span class=\"token comment\">## chỉ định profile test</span>\n        <span class=\"token key atrule\">AWS_PROFILE</span><span class=\"token punctuation\">:</span> test\n    <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> aws <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>version\n        <span class=\"token punctuation\">-</span> aws s3 cp foo.bar s3<span class=\"token punctuation\">:</span>//$AWS_S3_BUCKET/foo.txt\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> test        \n\n<span class=\"token key atrule\">deploy to production</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> production\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> amazon/aws<span class=\"token punctuation\">-</span>cli\n        <span class=\"token key atrule\">entrypoint</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span> \n    <span class=\"token key atrule\">variables</span><span class=\"token punctuation\">:</span>\n\t    <span class=\"token comment\"># chỉ định profile production</span>\n        <span class=\"token key atrule\">AWS_PROFILE</span><span class=\"token punctuation\">:</span> production             \n    <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> aws <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>version\n        <span class=\"token punctuation\">-</span> aws s3 cp foo.bar s3<span class=\"token punctuation\">:</span>//$AWS_S3_BUCKET/foo.txt\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> production</code></pre></div>\n<p>Và nếu thích dùng môi trường thay vì biến, chúng ta khai báo thêm biến môi trường để map vào từng profile, tuy nhiên mình thấy nó thêm rườm rà, khuyên bạn không nên.</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/1*Hn8tRLJ3CpAtnT4f-Eyy6g.png\"></p>\n<p>Chúc các bạn thực vui!</p>\n<p><a href=\"https://medium.com/devops-with-valentine/gitlab-ci-how-to-manage-aws-cli-credentials-for-multiple-aws-accounts-in-a-single-pipeline-bb2b37972999\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitLab CI: How to Manage AWS CLI Credentials for multiple AWS Accounts in a Single Pipeline</a>\nMarkdown selection 7246 bytes 840 words 249 lines Ln 250, Col 239HTML 4358 characters 807 words 173 paragraphs</p>\n","cover_image":"","related":[{"id":"ccf700f7119a151321d7d3c58f0ce932","path":"/2023-03-30-huong-dan-xuat-ban-module-len-gitlab-registry/","title":"Xuất bản npm module bằng Lerna với Gitlab CI/CD","desc":""},{"id":"71e5a77468f44cd975defdb472262e04","path":"/2018-10-02-huong-dan-su-dung-tabindex-de-di-chuyen/","title":"Sử dụng tabindex","desc":"Mặc định thứ tự tab theo vị trí của DOM rất hữu dụng, tuy nhiên có trường hợp chúng ta sẽ muốn thay đổi thứ tự tab này. Cùng nghiên cứu tabindex để set thứ tự tab"},{"id":"94e625a2dcba98d9075204ed0f50c1d9","path":"/2019-07-13-nguyen-tac-moi-lap-trinh-vien-can-biet/","title":"10 nguyên lý lập trình nền tảng mà lập trình viên nào cũng cần biết","desc":"Nhớ thời đại học quá nên ôn lại kiến thức vở lòng mấy bạn ơi"}]}},"context":{}}
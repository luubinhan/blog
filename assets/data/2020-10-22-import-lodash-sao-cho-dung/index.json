{"hash":"6000b69201124b9452c41d38889aba5b11cf5e89","data":{"post":{"title":"3 cách xóa phần tử bị duplicate trong mảng","path":"/2020-10-22-import-lodash-sao-cho-dung/","date":"2020-10-22","timeToRead":1,"tags":[{"id":"thuat-thuat","title":"thuat-thuat","path":"/tag/thuat-thuat/"},{"id":"javascript","title":"javascript","path":"/tag/javascript/"}],"desc":"Nâng cao kỹ năng xử lý mảng và object không bao giờ là dư thừa","content":"<p>Nếu phần tử trong mảng chỉ là kiểu <em>primitive</em> thì rất đơn giản nếu muốn xóa tất cả phần tự bị trùng</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> values <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'c'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">const</span> uniqueValues <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token spread operator\">...</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Còn nếu phần tử trong mảng là <code class=\"language-text\">object</code> thì ta làm sao?</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> members <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    first<span class=\"token operator\">:</span> <span class=\"token string\">'Jane'</span><span class=\"token punctuation\">,</span>\n    last<span class=\"token operator\">:</span> <span class=\"token string\">'Bond'</span><span class=\"token punctuation\">,</span>\n    id<span class=\"token operator\">:</span> <span class=\"token string\">'10yejma'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    first<span class=\"token operator\">:</span> <span class=\"token string\">'Lars'</span><span class=\"token punctuation\">,</span>\n    last<span class=\"token operator\">:</span> <span class=\"token string\">'Croft'</span><span class=\"token punctuation\">,</span>\n    id<span class=\"token operator\">:</span> <span class=\"token string\">'1hhs0k2'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    first<span class=\"token operator\">:</span> <span class=\"token string\">'Jane'</span><span class=\"token punctuation\">,</span>\n    last<span class=\"token operator\">:</span> <span class=\"token string\">'Bond'</span><span class=\"token punctuation\">,</span>\n    id<span class=\"token operator\">:</span> <span class=\"token string\">'1y15hhu'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"cách-1-tạo-mảng-mới-ko-chứa-phần-tử-bị-trùng\"><a href=\"#c%C3%A1ch-1-t%E1%BA%A1o-m%E1%BA%A3ng-m%E1%BB%9Bi-ko-ch%E1%BB%A9a-ph%E1%BA%A7n-t%E1%BB%AD-b%E1%BB%8B-tr%C3%B9ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cách 1: tạo mảng mới ko chứa phần tử bị trùng</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">containsMember</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">memberArray<span class=\"token punctuation\">,</span> member</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> memberArray<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">find</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m</span> <span class=\"token arrow operator\">=></span> m<span class=\"token punctuation\">.</span><span class=\"token property-access\">first</span> <span class=\"token operator\">===</span> member<span class=\"token punctuation\">.</span><span class=\"token property-access\">first</span> <span class=\"token operator\">&amp;&amp;</span> m<span class=\"token punctuation\">.</span><span class=\"token property-access\">last</span> <span class=\"token operator\">===</span> member<span class=\"token punctuation\">.</span><span class=\"token property-access\">last</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> uniqueValues <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span>\t<span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> m <span class=\"token keyword\">of</span> members<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">containsMember</span><span class=\"token punctuation\">(</span>uniqueValues<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        uniqueValues<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">push</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"cách-2-dùng-filter\"><a href=\"#c%C3%A1ch-2-d%C3%B9ng-filter\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cách 2: dùng <code class=\"language-text\">filter()</code></h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">getIndexOfMember</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">memberArray<span class=\"token punctuation\">,</span> member</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> memberArray<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">findIndex</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m</span> <span class=\"token arrow operator\">=></span> m<span class=\"token punctuation\">.</span><span class=\"token property-access\">first</span> <span class=\"token operator\">===</span> member<span class=\"token punctuation\">.</span><span class=\"token property-access\">first</span> <span class=\"token operator\">&amp;&amp;</span> m<span class=\"token punctuation\">.</span><span class=\"token property-access\">last</span> <span class=\"token operator\">===</span> member<span class=\"token punctuation\">.</span><span class=\"token property-access\">last</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> uniqueValues <span class=\"token operator\">=</span> members<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> ms</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token function\">getIndexOfMember</span><span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"cách-3-sử-dụng-map\"><a href=\"#c%C3%A1ch-3-s%E1%BB%AD-d%E1%BB%A5ng-map\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cách 3: sử dụng Map</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> uniqueKeyToMember <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span>members<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">[</span>m<span class=\"token punctuation\">.</span><span class=\"token property-access\">first</span><span class=\"token operator\">+</span><span class=\"token string\">'\\t'</span><span class=\"token operator\">+</span>m<span class=\"token punctuation\">.</span><span class=\"token property-access\">last</span><span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> uniqueMembers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token spread operator\">...</span>uniqueKeyToMember<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> </code></pre>\n<p><a href=\"https://2ality.com/2020/07/eliminating-duplicate-objects.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Eliminating duplicate objects: three approaches</a></p>\n","cover_image":"","related":[{"id":"1033f1efca1a045faea137fd0c0a873d","path":"/2016-11-17-phan-3-es6-can-ban-assignment-destructuring/","title":"Hồi 3: ES6 căn bản - Truy cập phần tử","desc":"Hồi 3 trong series ES6 căn bản, nói về Assignment Destructuring"},{"id":"4a83ae2c626a625e60998ef95d851361","path":"/2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3/","title":"Hướng dẫn webpack 4 cho người mới bắt đầu - Phần 3","desc":"Bài này sẽ nói Plugins, Development, HotModuleReplacement trong Webpack"},{"id":"472a138c2d5a9ea5646a92bc31f51f07","path":"/2019-02-26-chan-import-bang-eslint/","title":"Không cho phép import với ESlint","desc":"Với ESlint chúng ta có thể cấm import những thư viện lớn, tránh để bà con trong team import tá lả."}]}},"context":{}}
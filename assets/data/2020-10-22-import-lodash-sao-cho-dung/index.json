{"hash":"e1532d0aebaf3bcf47bbf8a08cbde03cecbbc9cf","data":{"post":{"title":"3 cách xóa phần tử bị duplicate trong mảng","path":"/2020-10-22-import-lodash-sao-cho-dung/","slug":"2020-10-22-import-lodash-sao-cho-dung","date":"2020-10-22","timeToRead":1,"tags":[{"id":"thuat-thuat","title":"thuat-thuat","path":"/tag/thuat-thuat/"},{"id":"javascript","title":"javascript","path":"/tag/javascript/"}],"desc":"Nâng cao kỹ năng xử lý mảng và object không bao giờ là dư thừa","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#c%C3%A1ch-1-t%E1%BA%A1o-m%E1%BA%A3ng-m%E1%BB%9Bi-ko-ch%E1%BB%A9a-ph%E1%BA%A7n-t%E1%BB%AD-b%E1%BB%8B-tr%C3%B9ng\">Cách 1: tạo mảng mới ko chứa phần tử bị trùng</a></li>\n<li><a href=\"#c%C3%A1ch-2-d%C3%B9ng-filter\">Cách 2: dùng <code class=\"language-inline-text\">filter()</code></a></li>\n<li><a href=\"#c%C3%A1ch-3-s%E1%BB%AD-d%E1%BB%A5ng-map\">Cách 3: sử dụng Map</a></li>\n</ul>\n<!-- /TOC -->\n<p>Nếu phần tử trong mảng chỉ là kiểu <em>primitive</em> thì rất đơn giản nếu muốn xóa tất cả phần tự bị trùng</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> values <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'c'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">const</span> uniqueValues <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Còn nếu phần tử trong mảng là <code class=\"language-inline-text\">object</code> thì ta làm sao?</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> members <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">first</span><span class=\"token operator\">:</span> <span class=\"token string\">'Jane'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">last</span><span class=\"token operator\">:</span> <span class=\"token string\">'Bond'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'10yejma'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">first</span><span class=\"token operator\">:</span> <span class=\"token string\">'Lars'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">last</span><span class=\"token operator\">:</span> <span class=\"token string\">'Croft'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'1hhs0k2'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">first</span><span class=\"token operator\">:</span> <span class=\"token string\">'Jane'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">last</span><span class=\"token operator\">:</span> <span class=\"token string\">'Bond'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">'1y15hhu'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"cách-1-tạo-mảng-mới-ko-chứa-phần-tử-bị-trùng\"><a href=\"#c%C3%A1ch-1-t%E1%BA%A1o-m%E1%BA%A3ng-m%E1%BB%9Bi-ko-ch%E1%BB%A9a-ph%E1%BA%A7n-t%E1%BB%AD-b%E1%BB%8B-tr%C3%B9ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cách 1: tạo mảng mới ko chứa phần tử bị trùng</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">containsMember</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">memberArray<span class=\"token punctuation\">,</span> member</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> memberArray<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m</span> <span class=\"token operator\">=></span> m<span class=\"token punctuation\">.</span>first <span class=\"token operator\">===</span> member<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&amp;&amp;</span> m<span class=\"token punctuation\">.</span>last <span class=\"token operator\">===</span> member<span class=\"token punctuation\">.</span>last<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> uniqueValues <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span>\t<span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> m <span class=\"token keyword\">of</span> members<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">containsMember</span><span class=\"token punctuation\">(</span>uniqueValues<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        uniqueValues<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"cách-2-dùng-filter\"><a href=\"#c%C3%A1ch-2-d%C3%B9ng-filter\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cách 2: dùng <code class=\"language-inline-text\">filter()</code></h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">getIndexOfMember</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">memberArray<span class=\"token punctuation\">,</span> member</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> memberArray<span class=\"token punctuation\">.</span><span class=\"token function\">findIndex</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m</span> <span class=\"token operator\">=></span> m<span class=\"token punctuation\">.</span>first <span class=\"token operator\">===</span> member<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&amp;&amp;</span> m<span class=\"token punctuation\">.</span>last <span class=\"token operator\">===</span> member<span class=\"token punctuation\">.</span>last<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> uniqueValues <span class=\"token operator\">=</span> members<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> ms</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">getIndexOfMember</span><span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"cách-3-sử-dụng-map\"><a href=\"#c%C3%A1ch-3-s%E1%BB%AD-d%E1%BB%A5ng-map\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cách 3: sử dụng Map</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> uniqueKeyToMember <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span>members<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">m</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span>m<span class=\"token punctuation\">.</span>first<span class=\"token operator\">+</span><span class=\"token string\">'\\t'</span><span class=\"token operator\">+</span>m<span class=\"token punctuation\">.</span>last<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> uniqueMembers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>uniqueKeyToMember<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> </code></pre></div>\n<p><a href=\"https://2ality.com/2020/07/eliminating-duplicate-objects.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Eliminating duplicate objects: three approaches</a></p>\n","cover_image":"","related":[{"id":"64c6cb84a74dc29285dbecdb42010778","path":"/2016-11-17-phan-3-es6-can-ban-assignment-destructuring/","title":"Hồi 3: ES6 căn bản - Truy cập phần tử","desc":"Hồi 3 trong series ES6 căn bản, nói về Assignment Destructuring"},{"id":"2a6fa93b4927b76a248a645e90f2f48f","path":"/2020-06-06-vue-3-co-gi-moi/","title":"Vue 3 có gì mới?","desc":"Điểm mặt một số tính năng mới trong Vue 3"},{"id":"3b9ea457e7ba8507daacf7cbf33e8d2f","path":"/2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3/","title":"Hướng dẫn webpack 4 cho người mới bắt đầu - Phần 3","desc":"Bài này sẽ nói Plugins, Development, HotModuleReplacement trong Webpack"}]}},"context":{}}
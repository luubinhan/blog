{"hash":"b9b11ed0eef2e60f7237ef3758917749cdab929d","data":{"post":{"title":"Dùng Px, Em hay Rem để viết media query","path":"/2018-11-26-huong-dan-chon-don-vi-em-rem-px-khi-viet-media-query/","slug":"/2018-11-26-huong-dan-chon-don-vi-em-rem-px-khi-viet-media-query","date":"2018-11-26","timeToRead":4,"tags":[{"id":"css","title":"css","path":"/tag/css/"}],"desc":"Khi viết media query, bạn có bao giờ thắc mắc nên dùng đơn vị nào: px, em hay rem?","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#setup-%C4%91%E1%BB%83-th%E1%BB%AD-nghi%E1%BB%87m\">Setup để thử nghiệm</a></li>\n<li><a href=\"#thay-%C4%91%E1%BB%95i-font-size-%E1%BB%9F-html\">Thay đổi font size ở HTML</a></li>\n<li><a href=\"#user-g%E1%BB%8Di-zoom-in\">User gọi Zoom In</a></li>\n<li><a href=\"#user-thay-%C4%91%E1%BB%95i-gi%C3%A1-tr%E1%BB%8B-font-m%E1%BA%B7c-%C4%91%E1%BB%8Bnh-c%E1%BB%A7a-tr%C3%ACnh-duy%E1%BB%87t\">User thay đổi giá trị font mặc định của trình duyệt</a></li>\n<li><a href=\"#k%E1%BA%BFt-lu%E1%BA%ADn\">Kết luận</a></li>\n</ul>\n<!-- /TOC -->\n<p>Các bạn đọc bài này mình mặc định bạn đã phân biệt được sự khác nhau giữa <code class=\"language-inline-text\">em</code> và <code class=\"language-inline-text\">rem</code></p>\n<h2 id=\"setup-để-thử-nghiệm\"><a href=\"#setup-%C4%91%E1%BB%83-th%E1%BB%AD-nghi%E1%BB%87m\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Setup để thử nghiệm</h2>\n<p>Chúng ta sẽ dùng 3 div tô 3 màu khác nhau để thấy được kết quả dễ dàng</p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.pixel</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.em</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> green<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.rem</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> blue<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Chúng ta viết query min-width trên 3 element này, thay đổi opacity để thấy được khi nào css này được áp dụng</p>\n<div class=\"gridsome-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token selector\">.pixel </span><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n\t<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 400px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> .5\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Chúng ta sẽ đặt font-size cho html là 16px = 1em = 1rem. Như vậy 400px = 25em = 25rem</p>\n<div class=\"gridsome-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token selector\">.em </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> green<span class=\"token punctuation\">;</span>  \n  <span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 25em<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0.5\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.rem </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> blue<span class=\"token punctuation\">;</span>  \n  <span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 25rem<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0.5\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Tất cả đều được trigger ở chính xác kích thước 400px</p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/control.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<h2 id=\"thay-đổi-font-size-ở-html\"><a href=\"#thay-%C4%91%E1%BB%95i-font-size-%E1%BB%9F-html\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thay đổi font size ở HTML</h2>\n<p>Trường hợp phổ biến nhất chúng ta hay gặp là thay đổi font-size trên HTML</p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">html</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 200%<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Khi thay đổi font-size lên 200%, nghĩa là 1em = 1rem = 32px. Nếu sự thay đổi font-size này tác động lên <code class=\"language-inline-text\">em</code> và <code class=\"language-inline-text\">rem</code>, chúng ta sẽ thấy 2 element bên dưới trigger ở 800px</p>\n<p>Kết quả trên Chrome, Firefox và IE11, cả 3 thằng đều trigger ở 400px</p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/chrome.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<p>Nếu chạy đúng, <code class=\"language-inline-text\">em</code> và <code class=\"language-inline-text\">rem</code> không nên bị ảnh hưởng bởi thay đổi font-size trên HTML, nó chỉ được phụ thuộc vào font-size mặc định của trình duyệt.</p>\n<p>Tuy nhiên, trên Safari lại cho kết quả không như mong đợi, nó trigger ở 800px</p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/safari-200.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<p>Với kết quả này chúng ta có thể bỏ qua việc sử dụng <code class=\"language-inline-text\">rem</code> với media query vì nó ko đảm bảo chạy đúng trên mọi trình duyệt.</p>\n<p>Tuy nhiên, các thí nghiệm bên dưới chúng ta vẫn đưa <code class=\"language-inline-text\">rem</code> vào cho vui!</p>\n<h2 id=\"user-gọi-zoom-in\"><a href=\"#user-g%E1%BB%8Di-zoom-in\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>User gọi Zoom In</h2>\n<p>Đây cũng là tình huống thường thấy, chữ quá nhỏ, user có xu hướng zoom to lên xem.</p>\n<blockquote>\n<p>Nguyên nhân chính có đơn vị <code class=\"language-inline-text\">em</code> là vì các trình duyệt cũ không thể update giá trị pixel khi user gọi zoom</p>\n</blockquote>\n<p>Trên Chrome, Firefox và IE, <code class=\"language-inline-text\">px</code>, <code class=\"language-inline-text\">em</code>, <code class=\"language-inline-text\">rem</code> xảy ra cùng lúc</p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/chrome-zoom.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<p>Và đương nhiên Safari tiếp tục không giống ai </p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/safari-zoom.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<p>Điều này có nghĩa là, đơn vị pixel không đúng trên mọi browser, bạn nên dừng sử dụng pixel trong câu media query, trừ khi bạn thuộc kiểu sống bất chấp sự tồn tại của safari</p>\n<h2 id=\"user-thay-đổi-giá-trị-font-mặc-định-của-trình-duyệt\"><a href=\"#user-thay-%C4%91%E1%BB%95i-gi%C3%A1-tr%E1%BB%8B-font-m%E1%BA%B7c-%C4%91%E1%BB%8Bnh-c%E1%BB%A7a-tr%C3%ACnh-duy%E1%BB%87t\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>User thay đổi giá trị font mặc định của trình duyệt</h2>\n<p>Rất nhiều developer tin rằng user chả đứa nào thay đổi font size mặc định của trình duyệt, tìm cái thiết đặt này trong trình duyệt đã đủ khó khăn làm user nản chí</p>\n<p>Tuy nhiên đó là niềm tin không có căn cứ, không có dữ liệu chứng minh được, user vẫn có thể google tìm cách thay đổi font size mặc định của trình duyệt, đặc biệt các thanh niên bị cận như mình.</p>\n<p>Nếu chưa biết cách thay đổi font-size mặc định của trình duyệt, mình chỉ cho</p>\n<p>Chrome: <strong>Settings > Show advanced settings > Web content</strong>\nFirefox: <strong>preferences > content > fonts and colors</strong>\nIE: <strong>page > text-size</strong></p>\n<p>Safari thì mình chưa biết thay đổi font-size của nó bằng cách nào.</p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/chrome-very-large-font-size.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<p>Như có thể thấy, câu query dùng <code class=\"language-inline-text\">px</code> trigger sớm hơn <code class=\"language-inline-text\">em</code> và <code class=\"language-inline-text\">rem</code></p>\n<p>Cái này không phải là bug, vì px là đơn vị chính xác đến từng pixel!!! Nó chỉ cần biết kích thước độ rộng màn hình, không liên quan họ hàng gì tới font-size</p>\n<p>Ngược lại 2 đơn vị <code class=\"language-inline-text\">rem</code> và <code class=\"language-inline-text\">em</code> phụ thuộc hoàn toàn vào font-size của trình duyệt</p>\n<blockquote>\n<p>Chúng ta phải nói lời chia tay với pixel khi viết media query</p>\n</blockquote>\n<p>Ví dụ bạn setup để màn hình dưới 600px có một cột, ngược lại có 2 cột. Mọi thứ đẹp nếu font size là 16px, tuy nhiên nếu user đổi font size thành 20px và xem ở màn hình 650px. Đơn vị <code class=\"language-inline-text\">rem</code> và <code class=\"language-inline-text\">em</code> sẽ cho ra giao diện 1 cột, trong khi pixel vẫn <em>lì lợm</em> 2 cột bất chấp cái font chữ giờ đã to đùng.</p>\n<h2 id=\"kết-luận\"><a href=\"#k%E1%BA%BFt-lu%E1%BA%ADn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kết luận</h2>\n<p><strong>Đơn vị cho kết quả chấp nhận được ở mọi tình huống là <code class=\"language-inline-text\">em</code></strong></p>\n<p>Nếu từng thắc mắc khi đang dùng một thư viện nào đó, như bootstrap, tại sao nó lại dùng đơn vị <code class=\"language-inline-text\">em</code> trong câu media query, thì giờ bạn đã có câu trả lời rồi đó.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://zellwk.com/blog/media-query-units/\">PX, EM or REM Media Queries?</a></p>\n","cover_image":"","related":[{"id":"127c7e87031c5caa17358ff4111ea29a","path":"/2019-09-27-huong-dan-su-dung-media-query/","title":"Căn bản cách sử dụng media query","desc":"Những kiến thức căn bản bắt buộc nhất để bạn làm responsive"},{"id":"ddcf45023ed6007ccd6b4260078cb17b","path":"/2019-03-25-rang-buoc-du-lieu-voi-html5/","title":"Ràng buộc dữ liệu input với HTML5","desc":"Vì form quá phức tạp, chúng ta cần thêm một bài viết nữa về validation với html"},{"id":"6eb0ae2527d4e093ef6185fc63724660","path":"/2018-10-31-gioi-thieu-react-lazy/","title":"Sử dụng React.lazy ra làm sao?","desc":"Api mới của React 16.6"}]}},"context":{}}
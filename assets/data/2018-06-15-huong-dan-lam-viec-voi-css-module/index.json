{"hash":"99e40fc31a30de3332c68fee139e44329976dab8","data":{"post":{"title":"Làm việc với CSS Modules trong React","path":"/2018-06-15-huong-dan-lam-viec-voi-css-module/","date":"2018-06-15","timeToRead":2,"tags":[{"id":"react","title":"react","path":"/tag/react/"},{"id":"javascript","title":"javascript","path":"/tag/javascript/"}],"desc":"Sau rất nhiều năm kiếm cơm với CSS, và hiện tại vẫn thế, CSS vẫn luôn là niềm hứng thú của cá nhân mình. Ngày nảy ngày nay để làm việc với Component của React, chúng ta sẽ có nhiều lựa chọn hơn khi 'CSS trong JS' đang là lựa chọn hàng đầu. Trong thời đại của component phủ sóng khắp các mặt trận, CSS Modules hứa hiện là món ngon","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#css-modules-l%C3%A0-g%C3%AC\">CSS modules là gì</a></li>\n<li><a href=\"#x%C3%B3a-style-%C4%91%E1%BA%A7y-t%E1%BB%B1-tin\">Xóa style đầy tự tin</a></li>\n<li><a href=\"#m%E1%BB%99t-v%C3%A0i-l%E1%BB%B1a-ch%E1%BB%8Dn-n%C3%A2ng-cao\">Một vài lựa chọn nâng cao</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"css-modules-là-gì\"><a href=\"#css-modules-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CSS modules là gì</h2>\n<p>Dựa vào cái tên chắc phần nào cũng đoán được, nó là kiểu viết module hóa stylesheet thành từng file nhỏ, không còn sử dụng một file stylesheet tập trung nữa. Thêm vào đó, tất cả tên class lúc này sẽ được scope lại local, có thế viết bằng vanilla CSS hay SCSS (lựa chọn hàng đầu của các frontend chất).</p>\n<p>file Button.scss</p>\n<pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token selector\">.button </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token unit\">px</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token color\">blue</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>file Button.js</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token maybe-class-name\">React</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> styles <span class=\"token keyword module\">from</span> <span class=\"token string\">'./Button.scss'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword control-flow\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">.</span><span class=\"token property-access\">button</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">An Luu Blog</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Với cách viết này, class <code class=\"language-text\">.button</code> lúc trả về sẽ là <code class=\"language-text\">button-[hash string ở đây]</code>, nên sẽ không sợ bị trùng tên, chắc chắn không gây side effect lên các component khác vì chả bao giờ trung tên đâu.</p>\n<p>Một lợi ích khác là khi viết ta có thể viết <code class=\"language-text\">.my-class-name</code> kiểu kebab case, nhưng khi viết js chúng ta có lại thích transform thành <code class=\"language-text\">styles.myClassName</code> theo kiểu camel case.</p>\n<p>CSS module thoạt thì thấy không có chi đặc biệt, đơn giản chỉ là thế thôi, nhưng lợi ích của việc này là giúp chúng ta rất dễ maintain stylesheet vì nó buộc khi chúng ta viết css phải đơn giản nhất có thể.</p>\n<h2 id=\"xóa-style-đầy-tự-tin\"><a href=\"#x%C3%B3a-style-%C4%91%E1%BA%A7y-t%E1%BB%B1-tin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Xóa style đầy tự tin</h2>\n<p>Thích nhất là viết feature mới và đập bỏ cái code chuối cả nãy hồi xưa. Phần khó nhất là gì? Làm sao biết được xóa cái style cũ này đi có bị gì không? Lỡ đâu đang xài đâu đó.</p>\n<p>Ở cái <code class=\"language-text\">Button</code> ví dụ trên, phần stylesheet và component gần như là gắn chặt vào nhau như hình với bóng, mối quan hệ một-một giữa component và style sheet đó là một quy ước cho một component được viết tốt, file style sheet đó chỉ phục vụ cho đúng component đó, nếu mà lỡ xóa file stylesheet hoặc class nào mà đang sử dụng, chắc chắn quá trình build sẽ báo ngay lỗi cho chúng ta biết lỡ xóa phần nào.</p>\n<h2 id=\"một-vài-lựa-chọn-nâng-cao\"><a href=\"#m%E1%BB%99t-v%C3%A0i-l%E1%BB%B1a-ch%E1%BB%8Dn-n%C3%A2ng-cao\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Một vài lựa chọn nâng cao</h2>\n<p>Những thư viện CSS-trong-JS nâng cao như styled-components hay emotion cũng được nhiều front-end chất xài, cung cấp nhiều tính năng tân tiến hơn, nếu không ngại học thêm và tìm hiểu cách hoạt động thì cũng là lựa chọn không đến nổi.</p>\n<p>Với kiểu viết CSS Module với Vanilla CSS hay SCSS đã được tín nhiệm từ nhiều năm qua, bên cạnh đó thì SCSS còn có biến nè, kiểu viết nesting rất tiện lợi nè,... thì thật ra chỉ sử dụng SCSS thôi cũng đã là đủ</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword module\">import</span> <span class=\"token imports\">styles</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'./App.scss'</span><span class=\"token punctuation\">;</span>\n<span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>styles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>log ra xem có cái mợ gì</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*o9VrQ1idA8SqwJ_o6TL9Hg.png\"></p>\n<p>Bài dịch của tác giả: Spencer Miskoviak</p>\n<p><a href=\"https://medium.com/@skovy/writing-maintainable-styles-and-components-with-css-modules-308a9216a6c2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Link bài gốc</a></p>\n<p><a href=\"https://medium.com/@kswanie21/css-modules-sass-in-create-react-app-37c3152de9\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://medium.com/@kswanie21/css-modules-sass-in-create-react-app-37c3152de9</a></p>\n","cover_image":"","related":[{"id":"b8095fcc4fddb26736d28255b2cd38ed","path":"/2018-05-22-huong-dan-lam-viec-voi-form-trong-react/","title":"Làm việc với Form trong React","desc":"Xử lý form trong React, căn bản nhất"},{"id":"261b6ab3101f36044d757da3c9d8d2d0","path":"/2018-06-24-huong-dan-lam-viec-voi-console-trong-javascript/","title":"Làm việc với console trong javascript","desc":"Một web developer chân chính là người biết sử dụng console.log :D. Tuy nhiên cũng nên biết rằng console nó còn rất nhiều phương thức khác nữa"},{"id":"a8c04defa632eb7d8068cb4cac074ce9","path":"/2018-10-04-huong-dan-redux-voi-ung-dung-lon/","title":"Làm việc với Redux trong ứng dụng lớn","desc":"Cùng thảo luận xung quanh vấn đề ứng dụng thiên về dữ liệu lớn, rất lớn"},{"id":"dc640bd2ebc8ca9fcd4abedd80d3eb53","path":"/2018-07-29-huong-dan-javascript-date-lam-viet-voi-javascript-date/","title":"Các vấn đề khi làm việc với ngày tháng trong javascript","desc":"Bỏ túi kỹ năng thiết yếu khi đụng đến xử lý ngày tháng"}]}},"context":{}}
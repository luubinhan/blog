{"hash":"abad1accdeff08a5b295c1ca2179f7b6ebc52b82","data":{"post":{"title":"Gi·ªõi thi·ªáu Temporal Dead Zone trong javascript","path":"/gioi-thieu-temporal-dead-zone-trong-javascript/","slug":"/2019-10-21-gioi-thieu-temporary-dead-zone-cua-javascript","date":"2019-10-21","timeToRead":2,"tags":[{"id":"javascript","title":"javascript","path":"/tag/javascript/"}],"desc":"B·∫°n ƒë√£ bi·∫øt hoisted? b·∫°n c·∫ßn bi·∫øt th√™m kh√°i ni·ªám Temporal Dead Zone l√† ƒë·ªß m·ªôt c·∫∑p","content":"<p>Temporal Dead Zone - <em>Khu v·ª±c t·ª± tr·ªã, ngo√†i v√≤ng ph√°p lu·∫≠t</em></p>\n<p>ƒêo·∫°n code b√™n d∆∞·ªõi s·∫Ω cho k·∫øt qu·∫£ th·∫ø n√†o, ƒë·ªë b·∫°n</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// c√≥ ch·∫°y ƒë∆∞·ª£c ko, ch∆∞a khai b√°o `Car`</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">(</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Car</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">color</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">color</span> <span class=\"token operator\">=</span> color<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>ho·∫∑c g·ªçi m·ªôt h√†m tr∆∞·ªõc khi n√≥ ƒë∆∞·ª£c khai b√°o</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// c√≥ ch·∫°y ƒë∆∞·ª£c ko, ch∆∞a khai b√°o greet</span>\n<span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token string\">'VuiLapTrinh'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">who</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword control-flow\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hello, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>who<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>ƒê√°p √°n l√†, v·ªõi tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng m·ªôt <code class=\"language-text\">class</code> ch∆∞a ƒë∆∞·ª£c khai b√°o, k·∫øt qu·∫£ l√† <code class=\"language-text\">ReferenceError</code>, c√≤n s·ª≠ d·ª•ng h√†m ch∆∞a khai b√°o, ch·∫°y b√¨nh th∆∞·ªùng üòÇüòìü§î</p>\n<p>Temporal Dead Zone (TDZ - <em>khu v·ª±c t·ª± tr·ªã</em>) l√† n∆°i qu·∫£n l√Ω t√≠nh kh·∫£ thi c·ªßa <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code>, <code class=\"language-text\">class</code></p>\n<p>B·∫Øt ƒë·∫ßu v·ªõi khai b√°o <code class=\"language-text\">const</code></p>\n<pre class=\"language-js{1}\"><code class=\"language-js{1}\">white; // throws `ReferenceError`\nconst white = '#FFFFFF';\nwhite;</code></pre>\n<p>Tr∆∞·ªõc khi c√≥ s·ª± xu·∫•t hi·ªán c·ªßa <code class=\"language-text\">const white = &#39;#FFFFFF&#39;</code>, bi·∫øn <code class=\"language-text\">white</code> s·∫Ω n·∫±m trong <em>khu v·ª±c t·ª± tr·ªã</em> (TDZ)</p>\n<p>Ch√∫ng ta kh√¥ng th·ªÉ truy c·∫≠p v√†o khu v·ª±c t·ª± tr·ªã n√†y, n√™n n√≥ s·∫Ω tr·∫£ v·ªÅ l·ªói <code class=\"language-text\">ReferenceError: Cannot access &#39;white&#39; before initialization</code></p>\n<p><img src=\"https://dmitripavlutin.com/static/7973b25e51eb97f6d330c941600f7ad8/5722e/temporal-dead-zone-in-javascript.webp\" alt=\"Gi·ªõi thi·ªáu Temporal Dead Zone trong javascript\"></p>\n<p>Kh√°i ni·ªám n√†y gi√∫p tr√°nh s·ª± <em>l·∫±ng nh·∫±ng</em> trong javascript <strong>tr∆∞·ªõc ƒë√¢y</strong>, ƒë∆∞·ª£c ph√©p s·ª≠ d·ª•ng tr∆∞·ªõc khi khai b√°o. V√¨ n√≥ ch·ªâ ƒë∆∞·ª£c th√™m v√†o <em>sau n√†y</em>, n√™n ch·ªâ c√≥ hi·ªáu l·ª±c tr√™n c√°c t·ª´ kh√≥a <em>sau n√†y</em> m·ªõi c√≥ l√† <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code>, <code class=\"language-text\">class</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// throws `ReferenceError`</span>\ncount<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> count<span class=\"token punctuation\">;</span>\ncount <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// throws `ReferenceError`</span>\n<span class=\"token keyword\">const</span> myNissan <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">(</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Car</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">color</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">color</span> <span class=\"token operator\">=</span> color<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>N√≥ c≈©ng gi·∫£i th√≠ch lu√¥n t·∫°i sao ch√∫ng ta ph·∫£i g·ªçi <code class=\"language-text\">super</code> trong <code class=\"language-text\">class</code> tr∆∞·ªõc khi g·ªçi <code class=\"language-text\">this</code>, v√¨ <code class=\"language-text\">this</code> t·∫°m th·ªùi n·∫±m trong khu TDZ khi ch∆∞a g·ªçi <code class=\"language-text\">super</code></p>\n<pre class=\"language-js{3,4,8}\"><code class=\"language-js{3,4,8}\">class MuscleCar extends Car {\n  constructor(color, power) {\n    this.power = power;\n    super(color);\n  }\n}\n\nconst myCar = new MuscleCar('blue', '300HP'); // `ReferenceError`</code></pre>\n<p>Ch√∫ng ta ph·∫£i d√πng <code class=\"language-text\">this.</code> sau khi g·ªçi <code class=\"language-text\">super</code></p>\n<p>V·ªõi nh·ªØng c√°ch khai b√°o c≈© l√† <code class=\"language-text\">var</code>, <code class=\"language-text\">function</code> n√≥ kh√¥ng ch·ªãu chung s·ªë ph·∫≠n ph·∫£i s·ªëng trong khu t·ª± tr·ªã, n√≥ s·∫Ω ch·ªãu kh√°i ni·ªám <strong>Hoisting</strong>.</p>\n<p>Hoisting l√† m·ªôt c∆° ch·∫ø ho·∫°t ƒë·ªông g√¢y kh√≥ d·ªÖ anh em ch√∫ng ta ƒë√£ bao nhi√™u th·∫≠p k·ª∑ nay.</p>\n<p>Anh em ra ƒë∆∞·ªùng g·∫∑p m·ªôt em ch∆∞a h·ªÅ quen bi·∫øt, ch√∫ng ta nh·∫π nh√†ng t·ªõi h·ªèi \"Em nh√† ·ªü ƒë√¢u th·∫ø?\", nh·∫≠n ƒë∆∞·ª£c c√¢u tr·∫£ l·ªùi anh l√™n ph∆∞·ªùng tra c·ª©u, l√™n ƒë·∫øn ph∆∞·ªùng, \"ch·∫≥ng ai bi·∫øt ·∫ªm l√† ai\", ph∆∞·ªùng ch·ªâ l√™n qu·∫≠n tra c·ª©u, <em>qu·∫≠n</em> l·∫°i b·∫£o \"c√≥ m√† l√™n ·ªßy ban th√†nh ph·ªë ch√∫ ·∫°\", l·ª° m√† xui xui ch√∫ng ta ph·∫£i l√™n ƒë·∫øn trung ∆∞∆°ng ƒë·ªÉ bi·∫øt r·∫±ng em ƒë√£ ƒëƒÉng k√Ω h·ªô kh·∫©u ·ªü ƒë√¢u.</p>\n<pre class=\"language-js{2,5,9}\"><code class=\"language-js{2,5,9}\">// ch·∫°y nh∆∞ th∆∞·ªùng, nh∆∞ng ƒë·ª´ng vi·∫øt g√¨ nh√°\nvalue; // => undefined\nvar value;\n\ngreet('VuiLapTrinh'); // => 'Hello, VuiLapTrinh!'\nfunction greet(who) {\n  return `Hello, ${who}!`;\n}\ngreet('Andy'); // => 'Hello, Andy!'</code></pre>\n<p>Cho n√™n b·∫°n c√≥ th·ªÉ l√†m ƒë∆∞·ª£c vi·ªác n√†y, x√†i tr∆∞·ªõc, <code class=\"language-text\">import</code> sau</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">myFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token punctuation\">{</span> myFunction <span class=\"token punctuation\">}</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'./myModule'</span><span class=\"token punctuation\">;</span></code></pre>\n<p>TDZ c√≤n ph·ª• thu·ªôc v√†o t·ª´ng <em>th√†nh ph·ªë</em>, m·ªói th√†nh ph·ªë s·∫Ω c√≥ khu v·ª±c t·ª± tr·ªã kh√°c nhau</p>\n<p><img src=\"https://dmitripavlutin.com/static/bba73f7c82f4385bbd81ad4c3531217c/5722e/limits-of-temporal-dead-zone-javascript.webp\" alt=\"Gi·ªõi thi·ªáu Temporal Dead Zone trong javascript\"></p>\n<p>L·∫•y v√≠ d·ª•</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">someVal</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Function scope</span>\n  <span class=\"token keyword\">typeof</span> variable<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => undefined</span>\n  <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>someVal<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Inner block scope</span>\n    <span class=\"token keyword\">typeof</span> variable<span class=\"token punctuation\">;</span> <span class=\"token comment\">// throws `ReferenceError`</span>\n    <span class=\"token keyword\">let</span> variable<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p><a href=\"https://dmitripavlutin.com/javascript-variables-and-temporal-dead-zone/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Don't Use JavaScript Variables Without Knowing Temporal Dead Zone</a></p>\n","cover_image":"","related":[{"id":"f2e054fcf720c1bbfd96b1f9aaeb9983","path":"/gioi-thieu-functional-programming-trong-java-script/","title":"Gi·ªõi thi·ªáu functional programming trong JavaScript","desc":"Functional programming l√† m·ªôt topic r·∫•t chi quen thu·ªôc trong c·ªông ƒë·ªìng JS, c√°c b·∫°n c√≥ bi·∫øt t·∫°i sao m·ªçi ng∆∞·ªùi l·∫°i hype v·ªõi n√≥? T·∫°i sao m·ªçi ng∆∞·ªùi l·∫°i quay l∆∞ng v·ªõi Object oriented"},{"id":"e9d2a9d4a3ed5b8ecc39c580a3f2ffb8","path":"/gioi-thieu-markdown/","title":"Gi·ªõi thi·ªáu Markdown","desc":"Markdown v·ªü l√≤ng cho b·∫°n n√†o ch∆∞a bi·∫øt"},{"id":"f9b9d628fc5725a639e6c8edff449057","path":"/gioi-thieu-fetch-cua-javascript/","title":"Gi·ªõi thi·ªáu fetch() c·ªßa javascript","desc":"T·∫°m bi·ªát XMLHttpRequest v√† c√°ch vi·∫øt d√†i d√≤ng, gi·ªù ƒë√¢y ta ƒë√£ c√≥ fetch API"},{"id":"6d5aa5f38fabe4c7ea0a45fedf201568","path":"/gioi-thieu-ve-reactive-programing-trong-javascript/","title":"Gi·ªõi thi·ªáu v·ªÅ Reactive Programing trong javascript","desc":"Reactive programing l√† kh√°i ni·ªám kh√° tr·ª´u t∆∞·ª£ng v√† kh√≥ ti·∫øp c·∫≠n v·ªõi ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu, chu·∫©n b·ªã tinh th·∫ßn ƒë·ªçc b√†i n√†y v√†i l·∫ßn trong v√†i ng√†y th√¨ m·ªõi mong th·∫©m th·∫•u h·∫øt"}]}},"context":{}}
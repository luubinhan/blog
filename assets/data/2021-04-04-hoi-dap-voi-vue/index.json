{"hash":"0b850c1ecbd24bffff99e8513198ea7381cb23bf","data":{"post":{"title":"Hỏi đáp cùng Vue","path":"/2021-04-04-hoi-dap-voi-vue/","slug":"/2021-04-04-hoi-dap-voi-vue","date":"2021-04-04","timeToRead":6,"tags":[{"id":"vuejs","title":"vuejs","path":"/tag/vuejs/"},{"id":"hoc-thuat","title":"hoc-thuat","path":"/tag/hoc-thuat/"}],"desc":"Một số khái niệm trong Vue cần nắm","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#function-component-l%C3%A0-g%C3%AC\">Function component là gì?</a></li>\n<li><a href=\"#t%E1%BA%A1i-sao-data-trong-vue-component-ph%E1%BA%A3i-l%C3%A0-1-function\">Tại sao data trong Vue component phải là 1 function</a></li>\n<li><a href=\"#v-if-v%C3%A0-v-show-kh%C3%A1c-nhau-nh%C6%B0-th%E1%BA%BF-n%C3%A0o\"><code class=\"language-inline-text\">v-if</code> và <code class=\"language-inline-text\">v-show</code> khác nhau như thế nào</a></li>\n<li><a href=\"#khai-b%C3%A1o-default-value-c%E1%BB%A7a-prop-l%C3%A0-array-ho%E1%BA%B7c-object\">Khai báo default value của <code class=\"language-inline-text\">prop</code> là <code class=\"language-inline-text\">array</code> hoặc <code class=\"language-inline-text\">object</code></a></li>\n<li><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-key-trong-vue-component\">Mục đích của <code class=\"language-inline-text\">key</code> trong Vue Component</a></li>\n<li><a href=\"#v%C3%AC-sao-kh%C3%B4ng-s%E1%BB%AD-d%E1%BB%A5ng-v-if-v%C3%A0-v-for-c%C3%B9ng-l%C3%BAc\">Vì sao không sử dụng <code class=\"language-inline-text\">v-if</code> và <code class=\"language-inline-text\">v-for</code> cùng lúc?</a></li>\n<li><a href=\"#c%C3%A1c-event-modifier-cung-c%E1%BA%A5p-b%E1%BB%9Fi-vue\">Các <code class=\"language-inline-text\">event modifier</code> cung cấp bởi Vue</a></li>\n<li><a href=\"#m%E1%BB%99t-s%E1%BB%91-key-modifier-cung-c%E1%BA%A5p-s%E1%BA%B5n\">Một số key modifier cung cấp sẵn</a></li>\n<li><a href=\"#modifier-tr%C3%AAn-model\">Modifier trên model</a></li>\n<li><a href=\"#plugin-trong-vue-l%C3%A0-g%C3%AC-v%C3%A0-d%C3%B9ng-%C4%91%E1%BB%83-l%C3%A0m-g%C3%AC\">Plugin trong Vue là gì và dùng để làm gì</a></li>\n<li><a href=\"#tr%C6%B0%E1%BB%9Dng-h%E1%BB%A3p-n%C3%AAn-s%E1%BB%AD-d%E1%BB%A5ng-render-function-m%C3%A0-kh%C3%B4ng-d%C3%B9ng-ki%E1%BB%83u-vi%E1%BA%BFt-template\">Trường hợp nên sử dụng render function mà không dùng kiểu viết template</a></li>\n<li><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-th%E1%BA%BB-keep-alive\">Mục đích của thẻ <code class=\"language-inline-text\">keep-alive</code></a></li>\n<li><a href=\"#82-c%E1%BA%A5u-tr%C3%BAc-m%E1%BB%99t-async-component\">82. Cấu trúc một async component</a></li>\n<li><a href=\"#x-template\">x template</a></li>\n<li><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-once\">Mục đích của <code class=\"language-inline-text\">once</code></a></li>\n<li><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-rendererror\">Mục đích của <code class=\"language-inline-text\">renderError</code></a></li>\n<li><a href=\"#nexttick-l%C3%A0-g%C3%AC\"><code class=\"language-inline-text\">nextTick</code> là gì</a></li>\n<li><a href=\"#l%C3%A0m-sao-%C4%91%E1%BB%83-force-update\">Làm sao để force update</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"function-component-là-gì\"><a href=\"#function-component-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Function component là gì?</h2>\n<p>Function component là một component với đặc điểm:</p>\n<ol>\n<li><strong>Stateless</strong>: không chứa state bên trong nó</li>\n<li><strong>Instanceless</strong>: không có instance, nghĩa là không có từ khóa <code class=\"language-inline-text\">this</code></li>\n</ol>\n<h2 id=\"tại-sao-data-trong-vue-component-phải-là-1-function\"><a href=\"#t%E1%BA%A1i-sao-data-trong-vue-component-ph%E1%BA%A3i-l%C3%A0-1-function\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tại sao data trong Vue component phải là 1 function</h2>\n<p>Tại sao không thể khai báo như thế này</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\tmessage<span class=\"token operator\">:</span> <span class=\"token string\">'here data'</span> 😠\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>bắt buộc phải là function return data</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\tmessage<span class=\"token operator\">:</span> <span class=\"token string\">'here data'</span> 👍\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Theo tài liệu trên trang của Vue, nếu khai báo <code class=\"language-inline-text\">data</code> là 1 object, các <code class=\"language-inline-text\">instance</code> của 1 component sẽ trỏ đến cùng một <code class=\"language-inline-text\">data</code></p>\n<blockquote>\n<p>Việc làm này là với mục đích tiết kiệm bộ nhớ.</p>\n</blockquote>\n<p>Nếu mỗi component là một object độc lập hoàn toàn với nhau, khi component được khởi tạo, tất cả các phương thức và dữ liệu được khởi tạo theo.</p>\n<p>Vue cho phép các dữ liệu trên component hoàn toàn độc lập, còn những thứ như <code class=\"language-inline-text\">method</code>, <code class=\"language-inline-text\"></code>computed<code class=\"language-inline-text\">,</code>lifecycle hook` được tạo và lưu một lần duy nhất.</p>\n<h2 id=\"v-if-và-v-show-khác-nhau-như-thế-nào\"><a href=\"#v-if-v%C3%A0-v-show-kh%C3%A1c-nhau-nh%C6%B0-th%E1%BA%BF-n%C3%A0o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">v-if</code> và <code class=\"language-inline-text\">v-show</code> khác nhau như thế nào</h2>\n<p><code class=\"language-inline-text\">v-if</code> không render DOM, <code class=\"language-inline-text\">v-show</code> có render nhưng dùng css để ẩn đi, dùng <code class=\"language-inline-text\">v-show</code> để tối ưu vì không cần update DOM liên tục.</p>\n<h2 id=\"khai-báo-default-value-của-prop-là-array-hoặc-object\"><a href=\"#khai-b%C3%A1o-default-value-c%E1%BB%A7a-prop-l%C3%A0-array-ho%E1%BA%B7c-object\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Khai báo default value của <code class=\"language-inline-text\">prop</code> là <code class=\"language-inline-text\">array</code> hoặc <code class=\"language-inline-text\">object</code></h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\tarr<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\ttype<span class=\"token operator\">:</span> Array\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>☠️ No no đừng viết vậy nhé</p>\n<p>Tất cả <code class=\"language-inline-text\"></code>instance<code class=\"language-inline-text\">sẽ cùng *reference* tới một prop</code>arr`</p>\n<p>Cách viết đúng</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  arr<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> Array<span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">default</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>viết kiểu ES6</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  arr<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> Array<span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"mục-đích-của-key-trong-vue-component\"><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-key-trong-vue-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mục đích của <code class=\"language-inline-text\">key</code> trong Vue Component</h2>\n<p>Để tối ưu, Vue tái sử dụng khi có thể, tránh khởi tạo component mọi lúc. Việc này dẫn đến một vài bug trong tính huống như bên dưới</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toggle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-else</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Nếu không có <code class=\"language-inline-text\">key</code>, Vue không tạo ra 2 <code class=\"language-inline-text\">&lt;input/></code>, mà dùng cùng 1 <code class=\"language-inline-text\">&lt;input/></code>, khi giá trị <code class=\"language-inline-text\">toggle</code> chuyển từ <code class=\"language-inline-text\">true</code> sang <code class=\"language-inline-text\">false</code> và ngược lại, nếu input này đang có giá trị nó sẽ không bị thay đổi.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toggle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toggle-true<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-else</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toggle-false<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"vì-sao-không-sử-dụng-v-if-và-v-for-cùng-lúc\"><a href=\"#v%C3%AC-sao-kh%C3%B4ng-s%E1%BB%AD-d%E1%BB%A5ng-v-if-v%C3%A0-v-for-c%C3%B9ng-l%C3%BAc\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Vì sao không sử dụng <code class=\"language-inline-text\">v-if</code> và <code class=\"language-inline-text\">v-for</code> cùng lúc?</h2>\n<p>Vì <code class=\"language-inline-text\">v-for</code> có thứ tự ưu tiên cao hơn <code class=\"language-inline-text\">v-if</code>, nên có thể bị bug khi dùng chung.</p>\n<h2 id=\"các-event-modifier-cung-cấp-bởi-vue\"><a href=\"#c%C3%A1c-event-modifier-cung-c%E1%BA%A5p-b%E1%BB%9Fi-vue\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Các <code class=\"language-inline-text\">event modifier</code> cung cấp bởi Vue</h2>\n<p>Trong javascript cung cấp các modifier <code class=\"language-inline-text\">event.preventDefault()</code>, <code class=\"language-inline-text\">event.stopPropagation()</code> trong đối tượng <code class=\"language-inline-text\">event</code>. Vue thì có thêm các modifier bổ sung</p>\n<ul>\n<li><code class=\"language-inline-text\">.stop</code></li>\n<li><code class=\"language-inline-text\">.prevent</code></li>\n<li><code class=\"language-inline-text\">.capture</code></li>\n<li><code class=\"language-inline-text\">.self</code></li>\n<li><code class=\"language-inline-text\">.once</code></li>\n<li><code class=\"language-inline-text\">.passive</code></li>\n</ul>\n<p>Ví dụ</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">&lt;</span>button @click<span class=\"token punctuation\">.</span>stop<span class=\"token operator\">=</span><span class=\"token string\">\"callHandler\"</span><span class=\"token operator\">></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"một-số-key-modifier-cung-cấp-sẵn\"><a href=\"#m%E1%BB%99t-s%E1%BB%91-key-modifier-cung-c%E1%BA%A5p-s%E1%BA%B5n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Một số key modifier cung cấp sẵn</h2>\n<p>Vue hỗ trợ các key modifier để lắng nghe sự kiện bàn phím trên <code class=\"language-inline-text\">v-on</code></p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>keyup.13</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>show<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>Khi ấn phím <strong>Enter</strong> (key code = 13), nó sẽ chạy hàm <code class=\"language-inline-text\">show</code>. Các phím có tên hay dùng</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">.enter\n.tab\n.delete\n.esc\n.space\n.up\n.down\n.up\n.left\n.right</code></pre></div>\n<p>Ví dụ sử dụng</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>keyup.enter</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>Và có luôn modifier cho chuột</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">.left\n.right\n.middle</code></pre></div>\n<h2 id=\"modifier-trên-model\"><a href=\"#modifier-tr%C3%AAn-model\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Modifier trên model</h2>\n<ul>\n<li><strong>lazy</strong>: thay vì change ngay lập tức, chỉ change sau một khoản thời gian delay</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">v-model.lazy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>msg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code></pre></div>\n<ul>\n<li><strong>number</strong> chuyển giá trị sang dạng số </li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">v-model.number</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>age<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>number<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<ul>\n<li><strong>trim</strong> cắt bỏ khoảng trắng ở đầu và ở cuối</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">v-model.trim</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>msg<span class=\"token punctuation\">'</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<h2 id=\"plugin-trong-vue-là-gì-và-dùng-để-làm-gì\"><a href=\"#plugin-trong-vue-l%C3%A0-g%C3%AC-v%C3%A0-d%C3%B9ng-%C4%91%E1%BB%83-l%C3%A0m-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Plugin trong Vue là gì và dùng để làm gì</h2>\n<p>Plugin sẽ cho phép đăng ký các function ở scope global, các function được nói đến có thể là</p>\n<ul>\n<li><code class=\"language-inline-text\">directive</code>, <code class=\"language-inline-text\">filter</code>, <code class=\"language-inline-text\">transition</code></li>\n<li><code class=\"language-inline-text\">methods</code>, <code class=\"language-inline-text\">properties</code></li>\n<li><code class=\"language-inline-text\">mixin</code></li>\n<li>Dùng Vue.prototype để \"nhét\" thêm một số phương thức global, ví dụ <code class=\"language-inline-text\">vm.$router</code></li>\n</ul>\n<p>Để tạo một plugin</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">MyPlugin<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">install</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">Vue<span class=\"token punctuation\">,</span> options</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// 1. global method, property</span>\n\tVue<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">myGlobalMethod</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n\t<span class=\"token comment\">// 2. global asset</span>\n\tVue<span class=\"token punctuation\">.</span><span class=\"token function\">directive</span><span class=\"token punctuation\">(</span><span class=\"token string\">'my-directive'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">bind</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">el<span class=\"token punctuation\">,</span> binding<span class=\"token punctuation\">,</span> vnode<span class=\"token punctuation\">,</span> oldNode</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// 3. \"Nhét\" (inject) một trên toàn bộ component</span>\n\tVue<span class=\"token punctuation\">.</span><span class=\"token function\">mixin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function-variable function\">created</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">//4. Một phương thức global</span>\n\t<span class=\"token class-name\">Vue</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">$myMethod</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">methodOptions</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Sau đó khai báo với Vue sử dụng plugin này</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>MyPlugin<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"trường-hợp-nên-sử-dụng-render-function-mà-không-dùng-kiểu-viết-template\"><a href=\"#tr%C6%B0%E1%BB%9Dng-h%E1%BB%A3p-n%C3%AAn-s%E1%BB%AD-d%E1%BB%A5ng-render-function-m%C3%A0-kh%C3%B4ng-d%C3%B9ng-ki%E1%BB%83u-vi%E1%BA%BFt-template\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Trường hợp nên sử dụng render function mà không dùng kiểu viết template</h2>\n<p>Như tạo component động dựa trên input hoặc giá trị slot</p>\n<h2 id=\"mục-đích-của-thẻ-keep-alive\"><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-th%E1%BA%BB-keep-alive\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mục đích của thẻ <code class=\"language-inline-text\">keep-alive</code></h2>\n<p>Là một component dùng để giữ state và tránh việc re-render. Khi component trong trạng thái inactive nó sẽ cache lại chứ không destroy</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>keep-alive</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>comp-a</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a > 1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>comp-a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>comp-b</span> <span class=\"token attr-name\">v-else</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>comp-b</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>keep-alive</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"82-cấu-trúc-một-async-component\"><a href=\"#82-c%E1%BA%A5u-tr%C3%BAc-m%E1%BB%99t-async-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>82. Cấu trúc một async component</h2>\n<p>Vue có sẵn một factory function để <strong>lazy load</strong> component, được gọi với tên async component</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AsyncComponent</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  component<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./MyComponent.vue'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token comment\">// indicator để biết load xong chưa</span>\n  loading<span class=\"token operator\">:</span> LoadingComponent<span class=\"token punctuation\">,</span>\n\t<span class=\"token comment\">// nếu load bị lỗi</span>\n  error<span class=\"token operator\">:</span> ErrorComponent<span class=\"token punctuation\">,</span>\n\t<span class=\"token comment\">// mặc định 200ms, thời gian delay</span>\n  delay<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token comment\">// mặc định là không có giới hạn, sau thời gian này, ErrorComponent sẽ hiển thị</span>\n  timeout<span class=\"token operator\">:</span> <span class=\"token number\">3000</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"x-template\"><a href=\"#x-template\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>x template</h2>\n<p>Cho phép chúng ta có thể định nghĩa một template bằng thẻ <code class=\"language-inline-text\">script</code>, chỉ cần thêm vào <code class=\"language-inline-text\">text/x-template</code></p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/x-template<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>script-template<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n\t<span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>vuilaptrinh<span class=\"token punctuation\">.</span>com<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">x-template-example</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\ttemplate<span class=\"token operator\">:</span> <span class=\"token string\">'#script-template'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"mục-đích-của-once\"><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-once\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mục đích của <code class=\"language-inline-text\">once</code></h2>\n<p>Nếu muốn render <strong>rất nhiều nội dung tĩnh</strong>, chúng ta chỉ cần thực hiện <strong>một lần</strong> và sau đó cache lại kết quả này.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">v-once</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">vuilaptrinh.com</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"mục-đích-của-rendererror\"><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-rendererror\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mục đích của <code class=\"language-inline-text\">renderError</code></h2>\n<p>Khi gọi hàm <code class=\"language-inline-text\">render</code> có phát sinh lỗi, hàm <code class=\"language-inline-text\">renderError</code> sẽ được gọi</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">h</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'An error'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token function\">renderError</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">h<span class=\"token punctuation\">,</span> err</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">h</span><span class=\"token punctuation\">(</span> <span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>style<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> color<span class=\"token operator\">:</span> <span class=\"token string\">'red'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">.</span>stack <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"nexttick-là-gì\"><a href=\"#nexttick-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">nextTick</code> là gì</h2>\n<p>Hàm <code class=\"language-inline-text\">nextTick()</code> cho phép chạy một hàm khác sau khi dữ liệu có thay đổi và DOM đã cập nhập.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// thay đổi dữ liệu</span>\nvm<span class=\"token punctuation\">.</span>msg <span class=\"token operator\">=</span> <span class=\"token string\">'vuilaptrinh'</span>\n<span class=\"token comment\">// DOM chưa update</span>\nVue<span class=\"token punctuation\">.</span><span class=\"token function\">nextTick</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// DOM đã update</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Có thể dùng như `.then` như Promise</span>\nVue<span class=\"token punctuation\">.</span><span class=\"token function\">nextTick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// DOM đã update</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"làm-sao-để-force-update\"><a href=\"#l%C3%A0m-sao-%C4%91%E1%BB%83-force-update\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Làm sao để force update</h2>\n<p>Trường hợp phải force update rất hiếm xảy ra. Nhưng nếu muốn chúng ta có thể gọi <code class=\"language-inline-text\">vm.$forceUpdate()</code> để ép buộc re-render</p>\n","cover_image":"","related":[{"id":"1919bceb9000f1bff00371b6a3dfd527","path":"/2019-10-28-gioi-thieu-ve-do-phuc-tap-cua-thuat-toan/","title":"Độ phức tạp của thuật toán","desc":"Một cách chuẩn hóa trong ngành lập trình để đánh giá độ phức tạp của giải thuật"},{"id":"947609e16439d2c38254d1167ee07c91","path":"/2019-11-01-muoi-kinh-nghiem-lam-viec-voi-du-an-vue-lon/","title":"10 kinh nghiệm khi làm việc với các dự án lớn viết bằng Vue.js","desc":"Đây là 10 kinh nghiệm được đúc kết trong lúc làm việc với các bộ source lớn. Vấn đề với tất cả các bộ source lớn là nó rất khó để bảo trì."},{"id":"0f44ee174018384de200da37b4aac6d7","path":"/2018-10-18-huong-dan-dung-chrome-dev-tool-de-kiem-tra-contrast/","title":"Hướng dẫn sử dụng công cụ để check contrast trong Chrome","desc":"Tip siêu ngắn để kiểm tra contrast có hợp nhãn với Chrome không"},{"id":"a7e89d50840ffec4ea823cdb901cb72b","path":"/2019-10-30-gioi-thieu-jamstack/","title":"JAMstack và ngành công nghiệp hủ tiếu gõ Việt Nam","desc":"Sau khi đọc bài này, bạn sẽ hiểu được JAMstack là gì, lợi lộc gì, để hiện thức hóa JAMstack bạn cần nghiên cứu những công cụ gì"}]}},"context":{}}
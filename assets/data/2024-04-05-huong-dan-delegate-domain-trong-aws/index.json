{"hash":"e1532d0aebaf3bcf47bbf8a08cbde03cecbbc9cf","data":{"post":{"title":"Hướng dẫn delegate domain với AWS","path":"/2024-04-05-huong-dan-delegate-domain-trong-aws/","slug":"2024-04-05-huong-dan-delegate-domain-trong-aws","date":"2024-04-05","timeToRead":1,"tags":[{"id":"aws","title":"aws","path":"/tag/aws/"},{"id":"beginner","title":"beginner","path":"/tag/beginner/"},{"id":"dev-ops","title":"dev-ops","path":"/tag/dev-ops/"}],"desc":"Trong bài hôm nay chúng ta cùng tìm hiểu cách delegate một domain trong AWS","content":"<p>Trước tiên chúng ta cần biết delegate domain sẽ giải quyết bài toán gì</p>\n<p>Mình lấy ví dụ, Công ty Furfel đang sở hữu tên miền <code class=\"language-inline-text\">furfel.net</code>, là trang web chính của công ty\nCông ty thuê công ty Dev phát triển thêm một số dịch vụ trên tên miền con <code class=\"language-inline-text\">dev.furfel.net</code>\nCông ty Furfel sẽ trao toàn bộ quyền quyết định trên tên miền <code class=\"language-inline-text\">dev.furfel.net</code> cho công ty Dev, và chỉ nắm quyền trên tên miền cha là <code class=\"language-inline-text\">furfel.net</code></p>\n<p>Đây là bài toán mà <strong>delegate domain</strong> sẽ giải quyết</p>\n<p>Để delegate domain trong AWS thì kiến trúc tổng quát sẽ như hình bên dưới</p>\n<p><img src=\"https://i.imgur.com/w5fQhyQl.png\"></p>\n<p>Bên trong Route 53, chúng ta sẽ tạo một <strong>Public Hosted Zone</strong>, lưu ý là <strong>public</strong> với tên <strong>giống hoàn toàn với domain chính</strong>, theo ví dụ sẽ là <code class=\"language-inline-text\">furfel.net</code></p>\n<p><img src=\"https://media.dev.to/cdn-cgi/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fael6xqiv8gyd9rnk83g1.jpg\" alt=\"Public Hosted Zone furfel.net\"></p>\n<p>Sau khi tạo xong hosted zone <code class=\"language-inline-text\">furfel.net</code>, chúng ta mang giá trị NS (name server) của hosted zone vừa tạo đưa cho công ty đang nắm quyền trên tên miền <code class=\"language-inline-text\">furfel.net</code></p>\n<p><img src=\"https://media.dev.to/cdn-cgi/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fael6xqiv8gyd9rnk83g1.jpg\" alt=\"Copy giá trị Nameserver của publich hosted zone vừa tạo\"></p>\n<p>Công ty Furfel sẽ vào phần quản lý tên miền và đưa toàn bộ giá trị nameserver vào như một <em>external name server</em> là xem như đã delegate xong sub domain cho công ty Dev</p>\n<p><img src=\"https://media.dev.to/cdn-cgi/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Ffuq5hfcya9thvarrizn9.jpg\" alt=\"Đưa giá trị NS vào trong tên miền chính\"></p>\n<p>Công ty Dev để thêm tên miền <code class=\"language-inline-text\">dev.furfel.net</code>, việc cần làm là tạo thêm một public hosted zone mới, với tên <code class=\"language-inline-text\">dev.furfel.net</code></p>\n<p><img src=\"https://media.dev.to/cdn-cgi/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Ftwj6kpdp0vym6edjmmw9.jpg\" alt=\"Public Hosted Zone dev.furfel.net\"></p>\n<p>Copy toàn bộ giá trị NS của hosted zone <code class=\"language-inline-text\">dev.furfel.net</code>, rồi quay lại hosted zone <code class=\"language-inline-text\">furfel.net</code></p>\n<p><img src=\"https://media.dev.to/cdn-cgi/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fdfjgs3ryjwnvszvwghzb.jpg\" alt=\"NS của dev.furfel.net\"></p>\n<p>Thêm một record mới tên dev, type là NS và paste giá trị Nameserver vừa copy</p>\n<p><img src=\"https://media.dev.to/cdn-cgi/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F9qg56ridyrk3192mk9sn.jpg\" alt=\"Thêm record mới tên dev bên trong hosted zone dev.furfel.net\"></p>\n","cover_image":"","related":[{"id":"f883f0d03362d7946c526a18f0a2f685","path":"/2018-11-01-gioi-thieu-npm-link/","title":"Hướng dẫn dùng npm link","desc":"Cách dùng npm link để trỏ dependency đến thư mục local"},{"id":"996dfeac96bccc094b4f736116b47426","path":"/2020-10-26-huong-dan-su-dung-usememo-react/","title":"Hướng dẫn sử dụng useMemo trong React","desc":"Nếu bạn thấy app của mình bắt đầu chậm, đó là lúc bạn nên bắt đầu cân nhắc các phương pháp để tối ưu tốc độ và đọc bài viết này."},{"id":"2d0dff1266f55c3fb2501063a1f1e96f","path":"/2018-10-21-huong-dan-dung-chrome-devtool-de-inspect-animation/","title":"Hướng dẫn inspect animation với Chrome DevTools","desc":"Học cách sử dụng công cụ inspection animation trong Chrome DevTools rất hữu ích khi làm animate."},{"id":"5edad5c8a080765a4661609a5237130c","path":"/2020-05-05-huong-dan-viet-unit-test-cho-react/","title":"Hướng dẫn viết unit test trong React","desc":"Một bài viết tổng hợp, sẽ cố gắng đề cập càng nhiều càng tốt các vấn đề có thể gặp khi đụng đến unit test với React."}]}},"context":{}}
{"hash":"32a692caa050f4449db6ef3758917749cdab929d","data":{"post":{"title":"PhÃ¢n biá»‡t sá»± khÃ¡c nhau giá»¯a Identity vÃ  Resource Base Policy trong AWS IAM","path":"/2022-09-25-phan-biet-identity-va-resource-base-policy/","slug":"2022-09-25-phan-biet-identity-va-resource-base-policy","date":"2022-09-25","timeToRead":2,"tags":[{"id":"aws","title":"aws","path":"/tag/aws/"},{"id":"beginner","title":"beginner","path":"/tag/beginner/"}],"desc":"Series má»™t sá»‘ kiáº¿n thá»©c cáº§n cÃ³ Ä‘á»ƒ láº¥y chá»©ng chá»‰ AWS","content":"<p><strong>IDENTITY</strong>-based policy gÃ¡n cho <code class=\"language-inline-text\">user</code>, <code class=\"language-inline-text\">group</code>, hoáº·c <code class=\"language-inline-text\">role</code> (gá»i chung lÃ  <code class=\"language-inline-text\">identity</code>). Chá»‰ Ä‘á»‹nh nhá»¯ng quyá»n gÃ¬ mÃ  <em>identity</em> cÃ³ thá»ƒ lÃ m\n<strong>RESOURCE</strong>-based policy gÃ¡n cho <em>resource</em>, vÃ­ dá»¥ nhÆ° S3 bucket, SQS queue, VPC endpooint</p>\n<p>Trong tÃ¬nh huá»‘ng <code class=\"language-inline-text\">user</code> <em>khÃ´ng Ä‘Æ°á»£c cáº¥p quyá»n</em> trÃªn S3 bucket A (khÃ´ng Ä‘Æ°á»£c cáº¥p khÃ´ng Ä‘á»“ng nghÄ©a vá»›i viá»‡c bá»‹ cáº¥m), nhÆ°ng resource policy Ä‘ang gÃ¡n cho bucket A cho phÃ©p má»i user upload vÃ o bucket nÃ y, thÃ¬ <code class=\"language-inline-text\">user</code> váº«n cÃ³ thá»ƒ upload</p>\n<p>VÃ­ dá»¥, cÃ³ <em>identity policy</em></p>\n<ul>\n<li>User A: List, Read trÃªn resource A</li>\n<li>User B: List, Read trÃªn resource B, C</li>\n<li>User C: List, Read, Write trÃªn Resource A,B,C</li>\n<li>User D: KhÃ´ng cÃ³ policy nÃ o cáº£</li>\n</ul>\n<p>Tiáº¿p Ä‘Ã³ chÃºng ta cÃ³ <em>resource policy</em></p>\n<ul>\n<li>Resource A: User A = (List, Read), User C = (List, Read)</li>\n<li>Resource B: User B = (List, Write), User D = (List, Read)</li>\n<li>Resouce C: User B = Denied Access, User D: Full Access</li>\n</ul>\n<p>ThÃ¬ káº¿t quáº£ tá»« 2 policy khi Ã¡p dá»¥ng sáº½ lÃ </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>LIST</th>\n<th>READ</th>\n<th>WRITE</th>\n<th>DENIED</th>\n<th>FULL ACCCESS</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>User A</td>\n<td>RES A</td>\n<td>RES A</td>\n<td>ğŸš«</td>\n<td>ğŸš«</td>\n<td>ğŸš«</td>\n</tr>\n<tr>\n<td>User B</td>\n<td>RES B</td>\n<td>RES B</td>\n<td>RES B</td>\n<td>RES C</td>\n<td>ğŸš«</td>\n</tr>\n<tr>\n<td>User C</td>\n<td>RES A,B,C</td>\n<td>RES A,B,C</td>\n<td>RES A,B,C</td>\n<td>ğŸš«</td>\n<td>ğŸš«</td>\n</tr>\n<tr>\n<td>User D</td>\n<td>RES B</td>\n<td>RES B</td>\n<td>ğŸš«</td>\n<td>ğŸš«</td>\n<td>RES C</td>\n</tr>\n</tbody>\n</table>\n<p>Khi <strong>identity</strong>-based policy káº¿t há»£p vá»›i <strong>Permission Boundary</strong>, láº¥y pháº§n chung giá»¯a hai táº­p</p>\n<p><img src=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/images/permissions_boundary.png\"></p>\n<p>Khi <strong>Resource</strong>-based policy káº¿t há»£p vá»›i <em>identity</em>-based policy vÃ  permission boundary, nÃ³ hÆ¡i ngoÃ i lá» má»™t chÃºt, láº¥y táº¥t cáº£ nhá»¯ng pháº§n chung giá»¯a ba táº­p há»£p cá»™ng vá»›i táº¥t cáº£ nhá»¯ng gÃ¬ cÃ³ trong resource-base policy</p>\n<p><img src=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/images/EffectivePermissions-rbp-boundary-id.png\"></p>\n<p>Khi káº¿t há»£p giá»¯a táº­p <em>Service Control Policy</em>, <em>Permission boundary</em> vÃ  <em>identity-base policy</em>, chÃºng ta chá»‰ láº¥y pháº§n tá»­ chung cá»§a cáº£ 3</p>\n<p><img src=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/images/EffectivePermissions-scp-boundary-id.png\"></p>\n<p>Tham kháº£o thÃªm <a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_boundaries.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"># Permissions boundaries for IAM entities</a></p>\n","cover_image":"","related":[{"id":"03c24b35f02139473e6c5d2412a4ee9b","path":"/2020-07-30-phan-biet-su-khac-nhau-giua-await-return-await/","title":"PhÃ¢n biá»‡t sá»± khÃ¡c nhau giá»¯a await-return-return await","desc":"Náº¯m rÃµ async khÃ´ng bao giá» lÃ  má»™t kiáº¿n thá»©c thá»«a."},{"id":"8252c4f039ec3be236389aeab96597e4","path":"/2020-09-01-phan-biet-giua-npm-va-npx/","title":"Sá»± khÃ¡c nhau giá»¯a npm vÃ  npx?","desc":"BÃ i viáº¿t nÃ y sáº½ giáº£i thÃ­ch ngáº¯n gá»n nháº¥t cÃ³ thá»ƒ sá»± khÃ¡c nhau vá» má»¥c Ä‘Ã­ch cá»§a 2 tháº±ng nÃ y"},{"id":"591905fac7f3bf828c968a36492cacfa","path":"/2021-08-22-phan-biet-same-site-same-origin/","title":"PhÃ¢n biá»‡t same-site vÃ  same-origin","desc":""},{"id":"983abf003964446de7951a6fb6f1b0de","path":"/2020-05-30-5-diem-khac-nhau-giua-arrow-function-va-function-thong-thuong/","title":"5 Ä‘iá»ƒm khÃ¡c nhau giá»¯a function thÆ°á»ng vÃ  arrow function","desc":"Lá»±a chá»n cÃ¡ch viáº¿t nÃ o cho phÃ¹ há»£p theo tÃ­nh huá»‘ng Ä‘ang cáº§n lÃ  cÃ¡i chÃºng ta sáº½ cÃ³ Ä‘Æ°á»£c cÃ¢u tráº£ lá»i khi Ä‘i qua 5 Ä‘iá»ƒm khÃ¡c biá»‡t nÃ y"}]}},"context":{}}
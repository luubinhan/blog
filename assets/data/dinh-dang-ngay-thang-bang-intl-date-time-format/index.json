{"hash":"caea05e5fffa0cfcd138bf0521c438fe71931a82","data":{"post":{"title":"Định dạng ngày tháng bằng Intl.DateTimeFormat","path":"/dinh-dang-ngay-thang-bang-intl-date-time-format/","date":"2020-02-26","timeToRead":2,"tags":[{"id":"javascript","title":"javascript","path":"/tag/javascript/"}],"desc":"","content":"<p>Trong javascript, hiệp hội quốc tế <strong>ECMAScript</strong> công bố một object tên là <strong>Intl</strong>, trong đó có chứa tất cả các phương thức liên quan tới bản địa hóa (ngôn ngữ, ngày tháng, định dạng tiền tệ, vâng vâng). Cùng lướt qua API <code class=\"language-text\">Intl.DateTimeFormat</code> được cung cấp</p>\n<p>Một chuỗi chuẩn ISO cho ngày tháng</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// \"2020-02-05T16:30:41.392Z\"</span></code></pre>\n<p>Được sử dụng trong thẻ HTML</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>time</span> <span class=\"token attr-name\">datetime</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2020-02-05T16:30:41.392Z<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Published on ...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>time</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">property</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>article:published_time<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2020-02-05T16:30:41.392Z<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p>Các công cụ tìm kiếm sẽ đọc các giá trị này một cách rất dễ dàng. Nhưng nếu là người bình thường chúng ta không <em>thích</em> như vậy, chuyển đổi qua lại giữa các định dạng theo từng khu vực là điều bắt buộc.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>time</span> <span class=\"token attr-name\">datetime</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2020-02-05T16:30:41.392Z<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Pubblicato il 05 Febbraio 2020<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>time</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>time</span> <span class=\"token attr-name\">datetime</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2020-02-05T16:30:41.392Z<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Published on February 05, 2020<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>time</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Sử dụng API để hiển thị cho dân US-UK</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> month<span class=\"token operator\">:</span> <span class=\"token string\">\"long\"</span><span class=\"token punctuation\">,</span> day<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span> year<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>isoString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> americanDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intl<span class=\"token punctuation\">.</span>DateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"en-US\"</span><span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">format</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p><img src=\"https://www.valentinog.com/blog/static/74b4c25784e69862e30d7bb492baa1a6/a6d36/intl-datetimeformat.png\" alt=\"Định dạng ngày tháng bằng Intl.DateTimeFormat\"></p>\n<p>Để xem tài liệu đầy đủ, xem trên <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MDN</a></p>\n<p>Bạn sẽ thấy thằng <code class=\"language-text\">Intl.DateTimeFormat</code> sẽ cho kết quả tương tự như <code class=\"language-text\">toLocaleDateString</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> month<span class=\"token operator\">:</span> <span class=\"token string\">\"long\"</span><span class=\"token punctuation\">,</span> day<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span> year<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> longDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toLocaleDateString</span><span class=\"token punctuation\">(</span>locale<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>Vậy xài cái nào?</strong>, ngắn gọn, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString#Performance\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">Intl.DateTimeFormat</code> là lựa chọn sáng suốt xét trên phương diện tốc độ</a></p>\n<p>Cũng đáng nhắc đến, <code class=\"language-text\">format()</code> sẽ trả về ngày hiện tại nếu không truyền tham số cho nó.</p>\n<p><code class=\"language-text\">new Date()</code> hiển thị kết quả (<strong>không phải trả về</strong>) như thế này \"Wed Feb 05 2020 18:46:03 GMT+0100 (Central European Standard Time)\" khi gọi trong trình duyệt, cùng constructor đó gọi trong Node.js sẽ hiển thị (<strong>không phải trả về</strong>) chuỗi ISO \"2020-02-05T17:47:03.065Z\"</p>\n<p><a href=\"http://pop.frontendweekly.co/PnJd79\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Formatting dates in JavaScript with Intl.DateTimeFormat</a></p>\n","cover_image":""}},"context":{}}
{"hash":"f14dc783cbb94c047b7e77ba6849dad3274d3eaa","data":{"post":{"title":"Phân biệt same-site và same-origin","path":"/2021-08-22-phan-biet-same-site-same-origin/","slug":"/2021-08-22-phan-biet-same-site-same-origin","date":"2021-08-22","timeToRead":1,"tags":[{"id":"hoc-thuat","title":"hoc-thuat","path":"/tag/hoc-thuat/"},{"id":"web","title":"web","path":"/tag/web/"}],"desc":"","content":"<h2 id=\"origin\"><a href=\"#origin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>origin</h2>\n<p><img src=\"https://web-dev.imgix.net/image/admin/PX5HrIMPlgcbzYac3FHV.png?auto=format&#x26;w=845\"></p>\n<blockquote>\n<p><strong>origin</strong> = scheme + host name + port</p>\n</blockquote>\n<p>Ví dụ nếu có URL là: <code class=\"language-inline-text\">https:///www.example.com:443/foo</code> thì <em>origin</em> của nó là <code class=\"language-inline-text\">https://www.example.com:443</code></p>\n<p>Vậy <strong>same-origin</strong> tức là những url có cùng scheme, host name, port, ngược lại thì gọi là <strong>cross-origin</strong></p>\n<table>\n<thead>\n<tr>\n<th>Origin A</th>\n<th>Origin B</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://www.example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com:443</a></td>\n<td><a href=\"https://**example.com**:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://**example.com**:443</a></td>\n<td>cross-origin: khác subdomain</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://**www.evil.com**:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://**www.evil.com**:443</a></td>\n<td>cross-origin: khác domain</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://**login**.example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://**login**.example.com:443</a></td>\n<td>cross-origin: khác subdomain</td>\n</tr>\n<tr>\n<td></td>\n<td><strong>http</strong>://www.example.com:443</td>\n<td>cross-origin: khác scheme</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://www.example.com:**80**\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com:**80**</a></td>\n<td>cross-origin: khác port</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://www.example.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com</a></td>\n<td>same-origin:  ngầm hiểu cùng port 443 (port mặc định của web)</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"site\"><a href=\"#site\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Site</h2>\n<p><img src=\"https://web-dev.imgix.net/image/admin/oSRJzCJIr4OjGzUhcNDP.png?auto=format&#x26;w=845\"></p>\n<p>Top-level domains (TLDs) như <code class=\"language-inline-text\">.com</code>, <code class=\"language-inline-text\">.org</code> được liệt kê trong <a href=\"https://www.iana.org/domains/root/db\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">trang này</a></p>\n<blockquote>\n<p><strong>site</strong> =TLD + phần ngay phía trước domain</p>\n</blockquote>\n<p>Với ví dụ trên, thì site = <code class=\"language-inline-text\">example.com</code></p>\n<p>Tuy nhiên với những tên miền kiểu <code class=\"language-inline-text\">.com.vn</code>, <code class=\"language-inline-text\">github.io</code>, cách xác định site này không còn đúng, nên người ta tạo thêm danh sách <em>effective TLDs (eTLDs)</em>, <a href=\"https://publicsuffix.org/list/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">xem chi tiết publicsuffix.org/list</a></p>\n<p>Ví dụ, URL <code class=\"language-inline-text\">https://my-project.github.io</code> thì site = <code class=\"language-inline-text\">my-project.github.io</code></p>\n<p><img src=\"https://web-dev.imgix.net/image/admin/qmr35hpnIvpouOe9591g.png?auto=format&#x26;w=845\"></p>\n<p>Vậy <strong>same-site</strong> là những url có cùng site, ngược lại được gọi là <strong>cross-site</strong></p>\n<table>\n<thead>\n<tr>\n<th>URL A</th>\n<th>URL B</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://www.example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com:443</a></td>\n<td><a href=\"https://**www.evil.com**:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://**www.evil.com**:443</a></td>\n<td>cross-site: khác domain</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://**login**.example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://**login**.example.com:443</a></td>\n<td>same-site: khác subdomain không sao</td>\n</tr>\n<tr>\n<td></td>\n<td><strong>http</strong>://www.example.com:443</td>\n<td>same-site: khác scheme không sao</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://www.example.com:**80**\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com:**80**</a></td>\n<td>same-site: khác port không sao</td>\n</tr>\n<tr>\n<td></td>\n<td><strong><a href=\"https://www.example.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com</a></strong></td>\n<td>same-site</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>Gần đây khái niệm same-site được mở rộng và bao gồm luôn scheme</p>\n</blockquote>\n<p>Nếu tính luôn scheme, thì <code class=\"language-inline-text\">http://example.com</code> và <code class=\"language-inline-text\">https://example.com</code> là cross-site vì khác scheme</p>\n<p><a href=\"https://web.dev/same-site-same-origin/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://web.dev/same-site-same-origin/</a></p>\n","cover_image":"","related":[{"id":"ab67ae8850336939a2af1f93578fa95c","path":"/2020-07-30-phan-biet-su-khac-nhau-giua-await-return-await/","title":"Phân biệt sự khác nhau giữa await-return-return await","desc":"Nắm rõ async không bao giờ là một kiến thức thừa."},{"id":"8905cbcbcbfca00a569175a000425311","path":"/2017-09-25-10-khai-niem-javascript-can-biet/","title":"7 khái niệm JavaScript cần biết","desc":"Một vài khái niệm căn bản trong javascript cần nắm nếu bạn là frontend developer"},{"id":"88961dd95c384a396295f4eaba6f7986","path":"/2016-11-07-wordpress-va-google-accelerated-mobile-pages-amp-tat-ca-nhung-gi-ban-can-biet/","title":"Wordpress và Google Accelerated Mobile Pages (AMP): Tất cả những gì bạn cần biết","desc":"Trong giới làm web ai cũng biết một điều Speed is King. Dân tình thích mua một gói hàng trên mạng và phải được giao ngay lập tức, ít nhất là trong 24g, chậm trễ vài ngày là thấy hông vui, thích post tấm hình lên facebook có triệu triệu lượt người like ngay lập tức."},{"id":"a3122abaeff5dd1ef038b80398ff52d3","path":"/2019-07-13-nguyen-tac-moi-lap-trinh-vien-can-biet/","title":"10 nguyên lý lập trình nền tảng mà lập trình viên nào cũng cần biết","desc":"Nhớ thời đại học quá nên ôn lại kiến thức vở lòng mấy bạn ơi"}]}},"context":{}}
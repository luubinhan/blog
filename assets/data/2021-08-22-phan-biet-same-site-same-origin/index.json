{"hash":"ecc8ecd7f5d1caebd4de67fcaaf53086d59cd360","data":{"post":{"title":"Phân biệt same-site và same-origin","path":"/2021-08-22-phan-biet-same-site-same-origin/","slug":"/2021-08-22-phan-biet-same-site-same-origin","date":"2021-08-22","timeToRead":1,"tags":[{"id":"hoc-thuat","title":"hoc-thuat","path":"/tag/hoc-thuat/"},{"id":"web","title":"web","path":"/tag/web/"}],"desc":"","content":"<h2 id=\"origin\"><a href=\"#origin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>origin</h2>\n<p><img src=\"https://web-dev.imgix.net/image/admin/PX5HrIMPlgcbzYac3FHV.png?auto=format&#x26;w=845\"></p>\n<blockquote>\n<p><strong>origin</strong> = scheme + host name + port</p>\n</blockquote>\n<p>Ví dụ nếu có URL là: <code class=\"language-inline-text\">https:///www.example.com:443/foo</code> thì <em>origin</em> của nó là <code class=\"language-inline-text\">https://www.example.com:443</code></p>\n<p>Vậy <strong>same-origin</strong> tức là những url có cùng scheme, host name, port, ngược lại thì gọi là <strong>cross-origin</strong></p>\n<table>\n<thead>\n<tr>\n<th>Origin A</th>\n<th>Origin B</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://www.example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com:443</a></td>\n<td><a href=\"https://example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://example.com:443</a></td>\n<td>cross-origin: khác subdomain</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://www.evil.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.evil.com:443</a></td>\n<td>cross-origin: khác domain</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://login.example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://login.example.com:443</a></td>\n<td>cross-origin: khác subdomain</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"http://www.example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.example.com:443</a></td>\n<td>cross-origin: khác scheme</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://www.example.com:80\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com:80</a></td>\n<td>cross-origin: khác port</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://www.example.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com</a></td>\n<td>same-origin:  ngầm hiểu cùng port 443 (port mặc định của web)</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"site\"><a href=\"#site\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Site</h2>\n<p><img src=\"https://web-dev.imgix.net/image/admin/oSRJzCJIr4OjGzUhcNDP.png?auto=format&#x26;w=845\"></p>\n<p>Top-level domains (TLDs) như <code class=\"language-inline-text\">.com</code>, <code class=\"language-inline-text\">.org</code> được liệt kê trong <a href=\"https://www.iana.org/domains/root/db\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">trang này</a></p>\n<blockquote>\n<p><strong>site</strong> =TLD + phần ngay phía trước domain</p>\n</blockquote>\n<p>Với ví dụ trên, thì site = <code class=\"language-inline-text\">example.com</code></p>\n<p>Tuy nhiên với những tên miền kiểu <code class=\"language-inline-text\">.com.vn</code>, <code class=\"language-inline-text\">github.io</code>, cách xác định site này không còn đúng, nên người ta tạo thêm danh sách <em>effective TLDs (eTLDs)</em>, <a href=\"https://publicsuffix.org/list/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">xem chi tiết publicsuffix.org/list</a></p>\n<p>Ví dụ, URL <code class=\"language-inline-text\">https://my-project.github.io</code> thì site = <code class=\"language-inline-text\">my-project.github.io</code></p>\n<p><img src=\"https://web-dev.imgix.net/image/admin/qmr35hpnIvpouOe9591g.png?auto=format&#x26;w=845\"></p>\n<p>Vậy <strong>same-site</strong> là những url có cùng site, ngược lại được gọi là <strong>cross-site</strong></p>\n<table>\n<thead>\n<tr>\n<th>URL A</th>\n<th>URL B</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://www.example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com:443</a></td>\n<td><a href=\"https://www.evil.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.evil.com:443</a></td>\n<td>cross-site: khác domain</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://login.example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://login.example.com:443</a></td>\n<td>same-site: khác subdomain không sao</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"http://www.example.com:443\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.example.com:443</a></td>\n<td>same-site: khác scheme không sao</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://www.example.com:80\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com:80</a></td>\n<td>same-site: khác port không sao</td>\n</tr>\n<tr>\n<td></td>\n<td><a href=\"https://www.example.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.example.com</a></td>\n<td>same-site</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>Gần đây khái niệm same-site được mở rộng và bao gồm luôn scheme</p>\n</blockquote>\n<p>Nếu tính luôn scheme, thì <code class=\"language-inline-text\">http://example.com</code> và <code class=\"language-inline-text\">https://example.com</code> là cross-site vì khác scheme</p>\n<p><a href=\"https://web.dev/same-site-same-origin/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://web.dev/same-site-same-origin/</a></p>\n","cover_image":"","related":[{"id":"03c24b35f02139473e6c5d2412a4ee9b","path":"/2020-07-30-phan-biet-su-khac-nhau-giua-await-return-await/","title":"Phân biệt sự khác nhau giữa await-return-return await","desc":"Nắm rõ async không bao giờ là một kiến thức thừa."},{"id":"933ee8a3a9e6b3f4f384e1dc4805c7d1","path":"/2022-09-25-phan-biet-identity-va-resource-base-policy/","title":"Phân biệt sự khác nhau giữa Identity và Resource Base Policy trong AWS IAM","desc":"Series một số kiến thức cần có để lấy chứng chỉ AWS"},{"id":"160d27dac75af6f7e148950cdf7c4ac4","path":"/2017-09-25-10-khai-niem-javascript-can-biet/","title":"7 khái niệm JavaScript cần biết","desc":"Một vài khái niệm căn bản trong javascript cần nắm nếu bạn là frontend developer"},{"id":"43406148266add9ca30a703612341dbb","path":"/2022-05-01-tat-ca-nhung-gi-can-biet-de-lam-viec-voi-avatar-trong-react/","title":"Tất cả những gì bạn cần biết khi làm user avatar trong React","desc":""}]}},"context":{}}
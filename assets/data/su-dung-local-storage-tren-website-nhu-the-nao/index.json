{"hash":"b42727c700336131a477fb600bb04c628a9b0eca","data":{"post":{"title":"Sử dụng localStorage trên website như thế nào","path":"/su-dung-local-storage-tren-website-nhu-the-nao/","date":"2018-10-21","timeToRead":1,"tags":[{"id":"javascript","title":"javascript","path":"/tag/javascript/"}],"desc":"Kiến thức căn bản sử dụng localStorage để lưu thông tin cần thiết xuống trình duyệt","content":"<h1 id=\"vì-sao-chúng-ta-cần-localstorage\"><a href=\"#v%C3%AC-sao-ch%C3%BAng-ta-c%E1%BA%A7n-localstorage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Vì sao chúng ta cần localStorage</h1>\n<p>Nói đến HTTP, nó là dạng kết nối <em>stateless</em>, nghĩa là khi đóng một ứng dụng web, lần truy cập sau mọi thứ bị reset lại như ban đầu.</p>\n<p><strong>localStorag</strong>e đơn giản là nó giúp dev chúng ta lưu lại một vài thông tin ở phía trình duyệt của user, để lần sau truy cập ta có thể truy xuất các thông tin này.</p>\n<h1 id=\"cookie-không-đủ-xài\"><a href=\"#cookie-kh%C3%B4ng-%C4%91%E1%BB%A7-x%C3%A0i\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cookie không đủ xài</h1>\n<p>Cookie là một dạng file text lưu trên máy tính của user, link đến từng domain. Một vài giới hạn của cookie</p>\n<p>Tất cả request đến domain, đều sẽ nhét cái cookie này vào trên <code class=\"language-text\">header</code></p>\n<p>Tối đa có 4KB dung lượng</p>\n<h1 id=\"sử-dụng-localstorage-trên-trình-duyệt-hỗ-trợ-html5\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-localstorage-tr%C3%AAn-tr%C3%ACnh-duy%E1%BB%87t-h%E1%BB%97-tr%E1%BB%A3-html5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Sử dụng localStorage trên trình duyệt hỗ trợ HTML5</h1>\n<p>Cú pháp để set, get, delete giá trị của <code class=\"language-text\">localStorage</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// set</span>\n<span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setItem</span><span class=\"token punctuation\">(</span>‘tentui’<span class=\"token punctuation\">,</span>’luubinhan’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// get</span>\n<span class=\"token maybe-class-name\">Var</span> tentui <span class=\"token operator\">=</span> <span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setItem</span><span class=\"token punctuation\">(</span>‘tentui’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// -> luubinhan</span>\n\n<span class=\"token comment\">// delete</span>\n<span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">removeItem</span><span class=\"token punctuation\">(</span>‘tentui’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h1 id=\"làm-việc-trên-object\"><a href=\"#l%C3%A0m-vi%E1%BB%87c-tr%C3%AAn-object\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Làm việc trên object</h1>\n<p>Vì khi lưu chúng ta chỉ có thể đưa <code class=\"language-text\">string</code> vào trong <code class=\"language-text\">localStorage</code>, để đưa một object</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1c7f4cfb-16dc-40c8-9b56-644a1792a3c2/console-e1285930679229.png\" alt=\"Làm việc trên object\"></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token maybe-class-name\">Var</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token maybe-class-name\">Name</span><span class=\"token operator\">:</span> ‘an’<span class=\"token punctuation\">,</span>\n\t<span class=\"token maybe-class-name\">Age</span><span class=\"token operator\">:</span> ‘<span class=\"token number\">18</span><span class=\"token operator\">+</span>’<span class=\"token punctuation\">,</span>\n\t<span class=\"token maybe-class-name\">Gender</span><span class=\"token operator\">:</span> ‘superman’\n<span class=\"token punctuation\">}</span>\n<span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setItem</span><span class=\"token punctuation\">(</span>‘user’<span class=\"token punctuation\">,</span> <span class=\"token known-class-name class-name\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">stringify</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token maybe-class-name\">Console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token known-class-name class-name\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getItem</span><span class=\"token punctuation\">(</span>‘user’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h1 id=\"thông-tin-lưu-xuống-localstorage\"><a href=\"#th%C3%B4ng-tin-l%C6%B0u-xu%E1%BB%91ng-localstorage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thông tin lưu xuống <code class=\"language-text\">localStorage</code></h1>\n<ul>\n<li>Để cache những dữ liệu lớn, tốn thời gian để load.</li>\n<li>Lưu lại trạng thái của giao diện user đã custom, có thể lưu cả một đoạn HTML xuống <code class=\"language-text\">localStorage</code></li>\n</ul>\n<p>Đọc thêm <a href=\"/2018-09-17-huong-dan-luu-token-o-dau\">Lưu token ở đâu?</a> để so sánh với <code class=\"language-text\">sessionStorage</code> và <code class=\"language-text\">cookie</code></p>\n<p><a href=\"https://www.smashingmagazine.com/2010/10/local-storage-and-how-to-use-it/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Local Storage And How To Use It On Websites</a></p>\n","cover_image":"","related":[{"id":"f8528e820fefc73636e76fd4e555b660","path":"/su-dung-css-content-nhu-the-nao-cho-dung/","title":"Sử dụng CSS content như thế nào cho đúng","desc":"Thuộc tính content trong CSS thường được sử dụng cùng với 2 ghost element là after và before, những giá trị nào có thể đưa vào cho thuộc tính content này"},{"id":"dea079a7d56929f46cf5c0bdd1070ebf","path":"/redux-van-hanh-nhu-the-nao/","title":"Redux vận hành như thế nào","desc":"Actions, reducers, action creators, middleware, pure functions, immutability,... những ngoại ngữ làm rối bất kỳ ai nếu chưa biết redux"},{"id":"67335fb1f2a382145c69b99fe4e01d34","path":"/su-dung-react-context-nhu-the-nao-cho-hieu-qua/","title":"Sử dụng React Context như thế nào cho hiệu quả","desc":"Để có thể quản lý được state của ứng dụng một cách tốt nhất, chúng ta cần sự phân chia phù hợp giữa local state (internal state của component) và state cửa ứng dụng đặt trong React Context. Một vài điều muốn chia sẽ để nâng cao khả năng bảo trì và trải nghiệm nếu sử dụng đến context trong React."},{"id":"cb3f4bb6b7e51df501700726716dff04","path":"/tai-sao-su-dung-flow-va-su-dung-flow-nhu-the-nao-trong-react/","title":"Tại sao sử dụng Flow, và sử dụng Flow như thế nào trong React","desc":"Tại sao chúng ta cần type checking trong javascript, tại sao Flow lại là lựa chọn của nhiều developer hiện nay"},{"id":"82815509b42f03b7df5ff8ab1af616b8","path":"/this-set-state-trong-react-chay-nhu-the-nao/","title":"this.setState trong React chạy như thế nào","desc":"Giải đáp thắc mắc vì sao this.setState có thể update DOM, chạy được trên mobile, chạy được trên bất kỳ môi trường nào"},{"id":"d8795a1d2d36d8b231145f80a5f79d96","path":"/kieu-enum-trong-type-script-lam-viec-nhu-the-nao-su-dung-ra-sao/","title":"Kiểu enum trong TypeScript: làm việc như thế nào, sử dụng ra sao","desc":"Chúng ta sẽ trả lời 2 câu hỏi sau: enum của TypeScript làm việc như thế nào, Nó được sử dụng để làm gì. Vở lòng cho người mới viết TypeScript"},{"id":"5eadb4fb31a8a53f91d7af473359e9f1","path":"/function-component-khac-class-component-nhu-the-nao-trong-react/","title":"Function Component khác Class component như thế nào trong React","desc":"Ngày xưa khi chưa có hook, thì rất dễ để trả lời câu này, nhưng từ ngày hook được sử dụng, câu hỏi lại này lại được đặt ra, ủa vậy 2 thằng nó khác nhau ở điểm nào."},{"id":"39970bf34d66401b7a43dee75d82df7b","path":"/cam-giac-khi-ban-viet-css-nhu-the-nao-trong-nam-2020/","title":"Cảm giác khi bạn viết CSS như thế nào trong năm 2020","desc":"Nếu đã có bài làm một website trong năm 2016 nó như thế nào, thì giờ ta sẽ nói xem viết css trong năm 2020 sẽ ra mần sao"},{"id":"7264d02f230851543cce347218d4be76","path":"/su-dung-javascript-modules-tren-web/","title":"Sử dụng javascript modules trên web","desc":"Giới thiệu module trong ECMAcript"},{"id":"c764b91e3b81ee538e35cfc01d180b37","path":"/thu-thuat-su-dung-don-vi-viewport-tren-mobile/","title":"Thủ thuật sử dụng đơn vị viewport trên mobile","desc":"Để có thể quản lý được state của ứng dụng một cách tốt nhất, chúng ta cần sự phân chia phù hợp giữa local state (internal state của component) và state cửa ứng dụng đặt trong React Context. Một vài điều muốn chia sẽ để nâng cao khả năng bảo trì và trải nghiệm nếu sử dụng đến context trong React."}]}},"context":{}}
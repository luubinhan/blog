{"hash":"4f968092cc5fc7a4ca559e86be209f1fcc1d448f","data":{"post":{"title":"Sử dụng localStorage trên website như thế nào","path":"/su-dung-local-storage-tren-website-nhu-the-nao/","slug":"/2018-10-21-huong-dan-su-dung-local-storage","date":"2018-10-21","timeToRead":1,"tags":[{"id":"javascript","title":"javascript","path":"/tag/javascript/"}],"desc":"Kiến thức căn bản sử dụng localStorage để lưu thông tin cần thiết xuống trình duyệt","content":"<h1 id=\"vì-sao-chúng-ta-cần-localstorage\"><a href=\"#v%C3%AC-sao-ch%C3%BAng-ta-c%E1%BA%A7n-localstorage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Vì sao chúng ta cần localStorage</h1>\n<p>Nói đến HTTP, nó là dạng kết nối <em>stateless</em>, nghĩa là khi đóng một ứng dụng web, lần truy cập sau mọi thứ bị reset lại như ban đầu.</p>\n<p><strong>localStorag</strong>e đơn giản là nó giúp dev chúng ta lưu lại một vài thông tin ở phía trình duyệt của user, để lần sau truy cập ta có thể truy xuất các thông tin này.</p>\n<h1 id=\"cookie-không-đủ-xài\"><a href=\"#cookie-kh%C3%B4ng-%C4%91%E1%BB%A7-x%C3%A0i\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cookie không đủ xài</h1>\n<p>Cookie là một dạng file text lưu trên máy tính của user, link đến từng domain. Một vài giới hạn của cookie</p>\n<p>Tất cả request đến domain, đều sẽ nhét cái cookie này vào trên <code class=\"language-text\">header</code></p>\n<p>Tối đa có 4KB dung lượng</p>\n<h1 id=\"sử-dụng-localstorage-trên-trình-duyệt-hỗ-trợ-html5\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-localstorage-tr%C3%AAn-tr%C3%ACnh-duy%E1%BB%87t-h%E1%BB%97-tr%E1%BB%A3-html5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Sử dụng localStorage trên trình duyệt hỗ trợ HTML5</h1>\n<p>Cú pháp để set, get, delete giá trị của <code class=\"language-text\">localStorage</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// set</span>\n<span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setItem</span><span class=\"token punctuation\">(</span>‘tentui’<span class=\"token punctuation\">,</span>’luubinhan’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// get</span>\n<span class=\"token maybe-class-name\">Var</span> tentui <span class=\"token operator\">=</span> <span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setItem</span><span class=\"token punctuation\">(</span>‘tentui’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// -> luubinhan</span>\n\n<span class=\"token comment\">// delete</span>\n<span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">removeItem</span><span class=\"token punctuation\">(</span>‘tentui’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h1 id=\"làm-việc-trên-object\"><a href=\"#l%C3%A0m-vi%E1%BB%87c-tr%C3%AAn-object\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Làm việc trên object</h1>\n<p>Vì khi lưu chúng ta chỉ có thể đưa <code class=\"language-text\">string</code> vào trong <code class=\"language-text\">localStorage</code>, để đưa một object</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/1c7f4cfb-16dc-40c8-9b56-644a1792a3c2/console-e1285930679229.png\" alt=\"Làm việc trên object\"></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token maybe-class-name\">Var</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token maybe-class-name\">Name</span><span class=\"token operator\">:</span> ‘an’<span class=\"token punctuation\">,</span>\n\t<span class=\"token maybe-class-name\">Age</span><span class=\"token operator\">:</span> ‘<span class=\"token number\">18</span><span class=\"token operator\">+</span>’<span class=\"token punctuation\">,</span>\n\t<span class=\"token maybe-class-name\">Gender</span><span class=\"token operator\">:</span> ‘superman’\n<span class=\"token punctuation\">}</span>\n<span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setItem</span><span class=\"token punctuation\">(</span>‘user’<span class=\"token punctuation\">,</span> <span class=\"token known-class-name class-name\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">stringify</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token maybe-class-name\">Console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token known-class-name class-name\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token dom variable\">localStorage</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getItem</span><span class=\"token punctuation\">(</span>‘user’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h1 id=\"thông-tin-lưu-xuống-localstorage\"><a href=\"#th%C3%B4ng-tin-l%C6%B0u-xu%E1%BB%91ng-localstorage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thông tin lưu xuống <code class=\"language-text\">localStorage</code></h1>\n<ul>\n<li>Để cache những dữ liệu lớn, tốn thời gian để load.</li>\n<li>Lưu lại trạng thái của giao diện user đã custom, có thể lưu cả một đoạn HTML xuống <code class=\"language-text\">localStorage</code></li>\n</ul>\n<p>Đọc thêm <a href=\"/2018-09-17-huong-dan-luu-token-o-dau\">Lưu token ở đâu?</a> để so sánh với <code class=\"language-text\">sessionStorage</code> và <code class=\"language-text\">cookie</code></p>\n<p><a href=\"https://www.smashingmagazine.com/2010/10/local-storage-and-how-to-use-it/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Local Storage And How To Use It On Websites</a></p>\n","cover_image":"","related":[{"id":"f8528e820fefc73636e76fd4e555b660","path":"/su-dung-css-content-nhu-the-nao-cho-dung/","title":"Sử dụng CSS content như thế nào cho đúng","desc":"Thuộc tính content trong CSS thường được sử dụng cùng với 2 ghost element là after và before, những giá trị nào có thể đưa vào cho thuộc tính content này"},{"id":"d6fb0d32e4ef12d7a00ffb83684328e2","path":"/import-lodash-nhu-the-nao-moi-dung/","title":"Import lodash như thế nào mới đúng","desc":"Nếu cần xài lodash, thì bạn xài nó sao cho hiệu quả"},{"id":"67335fb1f2a382145c69b99fe4e01d34","path":"/su-dung-react-context-nhu-the-nao-cho-hieu-qua/","title":"Sử dụng React Context như thế nào cho hiệu quả","desc":"Để có thể quản lý được state của ứng dụng một cách tốt nhất, chúng ta cần sự phân chia phù hợp giữa local state (internal state của component) và state cửa ứng dụng đặt trong React Context. Một vài điều muốn chia sẽ để nâng cao khả năng bảo trì và trải nghiệm nếu sử dụng đến context trong React."},{"id":"dea079a7d56929f46cf5c0bdd1070ebf","path":"/redux-van-hanh-nhu-the-nao/","title":"Redux vận hành như thế nào","desc":"Actions, reducers, action creators, middleware, pure functions, immutability,... những ngoại ngữ làm rối bất kỳ ai nếu chưa biết redux"}]}},"context":{}}
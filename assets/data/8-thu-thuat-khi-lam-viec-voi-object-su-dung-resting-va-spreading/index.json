{"hash":"80b05d4cf7c7757ed6d67805cf5444ee65da77d8","data":{"post":{"title":"8 thủ thuật khi làm việc với Object sử dụng resting và spreading","path":"/8-thu-thuat-khi-lam-viec-voi-object-su-dung-resting-va-spreading/","slug":"/2019-03-23-thu-thuat-lam-viec-voi-object","date":"2019-03-23","timeToRead":3,"tags":[{"id":"react","title":"react","path":"/tag/react/"}],"desc":"Những đoạn code bỏ túi hay xài nhất khi đụng tới object","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#merge-object\">Merge object</a></li>\n<li><a href=\"#th%C3%AAm-property\">Thêm property</a></li>\n<li><a href=\"#th%C3%AAm-property-khi-th%C3%B5a-%C4%91i%E1%BB%81u-ki%E1%BB%87n\">Thêm property khi thõa điều kiện</a></li>\n<li><a href=\"#x%C3%B3a-property-kh%E1%BB%8Fi-object\">Xóa property khỏi object</a></li>\n<li><a href=\"#x%C3%B3a-property-v%E1%BB%9Bi-key-ch%E1%BB%89-%C4%91%E1%BB%8Bnh\">Xóa property với key chỉ định</a></li>\n<li><a href=\"#s%E1%BA%AFp-x%E1%BA%BFp-property\">Sắp xếp property</a></li>\n<li><a href=\"#property-m%E1%BA%B7c-%C4%91%E1%BB%8Bnh\">Property mặc định</a></li>\n<li><a href=\"#%C4%91%E1%BB%95i-t%C3%AAn-property\">Đổi tên property</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"merge-object\"><a href=\"#merge-object\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Merge object</h2>\n<p><code>part1</code> và <code>part2</code> sẽ được merge vào <code>user1</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> part1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'An Luu'</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> part2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">:</span> <span class=\"token string\">'Password!'</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> user1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token spread operator\">...</span>part1<span class=\"token punctuation\">,</span> <span class=\"token spread operator\">...</span>part2 <span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//=> { id: 100, name: 'An Luu', password: 'Password!' }</span></code></pre>\n<h2 id=\"thêm-property\"><a href=\"#th%C3%AAm-property\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thêm property</h2>\n<p>Clone một object đồng thời thêm một số property mới vào object mới clone</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'An Luu'</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> userWithPass <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token spread operator\">...</span>user<span class=\"token punctuation\">,</span> password<span class=\"token operator\">:</span> <span class=\"token string\">'Password!'</span> <span class=\"token punctuation\">}</span>\n\nuser <span class=\"token comment\">//=> { id: 100, name: 'An Luu' }</span>\nuserWithPass <span class=\"token comment\">//=> { id: 100, name: 'An Luu', password: 'Password!' }</span></code></pre>\n<h2 id=\"thêm-property-khi-thõa-điều-kiện\"><a href=\"#th%C3%AAm-property-khi-th%C3%B5a-%C4%91i%E1%BB%81u-ki%E1%BB%87n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thêm property khi thõa điều kiện</h2>\n<p>Trường hợp này hay dùng nhất là lúc chúng ta truyền lên API một object, nếu thõa điều kiện, sẽ thêm một số property vào trong object</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'An Luu'</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> password <span class=\"token operator\">=</span> <span class=\"token string\">'Password!'</span>\n<span class=\"token keyword\">const</span> userWithPassword <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token spread operator\">...</span>user<span class=\"token punctuation\">,</span>\n  id<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n  <span class=\"token spread operator\">...</span><span class=\"token punctuation\">(</span>password <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">{</span> password <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nuserWithPassword <span class=\"token comment\">//=> { id: 100, name: 'An Luu', password: 'Password!' }</span></code></pre>\n<h2 id=\"xóa-property-khỏi-object\"><a href=\"#x%C3%B3a-property-kh%E1%BB%8Fi-object\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Xóa property khỏi object</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// hàm này sẽ trả về object mới ko bao gồm password</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">noPassword</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> password<span class=\"token punctuation\">,</span> <span class=\"token spread operator\">...</span>rest <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> rest\n\n<span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'An Luu'</span><span class=\"token punctuation\">,</span>\n  password<span class=\"token operator\">:</span> <span class=\"token string\">'Password!'</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">noPassword</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span> <span class=\"token comment\">//=> { id: 100, name: 'An Luu' }</span></code></pre>\n<h2 id=\"xóa-property-với-key-chỉ-định\"><a href=\"#x%C3%B3a-property-v%E1%BB%9Bi-key-ch%E1%BB%89-%C4%91%E1%BB%8Bnh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Xóa property với key chỉ định</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'An Luu'</span><span class=\"token punctuation\">,</span>\n  password<span class=\"token operator\">:</span> <span class=\"token string\">'Password!'</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">removeProperty</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">prop</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span>prop<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> _<span class=\"token punctuation\">,</span> <span class=\"token spread operator\">...</span>rest <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> rest\n<span class=\"token comment\">//                     ----       ------</span>\n<span class=\"token comment\">//                          \\   /</span>\n<span class=\"token comment\">//                dynamic destructuring</span>\n\n<span class=\"token keyword\">const</span> removePassword <span class=\"token operator\">=</span> <span class=\"token function\">removeProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'password'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> removeId <span class=\"token operator\">=</span> <span class=\"token function\">removeProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">removePassword</span><span class=\"token punctuation\">(</span>user1<span class=\"token punctuation\">)</span> <span class=\"token comment\">//=> { id: 100, name: 'An Luu' }</span>\n<span class=\"token function\">removeId</span><span class=\"token punctuation\">(</span>user1<span class=\"token punctuation\">)</span> <span class=\"token comment\">//=> { name: 'An Luu', password: 'Password!' }</span></code></pre>\n<h2 id=\"sắp-xếp-property\"><a href=\"#s%E1%BA%AFp-x%E1%BA%BFp-property\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Sắp xếp property</h2>\n<p>Đôi khi chúng ta sẽ muốn thay đổi các property theo một thứ tự nào đó, nếu sắp xếp toàn bộ luôn thì chắc dùng <code>Object.keys</code> rồi thay xếp cái mảng key này lại.</p>\n<p>Để di chuyển <code>id</code> lên đầu, trước hết gán giá trị <code>undefined</code> cho nó trước, sau đó, override lại giá trị này bằng cách resting</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user3 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  password<span class=\"token operator\">:</span> <span class=\"token string\">'Password!'</span><span class=\"token punctuation\">,</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'An Luu'</span><span class=\"token punctuation\">,</span>\n  id<span class=\"token operator\">:</span> <span class=\"token number\">300</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">organize</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">object</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token keyword nil\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token spread operator\">...</span>object <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//                            -------------</span>\n<span class=\"token comment\">//                          /</span>\n<span class=\"token comment\">//  dời id lên đầu</span>\n\n<span class=\"token function\">organize</span><span class=\"token punctuation\">(</span>user3<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//=> { id: 300, password: 'Password!', name: 'An Luu' }</span></code></pre>\n<p>Còn di chuyển xuống dưới cùng</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user3 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  password<span class=\"token operator\">:</span> <span class=\"token string\">'Password!'</span><span class=\"token punctuation\">,</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'An Luu'</span><span class=\"token punctuation\">,</span>\n  id<span class=\"token operator\">:</span> <span class=\"token number\">300</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">organize</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> password<span class=\"token punctuation\">,</span> <span class=\"token spread operator\">...</span>object <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token spread operator\">...</span>object<span class=\"token punctuation\">,</span> password <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//              --------</span>\n<span class=\"token comment\">//             /</span>\n<span class=\"token comment\">// dời password xuống cuối</span>\n\n<span class=\"token function\">organize</span><span class=\"token punctuation\">(</span>user3<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//=> { name: 'An Luu', id: 300, password: 'Password!' }</span></code></pre>\n<h2 id=\"property-mặc-định\"><a href=\"#property-m%E1%BA%B7c-%C4%91%E1%BB%8Bnh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Property mặc định</h2>\n<p>Ví dụ, <code>user2</code> không có chứa <code>quotes</code>, hàm <code>setDefaults</code> đảm bảo tất cả object đều chứa property là <code>quotes</code>, nếu ko nó thêm vào <code>[]</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'An Luu'</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> user4 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'You'</span><span class=\"token punctuation\">,</span>\n  quotes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"I've got a good feeling about this...\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setDefaults</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> quotes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token spread operator\">...</span>object<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token spread operator\">...</span>object<span class=\"token punctuation\">,</span> quotes <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// hoặc nếu muốn dời thằng quotes lên đầu</span>\n<span class=\"token comment\">// const setDefaults = ({ ...object}) => ({ quotes: [], ...object })</span>\n\n<span class=\"token function\">setDefaults</span><span class=\"token punctuation\">(</span>user2<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//=> { id: 200, name: 'An Luu', quotes: [] }</span>\n\n<span class=\"token function\">setDefaults</span><span class=\"token punctuation\">(</span>user4<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//=> {</span>\n<span class=\"token comment\">//=>   id: 400,</span>\n<span class=\"token comment\">//=>   name: 'You',</span>\n<span class=\"token comment\">//=>   quotes: [\"I've got a good feeling about this...\"]</span>\n<span class=\"token comment\">//=> }</span></code></pre>\n<h2 id=\"đổi-tên-property\"><a href=\"#%C4%91%E1%BB%95i-t%C3%AAn-property\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Đổi tên property</h2>\n<p>Thí dụ bạn ko muốn trong object chứa property <code>ID</code>, nó phải viết thường <code>id</code>, đầu tiên chúng ta remove ID ra khỏi object, sau đó add lại bằng tên là <code>id</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">renamed</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> <span class=\"token constant\">ID</span><span class=\"token punctuation\">,</span> <span class=\"token spread operator\">...</span>object <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token constant\">ID</span><span class=\"token punctuation\">,</span> <span class=\"token spread operator\">...</span>object <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">ID</span><span class=\"token operator\">:</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"An Luu\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">renamed</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span> <span class=\"token comment\">//=> { id: 500, name: 'An Luu' }</span></code></pre>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://blog.bitsrc.io/6-tricks-with-resting-and-spreading-javascript-objects-68d585bdc83\">7 Tricks with Resting and Spreading JavaScript Objects</a></p>\n","cover_image":"","related":[{"id":"dc640bd2ebc8ca9fcd4abedd80d3eb53","path":"/cac-van-de-khi-lam-viec-voi-ngay-thang-trong-javascript/","title":"Các vấn đề khi làm việc với ngày tháng trong javascript","desc":"Bỏ túi kỹ năng thiết yếu khi đụng đến xử lý ngày tháng"},{"id":"b8095fcc4fddb26736d28255b2cd38ed","path":"/lam-viec-voi-form-trong-react/","title":"Làm việc với Form trong React","desc":"Xử lý form trong React, căn bản nhất"},{"id":"261b6ab3101f36044d757da3c9d8d2d0","path":"/lam-viec-voi-console-trong-javascript/","title":"Làm việc với console trong javascript","desc":"Một web developer chân chính là người biết sử dụng console.log :D. Tuy nhiên cũng nên biết rằng console nó còn rất nhiều phương thức khác nữa"},{"id":"2637fdfac069208e010459580d417f63","path":"/5-dieu-can-nho-khi-lam-viec-voi-service-worker/","title":"5 điều cần nhớ khi làm việc với service worker","desc":"Năm điều nhỏ nhỏ, nhưng rất hay ho cần thiết, cần biết"}]}},"context":{}}
{"hash":"32a692caa050f4449db6ef3758917749cdab929d","data":{"tag":{"title":"beginner","belongsTo":{"edges":[{"node":{"id":"07147b52eef5808a0a63aa97adc0f7b8","title":"DÃ¹ng lá»‡nh docker exec Ä‘á»ƒ thá»±c thi má»™t lá»‡nh trong Docker Container","path":"/2023-01-14-tuong-tac-voi-docker-container/","date":"2023-01-14","timeToRead":5,"desc":"TÃ¬m hiá»ƒu cÃ¡ch tÆ°Æ¡ng tÃ¡c vá»›i má»™t docker container Ä‘ang cháº¡y","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#d%E1%BB%B1ng-m%E1%BB%99t-docker-container-%C4%91%E1%BB%83-th%E1%BB%B1c-h%C3%A0nh\">Dá»±ng má»™t Docker container Ä‘á»ƒ thá»±c hÃ nh</a></li>\n<li><a href=\"#t%C3%ACm-t%C3%AAn-c%E1%BB%A7a-docker-container\">TÃ¬m tÃªn cá»§a Docker container</a></li>\n<li><a href=\"#ch%E1%BA%A1y-shell-trong-docker-container\">Cháº¡y shell trong Docker container</a></li>\n<li><a href=\"#th%E1%BB%B1c-thi-command-trong-docker-container-kh%C3%B4ng-d%C3%B9ng-shell\">Thá»±c thi command trong Docker container khÃ´ng dÃ¹ng shell</a></li>\n<li><a href=\"#th%E1%BB%B1c-thi-m%E1%BB%99t-command-%E1%BB%9F-m%E1%BB%99t-th%C6%B0-m%E1%BB%A5c-trong-docker-container\">Thá»±c thi má»™t command á»Ÿ má»™t thÆ° má»¥c trong Docker container</a></li>\n<li><a href=\"#ch%E1%BA%A1y-command-b%E1%BA%B1ng-m%E1%BB%99t-user-kh%C3%A1c-trong-docker-container\">Cháº¡y command báº±ng má»™t user khÃ¡c trong Docker container</a></li>\n<li><a href=\"#truy%E1%BB%81n-bi%E1%BA%BFn-m%C3%B4i-tr%C6%B0%E1%BB%9Dng-v%C3%A0o-docker-container\">Truyá»n biáº¿n mÃ´i trÆ°á»ng vÃ o Docker container</a></li>\n<li><a href=\"#l%E1%BB%97i-th%C6%B0%E1%BB%9Dng-g%E1%BA%B7p\">Lá»—i thÆ°á»ng gáº·p</a></li>\n</ul>\n<!-- /TOC -->\n<p>Khi lÃ m viá»‡c vá»›i Docker chÃºng ta sáº½ cÃ³ nhu cáº§u tÆ°Æ¡ng tÃ¡c bÃªn trong container, Ä‘á»ƒ debug, inspect, kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n cá»§a á»©ng dá»¥ng. Äá»ƒ thá»±c thi má»™t lá»‡nh bÃªn trong má»™t container Ä‘ang cháº¡y, chÃºng ta sáº½ dÃ¹ng Ä‘áº¿n cÃ¢u lá»‡nh <code class=\"language-inline-text\">docker exec</code></p>\n<h2 id=\"dá»±ng-má»™t-docker-container-Ä‘á»ƒ-thá»±c-hÃ nh\"><a href=\"#d%E1%BB%B1ng-m%E1%BB%99t-docker-container-%C4%91%E1%BB%83-th%E1%BB%B1c-h%C3%A0nh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Dá»±ng má»™t Docker container Ä‘á»ƒ thá»±c hÃ nh</h2>\n<p>ChÃºng ta sáº½ dÃ¹ng <code class=\"language-inline-text\">alpipe</code> image Ä‘á»ƒ dá»±ng má»™t container vá»›i má»¥c Ä‘Ã­ch thá»±c hÃ nh lá»‡nh <code class=\"language-inline-text\">docker exec</code></p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--name</span> container-name alpine <span class=\"token function\">watch</span> <span class=\"token string\">\"date >> /var/log/date.log\"</span></code></pre></div>\n<blockquote>\n<p><code class=\"language-inline-text\">-d</code> Ä‘á»ƒ cháº¡y cháº¿ Ä‘á»™ <em>detach</em>, nÃ³ sáº½ cháº¡y ná»n vÃ  khÃ´ng chiáº¿m láº¥y terminal</p>\n</blockquote>\n<p><code class=\"language-inline-text\">watch \"date >> /var/log/date.log\"</code> lÃ  command mÃ  chÃºng ta muá»‘n cháº¡y bÃªn trong container, lá»‡nh <code class=\"language-inline-text\">watch</code> sáº½ cháº¡y láº·p láº¡i sau má»—i 2 giÃ¢y (thá»i gian máº·c Ä‘á»‹nh), trong trÆ°á»ng há»£p nÃ y, cÃ¢u lá»‡nh <code class=\"language-inline-text\">date >> /var/log/date.log</code> sáº½ in thá»i gian hiá»‡n táº¡i vÃ o file <code class=\"language-inline-text\">date.log</code> sau má»—i 2 giÃ¢y. CÃ¡i file nÃ³ sáº½ nhÆ° tháº¿ nÃ y</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Sat Jan 14 01:35:11 UTC 2023\nSat Jan 14 01:35:13 UTC 2023\nSat Jan 14 01:35:15 UTC 2023</code></pre></div>\n<h2 id=\"tÃ¬m-tÃªn-cá»§a-docker-container\"><a href=\"#t%C3%ACm-t%C3%AAn-c%E1%BB%A7a-docker-container\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>TÃ¬m tÃªn cá»§a Docker container</h2>\n<p>Trong trÆ°á»ng há»£p container Ä‘ang cháº¡y rá»“i, chÃºng ta láº¡i khÃ´ng biáº¿t tÃªn cá»§a nÃ³ lÃ  gÃ¬, chÃºng ta sáº½ liá»‡t kÃª toÃ n bá»™ docker Ä‘ang cháº¡y</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token function\">ps</span></code></pre></div>\n<p>káº¿t quáº£ tráº£ vá»</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS     NAMES\n76aded7112d4   alpine    \"watch 'date >> /varâ€¦\"   11 seconds ago   Up 10 seconds             container-name</code></pre></div>\n<p>DÃ¹ng container name hoáº·c container id Ä‘á»ƒ nÃ³i vá»›i <code class=\"language-inline-text\">docker exec</code> container nÃ o sá»­ dá»¥ng. Náº¿u muá»‘n rename </p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token function\">rename</span> container-name new-name</code></pre></div>\n<h2 id=\"cháº¡y-shell-trong-docker-container\"><a href=\"#ch%E1%BA%A1y-shell-trong-docker-container\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cháº¡y shell trong Docker container</h2>\n<p>Äá»ƒ cháº¡y <em>shell</em> bÃªn trong container, dÃ¹ng <code class=\"language-inline-text\">docker exec</code> vá»›i flag <code class=\"language-inline-text\">-i</code> <code class=\"language-inline-text\">-t</code> (viáº¿t gá»p láº¡i thÃ nh <code class=\"language-inline-text\">-it</code>)</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> container-name <span class=\"token function\">sh</span></code></pre></div>\n<p>Sau cÃ¢u lá»‡nh nÃ y, chÃºng ta sáº½ Ä‘á»©ng á»Ÿ <em>shell</em> terminal bÃªn trong container, Ä‘á»ƒ thoÃ¡t khá»i terminal nÃ y, gÃµ lá»‡nh <code class=\"language-inline-text\">exit</code> vÃ  nháº¥n <code class=\"language-inline-text\">ENTER</code></p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">/ <span class=\"token comment\"># exit</span></code></pre></div>\n<p>Náº¿u khÃ´ng dÃ¹ng <code class=\"language-inline-text\">shell</code> mÃ  cáº§n Ä‘áº¿n nhá»¯ng tÃ­nh nÄƒng chá»‰ cÃ³ trong <code class=\"language-inline-text\">bash</code>, thay <code class=\"language-inline-text\">sh</code> á»Ÿ cÃ¢u lá»‡nh trÃªn báº±ng <code class=\"language-inline-text\">bash</code></p>\n<h2 id=\"thá»±c-thi-command-trong-docker-container-khÃ´ng-dÃ¹ng-shell\"><a href=\"#th%E1%BB%B1c-thi-command-trong-docker-container-kh%C3%B4ng-d%C3%B9ng-shell\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thá»±c thi command trong Docker container khÃ´ng dÃ¹ng shell</h2>\n<p>Náº¿u cáº§n thá»‹ thi má»™t lá»‡nh bÃªn trong container, nhÆ°ng khÃ´ng cáº§n má»Ÿ <em>shell</em> Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c, gá»i <code class=\"language-inline-text\">docker exec</code> khÃ´ng thÃªm báº¥t ká»³ flag nÃ o</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> container-name <span class=\"token function\">tail</span> /var/log/date.log</code></pre></div>\n<p>NÃ³ sáº½ cháº¡y lá»‡nh <code class=\"language-inline-text\">tail /var/log/date.log</code> vÃ  in ra káº¿t quáº£, máº·c Ä‘á»‹nh lá»‡nh <code class=\"language-inline-text\">tail</code> sáº½ in ra mÆ°á»i dÃ²ng cuá»‘i cÃ¹ng trong file</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Sat Jan 14 01:35:11 UTC 2023\nSat Jan 14 01:35:13 UTC 2023\nSat Jan 14 01:35:15 UTC 2023\nSat Jan 14 01:35:17 UTC 2023\nSat Jan 14 01:35:19 UTC 2023\nSat Jan 14 01:35:21 UTC 2023\nSat Jan 14 01:35:23 UTC 2023\nSat Jan 14 01:35:25 UTC 2023\nSat Jan 14 01:35:27 UTC 2023\nSat Jan 14 01:35:29 UTC 2023</code></pre></div>\n<h2 id=\"thá»±c-thi-má»™t-command-á»Ÿ-má»™t-thÆ°-má»¥c-trong-docker-container\"><a href=\"#th%E1%BB%B1c-thi-m%E1%BB%99t-command-%E1%BB%9F-m%E1%BB%99t-th%C6%B0-m%E1%BB%A5c-trong-docker-container\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thá»±c thi má»™t command á»Ÿ má»™t thÆ° má»¥c trong Docker container</h2>\n<p>Äá»ƒ thá»±c thi má»™t lá»‡nh bÃªn trong má»™t thÆ° má»¥c cá»¥ thá»ƒ, sá»­ dá»¥ng flag <code class=\"language-inline-text\">--workdir</code> Ä‘á»ƒ chá»‰ Ä‘á»‹nh thÆ° má»¥c</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">--workdir</span> /tmp container-name <span class=\"token builtin class-name\">pwd</span></code></pre></div>\n<p>CÃ¢u lá»‡nh trÃªn, chá»‰ Ä‘á»‹nh thÆ° má»¥c <code class=\"language-inline-text\">/tmp</code> lÃ  thÆ° má»¥c mÃ  lá»‡nh sáº½ Ä‘á»©ng á»Ÿ vá»‹ trÃ­ Ä‘Ã³ Ä‘á»ƒ thá»±c thi, <code class=\"language-inline-text\">pwd</code> sáº½ in ra thÆ° má»¥c hiá»‡n táº¡i, káº¿t quáº£ lÃ </p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/tmp</code></pre></div>\n<h2 id=\"cháº¡y-command-báº±ng-má»™t-user-khÃ¡c-trong-docker-container\"><a href=\"#ch%E1%BA%A1y-command-b%E1%BA%B1ng-m%E1%BB%99t-user-kh%C3%A1c-trong-docker-container\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cháº¡y command báº±ng má»™t user khÃ¡c trong Docker container</h2>\n<p>Sá»­ dá»¥ng flag <code class=\"language-inline-text\">--user</code> náº¿u muá»‘n thá»±c thÃ¬ báº±ng má»™t user khÃ¡c</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">--user</span> guest container-name <span class=\"token function\">whoami</span></code></pre></div>\n<p>Káº¿t quáº£ cá»§a cÃ¢u lá»‡nh <code class=\"language-inline-text\">whoami</code> sáº½ tráº£ vá» user Ä‘ang gá»i lá»‡nh</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">guest</code></pre></div>\n<h2 id=\"truyá»n-biáº¿n-mÃ´i-trÆ°á»ng-vÃ o-docker-container\"><a href=\"#truy%E1%BB%81n-bi%E1%BA%BFn-m%C3%B4i-tr%C6%B0%E1%BB%9Dng-v%C3%A0o-docker-container\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Truyá»n biáº¿n mÃ´i trÆ°á»ng vÃ o Docker container</h2>\n<p>ÄÃ´i khi chÃºng ta sáº½ cÃ³ nhu cáº§u truyá»n thÃªm biáº¿n mÃ´i trÆ°á»ng vÃ o trong container Ä‘á»ƒ cháº¡y. Flag <code class=\"language-inline-text\">-e</code> sáº½ cho phÃ©p chá»‰ Ä‘á»‹nh biáº¿n mÃ´i trÆ°á»ng</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span>binhan container-name <span class=\"token function\">env</span></code></pre></div>\n<p>Lá»‡nh nÃ y sáº½ khai bÃ¡o má»™t biáº¿n mÃ´i trÆ°á»ng tÃªn <code class=\"language-inline-text\">TEST</code> vá»›i giÃ¡ trá»‹ <code class=\"language-inline-text\">binhan</code>. Lá»‡nh <code class=\"language-inline-text\">env</code> sáº½ in toÃ n bá»™ biáº¿n mÃ´i trÆ°á»ng bÃªn trong container</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nHOSTNAME=2191b2d508e9\nTEST=binhan\nHOME=/root</code></pre></div>\n<p>Náº¿u cáº§n khai bÃ¡o thÃªm biáº¿n mÃ´i trÆ°á»ng thá»© 2</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span>binhan <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">ENVIROMENT</span><span class=\"token operator\">=</span>prod container-name <span class=\"token function\">env</span></code></pre></div>\n<p>Náº¿u mÃ  nhiá»u biáº¿n hÆ¡n, chÃºng ta dÃ¹ng file <code class=\"language-inline-text\">.env</code>, <code class=\"language-inline-text\">--env-file</code> Ä‘á»ƒ truyá»n file chÆ°a biáº¿n mÃ´i trÆ°á»ng</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> --env-file .env container-name <span class=\"token function\">env</span></code></pre></div>\n<p>Káº¿t quáº£</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nHOSTNAME=76aded7112d4\nTEST=binhan\nENVIRONMENT=prod\nHOME=/root</code></pre></div>\n<h2 id=\"lá»—i-thÆ°á»ng-gáº·p\"><a href=\"#l%E1%BB%97i-th%C6%B0%E1%BB%9Dng-g%E1%BA%B7p\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Lá»—i thÆ°á»ng gáº·p</h2>\n<p>Khi sá»­ dá»¥ng <code class=\"language-inline-text\">docker exec</code>, cÃ³ thá»ƒ chÃºng ta sáº½ gáº·p má»™t sá»‘ lá»—i nhÆ°:</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error: No such container: container-name</code></pre></div>\n<p>Kiá»ƒm tra láº¡i xem cÃ³ sai chá»¯ nÃ o khÃ´ng, cháº¡y <code class=\"language-inline-text\">docker ps</code> Ä‘á»ƒ kiá»ƒm tra láº§n ná»¯a, tá»‘t nháº¥t lÃ  copy tÃªn tá»« lá»‡nh <code class=\"language-inline-text\">docker ps</code></p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error response from daemon: Container 2a94aae70ea5dc92a12e30b13d0613dd6ca5919174d73e62e29cb0f79db6e4ab is not running</code></pre></div>\n<p>CÃ¡i nÃ y lÃ  do container chÆ°a cháº¡y thÃ´i, chá»‰ cáº§n <code class=\"language-inline-text\">docker start container-name</code> Ä‘á»ƒ dá»±ng nÃ³ lÃªn</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error response from daemon: Container container-name is paused, unpause the container before exec</code></pre></div>\n<p>Container Ä‘ang táº¡m dá»«ng, khÃ¡ rÃµ rÃ ng lÃ  chÃºng ta cáº§n <code class=\"language-inline-text\">docker unpause container-name</code> trÆ°á»›c khi muá»‘n lÃ m gÃ¬ tiáº¿p</p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-docker-exec-to-run-commands-in-a-docker-container\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">How To Use docker exec to Run Commands in a Docker Container</a></p>\n","cover_image":""}},{"node":{"id":"6c5fec044498dd797ded807e27e60261","title":"Dynamic component trong Vue","path":"/2022-12-16-giai-thich-dynamic-component-vue/","date":"2022-12-16","timeToRead":3,"desc":"TÃ¬m hiá»ƒu khÃ¡i niá»‡m Dynamic component cá»§a Vue","content":"<p>KhÃ¡i niá»‡m dynamic component trong Vue ráº¥t Ä‘Æ¡n giáº£n, náº¿u <code class=\"language-inline-text\">:is=\"true\"</code>, component Ä‘Ã³ sáº½ Ä‘Æ°á»£c render</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>component</span> <span class=\"token attr-name\">:is</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>â€currentTabâ€</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>component</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Khi chÃºng ta dÃ¹ng <code class=\"language-inline-text\">:is</code>, cÃ²n má»™t component khÃ¡c cÅ©ng cáº§n biáº¿t lÃ  <code class=\"language-inline-text\">&lt;keep-alive/></code>, nÃ³ cho phÃ©p component <em>táº¡m thá»i</em> nÃºp lÃ¹m chá»© khÃ´ng pháº£i <em>diá»‡t cá» táº­n gá»‘c</em>, vÃ­ dá»¥ trong tab component, khi switch qua switch láº¡i giá»¯a cÃ¡c tab, khÃ´ng cáº§n pháº£i kill nÃ³ luÃ´n.</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>keep-alive</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>component</span> <span class=\"token attr-name\">:is</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>â€currentTabâ€</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>keep-alive</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ChÃºng ta nghiá»n ngáº«m xem cÃ¡ch sá»­ dá»¥ng 2 Ä‘á»©a nÃ y, vá»›i má»™t trÆ°á»ng há»£p khÃ¡c</p>\n<p>CÃ³ má»™t cá»¥c dá»¯ liá»‡u nhÆ° tháº¿ nÃ y, má»—i key lÃ  má»™t kiá»ƒu dá»¯ liá»‡u khÃ¡c nhau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">firstName</span><span class=\"token operator\">:</span> <span class=\"token string\">\"John\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">lastName</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Doe\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">birthdate</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1986-06-22T00:00:00Z\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">anniversary</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2005-10-09T00:00:00Z\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">activities</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Skiing\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Hiking\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Cycling\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Drinking Beer\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">about</span><span class=\"token operator\">:</span> <span class=\"token string\">\"John talking about himself. It goes on and on forever...[snip]\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">metadata</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">lastUpdateUTC</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2019-06-29T15:14:00Z\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">lastUpdatedBy</span><span class=\"token operator\">:</span> <span class=\"token string\">\"admin\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Äá»ƒ hiá»ƒn thá»‹ 1 dá»¯ liá»‡u cá»§a key, chÃºng ta cÃ³ thá»ƒ lÃ m nhÆ° tháº¿ nÃ y</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span> {{ person.firstName }} {{ person.lastName }}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Birthday<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span> {{ person.birthday | formatDate }}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>activities<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span> \n  // loop tiáº¿p\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Vá»›i tá»«ng kiá»ƒu dá»¯ liá»‡u khÃ¡c nhau, chÃºng ta sáº½ cáº§n Ä‘áº¿n nhá»¯ng filter khÃ¡c nhau, hoáº·c tháº­m chÃ­ thÃªm thÆ° viá»‡n (nhÆ° Ä‘á»ƒ parse giÃ¡ trá»‹ date). Váº¥n Ä‘á» lÃ  chÃºng ta khÃ´ng loop Ä‘Æ°á»£c 1 láº§n má»™t cho khá»e</p>\n<p>TrÆ°á»›c tiÃªn chÃºng ta cáº§n Ä‘Æ°a trÃ¡ch nhiá»‡m xá»­ lÃ½, Ä‘á»‹nh dáº¡ng cÃ¡c kiá»ƒu dá»¯ liá»‡u nÃ y cho component con, tháº±ng bá»‘ chÃºng ta chá»‰ viá»‡c loop thÃ´i</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>First Name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details-text</span> <span class=\"token attr-name\">:value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>person.firstName + ' ' + person.lastName<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Birthday<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details-date</span> <span class=\"token attr-name\">:value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>person.birthday<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Activities<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details-list</span> <span class=\"token attr-name\">:value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>person.activities<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Váº«n chÆ°a loop Ä‘Æ°á»£c, vÃ¬ cÃ¡c component con nÃ y lÃ  khÃ¡c nhau, chÃºng ta cáº§n cÃ³ má»™t cÃ¡ch nÃ o Ä‘Ã³ Ä‘á»ƒ Ä‘Æ°a Ä‘iá»u kiá»‡n: â€œÃŠ, chá»n component nÃ y khi dá»¯ liá»‡u lÃ  a,b,c,dâ€</p>\n<p>Dynamic component sáº½ cho chÃºng ta lÃ m Ä‘iá»u Ä‘Ã³!</p>\n<p>TrÆ°á»›c tiÃªn chÃºng  ta cáº§n transform dá»¯ liá»‡u ban Ä‘áº§u vá» dáº¡ng máº£ng nhÆ° sau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token literal-property property\">computed</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">items</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Name\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>person<span class=\"token punctuation\">.</span>firstName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>person<span class=\"token punctuation\">.</span>lastName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> <span class=\"token string\">\"DetailsText\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Birthday\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>person<span class=\"token punctuation\">.</span>birthday<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> <span class=\"token string\">\"DetailsDate\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Activities\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>person<span class=\"token punctuation\">.</span>activities<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> <span class=\"token string\">\"DetailsList\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ChÃºng ta Ä‘Ã£ cÃ³ thá»ƒ dÃ¹ng <code class=\"language-inline-text\">v-for</code>, chá»n Ä‘Ãºng component cáº§n dÃ¹ng</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item in items<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item.name<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{item.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>component</span> <span class=\"token attr-name\">:is</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item.component<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">:value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item.value<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>CÃ¡i hay lÃ  chá»— chÃºng ta map <code class=\"language-inline-text\">:is=â€item.componentâ€</code> vá»›i component Ä‘Ã£ khai bÃ¡o cho tá»«ng tháº±ng dá»¯ liá»‡u </p>\n<p><a href=\"https://www.drewtown.dev/post/the-magic-of-vues-dynamic-components-for-lists-of-data\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The Magic of Vue's Dynamic Components For Lists of Data</a></p>\n","cover_image":""}},{"node":{"id":"933ee8a3a9e6b3f4f384e1dc4805c7d1","title":"PhÃ¢n biá»‡t sá»± khÃ¡c nhau giá»¯a Identity vÃ  Resource Base Policy trong AWS IAM","path":"/2022-09-25-phan-biet-identity-va-resource-base-policy/","date":"2022-09-25","timeToRead":2,"desc":"Series má»™t sá»‘ kiáº¿n thá»©c cáº§n cÃ³ Ä‘á»ƒ láº¥y chá»©ng chá»‰ AWS","content":"<p><strong>IDENTITY</strong>-based policy gÃ¡n cho <code class=\"language-inline-text\">user</code>, <code class=\"language-inline-text\">group</code>, hoáº·c <code class=\"language-inline-text\">role</code> (gá»i chung lÃ  <code class=\"language-inline-text\">identity</code>). Chá»‰ Ä‘á»‹nh nhá»¯ng quyá»n gÃ¬ mÃ  <em>identity</em> cÃ³ thá»ƒ lÃ m\n<strong>RESOURCE</strong>-based policy gÃ¡n cho <em>resource</em>, vÃ­ dá»¥ nhÆ° S3 bucket, SQS queue, VPC endpooint</p>\n<p>Trong tÃ¬nh huá»‘ng <code class=\"language-inline-text\">user</code> <em>khÃ´ng Ä‘Æ°á»£c cáº¥p quyá»n</em> trÃªn S3 bucket A (khÃ´ng Ä‘Æ°á»£c cáº¥p khÃ´ng Ä‘á»“ng nghÄ©a vá»›i viá»‡c bá»‹ cáº¥m), nhÆ°ng resource policy Ä‘ang gÃ¡n cho bucket A cho phÃ©p má»i user upload vÃ o bucket nÃ y, thÃ¬ <code class=\"language-inline-text\">user</code> váº«n cÃ³ thá»ƒ upload</p>\n<p>VÃ­ dá»¥, cÃ³ <em>identity policy</em></p>\n<ul>\n<li>User A: List, Read trÃªn resource A</li>\n<li>User B: List, Read trÃªn resource B, C</li>\n<li>User C: List, Read, Write trÃªn Resource A,B,C</li>\n<li>User D: KhÃ´ng cÃ³ policy nÃ o cáº£</li>\n</ul>\n<p>Tiáº¿p Ä‘Ã³ chÃºng ta cÃ³ <em>resource policy</em></p>\n<ul>\n<li>Resource A: User A = (List, Read), User C = (List, Read)</li>\n<li>Resource B: User B = (List, Write), User D = (List, Read)</li>\n<li>Resouce C: User B = Denied Access, User D: Full Access</li>\n</ul>\n<p>ThÃ¬ káº¿t quáº£ tá»« 2 policy khi Ã¡p dá»¥ng sáº½ lÃ </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>LIST</th>\n<th>READ</th>\n<th>WRITE</th>\n<th>DENIED</th>\n<th>FULL ACCCESS</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>User A</td>\n<td>RES A</td>\n<td>RES A</td>\n<td>ğŸš«</td>\n<td>ğŸš«</td>\n<td>ğŸš«</td>\n</tr>\n<tr>\n<td>User B</td>\n<td>RES B</td>\n<td>RES B</td>\n<td>RES B</td>\n<td>RES C</td>\n<td>ğŸš«</td>\n</tr>\n<tr>\n<td>User C</td>\n<td>RES A,B,C</td>\n<td>RES A,B,C</td>\n<td>RES A,B,C</td>\n<td>ğŸš«</td>\n<td>ğŸš«</td>\n</tr>\n<tr>\n<td>User D</td>\n<td>RES B</td>\n<td>RES B</td>\n<td>ğŸš«</td>\n<td>ğŸš«</td>\n<td>RES C</td>\n</tr>\n</tbody>\n</table>\n<p>Khi <strong>identity</strong>-based policy káº¿t há»£p vá»›i <strong>Permission Boundary</strong>, láº¥y pháº§n chung giá»¯a hai táº­p</p>\n<p><img src=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/images/permissions_boundary.png\"></p>\n<p>Khi <strong>Resource</strong>-based policy káº¿t há»£p vá»›i <em>identity</em>-based policy vÃ  permission boundary, nÃ³ hÆ¡i ngoÃ i lá» má»™t chÃºt, láº¥y táº¥t cáº£ nhá»¯ng pháº§n chung giá»¯a ba táº­p há»£p cá»™ng vá»›i táº¥t cáº£ nhá»¯ng gÃ¬ cÃ³ trong resource-base policy</p>\n<p><img src=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/images/EffectivePermissions-rbp-boundary-id.png\"></p>\n<p>Khi káº¿t há»£p giá»¯a táº­p <em>Service Control Policy</em>, <em>Permission boundary</em> vÃ  <em>identity-base policy</em>, chÃºng ta chá»‰ láº¥y pháº§n tá»­ chung cá»§a cáº£ 3</p>\n<p><img src=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/images/EffectivePermissions-scp-boundary-id.png\"></p>\n<p>Tham kháº£o thÃªm <a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_boundaries.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"># Permissions boundaries for IAM entities</a></p>\n","cover_image":""}},{"node":{"id":"7ac3739a0f8e1c0f98a919794db694ac","title":"Lá»±a chá»n giá»¯a Redis vÃ  Memcached","path":"/2022-09-10-redis-vs-memcached/","date":"2022-09-10","timeToRead":1,"desc":"Series má»™t sá»‘ kiáº¿n thá»©c cáº§n cÃ³ Ä‘á»ƒ láº¥y chá»©ng chá»‰ AWS","content":"<p>Cáº£ 2 Ä‘iá»u ráº¥t dá»… sá»­ dá»¥ng vÃ  cÃ³ chung cÃ´ng dá»¥ng tÄƒng cÆ°á»ng tá»‘c Ä‘á»™, tuy nhiÃªn cÃ³ nhá»¯ng khÃ¡c biá»‡t ráº¥t quan trá»ng chÃºng ta cáº§n biáº¿t.</p>\n<p><strong>Redis</strong> vÃ  <strong>Memcached</strong> lÃ  2 thÆ° viá»‡n nguá»“n má»Ÿ phá»• biáº¿n khi cáº§n kho dá»¯ liá»‡u <em>in-memory</em>. Memcached Ä‘Æ°á»£c thiáº¿t káº¿ vá»›i Ä‘á»‹nh hÆ°á»›ng Ä‘Æ¡n giáº£n hÃ³a nháº¥t, trong khi Redis sáº½ há»— trá»£ nhiá»u tÃ­nh nÄƒng vÃ  phÃ¹ há»£p vá»›i nhiá»u tÃ¬nh huá»‘ng.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Memcached</th>\n<th>Redis</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Cáº¥u trÃºc dá»¯ liá»‡u phá»©c táº¡p</td>\n<td></td>\n<td>âœ…</td>\n</tr>\n<tr>\n<td>Multithreaded</td>\n<td>âœ…</td>\n<td></td>\n</tr>\n<tr>\n<td>Snapshots</td>\n<td></td>\n<td>âœ…</td>\n</tr>\n<tr>\n<td>Replication</td>\n<td></td>\n<td>âœ…</td>\n</tr>\n<tr>\n<td>Transaction</td>\n<td></td>\n<td>âœ…</td>\n</tr>\n<tr>\n<td>Pub/Sub</td>\n<td></td>\n<td>âœ…</td>\n</tr>\n<tr>\n<td>Geospatial</td>\n<td></td>\n<td>âœ…</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"chá»n-memcached-náº¿u-chÃºng-ta-gáº·p-yÃªu-cáº§u\"><a href=\"#ch%E1%BB%8Dn-memcached-n%E1%BA%BFu-ch%C3%BAng-ta-g%E1%BA%B7p-y%C3%AAu-c%E1%BA%A7u\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Chá»n Memcached náº¿u chÃºng ta gáº·p yÃªu cáº§u</h3>\n<ul>\n<li>ÄÆ¡n giáº£n hÃ³a</li>\n<li>Cháº¡y trÃªn nhá»¯ng <em>node</em> lá»›n vá»›i nhiá»u core, nhiá»u thread</li>\n<li>Kháº£ nÄƒng scale out/in</li>\n<li>ThÃªm/xÃ³a node theo yÃªu cáº§u</li>\n<li>PhÃ¢n biá»‡t dá»¯ liá»‡u giá»¯a cÃ¡c <em>shard</em></li>\n</ul>\n<h3 id=\"chá»n-redis-náº¿u-chÃºng-ta-gáº·p-yÃªu-cáº§u\"><a href=\"#ch%E1%BB%8Dn-redis-n%E1%BA%BFu-ch%C3%BAng-ta-g%E1%BA%B7p-y%C3%AAu-c%E1%BA%A7u\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Chá»n Redis náº¿u chÃºng ta gáº·p yÃªu cáº§u</h3>\n<ul>\n<li>Nhiá»u kiá»ƒu dá»¯ liá»‡u phá»©c táº¡p nhÆ° <code class=\"language-inline-text\">string</code>, <code class=\"language-inline-text\">hash</code>, <code class=\"language-inline-text\">list</code>, <code class=\"language-inline-text\">set</code></li>\n<li>Cáº§n pháº£i <strong>sáº¯p xáº¿p</strong> dá»¯ liá»‡u</li>\n<li>Cá»‘ Ä‘á»‹nh <em>key</em> cá»§a store</li>\n<li>Cáº§n táº¡o <strong>replicate</strong> Ä‘á»ƒ tá»‘i Æ°u viá»‡c Ä‘á»c dá»¯ liá»‡u</li>\n<li>Tá»± Ä‘á»™ng <strong>failover</strong> náº¿u node chÃ­nh cháº¿t</li>\n<li>Cáº§n <strong>pub/sub</strong></li>\n<li>Kháº£ nÄƒng <strong>backup/restore</strong></li>\n</ul>\n","cover_image":""}},{"node":{"id":"9cbb507063e9cbfe980133e85fe58558","title":"AWS SCP lÃ  gÃ¬","path":"/2022-09-06-aws-scp-permission-boundary-iam/","date":"2022-09-06","timeToRead":2,"desc":"Series má»™t sá»‘ kiáº¿n thá»©c cáº§n cÃ³ Ä‘á»ƒ láº¥y chá»©ng chá»‰ AWS","content":"<h2 id=\"aws-scp-lÃ -gÃ¬\"><a href=\"#aws-scp-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>AWS SCP lÃ  gÃ¬</h2>\n<p>SCP lÃ  má»™t táº­p há»£p cÃ¡c rule <strong>cáº¥p quyá»n</strong> sá»­ dá»¥ng resource AWS trÃªn táº¥t cáº£ account trong má»™t AWS Organization</p>\n<h2 id=\"táº¡i-sao-sá»­-dá»¥ng-scp\"><a href=\"#t%E1%BA%A1i-sao-s%E1%BB%AD-d%E1%BB%A5ng-scp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Táº¡i sao sá»­ dá»¥ng SCP</h2>\n<p>Khi má»™t tá»• chá»©c cÃ³ nhiá»u account cáº§n quáº£n lÃ½, viá»‡c quáº£n lÃ½ sáº½ khÃ³ khÄƒn náº¿u chá»‰ sá»­ dá»¥ng IAM</p>\n<p>IAM cho phÃ©p chÃºng ta kiá»ƒm soÃ¡t quyá»n háº¡n trÃªn tá»«ng user vÃ  role cá»§a má»™t account, nhÆ°ng náº¿u chÃºng ta cáº§n quáº£n lÃ½ quyá»n háº¡n trÃªn nhiá»u role/nhiá»u account cÃ¹ng lÃºc sáº½ cáº§n Ä‘áº¿n má»™t cÃ´ng cá»¥ bao quÃ¡t hÆ¡n</p>\n<blockquote>\n<blockquote>\n<p>OU (Organizational Unit) = tá»• há»£p cÃ¡c account Ä‘Æ°á»£c quáº£n lÃ½, SCP sáº½ Ã¡p cÃ¡c rule trÃªn tá»«ng OU</p>\n</blockquote>\n</blockquote>\n<p><img src=\"https://towardsthecloud.com/wp-content/uploads/aws-org-scp-diagram-1024x928.webp\"></p>\n<p>NhÆ° hÃ¬nh trÃªn OU sáº½ thÆ°á»ng Ä‘Æ°á»£c Ä‘á»‹nh danh nhÆ° cÃ¡c Ä‘Æ¡n vá»‹ <em>ban ngÃ nh</em> trong má»™t tá»• chá»©c, chÃºng ta cÃ³ <em>Ä‘á»™i</em> náº±m trong <code class=\"language-inline-text\">Core</code>, Ä‘á»™i lÃ m <code class=\"language-inline-text\">Application</code>, Ä‘á»™i <code class=\"language-inline-text\">Development</code></p>\n<blockquote>\n<p>LÆ°u Ã½ chá»‰ cÃ³ thá»ƒ Ã¡p tá»‘i Ä‘a <strong>5</strong> SCP trÃªn má»™t root/OU/account</p>\n</blockquote>\n<p>VÃ­ dá»¥ khai bÃ¡o má»™t policy <em>deny</em> viá»‡c sá»­ dá»¥ng AWS Shield service</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"Version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2012-10-17\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"Statement\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token property\">\"Sid\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Statement1\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token property\">\"Effect\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Deny\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token property\">\"Action\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"shield:*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token property\">\"Resource\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"*\"</span><span class=\"token punctuation\">]</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>VÃ¬ SCP cÅ©ng cÃ³ thá»ƒ Ã¡p dá»¥ng trÃªn root account, nÃªn hÃ£y ráº¥t cáº©n tháº­n vÃ  test ká»¹ trÆ°á»›c khi Ã¡p dá»¥ng policy nÃ o Ä‘Ã³ trÃªn root account, trÃ¡nh trÆ°á»ng há»£p máº¥t cÃ¡c quyá»n quan trá»ng</p>\n<h2 id=\"scp-vs-permission-boundary-vs-iam-userrole-permission\"><a href=\"#scp-vs-permission-boundary-vs-iam-userrole-permission\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>SCP vs Permission Boundary vs IAM User/Role Permission</h2>\n<p>SCP khÃ´ng pháº£i chá»‰ Ä‘á»ƒ cáº¥p quyá»n, nÃ³ cÃ²n cÃ³ thá»ƒ <em>deny</em>, cÃ³ thá»ƒ hÃ¬nh dung nÃ³ nhÆ° má»™t danh sÃ¡ch cÃ³ thá»ƒ lÃ m gÃ¬ vÃ  khÃ´ng Ä‘Æ°á»£c lÃ m gÃ¬ (<strong>Deny/Allow action</strong>) trÃªn má»™t nhÃ³m Ä‘á»‘i tÆ°á»£ng trong <strong>Organization</strong></p>\n<p><img src=\"https://cloudacademy.com/wp-content/uploads/2021/03/Screenshot-2021-03-05-at-16.55.23.png\"></p>\n<table>\n<thead>\n<tr>\n<th>SCP</th>\n<th>IAM Policies</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>DÃ¹ng vá»›i OU</td>\n<td>DÃ¹ng vá»›i Principal (Ai)</td>\n</tr>\n<tr>\n<td>KhÃ´ng thay tháº¿ IAM Policy</td>\n<td>identity-base -> dÃ¹ng vá»›i user, group, role. resource-base -> dÃ¹ng vá»›i AWS resource nhÆ° S3</td>\n</tr>\n<tr>\n<td>DÃ¹ng Ä‘Æ°á»£c vá»›i Root account</td>\n<td>KhÃ´ng dÃ¹ng Ä‘Æ°á»£c vá»›i Root account</td>\n</tr>\n<tr>\n<td>Má»™t account con chá»‰ cÃ³ sá»‘ quyá»n nhÆ° account cha hoáº·c Ã­t hÆ¡n</td>\n<td>Chá»‰ 1 trong 2: allow hoáº·c deny, náº¿u allow thÃ¬ ngáº§m hiá»ƒu pháº§n cÃ²n láº¡i deny, náº¿u deny ngáº§m hiá»u pháº§n cÃ²n láº¡i allow</td>\n</tr>\n</tbody>\n</table>\n<p>CÃ²n vá» Permission Boundaries nÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng cho user/role (má»™t IAM entity), nÃ³ cáº¥p <strong>maximum permission mÃ  identity-base cÃ³ thá»ƒ cáº¥p cho má»™t IAM entity</strong>, nÃ³ khÃ´ng dÃ¹ng Ä‘Æ°á»£c vá»›i <strong>resource-base</strong>, trong khi Ä‘Ã³ SCP cÃ³ thá»ƒ Ã¡p dá»¥ng trÃªn cáº£ identity-base vÃ  resource-base</p>\n<h2 id=\"tÃ³m-táº¯t-thuáº­t-ngá»¯\"><a href=\"#t%C3%B3m-t%E1%BA%AFt-thu%E1%BA%ADt-ng%E1%BB%AF\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>TÃ³m táº¯t thuáº­t ngá»¯</h2>\n<table>\n<thead>\n<tr>\n<th>Thuáº­t ngá»¯</th>\n<th>Giáº£i thÃ­ch</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>resource-base policy</td>\n<td>policy dÃ¹ng vá»›i user, group, role</td>\n</tr>\n<tr>\n<td>identity-base policy</td>\n<td>policy dÃ¹ng vá»›i cÃ¡c service cá»§a AWS</td>\n</tr>\n<tr>\n<td>Organization</td>\n<td>ÄÆ¡n vá»‹ chÃºng ta khai báº£o Ä‘á»ƒ tiá»‡n quáº£n lÃ½</td>\n</tr>\n</tbody>\n</table>\n","cover_image":""}},{"node":{"id":"890f605c987a5f46932d0368a51e02d6","title":"NguyÃªn lÃ½ ná»n táº£ng clean code trong JS","path":"/2022-08-24-clean-code-js/","date":"2022-08-24","timeToRead":1,"desc":"VÃ­ dá»¥ chá»§ yáº¿u báº±ng JS, nhÆ°ng cÅ©ng cÃ³ thá»ƒ Ã¡p dá»¥ng vá»›i cÃ¡c ngÃ´n ngá»¯ khÃ¡c","content":"<h2 id=\"exit-sá»›m-khi-cÃ³-thá»ƒ\"><a href=\"#exit-s%E1%BB%9Bm-khi-c%C3%B3-th%E1%BB%83\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Exit sá»›m khi cÃ³ thá»ƒ</h2>\n<p><code class=\"language-inline-text\">#exit early when possible</code></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--gFdvC2DR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-1.png\" alt=\"clean code principles\"></p>\n<h2 id=\"rÃµ-rÃ ng-tá»‘t-hÆ¡n-thÃ´ng-minh\"><a href=\"#r%C3%B5-r%C3%A0ng-t%E1%BB%91t-h%C6%A1n-th%C3%B4ng-minh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>RÃµ rÃ ng tá»‘t hÆ¡n thÃ´ng minh</h2>\n<p><code class=\"language-inline-text\">#Be expressive, not clever</code>\nHÃ m bÃªn trÃ¡i cÃ³ váº» trong cool ngáº§u hÆ¡n, nhÆ°ng náº¿u nghÄ© Ä‘áº¿n viá»‡c thay Ä‘á»•i má»™t xÃ­u logic thÃ¬ hÃ m bÃªn pháº£i sáº½ dá»… hÆ¡n vÃ¬ nÃ³ dá»… Ä‘á»c vÃ  dá»… hiá»ƒu hÆ¡n, khÃ´ng cáº§n tá»‘n quÃ¡ nhiá»u mana Ä‘á»ƒ tháº¥u hiá»ƒu</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--C00ZxQZ2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-2.png\" alt=\"clean code principles\"></p>\n<h2 id=\"tÃªn-biáº¿n-rÃ nh-máº¡ch\"><a href=\"#t%C3%AAn-bi%E1%BA%BFn-r%C3%A0nh-m%E1%BA%A1ch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>TÃªn biáº¿n rÃ nh máº¡ch</h2>\n<p><code class=\"language-inline-text\">#Make variable names descriptive</code>\n<img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--iMyCptAk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-3.png\" alt=\"clean code principles\"></p>\n<h2 id=\"nÃªn-dÃ¹ng-for-of\"><a href=\"#n%C3%AAn-d%C3%B9ng-for-of\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>NÃªn dÃ¹ng <code class=\"language-inline-text\">for-of</code></h2>\n<p>Tuy khÃ´ng pháº£i nhanh nháº¥t nhÆ°ng <code class=\"language-inline-text\">for-of</code> cÃ³ nhiá»u Ä‘iá»ƒm cá»™ng hÆ¡n so vá»›i <code class=\"language-inline-text\">for-in</code>, <code class=\"language-inline-text\">for-i</code>, <code class=\"language-inline-text\">forEach</code></p>\n<ul>\n<li>ngáº¯n hÆ¡n</li>\n<li>cho phÃ©p continue, return vÃ  break trong vÃ²ng láº·p</li>\n<li>dá»… follow hÆ¡n</li>\n</ul>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--jGut6Jci--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-4.png\" alt=\"clean code principles\"></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--OBn52DyH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-5.png\" alt=\"clean code principles\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--2H0zwKG2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-6.png\" alt=\"clean code principles\"></p>\n<h2 id=\"dÃ¹ng-prefix-is-has-vá»›i-cÃ¡c-biáº¿n-mang-giÃ¡-trá»‹-boolean\"><a href=\"#d%C3%B9ng-prefix-is-has-v%E1%BB%9Bi-c%C3%A1c-bi%E1%BA%BFn-mang-gi%C3%A1-tr%E1%BB%8B-boolean\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>DÃ¹ng prefix <code class=\"language-inline-text\">is</code>, <code class=\"language-inline-text\">has</code> vá»›i cÃ¡c biáº¿n mang giÃ¡ trá»‹ boolean</h2>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--3Cme03R_--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-7.png\" alt=\"clean code principles\"></p>\n<h2 id=\"trÃ¡nh-dÃ¹ng-phá»§-Ä‘á»‹nh-\"><a href=\"#tr%C3%A1nh-d%C3%B9ng-ph%E1%BB%A7-%C4%91%E1%BB%8Bnh-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>TrÃ¡nh dÃ¹ng phá»§ Ä‘á»‹nh <code class=\"language-inline-text\">!</code></h2>\n<p><code class=\"language-inline-text\">#Avoid double negatives</code>\n<img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--8eAJqI1M--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-8.png\" alt=\"clean code principles\">\n<code class=\"language-inline-text\">#Avoid using â€œ!â€ with â€œelseâ€</code>\n<img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--mo_PlhPY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/y5aubh2ycvsrxad89acx.png\" alt=\"Image description\"></p>\n<h2 id=\"ná»‘i-chuá»—i-báº±ng-\"><a href=\"#n%E1%BB%91i-chu%E1%BB%97i-b%E1%BA%B1ng-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ná»‘i chuá»—i báº±ng <code class=\"language-inline-text\">+</code></h2>\n<p><code class=\"language-inline-text\">#Prefer string interpolation over concatenation</code>\nDá»… Ä‘á»c hÆ¡n\n<img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--naFp1Y1E--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/b86sc4fofvpj3h8j7rzc.png\" alt=\"Image description\"></p>\n<h2 id=\"trÃ¡nh-sá»­-dá»¥ng-ternary-operator-Ä‘á»ƒ-tráº£-vá»-giÃ¡-trá»‹-boolean\"><a href=\"#tr%C3%A1nh-s%E1%BB%AD-d%E1%BB%A5ng-ternary-operator-%C4%91%E1%BB%83-tr%E1%BA%A3-v%E1%BB%81-gi%C3%A1-tr%E1%BB%8B-boolean\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>TrÃ¡nh sá»­ dá»¥ng ternary operator Ä‘á»ƒ tráº£ vá» giÃ¡ trá»‹ boolean</h2>\n<p><code class=\"language-inline-text\">#Avoid using the ternary operator to a return boolean value</code>\n<img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--uqMPao6g--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6ki75tjajqfdz28edadc.png\" alt=\"Image description\"></p>\n<h2 id=\"khÃ´ng-sá»­-dá»¥ng-magic-number\"><a href=\"#kh%C3%B4ng-s%E1%BB%AD-d%E1%BB%A5ng-magic-number\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>KhÃ´ng sá»­ dá»¥ng magic number</h2>\n<p><code class=\"language-inline-text\">#Avoid using â€œmagicâ€ numbers</code>\n<img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--DoVWaX-X--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/agjo6gso4ar0tv06k0dt.png\" alt=\"Image description\"></p>\n<h2 id=\"trÃ¡nh-truyá»n-hÆ¡n-2-tham-sá»‘-cho-function\"><a href=\"#tr%C3%A1nh-truy%E1%BB%81n-h%C6%A1n-2-tham-s%E1%BB%91-cho-function\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>TrÃ¡nh truyá»n hÆ¡n 2 tham sá»‘ cho function</h2>\n<p><code class=\"language-inline-text\">#Avoid declaring functions with more than 2 arguments</code>\nNáº¿u cÃ³ nhiá»u hÆ¡n 2 tham sá»‘ truyá»n vÃ o cho function, hÃ£y dÃ¹ng object\n<img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--mSzEeLD5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-14.png\" alt=\"clean code principles\"></p>\n<h2 id=\"tham-sá»‘-truyá»n-vÃ o-lÃ -boolean-thÃ¬-dÃ¹ng-object\"><a href=\"#tham-s%E1%BB%91-truy%E1%BB%81n-v%C3%A0o-l%C3%A0-boolean-th%C3%AC-d%C3%B9ng-object\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tham sá»‘ truyá»n vÃ o lÃ  boolean thÃ¬ dÃ¹ng object</h2>\n<p><code class=\"language-inline-text\">#Prefer objects to boolean arguments</code>\n<img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--SSpeskvO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-15.png\" alt=\"clean code principles\"></p>\n<h1 id=\"dÃ nh-cho-react\"><a href=\"#d%C3%A0nh-cho-react\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>DÃ nh cho React</h1>\n<h2 id=\"má»—i-function-lÃ -má»™t-dom\"><a href=\"#m%E1%BB%97i-function-l%C3%A0-m%E1%BB%99t-dom\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Má»—i function lÃ  má»™t DOM</h2>\n<p><code class=\"language-inline-text\">#Declare DOM only once per function</code>\n<img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--EqOya5qJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-16.png\" alt=\"clean code principles\"></p>\n<h2 id=\"cáº©n-tháº­n-vá»›i-\"><a href=\"#c%E1%BA%A9n-th%E1%BA%ADn-v%E1%BB%9Bi-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cáº©n tháº­n vá»›i <code class=\"language-inline-text\">&amp;&amp;</code></h2>\n<p><code class=\"language-inline-text\">#Mind the guard operator</code>\n<img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--uxYQ7Xi3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://kendsnyder.com/sandbox/clean_code/images/combined-18.png\" alt=\"clean code principles\"></p>\n<p>Láº¥y cáº£m há»©ng tá»« cuá»‘n <a href=\"https://www.amazon.com/Elements-Style-Fourth-William-Strunk/dp/020530902X/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The elements of style</a>\nHÃ¬nh áº£nh tá»« <a href=\"https://dev.to/flatlogic/javascript-clean-code-principles-286\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"></a></p>\n","cover_image":""}},{"node":{"id":"8b00dbecf693b54e06b8107947c6c529","title":"8 tháº» html Ã­t ai biáº¿t nhÆ°ng láº¡i ráº¥t hay ho","path":"/2022-05-15-8-html-it-duoc-ai-biet/","date":"2022-05-15","timeToRead":2,"desc":"","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#s\"><code class=\"language-inline-text\">s</code></a></li>\n<li><a href=\"#ruby-rt-rp\"><code class=\"language-inline-text\">ruby</code>, <code class=\"language-inline-text\">rt</code>, <code class=\"language-inline-text\">rp</code></a></li>\n<li><a href=\"#details\"><code class=\"language-inline-text\">details</code></a></li>\n<li><a href=\"#optgroup\"><code class=\"language-inline-text\">optgroup</code></a></li>\n<li><a href=\"#meter\"><code class=\"language-inline-text\">meter</code></a></li>\n<li><a href=\"#progress\"><code class=\"language-inline-text\">progress</code></a></li>\n<li><a href=\"#kbd\"><code class=\"language-inline-text\">kbd</code></a></li>\n<li><a href=\"#bdo\"><code class=\"language-inline-text\">bdo</code></a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"s\"><a href=\"#s\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">s</code></h2>\n<p>ÄÆ°á»£c dÃ¹ng Ä‘á»ƒ Ä‘Ã¡nh dáº¥u má»™t ná»™i dung khÃ´ng cÃ²n chÃ­nh xÃ¡c ná»¯a, vÃ­ dá»¥ giÃ¡ cÅ©. Ná»™i dung sáº½ bá»‹ gáº¡ch ngang</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>s</span><span class=\"token punctuation\">></span></span>10.000 Ä‘<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>s</span><span class=\"token punctuation\">></span></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span><span class=\"token punctuation\">></span></span>9.999 Ä‘<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>CSS Ä‘á»ƒ cÃ³ format giá»‘ng nhÆ° tag <code class=\"language-inline-text\">&lt;s></code></p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.line-through</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> line-through<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ruby-rt-rp\"><a href=\"#ruby-rt-rp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">ruby</code>, <code class=\"language-inline-text\">rt</code>, <code class=\"language-inline-text\">rp</code></h2>\n<p>ThÃªm pháº§n ghi chÃº, lÃºc Ä‘áº§u Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ dÃ¹ng thÃªm chÃº thÃ­ch cho cÃ¡c kÃ½ tá»± khÃ´ng pháº£i latin</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ruby</span><span class=\"token punctuation\">></span></span>å¸¶ç¿…è†€<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rt</span><span class=\"token punctuation\">></span></span>Carmine<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>rt</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ruby</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ruby</span><span class=\"token punctuation\">></span></span>çš„è€é¼ <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rt</span><span class=\"token punctuation\">></span></span>Falcone<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>rt</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ruby</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--iNjF4CSp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1xmmeopz2m96ngxh7a6h.png\"></p>\n<h2 id=\"details\"><a href=\"#details\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">details</code></h2>\n<p>CÅ©ng dÃ¹ng Ä‘á»ƒ thÃªm chÃº thÃ­ch, nhÆ°ng dÆ°á»›i dáº¡ng <em>collapse</em>, user cÃ³ thá»ƒ Ä‘Ã³ng/má»Ÿ pháº§n chÃº thÃ­ch nÃ y</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span>pointer<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span>Xem diá»…n giáº£i<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n\t\tÄÃ¢y lÃ  ná»™i dung cÃ³ Ã­ch láº¯m\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span> </code></pre></div>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--hQRdd3Sa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xgal47336yb6ktmuccqm.png\"></p>\n<h2 id=\"optgroup\"><a href=\"#optgroup\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">optgroup</code></h2>\n<p>ÄÆ°á»£c dÃ¹ng Ä‘á»ƒ gá»™p cÃ¡c element liÃªn quan vá»›i nhau bÃªn trong <code class=\"language-inline-text\">&lt;select></code></p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>optgroup</span> <span class=\"token attr-name\">label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>TrÃ¡i cÃ¢y<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>cam<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Cam<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dua-hau<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>DÆ°a háº¥u<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>optgroup</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>optgroup</span> <span class=\"token attr-name\">label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>NÆ°á»›c Ã‰p<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ca-sau<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>CÃ¡ sáº¥u<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>khung-long<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Khá»§ng Long<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>optgroup</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"meter\"><a href=\"#meter\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">meter</code></h2>\n<p>Hiá»ƒn thá»‹ <code class=\"language-inline-text\">gauge</code> (cá»™t nÄƒng lÆ°á»£ng), nhÆ° váº§y nÃ¨</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--oG5gI0AM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/11rwsx8j10ccqaak6zhs.png\"></p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span> 0L \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meter</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>fuel<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">min</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">max</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">low</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>33<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">high</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>66<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">optimum</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>80<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        at 50/100\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>meter</span><span class=\"token punctuation\">></span></span> 5L\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span> 0L \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meter</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>fuel<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">min</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">max</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">low</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>33<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">high</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>66<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">optimum</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>80<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        at 50/100\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>meter</span><span class=\"token punctuation\">></span></span> 5L\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span> 0L \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meter</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>fuel<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">min</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">max</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">low</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>33<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">high</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>66<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">optimum</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>80<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>80<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        at 50/100\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>meter</span><span class=\"token punctuation\">></span></span> 5L\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"progress\"><a href=\"#progress\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">progress</code></h2>\n<p>NhÆ° tÃªn Ä‘Ã£ nÃ³i lÃªn táº¥t cáº£, dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ tiáº¿n trÃ¬nh, cÅ©ng hÆ¡i na nÃ¡ vá»›i <code class=\"language-inline-text\">meter</code> hÃ¡</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>File progress:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>progress</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">max</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>70<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span> 70% <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>progress</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--guaJQXSD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6wm0r9c5ez7iasz6gj3q.png\"></p>\n<h2 id=\"kbd\"><a href=\"#kbd\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">kbd</code></h2>\n<p>ÄÆ°á»£c thiáº¿t káº¿ <em>káº¹p</em>  phÃ­m táº¯t, ná»™i dung bÃªn trong sáº½ Ä‘Æ°á»£c máº·c Ä‘á»‹nh hiá»‡n thá»‹ báº±ng font <code class=\"language-inline-text\">monospace</code></p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Press <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>kbd</span><span class=\"token punctuation\">></span></span>Ctrl<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>kbd</span><span class=\"token punctuation\">></span></span> + <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>kbd</span><span class=\"token punctuation\">></span></span>C<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>kbd</span><span class=\"token punctuation\">></span></span> to copy text (Windows).<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--IDPlHZaK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/vgqcbg81dptv46om81up.png\"></p>\n<h2 id=\"bdo\"><a href=\"#bdo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">bdo</code></h2>\n<p>Viáº¿t táº¯t cho <code class=\"language-inline-text\">Bi-Directional Override</code>, hiá»ƒn thá»‹ text á»Ÿ dáº¡ng animate, Ä‘á»•i hÆ°á»›ng hiá»ƒn thá»‹, má»™t trong nhá»¯ng tag Ã­t sá»­ dá»¥ng vÃ  <em>láº¡</em> nháº¥t so vá»›i nhá»¯ng tháº±ng Ä‘Ã£ ká»ƒ trÃªn</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bdo</span> <span class=\"token attr-name\">dir</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rtl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>May the force be with you.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bdo</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--g9ok-gPV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/i54v3vic225493ihkkuy.gif\"></p>\n<p><a href=\"https://dev.to/samsundar/8-unknown-html-tags-that-are-actually-quite-useful-2l45\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">8 Unknown HTML tags that are actually quite useful</a></p>\n","cover_image":""}},{"node":{"id":"c8a93009b5744dc61180bda6cbd817fb","title":"React Transition","path":"/2022-05-07-cach-dung-usetransition-trong-react/","date":"2022-05-07","timeToRead":3,"desc":"Má»™t tÃ­nh nÄƒng má»›i trong React 18, cho phÃ©p chÃºng ta Ä‘Ã¡nh giáº¥u má»™t thay Ä‘á»•i lÃ  transition","content":"<h2 id=\"táº¡i-sao\"><a href=\"#t%E1%BA%A1i-sao\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Táº¡i sao?</h2>\n<p>Má»™t váº¥n Ä‘á» ráº¥t thá»±c táº¿ mÃ  chÃºng ta hay gáº·p khi viáº¿t <em>search component</em>, chÃºng ta sáº½ thÃªm cÆ¡ cháº¿ <em>debounce</em> khi gá»i xuá»‘ng API sau khi user nháº­p giÃ¡ trá»‹ vÃ o <code class=\"language-inline-text\">input</code>, <em>debounce</em> tá»©c lÃ  há»•ng Ä‘i lÃ m liá»n mÃ  Ä‘á»£i cho Ä‘áº¿n háº¿t thá»i gian thÃ¬ má»›i lÃ m.</p>\n<p>TrÆ°á»›c Ä‘Ã¢y, React khÃ´ng cÃ³ phÃ¢n biá»‡t giá»¯a cÃ¡i gÃ¬ cáº§n lÃ m liá»n vÃ  cÃ¡i gÃ¬ cÃ³ thá»ƒ Ä‘á»ƒ sau rá»“i lÃ m, dÃ¢n tÃ¬nh gá»i lÃ  sá»‘ng vá»™i. Giá» Ä‘Ã¢y, tháº¥y viá»‡c sá»‘ng vá»™i nhÆ° tháº¿ lÃ  mÃ  lá»‘i sá»‘ng sai láº§m, nÃªn má»Ÿ ra khÃ¡i niá»‡m <em>sá»‘ng cháº­m</em>, thÃ´ng tháº£ mÃ  lÃ m. NhÆ° mÃ³n nÃ o cáº§n gáº¥p thÃ¬ báº¡n bay ra táº¡p quÃ¡ gáº§n nhÃ  mua liá»n, mÃ³n nÃ o chÆ°a cáº§n ngay thÃ¬ Ä‘Æ°a vÃ o danh sÃ¡ch mua sáº¯m cuá»‘i thÃ¡ng Ä‘i siÃªu thá»‹.</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--6-YH79KT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/t359lpszuvb3k6dlm6q0.gif\"></p>\n<p>Nhá»¯ng cÃ´ng chuyá»‡n nÃ o Ä‘Æ°á»£c coi lÃ  <em>sá»‘ng cháº­m</em> React sáº½ khÃ´ng lÃ m liá»n vÃ  khÃ´ng hiá»ƒn thá»‹ <em>Suspense fallback</em> component.</p>\n<p>2 API má»›i, má»™t hook vÃ  má»™t cÃ¡i dÃ¹ng trong trÆ°á»ng há»£p khÃ´ng thá»ƒ dÃ¹ng hook</p>\n<ul>\n<li>React.startTransition</li>\n<li>React.useTransition</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isPending<span class=\"token punctuation\">,</span> startTransition<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useTransition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token keyword\">function</span> <span class=\"token function\">handleClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">startTransition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">c</span> <span class=\"token operator\">=></span> c <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t\t</span><span class=\"token punctuation\">{</span>isPending <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Spinner</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n\t\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleClick<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ChÃºng ta cÃ³ má»™t danh sÃ¡ch <em>employee name</em>, khi user nháº­p vÃ o input, chÃºng ta thá»±c hiá»‡n <em>filter</em> láº¡i danh sÃ¡ch nÃ y.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">FilterList</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">,</span> setQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">changeHandler</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setQuery</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>innput</span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>changeHandler<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\t\t\t</span><span class=\"token punctuation\">{</span>names<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n\t\t        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ListItem</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">name</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">highlight</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n\t\t      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">ListItem</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> highlight <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> index <span class=\"token operator\">=</span> name<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>highlight<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">===</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>highlight<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> index <span class=\"token operator\">+</span> highlight<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">+</span> highlight<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://codesandbox.io/s/heavy-update-as-urgent-ejwbg?file=/src/FilterList.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Demo</a></p>\n<p>Khi user nháº­p quÃ¡ nhanh, chÃºng ta sáº½ tháº¥y UI cÃ³ váº» hÆ¡i <em>lag</em> vÃ  nÃ³ khÃ´ng hiá»ƒn thá»‹ Ä‘Æ°á»£c káº¿t quÃ¡ ngay.</p>\n<p>á» Ä‘Ã¢y <code class=\"language-inline-text\">&lt;ListItem /></code> Ä‘Ã£ Ä‘Æ°á»£c update liÃªn tá»¥c khi user nháº­p vÃ o input, viá»‡c nÃ y lÃ  khÃ´ng cáº§n thiáº¿t, nÃ³ chá»‰ cáº§n cáº­p nháº­p láº¡i sau khi user Ä‘Ã£ káº¿t thÃºc nháº­p liá»‡u, má»™t cÃ¡ch khÃ¡c lÃ  bá» quáº£ táº¥t cáº£ nhá»¯ng láº§n cáº­p nháº­p á»Ÿ giá»¯a, chá»‰ giá»¯ láº¡i láº§n cáº­p nháº­p sau cÃ¹ng.</p>\n<p>Äá»ƒ sá»­a láº¡i</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useTransition <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">FilterList</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> names <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">,</span> setQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>highlight<span class=\"token punctuation\">,</span> setHighlight<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isPending<span class=\"token punctuation\">,</span> startTransition<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useTransition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">changeHandler</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setQuery</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">startTransition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setHighlight</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>changeHandler<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>names<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ListItem</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">name</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">highlight</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>highlight<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://codesandbox.io/s/heavy-update-as-non-urgent-ifobc?file=/src/FilterList.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Demo</a>.</p>\n<p><a href=\"https://dmitripavlutin.com/react-usetransition/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Don't Stop Me Now: How to Use React useTransition() hook</a></p>\n","cover_image":""}},{"node":{"id":"43406148266add9ca30a703612341dbb","title":"Táº¥t cáº£ nhá»¯ng gÃ¬ báº¡n cáº§n biáº¿t khi lÃ m user avatar trong React","path":"/2022-05-01-tat-ca-nhung-gi-can-biet-de-lam-viec-voi-avatar-trong-react/","date":"2022-05-01","timeToRead":4,"desc":"","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#t%E1%BA%A1o-avatar-m%E1%BA%B7c-%C4%91%E1%BB%8Bnh\">Táº¡o avatar máº·c Ä‘á»‹nh</a></li>\n<li><a href=\"#cho-user-upload-avatar\">Cho user upload avatar</a></li>\n<li><a href=\"#crop-%E1%BA%A3nh\">Crop áº£nh</a></li>\n<li><a href=\"#to%C3%A0n-b%E1%BB%99-source-code\">ToÃ n bá»™ source code</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"táº¡o-avatar-máº·c-Ä‘á»‹nh\"><a href=\"#t%E1%BA%A1o-avatar-m%E1%BA%B7c-%C4%91%E1%BB%8Bnh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Táº¡o avatar máº·c Ä‘á»‹nh</h2>\n<p>Trong trÆ°á»ng há»£p user chÆ°a upload avatar, chÃºng ta sáº½ hiá»ƒn thá»‹ má»™t avatar máº·c Ä‘á»‹nh, sá»­ dá»¥ng <a href=\"https://www.npmjs.com/package/jdenticon\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jdenticon</a> nÃ³ sáº½ cho chÃºng ta bá»™ hÃ¬nh sau</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--kYzqAMFa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jrn6svy3k9b3qznrgkla.png\"></p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ComponentProps<span class=\"token punctuation\">,</span> <span class=\"token constant\">FC</span><span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> AutoAvatar<span class=\"token operator\">:</span> <span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>\n  ComponentProps<span class=\"token operator\">&lt;</span><span class=\"token string\">'img'</span><span class=\"token operator\">></span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span> userId<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span> size<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> userId<span class=\"token punctuation\">,</span> size<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>imgProps <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>base64<span class=\"token punctuation\">,</span> setBase64<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span> <span class=\"token keyword\">as</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// dÃ¹ng dynamic import Ä‘á»ƒ tá»‘i Æ°u</span>\n  <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jdenticon'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> toSvg <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> svgString <span class=\"token operator\">=</span> <span class=\"token function\">toSvg</span><span class=\"token punctuation\">(</span>userId<span class=\"token punctuation\">,</span> size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> base64 <span class=\"token operator\">=</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>svgString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setBase64</span><span class=\"token punctuation\">(</span>base64<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> base64 <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">backgroundColor</span><span class=\"token operator\">:</span> <span class=\"token string\">'rgb(225,225,225)'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'flex'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span>\n        <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>imgProps<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">data:image/svg+xml;base64,</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>base64<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">alt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'User Avatar'</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> size<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> size<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'inline-block'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      Loading...\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ThÆ° viá»‡n nÃ y khoáº£n 45kb, Ä‘á»ƒ webpack dynamic load khi cáº§n thiáº¿t cho tiáº¿t kiá»‡m\nGiÃ¡ trá»‹ <strong>base64</strong> tráº£ vá» chÃºng ta cÃ³ thá»ƒ gÃ¡n cho <code class=\"language-inline-text\">src</code> cá»§a tháº» <code class=\"language-inline-text\">&lt;img /></code></p>\n<h2 id=\"cho-user-upload-avatar\"><a href=\"#cho-user-upload-avatar\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cho user upload avatar</h2>\n<p>Náº¿u chá»‰ dÃ¹ng <code class=\"language-inline-text\">&lt;input type=\"file\" /></code> UI nÃ³ sáº½ khÃ¡ xáº¥u, chÃºng ta <em>dáº¥u</em> nÃ³ Ä‘i vÃ  thay báº±ng má»™t <code class=\"language-inline-text\">&lt;button /></code> Ä‘á»ƒ dá»… chá»‰nh CSS hÆ¡n. Sá»­ dá»¥ng <code class=\"language-inline-text\">ref</code> Ä‘á»ƒ trigger sá»± kiá»‡n <em>click</em> trÃªn <code class=\"language-inline-text\">input</code></p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>createRef<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ImageSelect</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> fileRef <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> onFileInputChange<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ChangeEventHandler<span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token operator\">?.</span>files<span class=\"token operator\">?.</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'none'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>fileRef<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onFileInputChange<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">accept</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image/png,image/jpeg,image/gif<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n        <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> fileRef<span class=\"token punctuation\">.</span>current<span class=\"token operator\">?.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Cool Button\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"crop-áº£nh\"><a href=\"#crop-%E1%BA%A3nh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Crop áº£nh</h2>\n<p>TrÆ°á»›c khi gá»­i áº£nh xuá»‘ng backend dá»ƒ lÆ°u láº¡i, chÃºng ta sáº½ cho phÃ©p user <code class=\"language-inline-text\">crop</code> áº£nh báº±ng <a href=\"https://fengyuanchen.github.io/cropperjs/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">cropper.js</a> vÃ  <a href=\"https://www.npmjs.com/package/react-cropper\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-cropper</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--B3T2HPu8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rmvn8upi2y1onvpsvclt.gif\"></p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>createRef<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>Cropper<span class=\"token punctuation\">,</span> ReactCropperElement<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-cropper\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'cropperjs/dist/cropper.css'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ImageCrop</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> cropperRef <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>ReactCropperElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Cropper</span></span>\n      <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;the iamge src><span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">autoCropArea</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">aspectRatio</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">viewMode</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">guides</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>cropperRef<span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Má»™t sá»‘ thiáº¿t Ä‘áº·t</p>\n<ul>\n<li><code class=\"language-inline-text\">autoCropArea = 1</code> máº·c Ä‘á»‹nh lÃ  chá»n toÃ n bá»™ hÃ¬nh</li>\n<li><code class=\"language-inline-text\">aspectRatio = 1</code> tá»‰ lá»‡ crop mong muá»‘n, chá»n 1:1, vuÃ´ng</li>\n<li><code class=\"language-inline-text\">viewMode = 3</code> khÃ´ng cho phÃ©p chá»n vÃ o vÃ¹ng náº±m ngoÃ i hÃ¬nh</li>\n<li><code class=\"language-inline-text\">guides = false</code> khÃ´ng hiá»ƒn thá»‹ máº¥y Ä‘Æ°á»ng <em>grid</em></li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>createRef<span class=\"token punctuation\">,</span> useState<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>Cropper<span class=\"token punctuation\">,</span> ReactCropperElement<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-cropper\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'cropperjs/dist/cropper.css'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ImageCrop</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> cropperRef <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>ReactCropperElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>cropped<span class=\"token punctuation\">,</span> setCropped<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span> <span class=\"token keyword\">as</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onSaveClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> imageElement<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span> <span class=\"token operator\">=</span> cropperRef<span class=\"token operator\">?.</span>current<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> cropper<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span> <span class=\"token operator\">=</span> imageElement<span class=\"token operator\">?.</span>cropper<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setCropped</span><span class=\"token punctuation\">(</span>cropper<span class=\"token punctuation\">.</span><span class=\"token function\">getCroppedCanvas</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toDataURL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Cropper</span></span>\n        <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"https://picsum.photos/500/300\"</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">autoCropArea</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">aspectRatio</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">viewMode</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">guides</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>cropperRef<span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onSaveClick<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Crop</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>cropped <span class=\"token operator\">&amp;&amp;</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>cropped<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"It's cropped\"</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Äá»ƒ láº¥y image cho viá»‡c upload, sá»­ dá»¥ng <code class=\"language-inline-text\">blob</code>. CÃ²n náº¿u chá»‰ cáº§n hiá»ƒn thá»‹ thÃ¬ dÃ¹ng <code class=\"language-inline-text\">dataUrl</code> nhÆ° á»Ÿ trÃªn</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">cropper<span class=\"token punctuation\">.</span><span class=\"token function\">getCroppedCanvas</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBlob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"toÃ n-bá»™-source-code\"><a href=\"#to%C3%A0n-b%E1%BB%99-source-code\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ToÃ n bá»™ source code</h2>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>createRef<span class=\"token punctuation\">,</span> useState<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./App.css'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>Cropper<span class=\"token punctuation\">,</span> ReactCropperElement<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-cropper\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'cropperjs/dist/cropper.css'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./roundedCropper.css'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// chuyá»ƒn file qua base64</span>\n<span class=\"token keyword\">const</span> file2Base64 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>file<span class=\"token operator\">:</span> File<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    reader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsDataURL</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    reader<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>reader<span class=\"token punctuation\">.</span>result<span class=\"token operator\">?.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    reader<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ref Ä‘áº¿n file input</span>\n  <span class=\"token keyword\">const</span> fileRef <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// hÃ¬nh Ä‘Æ°á»£c chá»n</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>uploaded<span class=\"token punctuation\">,</span> setUploaded<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span> <span class=\"token keyword\">as</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// káº¿t quáº£ cá»§a image sau khi crop</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>cropped<span class=\"token punctuation\">,</span> setCropped<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span> <span class=\"token keyword\">as</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// ref Ä‘áº¿n crop element</span>\n  <span class=\"token keyword\">const</span> cropperRef <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>ReactCropperElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> onFileInputChange<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ChangeEventHandler<span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>target<span class=\"token operator\">?.</span>files<span class=\"token operator\">?.</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">file2Base64</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>base64<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setUploaded</span><span class=\"token punctuation\">(</span>base64<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onCrop</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> imageElement<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span> <span class=\"token operator\">=</span> cropperRef<span class=\"token operator\">?.</span>current<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> cropper<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span> <span class=\"token operator\">=</span> imageElement<span class=\"token operator\">?.</span>cropper<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setCropped</span><span class=\"token punctuation\">(</span>cropper<span class=\"token punctuation\">.</span><span class=\"token function\">getCroppedCanvas</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toDataURL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>App<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>\n          uploaded <span class=\"token operator\">?</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Cropper</span></span>\n                <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>uploaded<span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">autoCropArea</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">aspectRatio</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">viewMode</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">guides</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>cropperRef<span class=\"token punctuation\">}</span></span>\n              <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onCrop<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Crop</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token punctuation\">{</span>cropped <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>cropped<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Cropped!<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token operator\">:</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n                <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span>\n                <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token string\">'none'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>fileRef<span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onFileInputChange<span class=\"token punctuation\">}</span></span>\n                <span class=\"token attr-name\">accept</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image/png,image/jpeg,image/gif<span class=\"token punctuation\">\"</span></span>\n              <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n                <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> fileRef<span class=\"token punctuation\">.</span>current<span class=\"token operator\">?.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n              <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Upload something!\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><a href=\"https://tolgee.io/blog/manage-user-avatar\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">All you need to know to deal with user avatars ğŸ‘¤ in React</a></li>\n</ul>\n","cover_image":""}},{"node":{"id":"539b556649530f0970013d8a6d4121dc","title":"Setup CloudFront cho á»©ng dá»¥ng","path":"/2022-04-30-setup-cloudfront-cho-und-dung/","date":"2022-04-30","timeToRead":3,"desc":"","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#c%E1%BA%A5u-h%C3%ACnh-dns\">Cáº¥u hÃ¬nh DNS</a></li>\n<li><a href=\"#c%E1%BA%A5u-h%C3%ACnh-cloudfront-distribution\">Cáº¥u hÃ¬nh CloudFront distribution</a></li>\n</ul>\n<!-- /TOC -->\n<p>ChÃºng ta sáº½ cÃ¹ng cáº¥u hÃ¬nh Ä‘á»ƒ Ä‘Æ°a toÃ n bá»™ á»©ng dá»¥ng lÃªn CloudFront, vá»›i nhá»¯ng dá»¯ liá»‡u khÃ´ng nÃªn cache nhÆ° <em>data</em>, <em>auth</em>,... sáº½ Ä‘Æ°á»£c <em>proxy</em> (chuyá»ƒn tiáº¿p) Ä‘áº¿n server.</p>\n<h2 id=\"cáº¥u-hÃ¬nh-dns\"><a href=\"#c%E1%BA%A5u-h%C3%ACnh-dns\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cáº¥u hÃ¬nh DNS</h2>\n<p>Má»¥c tiÃªu cuá»‘i cÃ¹ng cá»§a chÃºng ta lÃ  Ä‘Æ°a toÃ n bá»™ á»©ng dá»¥ng lÃªn CloudFront. Tá»©c lÃ  khi user truy cáº­p vÃ o domain, há» sáº½ load á»©ng dá»¥ng tá»« CloudFront chá»© khÃ´ng pháº£i tá»« server. TrÆ°á»›c tiÃªn chÃºng ta pháº£i vÃ o <em>Route 53</em> Ä‘á»ƒ thay Ä‘á»•i láº¡i DNS</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645834717715_image.png?resize=1024%2C280&#x26;ssl=1\"></p>\n<p>Chá»n <strong>Hosted Zone</strong></p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645994751238_image.png?w=821&#x26;ssl=1\"></p>\n<p>Click vÃ o <strong>Create Hosted zone</strong> vÃ  nháº­p vÃ o domain</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645908142161_image.png?resize=1024%2C237&#x26;ssl=1\"></p>\n<p>ChÃºng ta Ä‘ang nÃ³i vá»›i AWS hÃ£y quáº£n lÃ½ domain nÃ y cho tÃ´i, AWS Ä‘Æ°a cho chÃºng ta giÃ¡ trá»‹ NS (name server) mÃ  nÃ³ sáº½ <em>route traffic</em> Ä‘áº¿n. ChÃºng ta sáº½ cáº§n Ä‘áº¿n chá»— quáº£n lÃ½ domain, tÃ¹y thuá»™c vÃ o nÆ¡i chÃºng ta Ä‘Äƒng kÃ½ domain, giao diá»‡n quáº£n lÃ½ cÃ³ thá»ƒ khÃ¡c nhau, chÃºng ta cáº­p nháº­p láº¡i giÃ¡ trá»‹ <em>NS</em> nÃ y cho domain</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645835018979_image.png?w=762&#x26;ssl=1\"></p>\n<p>TrÆ°á»›c khi thay Ä‘á»•i, nhá»› lÆ°u láº¡i backup giÃ¡ trá»‹ NS gá»‘c</p>\n<h2 id=\"cáº¥u-hÃ¬nh-cloudfront-distribution\"><a href=\"#c%E1%BA%A5u-h%C3%ACnh-cloudfront-distribution\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cáº¥u hÃ¬nh CloudFront distribution</h2>\n<p>ChÃºng ta sáº½ Ä‘iá»n vÃ o pháº§n <em>origin domain</em>, Ä‘á»«ng nháº­p giÃ¡ trá»‹ <strong>top-level domain</strong> nhÆ° <code class=\"language-inline-text\">your-app.com</code>, nÃ³ sáº½ lÃ  giÃ¡ trá»‹ sub domain, nhÆ° <code class=\"language-inline-text\">your-app.herokuapp.com</code> (náº¿u Ä‘Æ°á»£c host trÃªn herokuapp.com)</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645841894888_image.png?resize=1024%2C292&#x26;ssl=1\"></p>\n<p>Náº¿u cÃ³ Ã½ Ä‘á»‹nh dÃ¹ng <code class=\"language-inline-text\">HTTPs</code> thÃ¬ nhá»› thay Ä‘á»•i phÃ¢n <strong>Protocol</strong></p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645934723593_image.png?resize=1024%2C817&#x26;ssl=1\"></p>\n<p>Pháº§n dÆ°á»›i Ä‘Ã¢y cá»±c ká»³ quan trá»ng, náº¿u á»©ng dá»¥ng cá»§a chÃºng ta cÃ³ authen, ghi dá»¯ liá»‡u, nÃ³i chung nhá»¯ng phÆ°Æ¡ng thá»©c khÃ¡c ngoÃ i <code class=\"language-inline-text\">GET</code>, thÃ¬ nhá»› chá»n láº¡i <strong>Allowed HTTP methods</strong></p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645841986703_image.png?w=730&#x26;ssl=1\"></p>\n<p>ChÃºng ta cÅ©ng cáº§n thá»±c hiá»‡n má»™t vÃ i thay Ä‘á»•i trÃªn <strong>Cache key and origin requests</strong></p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645842121040_image.png?resize=1024%2C763&#x26;ssl=1\"></p>\n<p><strong>Cache policy</strong> chÃºng ta cho phÃ©p giÃ¡ trá»‹ TTL minimum lÃ  0, nhÆ° váº­y vá»›i giÃ¡ trá»‹ non-caching header Ä‘Æ°á»£c gá»­i lÃªn sáº½ cÃ³ hiá»‡u lá»±c</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645842200731_image.png?resize=1024%2C857&#x26;ssl=1\"></p>\n<p><strong>Origin request policy</strong>, Ä‘á»ƒ Ä‘áº£m báº£o cookie vÃ  query string khi Ä‘áº¿n CloudFront sáº½ Ä‘Æ°á»£c gá»­i xuá»‘ng server (khÃ´ng serve tá»« CDN)</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645842297987_image.png?resize=1024%2C686&#x26;ssl=1\">\n<strong>Response headers policy</strong>, chÃºng ta chá»n <strong>CORS With Preflight</strong></p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645842362649_image.png?resize=1024%2C684&#x26;ssl=1\"></p>\n<p>ChÃºng ta váº«n pháº£i chá»©ng minh vá»›i AWS lÃ  chÃºng ta lÃ  chá»§ sá»Ÿ há»¯u cá»§a domain, trÆ°á»›c háº¿t chÃºng ta yÃªu cáº§u má»™t SSL certificate</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645932319102_image.png?resize=1024%2C862&#x26;ssl=1\"></p>\n<p>Chá»n <strong>Request certificate</strong></p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645845081306_image.png?resize=1024%2C360&#x26;ssl=1\">\n<img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645845178014_image.png?resize=1024%2C553&#x26;ssl=1\"></p>\n<p>Cung cáº¥p tÃªn miá»n, chá»n kiá»ƒu validate báº±ng <em>DNS</em></p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645932453934_image.png?resize=882%2C1024&#x26;ssl=1\"></p>\n<p>Chá»n <strong>Request</strong>, chá»n vÃ o Certificate ID vá»«a Ä‘Æ°á»£c táº¡o ra</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645932554825_image.png?resize=1024%2C211&#x26;ssl=1\">\n<img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645932616235_image.png?resize=1024%2C227&#x26;ssl=1\"></p>\n<p>Äá»ƒ xÃ¡c minh domain chÃ­nh chá»§, chÃºng ta cáº§n Ä‘Æ°a giÃ¡ trá»‹ CNAME nÃ y vÃ o trong Route 53</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645932927217_image.png?resize=1024%2C462&#x26;ssl=1\"></p>\n<p>ChÃºng ta táº¡o má»™t dÃ²ng CNAME vá»›i giÃ¡ trá»‹ trong certificate á»Ÿ trÃªn</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645932742028_image.png?resize=1024%2C637&#x26;ssl=1\"></p>\n<p>Sau khi xÃ¡c minh xong AWS sáº½ cáº­p nháº­p status trÃªn domain</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645933155607_image.png?resize=1024%2C202&#x26;ssl=1\">\n<img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645933066086_image.png?resize=1024%2C156&#x26;ssl=1\"></p>\n<p>Xong, giá» quay láº¡i mÃ n hÃ¬nh CloudFront distribution, trong má»¥c <strong>SSL certificate</strong> chá»n vÃ o certificate chÃºng ta Ä‘Ã£ táº¡o</p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645933691496_image.png?resize=1024%2C727&#x26;ssl=1\">\n<img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645933782796_image.png?resize=1024%2C440&#x26;ssl=1\"></p>\n<p>Viá»‡c cÃ²n láº¡i lÃ  bÃ¡o vá»›i Route 53 Ä‘á»ƒ nÃ³ route domain vÃ o CloudFront, vÃ o Route 53 táº¡o thÃªm má»™t dÃ²ng DNS\nChá»n <strong>A record type</strong>, Ä‘Ã¡nh dáº¥u dÃ²ng nÃ y lÃ  má»™t <strong>alias</strong> vÃ  map alias nÃ y Ä‘áº¿n CloudFront. BÃªn trong má»¥c <strong>Route traffic to</strong> chÃºng ta sáº½ cÃ³ tÃ¹y chá»n <strong>Alias to CloudFront distribution</strong></p>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/04/s_9EC4D5B81B6CD9C28657A6DEAF8D3C9C2A6DFB1D0DE42C8A4034DB1807C8212F_1645933944994_image.png?resize=1024%2C538&#x26;ssl=1\"></p>\n<p>OK, xong rá»“i Ä‘Ã³.</p>\n<p>Äá»ƒ bÃ¡o vá»›i CloudFront Ä‘á»«ng cache nhá»¯ng request cá»¥ thá»ƒ nÃ o, chÃºng ta gá»­i trong header <code class=\"language-inline-text\">Cache-Control: no-cache</code>. VÃ­ dá»¥ sá»­ dá»¥ng Express middleware</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/graphql\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cache-Control\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"no-cache\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"/graphql\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">expressGraphql</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">schema</span><span class=\"token operator\">:</span> executableSchema<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">graphiql</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">rootValue</span><span class=\"token operator\">:</span> root\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </code></pre></div>\n<ul>\n<li><a href=\"https://css-tricks.com/setting-up-cloudfront-to-host-your-web-app/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Setting Up CloudFront to Host Your Web App</a></li>\n</ul>\n","cover_image":""}},{"node":{"id":"edf4266cd7225277113199cb85829abb","title":"Bá» tÃºi 6 Ä‘oáº¡n code chá»‰ vá»›i má»™t dÃ²ng ráº¥t há»¯u Ã­ch trong JavaScript","path":"/2022-03-04-bo-tui-6-doan-code-huu-ich-trong-js/","date":"2022-03-04","timeToRead":1,"desc":"","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#tr%E1%BB%99n-ng%E1%BA%ABu-nhi%C3%AAn-m%E1%BB%99t-m%E1%BA%A3ng\">Trá»™n ngáº«u nhiÃªn má»™t máº£ng</a></li>\n<li><a href=\"#copy-v%C3%A0o-clipboard\">Copy vÃ o clipboard</a></li>\n<li><a href=\"#x%C3%A1c-%C4%91%E1%BB%8Bnh-window-c%C3%B3-%C4%91ang-ch%E1%BB%8Dn-ch%E1%BA%BF-%C4%91%E1%BB%99-darkmode\">XÃ¡c Ä‘á»‹nh window cÃ³ Ä‘ang chá»n cháº¿ Ä‘á»™ DarkMode</a></li>\n<li><a href=\"#scroll-l%C3%AAn-%C4%91%E1%BA%A7u-trang\">Scroll lÃªn Ä‘áº§u trang</a></li>\n<li><a href=\"#cu%E1%BB%99n-xu%E1%BB%91ng-cu%E1%BB%91i-trang\">Cuá»™n xuá»‘ng cuá»‘i trang</a></li>\n<li><a href=\"#t%E1%BA%A1o-m%C3%A3-m%C3%A0u-ng%E1%BA%ABu-nhi%C3%AAn\">Táº¡o mÃ£ mÃ u ngáº«u nhiÃªn</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"trá»™n-ngáº«u-nhiÃªn-má»™t-máº£ng\"><a href=\"#tr%E1%BB%99n-ng%E1%BA%ABu-nhi%C3%AAn-m%E1%BB%99t-m%E1%BA%A3ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Trá»™n ngáº«u nhiÃªn má»™t máº£ng</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">shuffleArray</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">shuffleArray</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"copy-vÃ o-clipboard\"><a href=\"#copy-v%C3%A0o-clipboard\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Copy vÃ o clipboard</h2>\n<blockquote>\n<p>Cháº¡y trÃªn trÃ¬nh duyá»‡t cÃ³ há»— trá»£ <code class=\"language-inline-text\">navigator.clipboard</code></p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">copyToClipboard</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">text</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  navigator<span class=\"token punctuation\">.</span>clipboard<span class=\"token operator\">?.</span>writeText <span class=\"token operator\">&amp;&amp;</span> navigator<span class=\"token punctuation\">.</span>clipboard<span class=\"token punctuation\">.</span><span class=\"token function\">writeText</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">copyToClipboard</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"xÃ¡c-Ä‘á»‹nh-window-cÃ³-Ä‘ang-chá»n-cháº¿-Ä‘á»™-darkmode\"><a href=\"#x%C3%A1c-%C4%91%E1%BB%8Bnh-window-c%C3%B3-%C4%91ang-ch%E1%BB%8Dn-ch%E1%BA%BF-%C4%91%E1%BB%99-darkmode\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>XÃ¡c Ä‘á»‹nh window cÃ³ Ä‘ang chá»n cháº¿ Ä‘á»™ DarkMode</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isDarkMode</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  window<span class=\"token punctuation\">.</span>matchMedia <span class=\"token operator\">&amp;&amp;</span>\n  window<span class=\"token punctuation\">.</span><span class=\"token function\">matchMedia</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(prefers-color-scheme: dark)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>matches<span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">isDarkMode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"scroll-lÃªn-Ä‘áº§u-trang\"><a href=\"#scroll-l%C3%AAn-%C4%91%E1%BA%A7u-trang\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Scroll lÃªn Ä‘áº§u trang</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">scrollToTop</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">element</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  element<span class=\"token punctuation\">.</span><span class=\"token function\">scrollIntoView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">behavior</span><span class=\"token operator\">:</span> <span class=\"token string\">\"smooth\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">block</span><span class=\"token operator\">:</span> <span class=\"token string\">\"start\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"cuá»™n-xuá»‘ng-cuá»‘i-trang\"><a href=\"#cu%E1%BB%99n-xu%E1%BB%91ng-cu%E1%BB%91i-trang\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cuá»™n xuá»‘ng cuá»‘i trang</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">scrollToBottom</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">element</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  element<span class=\"token punctuation\">.</span><span class=\"token function\">scrollIntoView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">behavior</span><span class=\"token operator\">:</span> <span class=\"token string\">\"smooth\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">block</span><span class=\"token operator\">:</span> <span class=\"token string\">\"end\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"táº¡o-mÃ£-mÃ u-ngáº«u-nhiÃªn\"><a href=\"#t%E1%BA%A1o-m%C3%A3-m%C3%A0u-ng%E1%BA%ABu-nhi%C3%AAn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Táº¡o mÃ£ mÃ u ngáº«u nhiÃªn</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateRandomHexColor</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">#</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0xffffff</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n","cover_image":""}},{"node":{"id":"6d279ec5ee3e089ef43d2aa38bb7816e","title":"á»¨ng dá»¥ng hay cá»§a flatMap","path":"/2022-02-03-ung-dung-hay-cua-flatmap/","date":"2022-02-03","timeToRead":1,"desc":"Thay tháº¿ hÃ m filter vÃ  map báº±ng flatMap","content":"<p>Sá»­ dá»¥ng <code class=\"language-inline-text\">flatMap</code> cÃ³ thá»ƒ giÃºp code ngáº¯n hÆ¡n, vÃ­ dá»¥ trong tÃ¬nh huá»‘ng bÃªn dÆ°á»›i</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// filter cÃ¡c giÃ¡ trá»‹ Ã¢m</span>\n<span class=\"token comment\">// nhÃ¢n Ä‘Ã´i cÃ¡c giÃ¡ trá»‹ dÆ°Æ¡ng cÃ²n láº¡i</span>\n<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span> <span class=\"token operator\">=></span> num <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span> <span class=\"token operator\">=></span> num <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// -> [2, 6, 10]</span></code></pre></div>\n<p>CÃ¡ch nÃ y khÃ´ng cÃ³ gÃ¬ sai, nhÆ°ng náº¿u muá»‘n viáº¿t báº±ng má»™t phÆ°Æ¡ng phÃ¡p khÃ¡c thÃ¬ sao?</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">flatMap</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>num <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>num <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// -> [2, 6, 10]</span></code></pre></div>\n<p>Náº¿u muá»‘n rÃºt ngáº¯n hÆ¡n ná»¯a</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">flatMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>num <span class=\"token operator\">>=</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">[</span>num <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n<span class=\"token comment\">// -> [2, 6, 10]</span></code></pre></div>\n<p>Tuy nhiÃªn, náº¿u xÃ©t vá» máº·t viáº¿t-sao-cho-dá»…-Ä‘á»c thÃ¬ cÃ³ váº» dÃ¹ng <code class=\"language-inline-text\">filter</code> vÃ  <code class=\"language-inline-text\">map</code> sáº½ tá»‘t hÆ¡n, <code class=\"language-inline-text\">flatMap</code> Ä‘Æ°á»£c cÃ¡i viáº¿t ngáº¯n hÆ¡n.</p>\n<p>TÃºm láº¡i, Æ°ng máº¯t cÃ¡ch nÃ o hÆ¡n thÃ¬ báº¡n viáº¿t cÃ¡ch Ä‘Ã³.</p>\n<ul>\n<li><a href=\"https://www.stefanjudis.com/snippets/filter-and-map-array-values-with-a-flatmap-one-liner/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Filter and map Array values with a flatMap one-liner</a></li>\n</ul>\n","cover_image":""}},{"node":{"id":"691018d928912ef0c296b5f00948cd37","title":"CÃ¡ch mÃ  babel preset-env, core-js, browserslistrc lÃ m viá»‡c vá»›i nhau","path":"/2022-02-02-babel-preset-env-core-js-browerslistrc-lam-viec/","date":"2022-02-02","timeToRead":3,"desc":"","content":"<h2 id=\"thiáº¿t-Ä‘áº·t-babel\"><a href=\"#thi%E1%BA%BFt-%C4%91%E1%BA%B7t-babel\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thiáº¿t Ä‘áº·t babel</h2>\n<p>Vá»›i input lÃ  code js vá»›i cÃ¡c syntax má»›i, babel sáº½ <em>transform</em> thÃ nh code mÃ  trÃ¬nh duyá»‡t cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c.</p>\n<p>ChÃºng ta sáº½ cáº§n cÃ¡c gÃ³i babel cáº§n thiáº¿t</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i @babel/core @babel/preset-env @babel/cli --save-dev</code></pre></div>\n<p>BÃªn trong file config cá»§a babel, <code class=\"language-inline-text\">babel.config.json</code> chÃºng ta sáº½ tÃ¬m tháº¥y pháº§n thiáº¿t Ä‘áº·t <code class=\"language-inline-text\">preset-env</code></p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"@babel/preset-env\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>@babel/preset-env</strong> lÃ  má»™t bá»™ cÃ¡c plugin cá»§a babel Ä‘á»ƒ nÃ³ cÃ³ thá»ƒ <strong>transform</strong> cÃ¡c syntax má»›i, <strong>tÃ¹y theo trÃ¬nh duyá»‡t mÃ  chÃºng ta chá»‰ Ä‘á»‹nh</strong></p>\n<p>TrÃ¬nh duyá»‡t Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh cÃ³ thá»ƒ set trong file <code class=\"language-inline-text\">babel.config.json</code> hoáº·c dÃ¹ng má»™t file riÃªng <code class=\"language-inline-text\">.browserslistrc</code>, hoáº·c trong <code class=\"language-inline-text\">package.json</code></p>\n<p>DÃ¹ng file package.json</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"browserslist\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"defaults\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"not IE 11\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"maintained node versions\"</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>DÃ¹ng file .browserslistrc</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">defaults\nnot IE 11\nmaintained node versions</code></pre></div>\n<p>VÃ­ dá»¥ vá»›i Ä‘oáº¡n code nhÆ° sau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">arr</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">printArr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">printArr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Sau khi transform vá»›i thiáº¿t Ä‘áº·t browser lÃ  IE11, chÃºng ta sáº½ cÃ³</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">_toConsumableArray</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token function\">_arrayWithoutHoles</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">_iterableToArray</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">_unsupportedIterableToArray</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">_nonIterableSpread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">_nonIterableSpread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">_unsupportedIterableToArray</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">o<span class=\"token punctuation\">,</span> minLen</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>o<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> o <span class=\"token operator\">===</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token function\">_arrayLikeToArray</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">,</span> minLen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">var</span> n <span class=\"token operator\">=</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">===</span> <span class=\"token string\">\"Object\"</span> <span class=\"token operator\">&amp;&amp;</span> o<span class=\"token punctuation\">.</span>constructor<span class=\"token punctuation\">)</span> n <span class=\"token operator\">=</span> o<span class=\"token punctuation\">.</span>constructor<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">===</span> <span class=\"token string\">\"Map\"</span> <span class=\"token operator\">||</span> n <span class=\"token operator\">===</span> <span class=\"token string\">\"Set\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">===</span> <span class=\"token string\">\"Arguments\"</span> <span class=\"token operator\">||</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token function\">_arrayLikeToArray</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">,</span> minLen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">_iterableToArray</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">iter</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> Symbol <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span> <span class=\"token operator\">&amp;&amp;</span> Symbol<span class=\"token punctuation\">.</span>iterator <span class=\"token keyword\">in</span> <span class=\"token function\">Object</span><span class=\"token punctuation\">(</span>iter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>iter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">_arrayWithoutHoles</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token function\">_arrayLikeToArray</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">_arrayLikeToArray</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> len</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>len <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> len <span class=\"token operator\">></span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> len <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> arr2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> arr2<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">return</span> arr2<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">arr</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">printArr</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token function\">printArr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> _console<span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">(</span>_console <span class=\"token operator\">=</span> console<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>_console<span class=\"token punctuation\">,</span> <span class=\"token function\">_toConsumableArray</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">printArr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Babel Ä‘Ã£ cá»‘ gáº¯ng háº¿t sá»©c, tuy nhiÃªn <code class=\"language-inline-text\">printArr</code> lÃ  kiá»ƒu <strong>array-like (na nÃ¡ array)</strong> chá»© khÃ´ng thá»±c sá»± lÃ  má»™t <strong>array</strong></p>\n<p>CÃ¡c trÃ¬nh duyá»‡t cÅ© sáº½ khÃ´ng cháº¡y Ä‘Æ°á»£c kiá»ƒu <em>na nÃ¡</em> array nhÆ° váº­y.</p>\n<p>ÄÃ¢y lÃ  lÃºc <strong>core-js</strong> phÃ¡t huy tÃ¡c dá»¥ng</p>\n<p><strong>core-js lÃ  táº­p há»£p cÃ¡c polyfill</strong> cho cÃ¡c tÃ­nh nÄƒng chÆ°a Ä‘Æ°á»£c trÃ¬nh duyá»‡t cáº­p nháº­p.</p>\n<p>CÃ i Ä‘áº·t</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i core-js</code></pre></div>\n<p>Sau Ä‘Ã³ import vÃ o file dÃ¹ng bootstrap nhÆ° <code class=\"language-inline-text\">src/index.js</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"core-js\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">arr</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">printArr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">printArr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Bá»• sung config cho babel Ä‘á»ƒ dÃ¹ng core-js trong lÃºc transform <code class=\"language-inline-text\">babel.config.json</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">\"@babel/preset-env\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">\"useBuiltIns\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"entry\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"corejs\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Káº¿t quáº£ chÃºng ta sáº½ nháº­n Ä‘Æ°á»£c</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"core-js/modules/es.symbol\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"core-js/modules/es.symbol.description\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"core-js/modules/es.symbol.async-iterator\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"core-js/modules/es.symbol.has-instance\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"core-js/modules/es.symbol.is-concat-spreadable\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"core-js/modules/es.symbol.iterator\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"core-js/modules/es.symbol.match\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"core-js/modules/es.symbol.replace\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"core-js/modules/es.symbol.search\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"core-js/modules/es.symbol.species\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//...</span></code></pre></div>\n<p>Khi import má»™t file core-js, chÃºng ta sáº½ cÃ³ Ä‘Æ°á»£c táº¥t cáº£ nhá»¯ng polyfill cáº§n thiáº¿t cho trÃ¬nh duyá»‡t Ä‘Ã£ chá»‰ Ä‘á»‹nh.</p>\n<p>Táº¡m káº¿t, sá»­ dá»¥ng nhá»¯ng CLI nhÆ° <code class=\"language-inline-text\">create-react=app</code> hay Vue CLI, má»i thá»© Ä‘Ã£ Ä‘Æ°á»£c config sáºµn, tuy nhiÃªn biáº¿t cÆ¡ cháº¿ vÃ  cÃ¡ch lÃ m thá»§ cÃ´ng lÃ  cáº§n thiáº¿t, cháº¯c cháº¯n sáº½ cÃ³ lÃºc chÃºng ta cáº§n dÃ¹ng.</p>\n<p><a href=\"https://www.valentinog.com/blog/preset-env/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">How babel preset-env, core-js, and browserslistrc work together</a></p>\n","cover_image":""}},{"node":{"id":"8a1551a47737f4d1cf9dc50fa514c3e5","title":"Quáº£n lÃ½ state: nháº­n Ä‘á»‹nh boolean tá»‘t vÃ  khÃ´ng tá»‘t","path":"/2021-05-31-huong-dan-viet-boolean/","date":"2021-05-31","timeToRead":1,"desc":"","content":"<p>TÃ³m táº¯t náº¿u báº¡n lÆ°á»i Ä‘á»c:</p>\n<blockquote>\n<p><code class=\"language-inline-text\">boolean</code> khÃ´ng tá»‘t Ä‘áº¡i diá»‡n cho <code class=\"language-inline-text\">state</code>, <code class=\"language-inline-text\">boolean</code> tá»‘t lÃ  káº¿t quáº£ tÃ­nh tá»« <code class=\"language-inline-text\">state</code></p>\n</blockquote>\n<p>Má»™t vÃ­ dá»¥ dá»… tháº¥y nháº¥t vá»›i <code class=\"language-inline-text\">boolean</code> khÃ´ng tá»‘t lÃ  cÃ¡ch thiáº¿t káº¿ <code class=\"language-inline-text\">state</code> nhÆ° váº§y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> isLoading <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> isComplete <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> hasError <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Thoáº¡t nhÃ¬n chÃºng ta sáº½ nghÄ© nÃ³ tá»‘t. ChÃºng ta Ä‘Æ°a ra 3 <code class=\"language-inline-text\">state</code> khÃ¡c nhau á»©ng vá»›i 3 giÃ¡ trá»‹ <code class=\"language-inline-text\">boolean</code> riÃªng biá»‡t, chá»‰ duy nháº¥t má»™t giÃ¡ trá»‹ lÃ  <code class=\"language-inline-text\">true</code> </p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">makeFetch</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  isLoading <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/users'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    isComplete <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    hasErrored <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  isLoading <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>NhÆ°ng khi nghÄ© ká»¹ láº¡i, chÃºng ta sáº½ nháº­n Ä‘Æ°á»£c 2 giÃ¡ trá»‹ <code class=\"language-inline-text\">true</code> náº¿u <code class=\"language-inline-text\">makeFetch</code> Ä‘Æ°á»£c gá»i láº¡i láº§n ná»¯a</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">isLoading <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\nisComplete <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\nhasError <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Váº­y lÃ m sao Ä‘á»ƒ thiáº¿t káº¿ má»™t <code class=\"language-inline-text\">boolean</code> tá»‘t cho trÆ°á»ng há»£p trÃªn?</strong></p>\n<p><code class=\"language-inline-text\">State</code> á»Ÿ Ä‘Ã¢y chÃºng ta sáº½ cÃ³ táº¥t cáº£ cÃ¡c giÃ¡ trá»‹ sau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> statusEnum <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">idle</span><span class=\"token operator\">:</span> <span class=\"token string\">'idle'</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token literal-property property\">loading</span><span class=\"token operator\">:</span> <span class=\"token string\">'loading'</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token literal-property property\">complete</span><span class=\"token operator\">:</span> <span class=\"token string\">'complete'</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token literal-property property\">error</span><span class=\"token operator\">:</span> <span class=\"token string\">'error'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>VÃ  chÃºng ta dÃ¹ng nÃ³ trong hÃ m <code class=\"language-inline-text\">makeFetch</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">makeFetch</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  status <span class=\"token operator\">=</span> statusEnum<span class=\"token punctuation\">.</span>loading<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/users'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    status <span class=\"token operator\">=</span> statusEnum<span class=\"token punctuation\">.</span>complete<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    status <span class=\"token operator\">=</span> statusEnum<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Cáº§n giÃ¡ trá»‹ <code class=\"language-inline-text\">boolean</code> báº¡n <em>tÃ­nh</em> tá»« giÃ¡ trá»‹ <code class=\"language-inline-text\">state</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isLoading</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">status</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> status <span class=\"token operator\">===</span> statusEnum<span class=\"token punctuation\">.</span>loading<span class=\"token punctuation\">;</span></code></pre></div>\n","cover_image":""}},{"node":{"id":"e35584fe8d93774b9a4cfcce81d825d5","title":"Há»i nhanh Ä‘Ã¡p gá»n vá» REST","path":"/2021-01-15-rest-faq-hoi-nhanh-dap-gon-ve-rest/","date":"2021-01-15","timeToRead":3,"desc":"ChuyÃªn má»¥c há»i nhanh - Ä‘Ã¡p gá»n, náº¿u báº¡n chÆ°a biáº¿t gÃ¬ vá» REST","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#m%E1%BB%99t-v%C3%A0i-%C4%91%E1%BA%B7c-t%C3%ADnh-ch%C3%ADnh-c%E1%BB%A7a-rest\">Má»™t vÃ i Ä‘áº·c tÃ­nh chÃ­nh cá»§a REST?</a></li>\n<li><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-response\">CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a má»™t http response</a></li>\n<li><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-request\">CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a má»™t http request</a></li>\n<li><a href=\"#stateless-l%C3%A0-g%C3%AC\">Stateless lÃ  gÃ¬?</a></li>\n<li><a href=\"#stateless-c%C3%B3-g%C3%AC-hay\">Stateless cÃ³ gÃ¬ hay?</a></li>\n<li><a href=\"#v%C3%A0i-c%C3%A1i-status-code-ph%E1%BB%95-bi%E1%BA%BFn\">VÃ i cÃ¡i status code phá»• biáº¿n?</a></li>\n<li><a href=\"#c%C3%A1i-g%C3%AC-cache-%C4%91%C6%B0%E1%BB%A3c-c%C3%A1i-g%C3%AC-kh%C3%B4ng\">CÃ¡i gÃ¬ cache Ä‘Æ°á»£c, cÃ¡i gÃ¬ khÃ´ng?</a></li>\n<li><a href=\"#kh%C3%A1c-nhau-gi%E1%BB%AFa-ajax-v%C3%A0-rest\">KhÃ¡c nhau giá»¯a AJAX vÃ  REST?</a></li>\n<li><a href=\"#keep-alive-l%C3%A0-g%C3%AC-v%C3%A0-l%E1%BB%A3i-%C3%ADch-c%E1%BB%A7a-n%C3%B3\">Keep-Alive lÃ  gÃ¬ vÃ  lá»£i Ã­ch cá»§a nÃ³?</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"má»™t-vÃ i-Ä‘áº·c-tÃ­nh-chÃ­nh-cá»§a-rest\"><a href=\"#m%E1%BB%99t-v%C3%A0i-%C4%91%E1%BA%B7c-t%C3%ADnh-ch%C3%ADnh-c%E1%BB%A7a-rest\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Má»™t vÃ i Ä‘áº·c tÃ­nh chÃ­nh cá»§a REST?</h2>\n<ul>\n<li>REST lÃ  dáº¡ng <strong>stateless</strong>, server sáº½ khÃ´ng cÃ³ thÃ´ng tin <em>status</em> (nÃ³i cÃ¡ch khÃ¡c lÃ  khÃ´ng lÆ°u giá»¯ user session)</li>\n<li>Náº¿u <em>Web service</em> chá»§ yáº¿u dÃ¹ng POST Ä‘á»ƒ thao tÃ¡c, thÃ¬ REST dÃ¹ng <code class=\"language-inline-text\">GET</code> Ä‘á»ƒ truy xuáº¥t Ä‘áº¿n resource</li>\n</ul>\n<h2 id=\"cÃ¡c-thÃ nh-pháº§n-chÃ­nh-cá»§a-má»™t-http-response\"><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-response\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a má»™t http response</h2>\n<ul>\n<li>Status / Response Code</li>\n<li>HTTP Version</li>\n<li>Response header</li>\n<li>Response body</li>\n</ul>\n<h2 id=\"cÃ¡c-thÃ nh-pháº§n-chÃ­nh-cá»§a-má»™t-http-request\"><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-request\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a má»™t http request</h2>\n<ul>\n<li>Method (<code class=\"language-inline-text\">GET</code>, <code class=\"language-inline-text\">POST</code>, <code class=\"language-inline-text\">PUT</code>, <code class=\"language-inline-text\">DELETE</code>)</li>\n<li>URI</li>\n<li>HTTP Version</li>\n<li>Request Header</li>\n<li>Request Body</li>\n</ul>\n<h2 id=\"stateless-lÃ -gÃ¬\"><a href=\"#stateless-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Stateless lÃ  gÃ¬?</h2>\n<p>Theo Ä‘á»‹nh nghÄ©a cá»§a RESTful, server khÃ´ng lÆ°u trá»¯ báº¥t ká»³ thÃ´ng tin gÃ¬ vá» client state, Ä‘áº·c trÆ°ng nÃ y gá»i lÃ  <strong>stateless</strong>. PhÃ­a client gá»­i thÃ´ng tin cáº§n thiáº¿t trÃªn má»—i request</p>\n<h2 id=\"stateless-cÃ³-gÃ¬-hay\"><a href=\"#stateless-c%C3%B3-g%C3%AC-hay\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Stateless cÃ³ gÃ¬ hay?</h2>\n<ol>\n<li><strong>Scale</strong> kháº£ nÄƒng Ä‘Ã¡p á»©ng cá»§a API lÃªn cho hÃ ng triá»‡u <em>concurrent user</em> báº±ng cÃ¡ch deploy lÃªn nhiá»u server khÃ¡c nhau. Báº¥t ká»³ server nÃ o cÅ©ng cÃ³ thá»ƒ handle má»™t request tá»« client vÃ¬ táº¥t cáº£ thÃ´ng tin cáº§n thiáº¿t Ä‘iá»u Ä‘Æ°á»£c gá»­i tá»« phÃ­a client.</li>\n<li><strong>ÄÆ¡n giáº£n hÃ³a API</strong> nhá» vÃ o viá»‡c gá»Ÿ bá» viá»‡c Ä‘á»“ng bá»™ logic cá»§a <em>state</em></li>\n<li><strong>Dá»… cache hÆ¡n</strong>, phÃ­a server cÃ³ thá»ƒ quyáº¿t Ä‘á»‹nh cache hay khÃ´ng má»™t káº¿t quáº£ HTTP request dá»±a vÃ o thÃ´ng tin cá»§a má»™t request, nhá»¯ng request trÆ°á»›c Ä‘Ã³ khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n kháº£ nÄƒng <em>cache</em> cá»§a request hiá»‡n táº¡i.</li>\n</ol>\n<h2 id=\"vÃ i-cÃ¡i-status-code-phá»•-biáº¿n\"><a href=\"#v%C3%A0i-c%C3%A1i-status-code-ph%E1%BB%95-bi%E1%BA%BFn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>VÃ i cÃ¡i status code phá»• biáº¿n?</h2>\n<ul>\n<li>201 created</li>\n<li>204 No content</li>\n<li>400 Bad request</li>\n<li>403 Forbidden</li>\n<li>404 Not found</li>\n<li>405 Method not allowed</li>\n<li>409 Conflict</li>\n<li>500 internal server error</li>\n</ul>\n<h2 id=\"cÃ¡i-gÃ¬-cache-Ä‘Æ°á»£c-cÃ¡i-gÃ¬-khÃ´ng\"><a href=\"#c%C3%A1i-g%C3%AC-cache-%C4%91%C6%B0%E1%BB%A3c-c%C3%A1i-g%C3%AC-kh%C3%B4ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CÃ¡i gÃ¬ cache Ä‘Æ°á»£c, cÃ¡i gÃ¬ khÃ´ng?</h2>\n<ul>\n<li><code class=\"language-inline-text\">GET</code> cache Ä‘Æ°á»£c</li>\n<li><code class=\"language-inline-text\">POST</code> máº·c Ä‘á»‹nh lÃ  khÃ´ng, nhÆ°ng cÃ³ thá»ƒ dÃ¹ng <strong>expires header</strong> hoáº·c <strong>cache-control header</strong> náº¿u muá»‘n báº­t cache</li>\n<li><code class=\"language-inline-text\">PUT/DELETE</code> khÃ´ng</li>\n</ul>\n<h2 id=\"khÃ¡c-nhau-giá»¯a-ajax-vÃ -rest\"><a href=\"#kh%C3%A1c-nhau-gi%E1%BB%AFa-ajax-v%C3%A0-rest\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>KhÃ¡c nhau giá»¯a AJAX vÃ  REST?</h2>\n<p>AJAX lÃ  má»™t <strong>ká»¹ thuáº­t thá»±c hiá»‡n phÃ­a client</strong> Ä‘á»ƒ cáº­p nháº­p giao diá»‡n, trong khi REST lÃ  <strong>má»™t kiá»ƒu kiáº¿n trÃºc</strong> Ä‘á»ƒ truyá»n vÃ  xá»­ lÃ½ HTTP Request.</p>\n<h2 id=\"keep-alive-lÃ -gÃ¬-vÃ -lá»£i-Ã­ch-cá»§a-nÃ³\"><a href=\"#keep-alive-l%C3%A0-g%C3%AC-v%C3%A0-l%E1%BB%A3i-%C3%ADch-c%E1%BB%A7a-n%C3%B3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Keep-Alive lÃ  gÃ¬ vÃ  lá»£i Ã­ch cá»§a nÃ³?</h2>\n<p>Máº·c Ä‘á»‹nh má»™t HTTP connection sáº½ <strong>tá»± Ä‘Ã³ng sau khi request Ä‘Ã£ complete</strong>, nghÄ©a lÃ  phÃ­a server sáº½ close TCP connection sau khi Ä‘Ã£ gá»­i Ä‘i response. Äá»ƒ giá»¯ connection nÃ y cho nhiá»u request, dÃ¹ng thuá»™c tÃ­nh <code class=\"language-inline-text\">keep-alive</code> trÃªn header</p>\n<p>VÃ­ dá»¥</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Message Trace:\n-------------------------------------------\n~$ <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-I</span> https://www.domain.com/file.html\nHTTP/1.1 <span class=\"token number\">200</span> OK\nConnection: Keep-Alive\nContent-Type: text/html<span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">charset</span><span class=\"token operator\">=</span>UTF-8\nDate: Thu, <span class=\"token number\">15</span> Jan <span class=\"token number\">2015</span> <span class=\"token number\">16</span>:45:29 GMT\nContent-Length: <span class=\"token number\">1845</span>\nKeep-Alive: <span class=\"token assign-left variable\">timeout</span><span class=\"token operator\">=</span><span class=\"token number\">10</span>, <span class=\"token assign-left variable\">max</span><span class=\"token operator\">=</span><span class=\"token number\">20</span>\nServer: Apache/2.4.9 <span class=\"token punctuation\">(</span>Unix<span class=\"token punctuation\">)</span> PHP/5.6.2\n-------------------------------------------</code></pre></div>\n<p><em>Lá»£i Ã­ch</em></p>\n<ul>\n<li><strong>Giáº£m táº£i viá»‡c sá»­ dá»¥ng CPU</strong>, má»—i láº§n thiáº¿t láº­p má»™t TCP connection sáº½ cáº§n tiÃªu hao CPU vÃ  bá»™ nhá»›.</li>\n<li><strong>Cáº£i thiá»‡n tá»‘c Ä‘á»™ trang web</strong>: Ä‘Ã¡p á»©ng nhiá»u file sá»­ dá»¥ng cÃ¹ng má»™t connection cho phÃ©p giáº£m táº£i vÃ  nÃ¢ng cao tá»‘c Ä‘á»™ cá»§a á»©ng dá»¥ng</li>\n<li><strong>HTTPS</strong>: muá»‘n dÃ¹ng keep-alive báº¯t buá»™c pháº£i lÃ  HTTPS, cÅ©ng cÃ³ thá»ƒ xem lÃ  má»™t Æ°u Ä‘iá»ƒm cho váº¥n Ä‘á» báº£o máº­t</li>\n</ul>\n","cover_image":""}},{"node":{"id":"1e87f736220a3d127bcf506ae3c80b0d","title":"Há»i nhanh Ä‘Ã¡p gá»n vá» webpack","path":"/2021-01-13-webpack-faq-hoi-nhanh-dap-gon-voi-webpack/","date":"2021-01-13","timeToRead":2,"desc":"ChuyÃªn má»¥c há»i nhanh - Ä‘Ã¡p gá»n, náº¿u báº¡n chÆ°a biáº¿t gÃ¬ vá» webpack","content":"<p><em>ğŸ¸ Nhá»¯ng module pattern nÃ o webpack há»— trá»£?</em></p>\n<p><code class=\"language-inline-text\">common.js</code> vÃ  es6</p>\n<p>ğŸ¸ CÃ³ Ä‘Æ°á»£c phÃ©p cÃ³ nhiá»u entry point trong cÃ¹ng 1 file config?*</p>\n<p>CÃ³</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ táº¡o file config webpack tá»± Ä‘á»™ng?</em></p>\n<p><code class=\"language-inline-text\">webpack-cli init</code></p>\n<p><em>ğŸ¸ Loader trong webpack lÃ  gÃ¬?</em></p>\n<p>transform nhá»¯ng module nÃ o khÃ´ng pháº£i lÃ  JS vÃ o trong bundle</p>\n<p><em>ğŸ¸ Loader cháº¡y sync hay async</em></p>\n<p>Cáº£ hai</p>\n<p><em>ğŸ¸ KhÃ¡c nhau giá»¯a loader vÃ  plugin</em></p>\n<p>Loader dÃ¹ng Ä‘á»ƒ pre-processing, plugin phá»©c táº¡p hÆ¡n vÃ  nÃ³ can thiá»‡p nhiá»u vÃ o quÃ¡ trÃ¬nh compile.</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ tÃ¡ch má»™t sá»‘ data ra khá»i bundle thÃ nh má»™t file riÃªng biá»‡t, vÃ­ dá»¥ nhÆ° file css</em></p>\n<p>Sá»­ dá»¥ng <a href=\"https://github.com/webpack-contrib/extract-text-webpack-plugin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ExtractTextWebpackPlugin</a>. Táº¥t cáº£ css sáº½ khÃ´ng cÃ²n náº±m inline trong file JS bundle, nÃ³ sáº½ lÃ  má»™t file riÃªng (style.css cháº³ng háº¡n)</p>\n<p><em>ğŸ¸ Hot module replacement lÃ  gÃ¬?</em></p>\n<p>TÃ­nh nÄƒng cho phÃ©p cáº­p nháº­p module mÃ  khÃ´ng cáº§n reload</p>\n<p><em>ğŸ¸ parallel-webpack lÃ  gÃ¬ vÃ  nÃ³ áº£nh hÆ°á»Ÿng tháº¿ nÃ o Ä‘áº¿n quÃ¡ trÃ¬nh build</em></p>\n<p><a href=\"https://github.com/trivago/parallel-webpack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">parallel-webpack</a> sáº½ giÃºp config vá»›i nhiá»u entry point, cho phÃ©p webpack build parallel, nÃ¢ng cao tá»‘c Ä‘á»™ build</p>\n<p><em>ğŸ¸ MÃ´ táº£ má»™t cÃ¡ch ngáº¯n gá»n long-term caching vÃ  lÃ m sao sá»­ dá»¥ng nÃ³ trong webpack?</em></p>\n<p>Browser sáº½ cache static file bÃªn dÆ°á»›i local Ä‘á»ƒ cáº£i thiá»‡n tá»‘c Ä‘á»™ load, Ä‘á»ƒ Ä‘áº£m báº£o náº¿u cÃ³ báº£n build má»›i, trÃ¬nh duyá»‡t biáº¿t vÃ  download file má»›i, tÃªn  file thÆ°á»ng Ä‘Æ°á»£c Ä‘áº·t nhÆ° sau</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app.js?build=1\napp.js?build=2\n\n// hoáº·c\napp.js.2a6c1fee4b5b0d2c9285.js\napp.js.70b594fe8b07bcedaa98.js</code></pre></div>\n<p>Äá»ƒ lÃ m viá»‡c nÃ y, trong webpack chÃºng ta Ä‘áº·t config</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>\n    <span class=\"token literal-property property\">output</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">\"[name].[hash].js\"</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><em>ğŸ¸ KhÃ¡c nhau giá»¯a hash vÃ  chunkhash?</em></p>\n<p>[hash] táº¡o ra má»™t id ngáº«u nhiÃªn cho tá»«ng láº§n build vÃ  sá»­ dá»¥ng cho táº¥t cáº£  chunk. Náº¿u thay [hash] báº±ng [chunkhash] nÃ³ sáº½ táº¡o ra má»—i chunk má»™t id ngáº«u nhiÃªn.</p>\n<p><em>ğŸ¸ MÃ´ táº£ CommonsChunk Plugin?</em></p>\n<p>LÃ  má»™t tÃ­nh nÄƒng cÃ³ sáºµn cá»§a webpack, cho phÃ©p táº¡o file riÃªng (gá»i lÃ  chunk) cho nhá»¯ng module dÃ¹ng chung. Há»— trá»£ caching vÃ  nÃ¢ng cao tá»‘c Ä‘á»™ load</p>\n<p><em>ğŸ¸Diá»…n giáº£i Ä‘oáº¡n code bÃªn dÆ°á»›i</em></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">webpack<span class=\"token punctuation\">.</span>ContextReplacementPlugin</span><span class=\"token punctuation\">(</span>\n     <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">moment[\\/\\\\]locale</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n     <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(en-gb|en-us)\\.js</span><span class=\"token regex-delimiter\">/</span></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>BÃ¡o vá»›i webpack, chá»‰ include nhá»¯ng file cÃ³ tÃªn khá»›p vá»›i Ä‘iá»u kiá»‡n <code class=\"language-inline-text\">/(en-gb|en-us)\\.js/</code>, trong Ä‘Æ°á»ng dáº«n <code class=\"language-inline-text\">/moment[\\/\\\\]locale/</code> khi bundle</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ remove nhá»¯ng css selector khÃ´ng dÃ¹ng Ä‘áº¿n?</em></p>\n<p>DÃ¹ng plugin <a href=\"https://github.com/webpack-contrib/purifycss-webpack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">purifycss-webpack</a></p>\n","cover_image":""}}]}}},"context":{}}
{"hash":"ba240abf71cdde6b3af4623b32e99a1d26d651b2","data":{"tag":{"title":"webpack","belongsTo":{"edges":[{"node":{"id":"4a83ae2c626a625e60998ef95d851361","title":"Hướng dẫn webpack 4 cho người mới bắt đầu - Phần 3","path":"/huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3/","date":"2018-05-28","timeToRead":4,"desc":"Bài này sẽ nói Plugins, Development, HotModuleReplacement trong Webpack","content":"<p>Trong Series này\n1. <a href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\">Webpack là gì và tại sao ta phải xài nó</a>\n2. <a href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\">Dùng Loaders, code slitting trong webpack</a>\n3. <a href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\">Plugins, Development Server</a></p>\n<!-- TOC -->\n<ul>\n<li><a href=\"#t%C3%A1ch-css\">Tách CSS</a></li>\n<li><a href=\"#c%E1%BA%ADp-nh%E1%BA%ADp-html-t%E1%BB%B1-%C4%91%E1%BB%99ng\">Cập nhập HTML tự động</a></li>\n<li><a href=\"#development-server\">Development Server</a></li>\n<li><a href=\"#hotmodulereplacement\">HotModuleReplacement</a></li>\n</ul>\n<!-- /TOC -->\n<p>Trong khi loader sẽ tiến hành transform từng file một, <strong>plugins</strong> sẽ tiến hành xử lý trong từng đoạn code</p>\n<p>Giờ chúng ta đã biết cách  bundle code, cài thêm các module bổ sung cho webpack, cách thêm các static asset, file bundle chúng ta sẽ bự dần bự dần - không sớm thì muộn thôi. Plugins sẽ giúp chúng ta tách phần code một cách thông mình hơn, optimize hơn cho production</p>\n<p>Thật ra ma nói, khi sử dụng <code class=\"language-text\">mode</code> development/production trong webpack chúng ta đã sử dụng rất nhiều plugin mặc định trong webpack</p>\n<p><em>develoment</em></p>\n<ul>\n<li>lúc này giá trị biến <code class=\"language-text\">process.env.NODE_ENV</code> sẽ bằng 'development'</li>\n<li>dùng NamedModulesPlugin</li>\n</ul>\n<p><em>production</em></p>\n<ul>\n<li><code class=\"language-text\">process.env.NODE_ENV</code> sẽ bằng 'production'</li>\n<li>UglifyJsPlugin</li>\n<li>ModuleConcatenationPlugin</li>\n<li>NoEmitOnErrorsPlugin</li>\n</ul>\n<p>Trước khi thêm một số plugin khác, chúng ta sẽ tách file config ra thành 2, để sau này chúng ta apply các plugin khác nhau cho các mode chạy khác nhau</p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\"> webpack.config.js\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> webpack.common.js\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> webpack.dev.js\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> webpack.prod.js</span></span></code></pre>\n<p>Cài thêm plugin là <code class=\"language-text\">webpack-merge</code> để trộn file <em>webpack.common.js</em> với một trong 2 file webpack.dev.js hoặc webpack.prod.js</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev webpack-merge</code></pre>\n<p><strong>webpack.dev.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> merge <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack-merge'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> common <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./webpack.common.js'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>common<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token operator\">:</span> <span class=\"token string\">'development'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>webpack.prod.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> merge <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack-merge'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> common <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./webpack.common.js'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>common<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token operator\">:</span> <span class=\"token string\">'production'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>package.json</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> \"scripts\": {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">    \"develop\": \"webpack --watch --mode development\",\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">    \"build\": \"webpack --mode production\"\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">    \"develop\": \"webpack --watch --config webpack.dev.js\",\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">    \"build\": \"webpack --config webpack.prod.js\"\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">  },</span></span></code></pre>\n<h2 id=\"tách-css\"><a href=\"#t%C3%A1ch-css\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tách CSS</h2>\n<p>Chúng ta sẽ tách ra CSS khi chạy production bằng plugin là <code class=\"language-text\">ExtractTextWebpackPlugin</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev extract-text-webpack-plugin</code></pre>\n<p>Setup loader cho file .scss giữ nguyên cho development mode, chỉ thêm ExtractTextWebpackPlugin cho production</p>\n<p><strong>webpack.common.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   module: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">       {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">         use: [\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">             loader: 'style-loader'\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">             loader: 'css-loader'\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">             loader: 'sass-loader'\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           }\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">         ]\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">       },\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     ]\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p><strong>webpack.dev.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\">const merge = require('webpack-merge')\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const common = require('./webpack.common.js')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = merge(common, {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   mode: 'development',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'style-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'css-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'sass-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> })</span></span></code></pre>\n<p><strong>webpack.prod.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const merge = require('webpack-merge')\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const ExtractTextPlugin = require('extract-text-webpack-plugin')\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const common = require('./webpack.common.js')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = merge(common, {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   mode: 'production',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: ExtractTextPlugin.extract({\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           fallback: 'style-loader',\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           use: ['css-loader', 'sass-loader']\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         })\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   },\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   plugins: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new ExtractTextPlugin('style.css')\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   ]\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> })</span></span></code></pre>\n<p>Nếu chạy <code class=\"language-text\">npm run build</code>, chúng ta có 3 file</p>\n<ul>\n<li>chat.bundle.js</li>\n<li>app.bundle.js</li>\n<li>style.css</li>\n</ul>\n<h2 id=\"cập-nhập-html-tự-động\"><a href=\"#c%E1%BA%ADp-nh%E1%BA%ADp-html-t%E1%BB%B1-%C4%91%E1%BB%99ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cập nhập HTML tự động</h2>\n<p>Mỗi lần thay đổi chúng ta cứ phải tự tay chỉnh sửa file <code class=\"language-text\">index.html</code> thì hơi lười. Dùng <code class=\"language-text\">html-webpack-plugin</code> để tự động hóa quá trình này, đồng thời cần thêm <code class=\"language-text\">clean-webpack-plugin</code> để clear hết thư mục <code class=\"language-text\">dist</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> instal --save-dev html-webpack-plugin clean-webpack-plugin</code></pre>\n<p><strong>webpack.common.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\">const path = require('path')\n<span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const CleanWebpackPlugin = require('clean-webpack-plugin');\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const HtmlWebpackPlugin = require('html-webpack-plugin');\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   plugins: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new CleanWebpackPlugin(['dist']),\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new HtmlWebpackPlugin({\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       title: 'My killer app'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     })\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   ]\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Giờ mỗi lần build, chúng ta xóa hết thư mục dist luôn</p>\n<h2 id=\"development-server\"><a href=\"#development-server\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Development Server</h2>\n<p>Với <code class=\"language-text\">webpack-dev-server</code> cung cấp cho chúng ta một web server đơn giản với tính năng live reload rất rất là hữu ích luôn mấy man</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev webpack-dev-server</code></pre>\n<p><strong>package.json</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   \"scripts\": {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">     \"develop\": \"webpack --watch --config webpack.dev.js\",\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"develop\": \"webpack-dev-server --config webpack.dev.js\",\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Giờ mà chạy <code class=\"language-text\">npm run develop</code> chúng ta sẽ có ngay server <a href=\"http://localhost:8080/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://localhost:8080/</a></p>\n<h2 id=\"hotmodulereplacement\"><a href=\"#hotmodulereplacement\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>HotModuleReplacement</h2>\n<p>Plugin <code class=\"language-text\">HotModuleReplacement</code> sẽ nhỉnh hơn Live Reload một chút, thay vì live reload trình duyệt sẽ tự động refresh, chúng ta sẽ thấy nó load lại toàn bộ trang khi có thay đổi, còn HotModuleReplacement là nó swap nguyên cái module trong lúc đang chạy mà không cần refresh luôn. Nhanh như cái chớp mắt vậy. Nếu mà cấu hình đúng, chúng ta tiết kiệm được khối thời gian ngồi đợi load lại trang.</p>\n<p><strong>webpack.dev.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const webpack = require('webpack')\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const merge = require('webpack-merge')\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const common = require('./webpack.common.js')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = merge(common, {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   mode: 'development',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   devServer: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     hot: true\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   },\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   plugins: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new webpack.HotModuleReplacementPlugin()\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   ],\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Cho phép swap module trong app</p>\n<p><strong>src/app.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> if (module.hot) {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module.hot.accept()\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> }\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> ...</span></span></code></pre>\n<p><code class=\"language-text\">module.hot</code> sẽ có giá trị là <code class=\"language-text\">true</code> trong mode development và <code class=\"language-text\">false</code> trong production.</p>\n<p><a href=\"https://www.sitepoint.com/beginners-guide-webpack-module-bundling/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Link bài gốc</a>\nTác giả: Mark Brown</p>\n<p>Chỉnh sửa theo sự hiểu của mình một tí</p>\n","cover_image":""}},{"node":{"id":"d27c82957cc1511533f17ea33a445b6a","title":"Hướng dẫn webpack 4 cho người mới bắt đầu - Phần 2","path":"/huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-2/","date":"2018-05-27","timeToRead":4,"desc":"Phần 2 trong series về webpack, mình sẽ nói về code slitting, loaders","content":"<p>Trong Series này</p>\n<ol>\n<li><a href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\">Webpack là gì và tại sao ta phải xài nó</a></li>\n<li><a href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\">Dùng Loaders, code slitting trong webpack</a></li>\n<li><a href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\">Plugins, Development Server</a></li>\n</ol>\n<!-- TOC -->\n<ul>\n<li><a href=\"#loaders\">Loaders</a></li>\n<li><a href=\"#babel-loader\">Babel Loader</a></li>\n<li><a href=\"#sass-loader\">SASS Loader</a></li>\n<li><a href=\"#image\">Image</a></li>\n<li><a href=\"#code-splitting\">Code splitting</a></li>\n</ul>\n<!-- /TOC -->\n<p>Chúng ta mở lại file <strong>package.json</strong>, sửa lại chút</p>\n<pre class=\"language-diff\"><code class=\"language-diff\">{\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   \"scripts\": {\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"develop\": \"webpack --mode development --watch\",\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"build\": \"webpack --mode production\"\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   },\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span></span>}</code></pre>\n<p>Với cách setup này, chỉ cần chạy <code class=\"language-text\">npm run develop</code> chúng ta sẽ chạy webpack ở development mode và bật tính năng detect thay đổi để chạy lại.</p>\n<p>Khi chạy <code class=\"language-text\">npm run build</code> chúng ta sẽ chạy webpack ở mode production, khi chạy ở mode này code sẽ được minified lại bằng Uglify JS, size nhỏ hơn khi chạy dev mode.</p>\n<h1 id=\"loaders\"><a href=\"#loaders\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Loaders</h1>\n<p>Loaders là gì? loaders là những thư viện sẽ can thiệp trước lúc chúng ta import file, nó cho phép webpack mở rộng khả năng không chỉ còn là bundle javascript thôi, mà cả những static resource khác, như css, image, svg, ...</p>\n<h1 id=\"babel-loader\"><a href=\"#babel-loader\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Babel Loader</h1>\n<p>Thời điểm hiện tại chắc ai cũng viết JS kiểu mới, để transpile cái ES6 mà ta viết, chúng ta sẽ cần <code class=\"language-text\">babel-loader</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev babel-loader  @babel/core @babel/preset-env</code></pre>\n<p>Mở lại file <strong>webpack.config.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\">const path = require('path')\n\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   entry: './src/index.js',\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   output: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     filename: 'bundle.js',\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     path: path.resolve(__dirname, 'dist')\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   },\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.js$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         exclude: /(node_modules|bower_components)/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'babel-loader',\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Để cấu hình cách transpile của babel, chúng ta add thêm file <code class=\"language-text\">.babelrc</code> vào cùng thư mục với <strong>webpack.config.js</strong></p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/env\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"modules\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"syntax-dynamic-import\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Đoạn trên chúng ta đang cấu hình để khi Babel transpile, nó không đổi câu <code class=\"language-text\">import</code> và <code class=\"language-text\">export</code> về ES5 và cho phép import linh động, sau này dùng đến trong phần slitting code</p>\n<p>Giờ thì cứ vô tư viết ES6 nhé, vì khi bundle, webpack sẽ transpile code của chúng về thành ES5</p>\n<h1 id=\"sass-loader\"><a href=\"#sass-loader\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>SASS Loader</h1>\n<p>Trước tiên cài một số package để làm việc với SASS</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev style-loader css-loader sass-loader node-sass</code></pre>\n<p><strong>webpack.config.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   module: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: [{\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'style-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'css-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'sass-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     ]\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Mấy cái loader này sẽ được thực hiện theo thứ tự</p>\n<ul>\n<li><code class=\"language-text\">sass-loader</code> transforms Sass thành CSS.</li>\n<li><code class=\"language-text\">css-loader</code> parses CSS vào JavaScript và resolve dependencies.</li>\n<li><code class=\"language-text\">style-loader</code> chèn CSS vào bên trong thẻ <code class=\"language-text\">&lt;style&gt;</code></li>\n</ul>\n<p>Có thể hình dung nó như một function với callback là một function khác</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">styleLoader</span><span class=\"token punctuation\">(</span><span class=\"token function\">cssLoader</span><span class=\"token punctuation\">(</span><span class=\"token function\">sassLoader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"source\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Sau khi cấu hình như vậy chúng ta có thể import file  <code class=\"language-text\">.scss</code> bên trong file javascript</p>\n<pre class=\"language-diff\"><code class=\"language-diff\">import { groupBy } from 'lodash-es'\nimport people from './people'\n\n<span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> import './style.scss'\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> ...</span></span></code></pre>\n<p>Tại sao chúng ta lại đi import CSS vào trong file js? Nếu bạn thời kỳ trước việc chèn hầm bà lằng kiểu này là cực kỳ bị lên án, nhưng bây giờ thời thế khác, một số lý do để trọn CSS vào trong js trong development</p>\n<ul>\n<li>Một component javascript sẽ có thể phụ thuộc vào CSS, images, SVG. Nếu được đóng gói thành 1 cục, chúng ta dễ mang nó sử dụng ở nơi khác hơn</li>\n<li>Nếu chúng ta không sử dụng component, đoạn css import trong component cũng sẽ không được import luôn, tránh những việc load css ở tất cả</li>\n<li>Trước đây nếu dùng OOP trong CSS, việc chỉnh sửa một đoạn css sẽ dễ bị side effect, ảnh hướng đến những chổ ta không mong muốn. CSS module để CSS chỉ hoạt động local thôi</li>\n<li>Giảm số lượng HTTP request xuống</li>\n</ul>\n<h1 id=\"image\"><a href=\"#image\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Image</h1>\n<p>Dùng <code class=\"language-text\">file-loader</code> để đọc file image. Với HTML chuẩn, image được sử dụng bằng 2 cách là dùng tag <code class=\"language-text\">img</code> hoặc thuộc tính <code class=\"language-text\">background-image</code>. Với Webpack, chúng ta có thể optimize cho trường hợp dung lượng image với kích thước nhỏ thành dạng <code class=\"language-text\">string</code> bên trong javascript luôn. Lúc này trình duyệt không cần load riêng file image nữa</p>\n<p>Cài cái loader</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">nmp <span class=\"token function\">install</span> --save-dev file-loader</code></pre>\n<p>webpack.config.js</p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   module: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.(png|svg|jpg|gif)$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'file-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     ]\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Trong lúc code chúng ta vẫn viết bình thường</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword module\">import</span> codeURL <span class=\"token keyword module\">from</span> <span class=\"token string\">'./code.png'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token spread operator\">...</span>\n<span class=\"token method function property-access\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>codeURL<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token spread operator\">...</span></code></pre>\n<p>Kết quả bundle</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data:image/png;base64,iVBO...<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p>Có thể đọc thêm trên docs của <code class=\"language-text\">file-loader</code> để xem cách chỉnh kích thước nào thì chuyển nội dung ảnh thành data URI. File loader còn thể thể xử lý trên một số dạng file khác nữa, chứ không chỉ là hình thôi không.</p>\n<h1 id=\"code-splitting\"><a href=\"#code-splitting\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Code splitting</h1>\n<p>Trích từ trang chủ webpack</p>\n<blockquote>\n<p>Code splitting là một trong những tính năng hấp dẫn nhất của Webpack. Tính năng này cho phép bạn tách code ra thành nhiều file bundle để load khi cần thiết hoặc load song song. Cái này có thể dùng để giảm kích thước file bundle và kiểm soát được load resource hợp lý hơn, nếu sử dụng đúng cách, sẽ giảm đảng kể thời gian load trang</p>\n</blockquote>\n<p>Trước giờ chúng ta chỉ setup để bundle ra 1 file duy nhất từ <code class=\"language-text\">src/index.js</code> ra file <code class=\"language-text\">dist/bundle.js</code>. Khi ứng dúng phình ra, chúng ta cần tách code ra thành nhiều file, toàn bộ code đầu cần phải load hết ngay từ đầu đâu nhỉ? Dùng <a href=\"https://webpack.js.org/guides/code-splitting/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code Slitting</a> và <a href=\"https://webpack.js.org/guides/lazy-loading/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Lazy Loading</a> để chỉ load khi cần.</p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">  const path = require('path')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">   entry: './src/index.js',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   entry: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     app: './src/app.js'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   },\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   output: {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">     filename: 'bundle.js',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">     filename: '[name].bundle.js',\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     path: path.resolve(__dirname, 'dist')\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   },\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Với setup như thế này, nếu chúng ta có 2 file trong thư mục <code class=\"language-text\">src</code> là <code class=\"language-text\">app.js</code> và <code class=\"language-text\">chat.js</code>, webpack sẽ bundle ra 2 file <code class=\"language-text\">chat.bundle.js</code>, <code class=\"language-text\">app.bundle.js</code></p>\n<p>Bài sau nói tiếp plugins nhé, kết thúc với loaders ở đây</p>\n<p><a href=\"https://www.sitepoint.com/beginners-guide-webpack-module-bundling/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Link bài gốc</a>\nTác giả: Mark Brown</p>\n<p>Chỉnh sửa theo sự hiểu của mình một tí</p>\n","cover_image":""}},{"node":{"id":"d7b36cee9f03beb7e7cdabdbd9c22600","title":"Webpack là gì và tại sao ta phải xài nó","path":"/webpack-la-gi-va-tai-sao-ta-phai-xai-no/","date":"2018-05-25","timeToRead":4,"desc":"Bài này sẽ nói rõ tại sao Webpack là sự lựa chọn sáng suốt cho bundle javascript","content":"<h1 id=\"trong-series-này\"><a href=\"#trong-series-n%C3%A0y\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Trong Series này</h1>\n<ol>\n<li><a href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\">Webpack là gì và tại sao ta phải xài nó</a></li>\n<li><a href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\">Dùng Loaders, code slitting trong webpack</a></li>\n<li><a href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\">Plugins, Development Server</a></li>\n</ol>\n<!-- TOC -->\n<ul>\n<li>\n<p><a href=\"#trong-series-n%C3%A0y\">Trong Series này</a></p>\n<ul>\n<li>\n<p><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81\">Vấn đề</a></p>\n<ul>\n<li><a href=\"#c%C3%A1ch-t%E1%BB%91t-h%C6%A1n\">Cách tốt hơn</a></li>\n</ul>\n</li>\n<li><a href=\"#webpack-vs-gulp\">Webpack vs. Gulp</a></li>\n<li><a href=\"#vi%E1%BA%BFt-code-module\">Viết code Module</a></li>\n<li><a href=\"#c%E1%BA%A5u-h%C3%ACnh-webpack\">Cấu hình Webpack</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"vấn-đề\"><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Vấn đề</h2>\n<p>Viết code client-side nếu không có các công cụ hỗ trợ thì trước sau vì cũng giống như đống hỗn độn trên desktop, để maintain và người khác có thể vào đọc hiểu được thì việc code được tổ chức tốt là điều ai cũng biết, lý thuyết là thế, nhưng nếu cứ làm việc theo kiểu cũ cứ quăng script tràng lan bằng thẻ <code class=\"language-text\">&lt;script&gt;</code> sẽ chẳng dễ gì sắp xếp và nhớ nổi cái nào là cái nào nếu, add thêm cỡ chục files, <em>best practice</em> khuyên rằng hạn chế số lượng file script càng ít càng tốt, tốt nhất là 1 file duy nhất.</p>\n<p>Trước đây có nhiều giải pháp cho vấn đề như là Gulp, dùng để bunch toàn bộ javascript thành 1 file. Nhưng chưa đủ. Với Gulp chúng ta đã đẩy các dependency ngang hàng nhau, và phụ thuộc vào biến global để chia sẽ dữ liệu giữa các files.</p>\n<h3 id=\"cách-tốt-hơn\"><a href=\"#c%C3%A1ch-t%E1%BB%91t-h%C6%A1n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cách tốt hơn</h3>\n<p>Nếu trước đây chưa từng sử dụng mấy cái tool để quản lý asset ở frontend, tốt nhất là học luôn Webpack, bỏ qua Gulp, Gruntjs luôn. Còn nếu nếu đã từng dùng mấy task runner kiểu Gulp, Gruntjs, thì chuyển qua dùng webpack cũng không khó khăn lắm, chỉ là khác nhau cách tổ chức và quản lý dependency.</p>\n<h2 id=\"webpack-vs-gulp\"><a href=\"#webpack-vs-gulp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Webpack vs. Gulp</h2>\n<p>Chắc đã từng nghe tới câu này: <strong>Gulp là task runner, Webpack là module bundler</strong>, ý nhĩa thật sự sau câu này là gì?</p>\n<p>Gulp là công cụ tự động hóa tốt, cho phép chúng ta setup một mớ các tiến trình phức tạp cần thực hiện (một cách tự động) bằng javascript, rồi chạy nó bằng một lệnh duy nhất. Vấn đề với Gulp là nếu code file A depend vào code ở file B, bạn cần báo cáo với Gulp để nó include file A trước, và khi bạn thêm càng lúc càng nhiều file depend chồng chéo kiểu này, cây dependency là lớn dần, và sẽ gần như không thể maintain được nữa, vì chúng ta phải config bằng tay, nếu sử dụng file manifest với plugin <code class=\"language-text\">asset-builder</code> cũng không thể cứu vãn.</p>\n<p><img src=\"https://res.cloudinary.com/forestry-demo/image/fetch/c_limit,dpr_auto,f_auto,q_80,w_674/https://forestry.io/uploads/2018/03/webpack_fighter_of_the_gulpstack_champion_of_the_bundle.png\"></p>\n<p>Bài toán dependency này đã được Webpack giải quyết triệt để. Những gì bạn cần làm là báo với Webpack file <strong>entry</strong> point mình cần bundle là gì, chuyện bạn <em>import module</em> lúc code sẽ do webpack đảm nhiệm chuyện dựng lên dependency graph, webpack sẽ bundle cho bạn 1 file duy nhất bạn cần. Chúng ta khỏi phải báo cáo với webpack thứ tự các file nào cần trước hay sau, để đó Webpack lo!</p>\n<p>Ngắn gọn là: với Gulp dependency bị giới hạn vì nó yêu cầu mình tự chỉ định sự phụ thuộc, Webpack thì nó dùng logic để tính toán rồi bundle đúng thứ tự.</p>\n<h2 id=\"viết-code-module\"><a href=\"#vi%E1%BA%BFt-code-module\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Viết code Module</h2>\n<p>Để Webpack hoạt động như phép màu như vậy, chúng ta chỉ cần viết javascript của mình dạng <em>module</em>. Viết module trong javascript là tách các file ra thành nhiều file, việc sử dụng code giữa các file sẽ thực hiện bằng <strong>export</strong> và <strong>import</strong></p>\n<p>Webpack hỗ trợ 2 chuẩn module hóa hiện giờ là <strong>EcmaScript</strong> và  <strong>CommonJS</strong>. Ví dụ bên dưới để hình dung cách viết module trong file <code class=\"language-text\">hello.js</code> rồi <strong>import</strong> vào trong file <code class=\"language-text\">app.js</code> bằng cả 2 kiểu viết EcmaScript và CommonJS</p>\n<p>Viết kiểu <strong>EcmaScript</strong></p>\n<p><strong>hello.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello Binh An!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>app.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span>hello<span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'./hello'</span>\n<span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Viết kiểu <strong>CommonJS</strong></p>\n<p><strong>hello.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello Bình An!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><strong>app.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> hello <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./hello'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"cấu-hình-webpack\"><a href=\"#c%E1%BA%A5u-h%C3%ACnh-webpack\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cấu hình Webpack</h2>\n<p>Một điểm hay của webpack là nếu có ai đó đã config rồi thì những người sau không cần phải vào file config để hiểu cách tổ chức code, chỉ cần hiểu được cách tổ chức code của project.</p>\n<p>Giờ thử config đơn giản nhất để hiểu một số thành phần quan trọng nhất của webpack</p>\n<p>Tổ chức project như vầy</p>\n<pre class=\"language-basic\"><code class=\"language-basic\">src<span class=\"token operator\">/</span>\n    app.js\nwebpack.config.js</code></pre>\n<p>Mặt định Webpack sẽ tìm file config với tên là <strong>webpack.config.js</strong>. Tiếp chúng ta cần cài <strong>webpack</strong> và <strong>webpack-cli</strong></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> init -y\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev webpack webpack-cli</code></pre>\n<p>Trong file <strong>webpack.config.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmodule<span class=\"token punctuation\">.</span><span class=\"token property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    entry<span class=\"token operator\">:</span> <span class=\"token string\">'./src/app.js'</span><span class=\"token punctuation\">,</span>\n    output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'dist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        filename<span class=\"token operator\">:</span> <span class=\"token string\">'bundle.js'</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>2 phần quan trọng nhất mà phải biết là <strong>entry</strong> - file source nằm ở đâu và <strong>output</strong> - file sẽ bundle ở đâu. Sử dụng module <code class=\"language-text\">path</code> để biết vị trí thực tế lúc chạy.</p>\n<p>Chạy CLI để bundle</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">./node_modules/webpack-cli/bin/webpack.js</code></pre>\n<p>Nó sẽ đọc source trong file <code class=\"language-text\">src/app.js</code> rồi compile vào <code class=\"language-text\">dist/bundle.js</code>. Thư mục sau khi chạy xong sẽ có</p>\n<pre class=\"language-basic\"><code class=\"language-basic\">dist<span class=\"token operator\">/</span>\n    bundle.js\nsrc<span class=\"token operator\">/</span>\n    app.js\npackage.json\nwebpack.config.js</code></pre>\n<p>Để rút chạy đoạn CLI dài ngoằn <code class=\"language-text\">./node_modules/webpack-cli/bin/webpack.js</code> có thể thêm một custom script trong file <strong>package.json</strong>. Bạn có thể chạy nó bằng <code class=\"language-text\">npm run SCRIPT_NAME</code></p>\n<p>Thêm vào trong <strong>package.json</strong></p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>    \n    <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./node_modules/webpack-cli/bin/webpack.js\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"watch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./node_modules/webpack-cli/bin/webpack.js --watch\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Giờ chúng ta có thể chạy bằng lệnh <code class=\"language-text\">npm run build</code>, ở trên chúng ta cũng vừa thêm đoạn <code class=\"language-text\">npm run watch</code>, thêm option <code class=\"language-text\">--watch</code> để khi có bất kỳ thay đổi nào nó sẽ tự động detect và compile lại.</p>\n<p>!!!! CUNG HỶ !!!!!</p>\n<p>Bạn đã chạm được vào cánh cửa đầu tiên của webpack, webpack còn nhiều khả năng nữa, tuy nhiên module bundle là core feature, bài tiếp theo chúng ta sẽ khám phá nhiều hơn như loaders, plugins, development server.</p>\n<p><a href=\"2017-10-18-import-va-export-trong-javascript\">Tìm hiểu thêm về import và export</a></p>\n<p><a href=\"https://forestry.io/blog/write-better-javascript-with-webpack/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Link bài gốc</a></p>\n<p>Tác giả: DJ Walker</p>\n","cover_image":""}},{"node":{"id":"936bd0d7d301376494576278881f51ac","title":"Sử dụng biến Node Environment","path":"/su-dung-bien-node-environment/","date":"2018-03-09","timeToRead":2,"desc":"Biến environment là một phần cơ bản cần biết khi làm việc với Node","content":"<p>Khi nhắc đến thuật ngữ \"Environment Variable\" là nghĩ ngay tới việc thiết đặt biến này cho thư mục Java Home trong windows</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*NWeRct1eJ16rAmEaabKV7A.png\"></p>\n<p>Thật ra không liên quan gì đâu nhá</p>\n<p>Trong Node, biến Environment là một biến global, thường được sử dụng để chỉ định <code class=\"language-text\">process</code> nào muốn chạy. Ví dụ, khi chạy một ứng dụng web, ta sẽ có các biến <strong>Environment</strong> sau:</p>\n<ul>\n<li>Port</li>\n<li>Database connection string</li>\n</ul>\n<p>Nếu đã từng làm việc với .Net, chắc sẽ biết tới file <code class=\"language-text\">web.config</code>. Biến Environment làm việc i như các thiết đặt trong <code class=\"language-text\">web.config</code></p>\n<p>Ảnh vui nha</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*v9l07sac43rmP-FAXxmwkw.png\"></p>\n<h1 id=\"set-giá-trị-bằng-terminal\"><a href=\"#set-gi%C3%A1-tr%E1%BB%8B-b%E1%BA%B1ng-terminal\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Set giá trị bằng terminal</h1>\n<p>Thí dụ ta set giá trị của <code class=\"language-text\">PORT</code> </p>\n<pre class=\"language-text\"><code class=\"language-text\">PORT=6060 NODE_ENV=production webpack</code></pre>\n<p>Giờ lúc code, ta gọi cái biến này ra bằng cách</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> port <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PORT</span></code></pre>\n<p>Không phải lúc nào set giá trị của biến <code class=\"language-text\">env</code> bằng terminal, ví dụ connection string thì không ai đưa vào bằng terminal</p>\n<pre class=\"language-text\"><code class=\"language-text\">PORT=65534 DB_CONN=&quot;mongodb://react-cosmos-db:swQOhAsVjfHx3Q9VXh29T9U8xQNVGQ78lEQaL6yMNq3rOSA1WhUXHTOcmDf38Q8rg14NHtQLcUuMA==@react-cosmos-db.documents.azure.com:19373/?ssl=true&amp;replicaSet=globaldb&quot; SECRET_KEY=b6264fca-8adf-457f-a94f-5a4b0d1ca2b9</code></pre>\n<h1 id=\"set-giá-trị-bằng-file-env\"><a href=\"#set-gi%C3%A1-tr%E1%BB%8B-b%E1%BA%B1ng-file-env\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Set giá trị bằng file <code class=\"language-text\">.env</code></h1>\n<p>Tạo ra một cái file <code class=\"language-text\">.env</code> trong cùng thư mục project, khai báo mớ biến environment ở đây</p>\n<pre class=\"language-text\"><code class=\"language-text\">PORT=65534\n\nDB_CONN=&quot;mongodb://react-cosmos-db:swQOhAsVjfHx3Q9VXh29T9U8xQNVGQ78lEQaL6yMNq3rOSA1WhUXHTOcmDf38Q8rg14NHtQLcUuMA==@react-cosmos-db.documents.azure.com:10255/?ssl=true&amp;replicaSet=globaldb&quot;\n\nSECRET_KEY=&quot;b6264fca-8adf-457f-a94f-5a4b0d1ca2b9&quot;</code></pre>\n<p>Để đọc được giá trị này, có rất nhiều cách, mà cách nào thì cũng phải cái thêm package!, dùng package dễ nhất là <code class=\"language-text\">dotenv</code></p>\n<pre class=\"language-text\"><code class=\"language-text\">npm install dotenv --save</code></pre>\n<p>Việc sử dụng hết sức đơn giản như sau</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dotenv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> <span class=\"token maybe-class-name\">MongoClient</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'môngdb'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token property-access\"><span class=\"token maybe-class-name\">MongoClient</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token maybe-class-name\">MongoClient</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">connect</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">DB_CONN</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> db</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"We are connected\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<blockquote>\n<p>Lưu ý đừng check in file <code class=\"language-text\">.env</code> này lên github, nếu checkin lên Github sẽ báo ngay tới email là việc làm này hết sức nguy hại tới sự 'riêng tư'!</p>\n</blockquote>\n<h1 id=\"extension-của-vscode\"><a href=\"#extension-c%E1%BB%A7a-vscode\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Extension của VSCode</h1>\n<p>Nếu đang dùng VSCode, một số extension này sẽ hữu ích</p>\n<p>DotENV extension: mang màu sắc đến với cuộc sống</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*K5PBHyeMSrND58ycVyw3YA.png\"></p>\n","cover_image":""}},{"node":{"id":"fa6427dbf45972e462dae10dc617d76e","title":"Import và Export trong Javascript bằng Webpack","path":"/import-va-export-trong-javascript-bang-webpack/","date":"2017-10-18","timeToRead":2,"desc":"Bàn về các kiểu import và export module trong javascript với Webpack","content":"<!-- TOC -->\n<ul>\n<li>\n<p><a href=\"#export\">Export</a></p>\n<ul>\n<li><a href=\"#c%C3%BA-ph%C3%A1p\">Cú pháp</a></li>\n<li><a href=\"#gi%E1%BA%A3i-th%C3%ADch\">Giải thích</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#import\">Import</a></p>\n<ul>\n<li><a href=\"#c%C3%BA-ph%C3%A1p-1\">Cú pháp</a></li>\n<li><a href=\"#gi%E1%BA%A3i-th%C3%ADch-1\">Giải thích</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<p>Ở đây mình sẽ nói cách import và export với webpack, mới đây, thiên hạ đang đề nghị hỗ trợ <a href=\"/2018-07-02-huong-dan-javascript-modules-tren-web\">import và export với native javascript</a></p>\n<p>Một <strong>giá trị</strong>, <strong>hàm</strong>, <strong>object</strong> có thể được <code class=\"language-text\">export</code> từ một file này và dùng câu lệnh <code class=\"language-text\">import</code> để sử dụng bên trong file khác.</p>\n<h1 id=\"export\"><a href=\"#export\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Export</h1>\n<h2 id=\"cú-pháp\"><a href=\"#c%C3%BA-ph%C3%A1p\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cú pháp</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token punctuation\">{</span>name1<span class=\"token punctuation\">,</span> name2<span class=\"token punctuation\">,</span> name3<span class=\"token punctuation\">,</span><span class=\"token spread operator\">...</span><span class=\"token punctuation\">,</span> nameN<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// export sử dụng alias</span>\n<span class=\"token keyword module\">export</span> <span class=\"token punctuation\">{</span>name1 <span class=\"token keyword module\">as</span> differentName1<span class=\"token punctuation\">,</span> name2 <span class=\"token keyword module\">as</span> differentName2<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// export một biến hoặc hằng số</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword\">let</span> name1<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> name2<span class=\"token punctuation\">,</span> <span class=\"token keyword\">var</span> name3\n<span class=\"token keyword module\">export</span> <span class=\"token keyword\">let</span> name1 <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> name2 <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">var</span> name3 <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\n\n<span class=\"token comment\">// export một class hoặc function</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> expression<span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token spread operator\">...</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token spread operator\">...</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">name1</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token spread operator\">...</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token spread operator\">...</span><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"giải-thích\"><a href=\"#gi%E1%BA%A3i-th%C3%ADch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Giải thích</h2>\n<p>Có 2 kiểu <code class=\"language-text\">export</code></p>\n<ol>\n<li>Export 1 function đã được khai báo hoặc một giá trị: <strong>export có định danh</strong></li>\n</ol>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// exports hàm đã khai báo trước đó</span>\n<span class=\"token keyword module\">export</span> <span class=\"token punctuation\">{</span> myFunction <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token comment\">// exports một hằng số</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">sqrt</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<ol start=\"2\">\n<li><strong>Default Export</strong> cho một hàm hoặc class</li>\n</ol>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre>\n<p>Khi export có định danh thì khi import cũng phải gọi đúng tên đã export, còn nếu sử dụng <em>default export</em> thì khi import đặt tên là gì cũng được.</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> k <span class=\"token operator\">=</span> <span class=\"token number\">12</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// test.js</span>\n\n<span class=\"token keyword module\">import</span> m <span class=\"token keyword module\">from</span> <span class=\"token string\">'./test'</span> \n<span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// log 12</span></code></pre>\n<p>Trên một file chỉ có thể có một default export, câu lệnh sau không phải là default export</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword module\">from</span> <span class=\"token spread operator\">...</span><span class=\"token punctuation\">;</span></code></pre>\n<h1 id=\"import\"><a href=\"#import\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Import</h1>\n<h2 id=\"cú-pháp-1\"><a href=\"#c%C3%BA-ph%C3%A1p-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cú pháp</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> defaultExport <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword module\">as</span> name <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword module\">export</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword module\">export</span> <span class=\"token keyword module\">as</span> alias <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span> export1 <span class=\"token punctuation\">,</span> export2 <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span> export1 <span class=\"token punctuation\">,</span> export2 <span class=\"token keyword module\">as</span> alias2 <span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token spread operator\">...</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> defaultExport<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword module\">export</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token spread operator\">...</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> defaultExport<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span> <span class=\"token keyword module\">as</span> name <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"giải-thích-1\"><a href=\"#gi%E1%BA%A3i-th%C3%ADch-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Giải thích</h2>\n<p>Module export có tên quá dài, có thể đặt alias trong câu <code class=\"language-text\">import</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span>reallyReallyLongModuleExportName <span class=\"token keyword module\">as</span> shortName<span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'/modules/my-module.js'</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Import tất cả các giá trị, hàm, object,... đã export trong một file khác</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword module\">as</span> myModule <span class=\"token keyword module\">from</span> <span class=\"token string\">'another.file'</span></code></pre>\n<p>Import chỉ định một số hàm, object, giá trị trong file</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span>funcA<span class=\"token punctuation\">,</span> objB<span class=\"token punctuation\">,</span> constC<span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'another.file'</span></code></pre>\n","cover_image":""}}]}}},"context":{}}
{"hash":"6000b69201124b9452c41d38889aba5b11cf5e89","data":{"tag":{"title":"webpack","belongsTo":{"edges":[{"node":{"id":"af1b4fabe8e0499431dafa72082c9288","title":"Há»i nhanh Ä‘Ã¡p gá»n vá» REST","path":"/2021-01-15-rest-faq-hoi-nhanh-dap-gon-ve-rest/","date":"2021-01-15","timeToRead":2,"desc":"ChuyÃªn má»¥c há»i nhanh - Ä‘Ã¡p gá»n, náº¿u báº¡n chÆ°a biáº¿t gÃ¬ vá» REST","content":"<p><em>ğŸ¸ Nhá»¯ng module pattern nÃ o webpack há»— trá»£?</em></p>\n<p><code class=\"language-text\">common.js</code> vÃ  es6</p>\n<p>ğŸ¸ CÃ³ Ä‘Æ°á»£c phÃ©p cÃ³ nhiá»u entry point trong cÃ¹ng 1 file config?*</p>\n<p>CÃ³</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ táº¡o file config webpack tá»± Ä‘á»™ng?</em></p>\n<p><code class=\"language-text\">webpack-cli init</code></p>\n<p><em>ğŸ¸ Loader trong webpack lÃ  gÃ¬?</em></p>\n<p>transform nhá»¯ng module nÃ o khÃ´ng pháº£i lÃ  JS vÃ o trong bundle</p>\n<p><em>ğŸ¸ Loader cháº¡y sync hay async</em></p>\n<p>Cáº£ hai</p>\n<p><em>ğŸ¸ KhÃ¡c nhau giá»¯a loader vÃ  plugin</em></p>\n<p>Loader dÃ¹ng Ä‘á»ƒ pre-processing, plugin phá»©c táº¡p hÆ¡n vÃ  nÃ³ can thiá»‡p nhiá»u vÃ o quÃ¡ trÃ¬nh compile.</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ tÃ¡ch má»™t sá»‘ data ra khá»i bundle thÃ nh má»™t file riÃªng biá»‡t, vÃ­ dá»¥ nhÆ° file css</em></p>\n<p>Sá»­ dá»¥ng <a href=\"https://github.com/webpack-contrib/extract-text-webpack-plugin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ExtractTextWebpackPlugin</a>. Táº¥t cáº£ css sáº½ khÃ´ng cÃ²n náº±m inline trong file JS bundle, nÃ³ sáº½ lÃ  má»™t file riÃªng (style.css cháº³ng háº¡n)</p>\n<p><em>ğŸ¸ Hot module replacement lÃ  gÃ¬?</em></p>\n<p>TÃ­nh nÄƒng cho phÃ©p cáº­p nháº­p module mÃ  khÃ´ng cáº§n reload</p>\n<p><em>ğŸ¸ parallel-webpack lÃ  gÃ¬ vÃ  nÃ³ áº£nh hÆ°á»Ÿng tháº¿ nÃ o Ä‘áº¿n quÃ¡ trÃ¬nh build</em></p>\n<p><a href=\"https://github.com/trivago/parallel-webpack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">parallel-webpack</a> sáº½ giÃºp config vá»›i nhiá»u entry point, cho phÃ©p webpack build parallel, nÃ¢ng cao tá»‘c Ä‘á»™ build</p>\n<p><em>ğŸ¸ MÃ´ táº£ má»™t cÃ¡ch ngáº¯n gá»n long-term caching vÃ  lÃ m sao sá»­ dá»¥ng nÃ³ trong webpack?</em></p>\n<p>Browser sáº½ cache static file bÃªn dÆ°á»›i local Ä‘á»ƒ cáº£i thiá»‡n tá»‘c Ä‘á»™ load, Ä‘á»ƒ Ä‘áº£m báº£o náº¿u cÃ³ báº£n build má»›i, trÃ¬nh duyá»‡t biáº¿t vÃ  download file má»›i, tÃªn  file thÆ°á»ng Ä‘Æ°á»£c Ä‘áº·t nhÆ° sau</p>\n<pre class=\"language-text\"><code class=\"language-text\">app.js?build=1\napp.js?build=2\n\n// hoáº·c\napp.js.2a6c1fee4b5b0d2c9285.js\napp.js.70b594fe8b07bcedaa98.js</code></pre>\n<p>Äá»ƒ lÃ m viá»‡c nÃ y, trong webpack chÃºng ta Ä‘áº·t config</p>\n<pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span><span class=\"token property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token spread operator\">...</span>\n    output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     filename<span class=\"token operator\">:</span> <span class=\"token string\">\"[name].[hash].js\"</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token spread operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>ğŸ¸ KhÃ¡c nhau giá»¯a hash vÃ  chunkhash?</em></p>\n<p>[hash] táº¡o ra má»™t id ngáº«u nhiÃªn cho tá»«ng láº§n build vÃ  sá»­ dá»¥ng cho táº¥t cáº£  chunk. Náº¿u thay [hash] báº±ng [chunkhash] nÃ³ sáº½ táº¡o ra má»—i chunk má»™t id ngáº«u nhiÃªn.</p>\n<p><em>ğŸ¸ MÃ´ táº£ CommonsChunk Plugin?</em></p>\n<p>LÃ  má»™t tÃ­nh nÄƒng cÃ³ sáºµn cá»§a webpack, cho phÃ©p táº¡o file riÃªng (gá»i lÃ  chunk) cho nhá»¯ng module dÃ¹ng chung. Há»— trá»£ caching vÃ  nÃ¢ng cao tá»‘c Ä‘á»™ load</p>\n<p><em>ğŸ¸Diá»…n giáº£i Ä‘oáº¡n code bÃªn dÆ°á»›i</em></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">webpack<span class=\"token punctuation\">.</span>ContextReplacementPlugin</span><span class=\"token punctuation\">(</span>\n     <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token language-regex\">moment<span class=\"token charset\"><span class=\"token charset-punctuation punctuation\">[</span><span class=\"token escape\">\\/</span><span class=\"token special-escape escape\">\\\\</span><span class=\"token charset-punctuation punctuation\">]</span></span>locale</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n     <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token language-regex\"><span class=\"token group punctuation\">(</span>en-gb<span class=\"token alternation keyword\">|</span>en-us<span class=\"token group punctuation\">)</span><span class=\"token special-escape escape\">\\.</span>js</span><span class=\"token regex-delimiter\">/</span></span>\n<span class=\"token punctuation\">)</span></code></pre>\n<p>BÃ¡o vá»›i webpack, chá»‰ include nhá»¯ng file cÃ³ tÃªn khá»›p vá»›i Ä‘iá»u kiá»‡n <code class=\"language-text\">/(en-gb|en-us)\\.js/</code>, trong Ä‘Æ°á»ng dáº«n <code class=\"language-text\">/moment[\\/\\\\]locale/</code> khi bundle</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ remove nhá»¯ng css selector khÃ´ng dÃ¹ng Ä‘áº¿n?</em></p>\n<p>DÃ¹ng plugin <a href=\"https://github.com/webpack-contrib/purifycss-webpack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">purifycss-webpack</a></p>\n","cover_image":""}},{"node":{"id":"dc34c8a0c083ef6c15db1a0747852887","title":"Há»i nhanh Ä‘Ã¡p gá»n vá» webpack","path":"/2021-01-13-webpack-faq-hoi-nhanh-dap-gon-voi-webpack/","date":"2021-01-13","timeToRead":2,"desc":"ChuyÃªn má»¥c há»i nhanh - Ä‘Ã¡p gá»n, náº¿u báº¡n chÆ°a biáº¿t gÃ¬ vá» webpack","content":"<p><em>ğŸ¸ Nhá»¯ng module pattern nÃ o webpack há»— trá»£?</em></p>\n<p><code class=\"language-text\">common.js</code> vÃ  es6</p>\n<p>ğŸ¸ CÃ³ Ä‘Æ°á»£c phÃ©p cÃ³ nhiá»u entry point trong cÃ¹ng 1 file config?*</p>\n<p>CÃ³</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ táº¡o file config webpack tá»± Ä‘á»™ng?</em></p>\n<p><code class=\"language-text\">webpack-cli init</code></p>\n<p><em>ğŸ¸ Loader trong webpack lÃ  gÃ¬?</em></p>\n<p>transform nhá»¯ng module nÃ o khÃ´ng pháº£i lÃ  JS vÃ o trong bundle</p>\n<p><em>ğŸ¸ Loader cháº¡y sync hay async</em></p>\n<p>Cáº£ hai</p>\n<p><em>ğŸ¸ KhÃ¡c nhau giá»¯a loader vÃ  plugin</em></p>\n<p>Loader dÃ¹ng Ä‘á»ƒ pre-processing, plugin phá»©c táº¡p hÆ¡n vÃ  nÃ³ can thiá»‡p nhiá»u vÃ o quÃ¡ trÃ¬nh compile.</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ tÃ¡ch má»™t sá»‘ data ra khá»i bundle thÃ nh má»™t file riÃªng biá»‡t, vÃ­ dá»¥ nhÆ° file css</em></p>\n<p>Sá»­ dá»¥ng <a href=\"https://github.com/webpack-contrib/extract-text-webpack-plugin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ExtractTextWebpackPlugin</a>. Táº¥t cáº£ css sáº½ khÃ´ng cÃ²n náº±m inline trong file JS bundle, nÃ³ sáº½ lÃ  má»™t file riÃªng (style.css cháº³ng háº¡n)</p>\n<p><em>ğŸ¸ Hot module replacement lÃ  gÃ¬?</em></p>\n<p>TÃ­nh nÄƒng cho phÃ©p cáº­p nháº­p module mÃ  khÃ´ng cáº§n reload</p>\n<p><em>ğŸ¸ parallel-webpack lÃ  gÃ¬ vÃ  nÃ³ áº£nh hÆ°á»Ÿng tháº¿ nÃ o Ä‘áº¿n quÃ¡ trÃ¬nh build</em></p>\n<p><a href=\"https://github.com/trivago/parallel-webpack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">parallel-webpack</a> sáº½ giÃºp config vá»›i nhiá»u entry point, cho phÃ©p webpack build parallel, nÃ¢ng cao tá»‘c Ä‘á»™ build</p>\n<p><em>ğŸ¸ MÃ´ táº£ má»™t cÃ¡ch ngáº¯n gá»n long-term caching vÃ  lÃ m sao sá»­ dá»¥ng nÃ³ trong webpack?</em></p>\n<p>Browser sáº½ cache static file bÃªn dÆ°á»›i local Ä‘á»ƒ cáº£i thiá»‡n tá»‘c Ä‘á»™ load, Ä‘á»ƒ Ä‘áº£m báº£o náº¿u cÃ³ báº£n build má»›i, trÃ¬nh duyá»‡t biáº¿t vÃ  download file má»›i, tÃªn  file thÆ°á»ng Ä‘Æ°á»£c Ä‘áº·t nhÆ° sau</p>\n<pre class=\"language-text\"><code class=\"language-text\">app.js?build=1\napp.js?build=2\n\n// hoáº·c\napp.js.2a6c1fee4b5b0d2c9285.js\napp.js.70b594fe8b07bcedaa98.js</code></pre>\n<p>Äá»ƒ lÃ m viá»‡c nÃ y, trong webpack chÃºng ta Ä‘áº·t config</p>\n<pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span><span class=\"token property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token spread operator\">...</span>\n    output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     filename<span class=\"token operator\">:</span> <span class=\"token string\">\"[name].[hash].js\"</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token spread operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>ğŸ¸ KhÃ¡c nhau giá»¯a hash vÃ  chunkhash?</em></p>\n<p>[hash] táº¡o ra má»™t id ngáº«u nhiÃªn cho tá»«ng láº§n build vÃ  sá»­ dá»¥ng cho táº¥t cáº£  chunk. Náº¿u thay [hash] báº±ng [chunkhash] nÃ³ sáº½ táº¡o ra má»—i chunk má»™t id ngáº«u nhiÃªn.</p>\n<p><em>ğŸ¸ MÃ´ táº£ CommonsChunk Plugin?</em></p>\n<p>LÃ  má»™t tÃ­nh nÄƒng cÃ³ sáºµn cá»§a webpack, cho phÃ©p táº¡o file riÃªng (gá»i lÃ  chunk) cho nhá»¯ng module dÃ¹ng chung. Há»— trá»£ caching vÃ  nÃ¢ng cao tá»‘c Ä‘á»™ load</p>\n<p><em>ğŸ¸Diá»…n giáº£i Ä‘oáº¡n code bÃªn dÆ°á»›i</em></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">webpack<span class=\"token punctuation\">.</span>ContextReplacementPlugin</span><span class=\"token punctuation\">(</span>\n     <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token language-regex\">moment<span class=\"token charset\"><span class=\"token charset-punctuation punctuation\">[</span><span class=\"token escape\">\\/</span><span class=\"token special-escape escape\">\\\\</span><span class=\"token charset-punctuation punctuation\">]</span></span>locale</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n     <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token language-regex\"><span class=\"token group punctuation\">(</span>en-gb<span class=\"token alternation keyword\">|</span>en-us<span class=\"token group punctuation\">)</span><span class=\"token special-escape escape\">\\.</span>js</span><span class=\"token regex-delimiter\">/</span></span>\n<span class=\"token punctuation\">)</span></code></pre>\n<p>BÃ¡o vá»›i webpack, chá»‰ include nhá»¯ng file cÃ³ tÃªn khá»›p vá»›i Ä‘iá»u kiá»‡n <code class=\"language-text\">/(en-gb|en-us)\\.js/</code>, trong Ä‘Æ°á»ng dáº«n <code class=\"language-text\">/moment[\\/\\\\]locale/</code> khi bundle</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ remove nhá»¯ng css selector khÃ´ng dÃ¹ng Ä‘áº¿n?</em></p>\n<p>DÃ¹ng plugin <a href=\"https://github.com/webpack-contrib/purifycss-webpack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">purifycss-webpack</a></p>\n","cover_image":""}},{"node":{"id":"4a83ae2c626a625e60998ef95d851361","title":"HÆ°á»›ng dáº«n webpack 4 cho ngÆ°á»i má»›i báº¯t Ä‘áº§u - Pháº§n 3","path":"/2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3/","date":"2018-05-28","timeToRead":4,"desc":"BÃ i nÃ y sáº½ nÃ³i Plugins, Development, HotModuleReplacement trong Webpack","content":"<p>Trong Series nÃ y\n1. <a href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\">Webpack lÃ  gÃ¬ vÃ  táº¡i sao ta pháº£i xÃ i nÃ³</a>\n2. <a href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\">DÃ¹ng Loaders, code slitting trong webpack</a>\n3. <a href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\">Plugins, Development Server</a></p>\n<!-- TOC -->\n<ul>\n<li><a href=\"#t%C3%A1ch-css\">TÃ¡ch CSS</a></li>\n<li><a href=\"#c%E1%BA%ADp-nh%E1%BA%ADp-html-t%E1%BB%B1-%C4%91%E1%BB%99ng\">Cáº­p nháº­p HTML tá»± Ä‘á»™ng</a></li>\n<li><a href=\"#development-server\">Development Server</a></li>\n<li><a href=\"#hotmodulereplacement\">HotModuleReplacement</a></li>\n</ul>\n<!-- /TOC -->\n<p>Trong khi loader sáº½ tiáº¿n hÃ nh transform tá»«ng file má»™t, <strong>plugins</strong> sáº½ tiáº¿n hÃ nh xá»­ lÃ½ trong tá»«ng Ä‘oáº¡n code</p>\n<p>Giá» chÃºng ta Ä‘Ã£ biáº¿t cÃ¡ch  bundle code, cÃ i thÃªm cÃ¡c module bá»• sung cho webpack, cÃ¡ch thÃªm cÃ¡c static asset, file bundle chÃºng ta sáº½ bá»± dáº§n bá»± dáº§n - khÃ´ng sá»›m thÃ¬ muá»™n thÃ´i. Plugins sáº½ giÃºp chÃºng ta tÃ¡ch pháº§n code má»™t cÃ¡ch thÃ´ng mÃ¬nh hÆ¡n, optimize hÆ¡n cho production</p>\n<p>Tháº­t ra ma nÃ³i, khi sá»­ dá»¥ng <code class=\"language-text\">mode</code> development/production trong webpack chÃºng ta Ä‘Ã£ sá»­ dá»¥ng ráº¥t nhiá»u plugin máº·c Ä‘á»‹nh trong webpack</p>\n<p><em>develoment</em></p>\n<ul>\n<li>lÃºc nÃ y giÃ¡ trá»‹ biáº¿n <code class=\"language-text\">process.env.NODE_ENV</code> sáº½ báº±ng 'development'</li>\n<li>dÃ¹ng NamedModulesPlugin</li>\n</ul>\n<p><em>production</em></p>\n<ul>\n<li><code class=\"language-text\">process.env.NODE_ENV</code> sáº½ báº±ng 'production'</li>\n<li>UglifyJsPlugin</li>\n<li>ModuleConcatenationPlugin</li>\n<li>NoEmitOnErrorsPlugin</li>\n</ul>\n<p>TrÆ°á»›c khi thÃªm má»™t sá»‘ plugin khÃ¡c, chÃºng ta sáº½ tÃ¡ch file config ra thÃ nh 2, Ä‘á»ƒ sau nÃ y chÃºng ta apply cÃ¡c plugin khÃ¡c nhau cho cÃ¡c mode cháº¡y khÃ¡c nhau</p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\"> webpack.config.js\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> webpack.common.js\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> webpack.dev.js\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> webpack.prod.js</span></span></code></pre>\n<p>CÃ i thÃªm plugin lÃ  <code class=\"language-text\">webpack-merge</code> Ä‘á»ƒ trá»™n file <em>webpack.common.js</em> vá»›i má»™t trong 2 file webpack.dev.js hoáº·c webpack.prod.js</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev webpack-merge</code></pre>\n<p><strong>webpack.dev.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> merge <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack-merge'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> common <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./webpack.common.js'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>common<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token operator\">:</span> <span class=\"token string\">'development'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>webpack.prod.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> merge <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack-merge'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> common <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./webpack.common.js'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>common<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token operator\">:</span> <span class=\"token string\">'production'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>package.json</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> \"scripts\": {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">    \"develop\": \"webpack --watch --mode development\",\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">    \"build\": \"webpack --mode production\"\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">    \"develop\": \"webpack --watch --config webpack.dev.js\",\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">    \"build\": \"webpack --config webpack.prod.js\"\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">  },</span></span></code></pre>\n<h2 id=\"tÃ¡ch-css\"><a href=\"#t%C3%A1ch-css\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>TÃ¡ch CSS</h2>\n<p>ChÃºng ta sáº½ tÃ¡ch ra CSS khi cháº¡y production báº±ng plugin lÃ  <code class=\"language-text\">ExtractTextWebpackPlugin</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev extract-text-webpack-plugin</code></pre>\n<p>Setup loader cho file .scss giá»¯ nguyÃªn cho development mode, chá»‰ thÃªm ExtractTextWebpackPlugin cho production</p>\n<p><strong>webpack.common.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   module: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">       {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">         use: [\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">             loader: 'style-loader'\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">             loader: 'css-loader'\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">             loader: 'sass-loader'\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           }\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">         ]\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">       },\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     ]\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p><strong>webpack.dev.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\">const merge = require('webpack-merge')\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const common = require('./webpack.common.js')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = merge(common, {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   mode: 'development',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'style-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'css-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'sass-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> })</span></span></code></pre>\n<p><strong>webpack.prod.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const merge = require('webpack-merge')\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const ExtractTextPlugin = require('extract-text-webpack-plugin')\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const common = require('./webpack.common.js')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = merge(common, {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   mode: 'production',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: ExtractTextPlugin.extract({\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           fallback: 'style-loader',\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           use: ['css-loader', 'sass-loader']\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         })\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   },\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   plugins: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new ExtractTextPlugin('style.css')\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   ]\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> })</span></span></code></pre>\n<p>Náº¿u cháº¡y <code class=\"language-text\">npm run build</code>, chÃºng ta cÃ³ 3 file</p>\n<ul>\n<li>chat.bundle.js</li>\n<li>app.bundle.js</li>\n<li>style.css</li>\n</ul>\n<h2 id=\"cáº­p-nháº­p-html-tá»±-Ä‘á»™ng\"><a href=\"#c%E1%BA%ADp-nh%E1%BA%ADp-html-t%E1%BB%B1-%C4%91%E1%BB%99ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cáº­p nháº­p HTML tá»± Ä‘á»™ng</h2>\n<p>Má»—i láº§n thay Ä‘á»•i chÃºng ta cá»© pháº£i tá»± tay chá»‰nh sá»­a file <code class=\"language-text\">index.html</code> thÃ¬ hÆ¡i lÆ°á»i. DÃ¹ng <code class=\"language-text\">html-webpack-plugin</code> Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a quÃ¡ trÃ¬nh nÃ y, Ä‘á»“ng thá»i cáº§n thÃªm <code class=\"language-text\">clean-webpack-plugin</code> Ä‘á»ƒ clear háº¿t thÆ° má»¥c <code class=\"language-text\">dist</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> instal --save-dev html-webpack-plugin clean-webpack-plugin</code></pre>\n<p><strong>webpack.common.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\">const path = require('path')\n<span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const CleanWebpackPlugin = require('clean-webpack-plugin');\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const HtmlWebpackPlugin = require('html-webpack-plugin');\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   plugins: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new CleanWebpackPlugin(['dist']),\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new HtmlWebpackPlugin({\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       title: 'My killer app'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     })\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   ]\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Giá» má»—i láº§n build, chÃºng ta xÃ³a háº¿t thÆ° má»¥c dist luÃ´n</p>\n<h2 id=\"development-server\"><a href=\"#development-server\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Development Server</h2>\n<p>Vá»›i <code class=\"language-text\">webpack-dev-server</code> cung cáº¥p cho chÃºng ta má»™t web server Ä‘Æ¡n giáº£n vá»›i tÃ­nh nÄƒng live reload ráº¥t ráº¥t lÃ  há»¯u Ã­ch luÃ´n máº¥y man</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev webpack-dev-server</code></pre>\n<p><strong>package.json</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   \"scripts\": {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">     \"develop\": \"webpack --watch --config webpack.dev.js\",\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"develop\": \"webpack-dev-server --config webpack.dev.js\",\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Giá» mÃ  cháº¡y <code class=\"language-text\">npm run develop</code> chÃºng ta sáº½ cÃ³ ngay server <a href=\"http://localhost:8080/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://localhost:8080/</a></p>\n<h2 id=\"hotmodulereplacement\"><a href=\"#hotmodulereplacement\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>HotModuleReplacement</h2>\n<p>Plugin <code class=\"language-text\">HotModuleReplacement</code> sáº½ nhá»‰nh hÆ¡n Live Reload má»™t chÃºt, thay vÃ¬ live reload trÃ¬nh duyá»‡t sáº½ tá»± Ä‘á»™ng refresh, chÃºng ta sáº½ tháº¥y nÃ³ load láº¡i toÃ n bá»™ trang khi cÃ³ thay Ä‘á»•i, cÃ²n HotModuleReplacement lÃ  nÃ³ swap nguyÃªn cÃ¡i module trong lÃºc Ä‘ang cháº¡y mÃ  khÃ´ng cáº§n refresh luÃ´n. Nhanh nhÆ° cÃ¡i chá»›p máº¯t váº­y. Náº¿u mÃ  cáº¥u hÃ¬nh Ä‘Ãºng, chÃºng ta tiáº¿t kiá»‡m Ä‘Æ°á»£c khá»‘i thá»i gian ngá»“i Ä‘á»£i load láº¡i trang.</p>\n<p><strong>webpack.dev.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const webpack = require('webpack')\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const merge = require('webpack-merge')\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const common = require('./webpack.common.js')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = merge(common, {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   mode: 'development',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   devServer: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     hot: true\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   },\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   plugins: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new webpack.HotModuleReplacementPlugin()\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   ],\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Cho phÃ©p swap module trong app</p>\n<p><strong>src/app.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> if (module.hot) {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module.hot.accept()\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> }\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> ...</span></span></code></pre>\n<p><code class=\"language-text\">module.hot</code> sáº½ cÃ³ giÃ¡ trá»‹ lÃ  <code class=\"language-text\">true</code> trong mode development vÃ  <code class=\"language-text\">false</code> trong production.</p>\n<p><a href=\"https://www.sitepoint.com/beginners-guide-webpack-module-bundling/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Link bÃ i gá»‘c</a>\nTÃ¡c giáº£: Mark Brown</p>\n<p>Chá»‰nh sá»­a theo sá»± hiá»ƒu cá»§a mÃ¬nh má»™t tÃ­</p>\n","cover_image":""}},{"node":{"id":"d27c82957cc1511533f17ea33a445b6a","title":"HÆ°á»›ng dáº«n webpack 4 cho ngÆ°á»i má»›i báº¯t Ä‘áº§u - Pháº§n 2","path":"/2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau/","date":"2018-05-27","timeToRead":4,"desc":"Pháº§n 2 trong series vá» webpack, mÃ¬nh sáº½ nÃ³i vá» code slitting, loaders","content":"<p>Trong Series nÃ y</p>\n<ol>\n<li><a href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\">Webpack lÃ  gÃ¬ vÃ  táº¡i sao ta pháº£i xÃ i nÃ³</a></li>\n<li><a href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\">DÃ¹ng Loaders, code slitting trong webpack</a></li>\n<li><a href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\">Plugins, Development Server</a></li>\n</ol>\n<!-- TOC -->\n<ul>\n<li><a href=\"#loaders\">Loaders</a></li>\n<li><a href=\"#babel-loader\">Babel Loader</a></li>\n<li><a href=\"#sass-loader\">SASS Loader</a></li>\n<li><a href=\"#image\">Image</a></li>\n<li><a href=\"#code-splitting\">Code splitting</a></li>\n</ul>\n<!-- /TOC -->\n<p>ChÃºng ta má»Ÿ láº¡i file <strong>package.json</strong>, sá»­a láº¡i chÃºt</p>\n<pre class=\"language-diff\"><code class=\"language-diff\">{\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   \"scripts\": {\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"develop\": \"webpack --mode development --watch\",\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"build\": \"webpack --mode production\"\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   },\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span></span>}</code></pre>\n<p>Vá»›i cÃ¡ch setup nÃ y, chá»‰ cáº§n cháº¡y <code class=\"language-text\">npm run develop</code> chÃºng ta sáº½ cháº¡y webpack á»Ÿ development mode vÃ  báº­t tÃ­nh nÄƒng detect thay Ä‘á»•i Ä‘á»ƒ cháº¡y láº¡i.</p>\n<p>Khi cháº¡y <code class=\"language-text\">npm run build</code> chÃºng ta sáº½ cháº¡y webpack á»Ÿ mode production, khi cháº¡y á»Ÿ mode nÃ y code sáº½ Ä‘Æ°á»£c minified láº¡i báº±ng Uglify JS, size nhá» hÆ¡n khi cháº¡y dev mode.</p>\n<h1 id=\"loaders\"><a href=\"#loaders\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Loaders</h1>\n<p>Loaders lÃ  gÃ¬? loaders lÃ  nhá»¯ng thÆ° viá»‡n sáº½ can thiá»‡p trÆ°á»›c lÃºc chÃºng ta import file, nÃ³ cho phÃ©p webpack má»Ÿ rá»™ng kháº£ nÄƒng khÃ´ng chá»‰ cÃ²n lÃ  bundle javascript thÃ´i, mÃ  cáº£ nhá»¯ng static resource khÃ¡c, nhÆ° css, image, svg, ...</p>\n<h1 id=\"babel-loader\"><a href=\"#babel-loader\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Babel Loader</h1>\n<p>Thá»i Ä‘iá»ƒm hiá»‡n táº¡i cháº¯c ai cÅ©ng viáº¿t JS kiá»ƒu má»›i, Ä‘á»ƒ transpile cÃ¡i ES6 mÃ  ta viáº¿t, chÃºng ta sáº½ cáº§n <code class=\"language-text\">babel-loader</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev babel-loader  @babel/core @babel/preset-env</code></pre>\n<p>Má»Ÿ láº¡i file <strong>webpack.config.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\">const path = require('path')\n\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   entry: './src/index.js',\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   output: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     filename: 'bundle.js',\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     path: path.resolve(__dirname, 'dist')\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   },\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.js$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         exclude: /(node_modules|bower_components)/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'babel-loader',\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Äá»ƒ cáº¥u hÃ¬nh cÃ¡ch transpile cá»§a babel, chÃºng ta add thÃªm file <code class=\"language-text\">.babelrc</code> vÃ o cÃ¹ng thÆ° má»¥c vá»›i <strong>webpack.config.js</strong></p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/env\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"modules\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"syntax-dynamic-import\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Äoáº¡n trÃªn chÃºng ta Ä‘ang cáº¥u hÃ¬nh Ä‘á»ƒ khi Babel transpile, nÃ³ khÃ´ng Ä‘á»•i cÃ¢u <code class=\"language-text\">import</code> vÃ  <code class=\"language-text\">export</code> vá» ES5 vÃ  cho phÃ©p import linh Ä‘á»™ng, sau nÃ y dÃ¹ng Ä‘áº¿n trong pháº§n slitting code</p>\n<p>Giá» thÃ¬ cá»© vÃ´ tÆ° viáº¿t ES6 nhÃ©, vÃ¬ khi bundle, webpack sáº½ transpile code cá»§a chÃºng vá» thÃ nh ES5</p>\n<h1 id=\"sass-loader\"><a href=\"#sass-loader\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>SASS Loader</h1>\n<p>TrÆ°á»›c tiÃªn cÃ i má»™t sá»‘ package Ä‘á»ƒ lÃ m viá»‡c vá»›i SASS</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev style-loader css-loader sass-loader node-sass</code></pre>\n<p><strong>webpack.config.js</strong></p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   module: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: [{\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'style-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'css-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'sass-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     ]\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Máº¥y cÃ¡i loader nÃ y sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n theo thá»© tá»±</p>\n<ul>\n<li><code class=\"language-text\">sass-loader</code> transforms Sass thÃ nh CSS.</li>\n<li><code class=\"language-text\">css-loader</code> parses CSS vÃ o JavaScript vÃ  resolve dependencies.</li>\n<li><code class=\"language-text\">style-loader</code> chÃ¨n CSS vÃ o bÃªn trong tháº» <code class=\"language-text\">&lt;style&gt;</code></li>\n</ul>\n<p>CÃ³ thá»ƒ hÃ¬nh dung nÃ³ nhÆ° má»™t function vá»›i callback lÃ  má»™t function khÃ¡c</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">styleLoader</span><span class=\"token punctuation\">(</span><span class=\"token function\">cssLoader</span><span class=\"token punctuation\">(</span><span class=\"token function\">sassLoader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"source\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Sau khi cáº¥u hÃ¬nh nhÆ° váº­y chÃºng ta cÃ³ thá»ƒ import file  <code class=\"language-text\">.scss</code> bÃªn trong file javascript</p>\n<pre class=\"language-diff\"><code class=\"language-diff\">import { groupBy } from 'lodash-es'\nimport people from './people'\n\n<span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> import './style.scss'\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> ...</span></span></code></pre>\n<p>Táº¡i sao chÃºng ta láº¡i Ä‘i import CSS vÃ o trong file js? Náº¿u báº¡n thá»i ká»³ trÆ°á»›c viá»‡c chÃ¨n háº§m bÃ  láº±ng kiá»ƒu nÃ y lÃ  cá»±c ká»³ bá»‹ lÃªn Ã¡n, nhÆ°ng bÃ¢y giá» thá»i tháº¿ khÃ¡c, má»™t sá»‘ lÃ½ do Ä‘á»ƒ trá»n CSS vÃ o trong js trong development</p>\n<ul>\n<li>Má»™t component javascript sáº½ cÃ³ thá»ƒ phá»¥ thuá»™c vÃ o CSS, images, SVG. Náº¿u Ä‘Æ°á»£c Ä‘Ã³ng gÃ³i thÃ nh 1 cá»¥c, chÃºng ta dá»… mang nÃ³ sá»­ dá»¥ng á»Ÿ nÆ¡i khÃ¡c hÆ¡n</li>\n<li>Náº¿u chÃºng ta khÃ´ng sá»­ dá»¥ng component, Ä‘oáº¡n css import trong component cÅ©ng sáº½ khÃ´ng Ä‘Æ°á»£c import luÃ´n, trÃ¡nh nhá»¯ng viá»‡c load css á»Ÿ táº¥t cáº£</li>\n<li>TrÆ°á»›c Ä‘Ã¢y náº¿u dÃ¹ng OOP trong CSS, viá»‡c chá»‰nh sá»­a má»™t Ä‘oáº¡n css sáº½ dá»… bá»‹ side effect, áº£nh hÆ°á»›ng Ä‘áº¿n nhá»¯ng chá»• ta khÃ´ng mong muá»‘n. CSS module Ä‘á»ƒ CSS chá»‰ hoáº¡t Ä‘á»™ng local thÃ´i</li>\n<li>Giáº£m sá»‘ lÆ°á»£ng HTTP request xuá»‘ng</li>\n</ul>\n<h1 id=\"image\"><a href=\"#image\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Image</h1>\n<p>DÃ¹ng <code class=\"language-text\">file-loader</code> Ä‘á»ƒ Ä‘á»c file image. Vá»›i HTML chuáº©n, image Ä‘Æ°á»£c sá»­ dá»¥ng báº±ng 2 cÃ¡ch lÃ  dÃ¹ng tag <code class=\"language-text\">img</code> hoáº·c thuá»™c tÃ­nh <code class=\"language-text\">background-image</code>. Vá»›i Webpack, chÃºng ta cÃ³ thá»ƒ optimize cho trÆ°á»ng há»£p dung lÆ°á»£ng image vá»›i kÃ­ch thÆ°á»›c nhá» thÃ nh dáº¡ng <code class=\"language-text\">string</code> bÃªn trong javascript luÃ´n. LÃºc nÃ y trÃ¬nh duyá»‡t khÃ´ng cáº§n load riÃªng file image ná»¯a</p>\n<p>CÃ i cÃ¡i loader</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">nmp <span class=\"token function\">install</span> --save-dev file-loader</code></pre>\n<p>webpack.config.js</p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   module: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.(png|svg|jpg|gif)$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'file-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     ]\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Trong lÃºc code chÃºng ta váº«n viáº¿t bÃ¬nh thÆ°á»ng</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword module\">import</span> codeURL <span class=\"token keyword module\">from</span> <span class=\"token string\">'./code.png'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token spread operator\">...</span>\n<span class=\"token method function property-access\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>codeURL<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token spread operator\">...</span></code></pre>\n<p>Káº¿t quáº£ bundle</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data:image/png;base64,iVBO...<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p>CÃ³ thá»ƒ Ä‘á»c thÃªm trÃªn docs cá»§a <code class=\"language-text\">file-loader</code> Ä‘á»ƒ xem cÃ¡ch chá»‰nh kÃ­ch thÆ°á»›c nÃ o thÃ¬ chuyá»ƒn ná»™i dung áº£nh thÃ nh data URI. File loader cÃ²n thá»ƒ thá»ƒ xá»­ lÃ½ trÃªn má»™t sá»‘ dáº¡ng file khÃ¡c ná»¯a, chá»© khÃ´ng chá»‰ lÃ  hÃ¬nh thÃ´i khÃ´ng.</p>\n<h1 id=\"code-splitting\"><a href=\"#code-splitting\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Code splitting</h1>\n<p>TrÃ­ch tá»« trang chá»§ webpack</p>\n<blockquote>\n<p>Code splitting lÃ  má»™t trong nhá»¯ng tÃ­nh nÄƒng háº¥p dáº«n nháº¥t cá»§a Webpack. TÃ­nh nÄƒng nÃ y cho phÃ©p báº¡n tÃ¡ch code ra thÃ nh nhiá»u file bundle Ä‘á»ƒ load khi cáº§n thiáº¿t hoáº·c load song song. CÃ¡i nÃ y cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ giáº£m kÃ­ch thÆ°á»›c file bundle vÃ  kiá»ƒm soÃ¡t Ä‘Æ°á»£c load resource há»£p lÃ½ hÆ¡n, náº¿u sá»­ dá»¥ng Ä‘Ãºng cÃ¡ch, sáº½ giáº£m Ä‘áº£ng ká»ƒ thá»i gian load trang</p>\n</blockquote>\n<p>TrÆ°á»›c giá» chÃºng ta chá»‰ setup Ä‘á»ƒ bundle ra 1 file duy nháº¥t tá»« <code class=\"language-text\">src/index.js</code> ra file <code class=\"language-text\">dist/bundle.js</code>. Khi á»©ng dÃºng phÃ¬nh ra, chÃºng ta cáº§n tÃ¡ch code ra thÃ nh nhiá»u file, toÃ n bá»™ code Ä‘áº§u cáº§n pháº£i load háº¿t ngay tá»« Ä‘áº§u Ä‘Ã¢u nhá»‰? DÃ¹ng <a href=\"https://webpack.js.org/guides/code-splitting/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code Slitting</a> vÃ  <a href=\"https://webpack.js.org/guides/lazy-loading/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Lazy Loading</a> Ä‘á»ƒ chá»‰ load khi cáº§n.</p>\n<pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">  const path = require('path')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">   entry: './src/index.js',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   entry: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     app: './src/app.js'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   },\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   output: {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">     filename: 'bundle.js',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">     filename: '[name].bundle.js',\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     path: path.resolve(__dirname, 'dist')\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   },\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre>\n<p>Vá»›i setup nhÆ° tháº¿ nÃ y, náº¿u chÃºng ta cÃ³ 2 file trong thÆ° má»¥c <code class=\"language-text\">src</code> lÃ  <code class=\"language-text\">app.js</code> vÃ  <code class=\"language-text\">chat.js</code>, webpack sáº½ bundle ra 2 file <code class=\"language-text\">chat.bundle.js</code>, <code class=\"language-text\">app.bundle.js</code></p>\n<p>BÃ i sau nÃ³i tiáº¿p plugins nhÃ©, káº¿t thÃºc vá»›i loaders á»Ÿ Ä‘Ã¢y</p>\n<p><a href=\"https://www.sitepoint.com/beginners-guide-webpack-module-bundling/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Link bÃ i gá»‘c</a>\nTÃ¡c giáº£: Mark Brown</p>\n<p>Chá»‰nh sá»­a theo sá»± hiá»ƒu cá»§a mÃ¬nh má»™t tÃ­</p>\n","cover_image":""}},{"node":{"id":"d7b36cee9f03beb7e7cdabdbd9c22600","title":"Webpack lÃ  gÃ¬ vÃ  táº¡i sao ta pháº£i xÃ i nÃ³","path":"/2018-05-25-huong-dan-viet-code-javascript-tot-hon-voi-webpack/","date":"2018-05-25","timeToRead":4,"desc":"BÃ i nÃ y sáº½ nÃ³i rÃµ táº¡i sao Webpack lÃ  sá»± lá»±a chá»n sÃ¡ng suá»‘t cho bundle javascript","content":"<h1 id=\"trong-series-nÃ y\"><a href=\"#trong-series-n%C3%A0y\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Trong Series nÃ y</h1>\n<ol>\n<li><a href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\">Webpack lÃ  gÃ¬ vÃ  táº¡i sao ta pháº£i xÃ i nÃ³</a></li>\n<li><a href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\">DÃ¹ng Loaders, code slitting trong webpack</a></li>\n<li><a href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\">Plugins, Development Server</a></li>\n</ol>\n<!-- TOC -->\n<ul>\n<li>\n<p><a href=\"#trong-series-n%C3%A0y\">Trong Series nÃ y</a></p>\n<ul>\n<li>\n<p><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81\">Váº¥n Ä‘á»</a></p>\n<ul>\n<li><a href=\"#c%C3%A1ch-t%E1%BB%91t-h%C6%A1n\">CÃ¡ch tá»‘t hÆ¡n</a></li>\n</ul>\n</li>\n<li><a href=\"#webpack-vs-gulp\">Webpack vs. Gulp</a></li>\n<li><a href=\"#vi%E1%BA%BFt-code-module\">Viáº¿t code Module</a></li>\n<li><a href=\"#c%E1%BA%A5u-h%C3%ACnh-webpack\">Cáº¥u hÃ¬nh Webpack</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"váº¥n-Ä‘á»\"><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Váº¥n Ä‘á»</h2>\n<p>Viáº¿t code client-side náº¿u khÃ´ng cÃ³ cÃ¡c cÃ´ng cá»¥ há»— trá»£ thÃ¬ trÆ°á»›c sau vÃ¬ cÅ©ng giá»‘ng nhÆ° Ä‘á»‘ng há»—n Ä‘á»™n trÃªn desktop, Ä‘á»ƒ maintain vÃ  ngÆ°á»i khÃ¡c cÃ³ thá»ƒ vÃ o Ä‘á»c hiá»ƒu Ä‘Æ°á»£c thÃ¬ viá»‡c code Ä‘Æ°á»£c tá»• chá»©c tá»‘t lÃ  Ä‘iá»u ai cÅ©ng biáº¿t, lÃ½ thuyáº¿t lÃ  tháº¿, nhÆ°ng náº¿u cá»© lÃ m viá»‡c theo kiá»ƒu cÅ© cá»© quÄƒng script trÃ ng lan báº±ng tháº» <code class=\"language-text\">&lt;script&gt;</code> sáº½ cháº³ng dá»… gÃ¬ sáº¯p xáº¿p vÃ  nhá»› ná»•i cÃ¡i nÃ o lÃ  cÃ¡i nÃ o náº¿u, add thÃªm cá»¡ chá»¥c files, <em>best practice</em> khuyÃªn ráº±ng háº¡n cháº¿ sá»‘ lÆ°á»£ng file script cÃ ng Ã­t cÃ ng tá»‘t, tá»‘t nháº¥t lÃ  1 file duy nháº¥t.</p>\n<p>TrÆ°á»›c Ä‘Ã¢y cÃ³ nhiá»u giáº£i phÃ¡p cho váº¥n Ä‘á» nhÆ° lÃ  Gulp, dÃ¹ng Ä‘á»ƒ bunch toÃ n bá»™ javascript thÃ nh 1 file. NhÆ°ng chÆ°a Ä‘á»§. Vá»›i Gulp chÃºng ta Ä‘Ã£ Ä‘áº©y cÃ¡c dependency ngang hÃ ng nhau, vÃ  phá»¥ thuá»™c vÃ o biáº¿n global Ä‘á»ƒ chia sáº½ dá»¯ liá»‡u giá»¯a cÃ¡c files.</p>\n<h3 id=\"cÃ¡ch-tá»‘t-hÆ¡n\"><a href=\"#c%C3%A1ch-t%E1%BB%91t-h%C6%A1n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CÃ¡ch tá»‘t hÆ¡n</h3>\n<p>Náº¿u trÆ°á»›c Ä‘Ã¢y chÆ°a tá»«ng sá»­ dá»¥ng máº¥y cÃ¡i tool Ä‘á»ƒ quáº£n lÃ½ asset á»Ÿ frontend, tá»‘t nháº¥t lÃ  há»c luÃ´n Webpack, bá» qua Gulp, Gruntjs luÃ´n. CÃ²n náº¿u náº¿u Ä‘Ã£ tá»«ng dÃ¹ng máº¥y task runner kiá»ƒu Gulp, Gruntjs, thÃ¬ chuyá»ƒn qua dÃ¹ng webpack cÅ©ng khÃ´ng khÃ³ khÄƒn láº¯m, chá»‰ lÃ  khÃ¡c nhau cÃ¡ch tá»• chá»©c vÃ  quáº£n lÃ½ dependency.</p>\n<h2 id=\"webpack-vs-gulp\"><a href=\"#webpack-vs-gulp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Webpack vs. Gulp</h2>\n<p>Cháº¯c Ä‘Ã£ tá»«ng nghe tá»›i cÃ¢u nÃ y: <strong>Gulp lÃ  task runner, Webpack lÃ  module bundler</strong>, Ã½ nhÄ©a tháº­t sá»± sau cÃ¢u nÃ y lÃ  gÃ¬?</p>\n<p>Gulp lÃ  cÃ´ng cá»¥ tá»± Ä‘á»™ng hÃ³a tá»‘t, cho phÃ©p chÃºng ta setup má»™t má»› cÃ¡c tiáº¿n trÃ¬nh phá»©c táº¡p cáº§n thá»±c hiá»‡n (má»™t cÃ¡ch tá»± Ä‘á»™ng) báº±ng javascript, rá»“i cháº¡y nÃ³ báº±ng má»™t lá»‡nh duy nháº¥t. Váº¥n Ä‘á» vá»›i Gulp lÃ  náº¿u code file A depend vÃ o code á»Ÿ file B, báº¡n cáº§n bÃ¡o cÃ¡o vá»›i Gulp Ä‘á»ƒ nÃ³ include file A trÆ°á»›c, vÃ  khi báº¡n thÃªm cÃ ng lÃºc cÃ ng nhiá»u file depend chá»“ng chÃ©o kiá»ƒu nÃ y, cÃ¢y dependency lÃ  lá»›n dáº§n, vÃ  sáº½ gáº§n nhÆ° khÃ´ng thá»ƒ maintain Ä‘Æ°á»£c ná»¯a, vÃ¬ chÃºng ta pháº£i config báº±ng tay, náº¿u sá»­ dá»¥ng file manifest vá»›i plugin <code class=\"language-text\">asset-builder</code> cÅ©ng khÃ´ng thá»ƒ cá»©u vÃ£n.</p>\n<p><img src=\"https://res.cloudinary.com/forestry-demo/image/fetch/c_limit,dpr_auto,f_auto,q_80,w_674/https://forestry.io/uploads/2018/03/webpack_fighter_of_the_gulpstack_champion_of_the_bundle.png\"></p>\n<p>BÃ i toÃ¡n dependency nÃ y Ä‘Ã£ Ä‘Æ°á»£c Webpack giáº£i quyáº¿t triá»‡t Ä‘á»ƒ. Nhá»¯ng gÃ¬ báº¡n cáº§n lÃ m lÃ  bÃ¡o vá»›i Webpack file <strong>entry</strong> point mÃ¬nh cáº§n bundle lÃ  gÃ¬, chuyá»‡n báº¡n <em>import module</em> lÃºc code sáº½ do webpack Ä‘áº£m nhiá»‡m chuyá»‡n dá»±ng lÃªn dependency graph, webpack sáº½ bundle cho báº¡n 1 file duy nháº¥t báº¡n cáº§n. ChÃºng ta khá»i pháº£i bÃ¡o cÃ¡o vá»›i webpack thá»© tá»± cÃ¡c file nÃ o cáº§n trÆ°á»›c hay sau, Ä‘á»ƒ Ä‘Ã³ Webpack lo!</p>\n<p>Ngáº¯n gá»n lÃ : vá»›i Gulp dependency bá»‹ giá»›i háº¡n vÃ¬ nÃ³ yÃªu cáº§u mÃ¬nh tá»± chá»‰ Ä‘á»‹nh sá»± phá»¥ thuá»™c, Webpack thÃ¬ nÃ³ dÃ¹ng logic Ä‘á»ƒ tÃ­nh toÃ¡n rá»“i bundle Ä‘Ãºng thá»© tá»±.</p>\n<h2 id=\"viáº¿t-code-module\"><a href=\"#vi%E1%BA%BFt-code-module\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Viáº¿t code Module</h2>\n<p>Äá»ƒ Webpack hoáº¡t Ä‘á»™ng nhÆ° phÃ©p mÃ u nhÆ° váº­y, chÃºng ta chá»‰ cáº§n viáº¿t javascript cá»§a mÃ¬nh dáº¡ng <em>module</em>. Viáº¿t module trong javascript lÃ  tÃ¡ch cÃ¡c file ra thÃ nh nhiá»u file, viá»‡c sá»­ dá»¥ng code giá»¯a cÃ¡c file sáº½ thá»±c hiá»‡n báº±ng <strong>export</strong> vÃ  <strong>import</strong></p>\n<p>Webpack há»— trá»£ 2 chuáº©n module hÃ³a hiá»‡n giá» lÃ  <strong>EcmaScript</strong> vÃ   <strong>CommonJS</strong>. VÃ­ dá»¥ bÃªn dÆ°á»›i Ä‘á»ƒ hÃ¬nh dung cÃ¡ch viáº¿t module trong file <code class=\"language-text\">hello.js</code> rá»“i <strong>import</strong> vÃ o trong file <code class=\"language-text\">app.js</code> báº±ng cáº£ 2 kiá»ƒu viáº¿t EcmaScript vÃ  CommonJS</p>\n<p>Viáº¿t kiá»ƒu <strong>EcmaScript</strong></p>\n<p><strong>hello.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello Binh An!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>app.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span>hello<span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'./hello'</span>\n<span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Viáº¿t kiá»ƒu <strong>CommonJS</strong></p>\n<p><strong>hello.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello BÃ¬nh An!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><strong>app.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> hello <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./hello'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"cáº¥u-hÃ¬nh-webpack\"><a href=\"#c%E1%BA%A5u-h%C3%ACnh-webpack\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cáº¥u hÃ¬nh Webpack</h2>\n<p>Má»™t Ä‘iá»ƒm hay cá»§a webpack lÃ  náº¿u cÃ³ ai Ä‘Ã³ Ä‘Ã£ config rá»“i thÃ¬ nhá»¯ng ngÆ°á»i sau khÃ´ng cáº§n pháº£i vÃ o file config Ä‘á»ƒ hiá»ƒu cÃ¡ch tá»• chá»©c code, chá»‰ cáº§n hiá»ƒu Ä‘Æ°á»£c cÃ¡ch tá»• chá»©c code cá»§a project.</p>\n<p>Giá» thá»­ config Ä‘Æ¡n giáº£n nháº¥t Ä‘á»ƒ hiá»ƒu má»™t sá»‘ thÃ nh pháº§n quan trá»ng nháº¥t cá»§a webpack</p>\n<p>Tá»• chá»©c project nhÆ° váº§y</p>\n<pre class=\"language-basic\"><code class=\"language-basic\">src<span class=\"token operator\">/</span>\n    app.js\nwebpack.config.js</code></pre>\n<p>Máº·t Ä‘á»‹nh Webpack sáº½ tÃ¬m file config vá»›i tÃªn lÃ  <strong>webpack.config.js</strong>. Tiáº¿p chÃºng ta cáº§n cÃ i <strong>webpack</strong> vÃ  <strong>webpack-cli</strong></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> init -y\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev webpack webpack-cli</code></pre>\n<p>Trong file <strong>webpack.config.js</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmodule<span class=\"token punctuation\">.</span><span class=\"token property-access\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    entry<span class=\"token operator\">:</span> <span class=\"token string\">'./src/app.js'</span><span class=\"token punctuation\">,</span>\n    output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'dist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        filename<span class=\"token operator\">:</span> <span class=\"token string\">'bundle.js'</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>2 pháº§n quan trá»ng nháº¥t mÃ  pháº£i biáº¿t lÃ  <strong>entry</strong> - file source náº±m á»Ÿ Ä‘Ã¢u vÃ  <strong>output</strong> - file sáº½ bundle á»Ÿ Ä‘Ã¢u. Sá»­ dá»¥ng module <code class=\"language-text\">path</code> Ä‘á»ƒ biáº¿t vá»‹ trÃ­ thá»±c táº¿ lÃºc cháº¡y.</p>\n<p>Cháº¡y CLI Ä‘á»ƒ bundle</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">./node_modules/webpack-cli/bin/webpack.js</code></pre>\n<p>NÃ³ sáº½ Ä‘á»c source trong file <code class=\"language-text\">src/app.js</code> rá»“i compile vÃ o <code class=\"language-text\">dist/bundle.js</code>. ThÆ° má»¥c sau khi cháº¡y xong sáº½ cÃ³</p>\n<pre class=\"language-basic\"><code class=\"language-basic\">dist<span class=\"token operator\">/</span>\n    bundle.js\nsrc<span class=\"token operator\">/</span>\n    app.js\npackage.json\nwebpack.config.js</code></pre>\n<p>Äá»ƒ rÃºt cháº¡y Ä‘oáº¡n CLI dÃ i ngoáº±n <code class=\"language-text\">./node_modules/webpack-cli/bin/webpack.js</code> cÃ³ thá»ƒ thÃªm má»™t custom script trong file <strong>package.json</strong>. Báº¡n cÃ³ thá»ƒ cháº¡y nÃ³ báº±ng <code class=\"language-text\">npm run SCRIPT_NAME</code></p>\n<p>ThÃªm vÃ o trong <strong>package.json</strong></p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>    \n    <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./node_modules/webpack-cli/bin/webpack.js\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"watch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./node_modules/webpack-cli/bin/webpack.js --watch\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Giá» chÃºng ta cÃ³ thá»ƒ cháº¡y báº±ng lá»‡nh <code class=\"language-text\">npm run build</code>, á»Ÿ trÃªn chÃºng ta cÅ©ng vá»«a thÃªm Ä‘oáº¡n <code class=\"language-text\">npm run watch</code>, thÃªm option <code class=\"language-text\">--watch</code> Ä‘á»ƒ khi cÃ³ báº¥t ká»³ thay Ä‘á»•i nÃ o nÃ³ sáº½ tá»± Ä‘á»™ng detect vÃ  compile láº¡i.</p>\n<p>!!!! CUNG Há»¶ !!!!!</p>\n<p>Báº¡n Ä‘Ã£ cháº¡m Ä‘Æ°á»£c vÃ o cÃ¡nh cá»­a Ä‘áº§u tiÃªn cá»§a webpack, webpack cÃ²n nhiá»u kháº£ nÄƒng ná»¯a, tuy nhiÃªn module bundle lÃ  core feature, bÃ i tiáº¿p theo chÃºng ta sáº½ khÃ¡m phÃ¡ nhiá»u hÆ¡n nhÆ° loaders, plugins, development server.</p>\n<p><a href=\"2017-10-18-import-va-export-trong-javascript\">TÃ¬m hiá»ƒu thÃªm vá» import vÃ  export</a></p>\n<p><a href=\"https://forestry.io/blog/write-better-javascript-with-webpack/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Link bÃ i gá»‘c</a></p>\n<p>TÃ¡c giáº£: DJ Walker</p>\n","cover_image":""}},{"node":{"id":"936bd0d7d301376494576278881f51ac","title":"Sá»­ dá»¥ng biáº¿n Node Environment","path":"/2018-03-09-huong-dan-su-dung-bien-enviroment-nhu-the-nao/","date":"2018-03-09","timeToRead":2,"desc":"Biáº¿n environment lÃ  má»™t pháº§n cÆ¡ báº£n cáº§n biáº¿t khi lÃ m viá»‡c vá»›i Node","content":"<p>Khi nháº¯c Ä‘áº¿n thuáº­t ngá»¯ \"Environment Variable\" lÃ  nghÄ© ngay tá»›i viá»‡c thiáº¿t Ä‘áº·t biáº¿n nÃ y cho thÆ° má»¥c Java Home trong windows</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*NWeRct1eJ16rAmEaabKV7A.png\"></p>\n<p>Tháº­t ra khÃ´ng liÃªn quan gÃ¬ Ä‘Ã¢u nhÃ¡</p>\n<p>Trong Node, biáº¿n Environment lÃ  má»™t biáº¿n global, thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh <code class=\"language-text\">process</code> nÃ o muá»‘n cháº¡y. VÃ­ dá»¥, khi cháº¡y má»™t á»©ng dá»¥ng web, ta sáº½ cÃ³ cÃ¡c biáº¿n <strong>Environment</strong> sau:</p>\n<ul>\n<li>Port</li>\n<li>Database connection string</li>\n</ul>\n<p>Náº¿u Ä‘Ã£ tá»«ng lÃ m viá»‡c vá»›i .Net, cháº¯c sáº½ biáº¿t tá»›i file <code class=\"language-text\">web.config</code>. Biáº¿n Environment lÃ m viá»‡c i nhÆ° cÃ¡c thiáº¿t Ä‘áº·t trong <code class=\"language-text\">web.config</code></p>\n<p>áº¢nh vui nha</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*v9l07sac43rmP-FAXxmwkw.png\"></p>\n<h1 id=\"set-giÃ¡-trá»‹-báº±ng-terminal\"><a href=\"#set-gi%C3%A1-tr%E1%BB%8B-b%E1%BA%B1ng-terminal\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Set giÃ¡ trá»‹ báº±ng terminal</h1>\n<p>ThÃ­ dá»¥ ta set giÃ¡ trá»‹ cá»§a <code class=\"language-text\">PORT</code> </p>\n<pre class=\"language-text\"><code class=\"language-text\">PORT=6060 NODE_ENV=production webpack</code></pre>\n<p>Giá» lÃºc code, ta gá»i cÃ¡i biáº¿n nÃ y ra báº±ng cÃ¡ch</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> port <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PORT</span></code></pre>\n<p>KhÃ´ng pháº£i lÃºc nÃ o set giÃ¡ trá»‹ cá»§a biáº¿n <code class=\"language-text\">env</code> báº±ng terminal, vÃ­ dá»¥ connection string thÃ¬ khÃ´ng ai Ä‘Æ°a vÃ o báº±ng terminal</p>\n<pre class=\"language-text\"><code class=\"language-text\">PORT=65534 DB_CONN=&quot;mongodb://react-cosmos-db:swQOhAsVjfHx3Q9VXh29T9U8xQNVGQ78lEQaL6yMNq3rOSA1WhUXHTOcmDf38Q8rg14NHtQLcUuMA==@react-cosmos-db.documents.azure.com:19373/?ssl=true&amp;replicaSet=globaldb&quot; SECRET_KEY=b6264fca-8adf-457f-a94f-5a4b0d1ca2b9</code></pre>\n<h1 id=\"set-giÃ¡-trá»‹-báº±ng-file-env\"><a href=\"#set-gi%C3%A1-tr%E1%BB%8B-b%E1%BA%B1ng-file-env\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Set giÃ¡ trá»‹ báº±ng file <code class=\"language-text\">.env</code></h1>\n<p>Táº¡o ra má»™t cÃ¡i file <code class=\"language-text\">.env</code> trong cÃ¹ng thÆ° má»¥c project, khai bÃ¡o má»› biáº¿n environment á»Ÿ Ä‘Ã¢y</p>\n<pre class=\"language-text\"><code class=\"language-text\">PORT=65534\n\nDB_CONN=&quot;mongodb://react-cosmos-db:swQOhAsVjfHx3Q9VXh29T9U8xQNVGQ78lEQaL6yMNq3rOSA1WhUXHTOcmDf38Q8rg14NHtQLcUuMA==@react-cosmos-db.documents.azure.com:10255/?ssl=true&amp;replicaSet=globaldb&quot;\n\nSECRET_KEY=&quot;b6264fca-8adf-457f-a94f-5a4b0d1ca2b9&quot;</code></pre>\n<p>Äá»ƒ Ä‘á»c Ä‘Æ°á»£c giÃ¡ trá»‹ nÃ y, cÃ³ ráº¥t nhiá»u cÃ¡ch, mÃ  cÃ¡ch nÃ o thÃ¬ cÅ©ng pháº£i cÃ¡i thÃªm package!, dÃ¹ng package dá»… nháº¥t lÃ  <code class=\"language-text\">dotenv</code></p>\n<pre class=\"language-text\"><code class=\"language-text\">npm install dotenv --save</code></pre>\n<p>Viá»‡c sá»­ dá»¥ng háº¿t sá»©c Ä‘Æ¡n giáº£n nhÆ° sau</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dotenv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> <span class=\"token maybe-class-name\">MongoClient</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mÃ´ngdb'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token property-access\"><span class=\"token maybe-class-name\">MongoClient</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token maybe-class-name\">MongoClient</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">connect</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">DB_CONN</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> db</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"We are connected\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<blockquote>\n<p>LÆ°u Ã½ Ä‘á»«ng check in file <code class=\"language-text\">.env</code> nÃ y lÃªn github, náº¿u checkin lÃªn Github sáº½ bÃ¡o ngay tá»›i email lÃ  viá»‡c lÃ m nÃ y háº¿t sá»©c nguy háº¡i tá»›i sá»± 'riÃªng tÆ°'!</p>\n</blockquote>\n<h1 id=\"extension-cá»§a-vscode\"><a href=\"#extension-c%E1%BB%A7a-vscode\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Extension cá»§a VSCode</h1>\n<p>Náº¿u Ä‘ang dÃ¹ng VSCode, má»™t sá»‘ extension nÃ y sáº½ há»¯u Ã­ch</p>\n<p>DotENV extension: mang mÃ u sáº¯c Ä‘áº¿n vá»›i cuá»™c sá»‘ng</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*K5PBHyeMSrND58ycVyw3YA.png\"></p>\n","cover_image":""}},{"node":{"id":"fa6427dbf45972e462dae10dc617d76e","title":"Import vÃ  Export trong Javascript báº±ng Webpack","path":"/2017-10-18-import-va-export-trong-javascript/","date":"2017-10-18","timeToRead":2,"desc":"BÃ n vá» cÃ¡c kiá»ƒu import vÃ  export module trong javascript vá»›i Webpack","content":"<!-- TOC -->\n<ul>\n<li>\n<p><a href=\"#export\">Export</a></p>\n<ul>\n<li><a href=\"#c%C3%BA-ph%C3%A1p\">CÃº phÃ¡p</a></li>\n<li><a href=\"#gi%E1%BA%A3i-th%C3%ADch\">Giáº£i thÃ­ch</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#import\">Import</a></p>\n<ul>\n<li><a href=\"#c%C3%BA-ph%C3%A1p-1\">CÃº phÃ¡p</a></li>\n<li><a href=\"#gi%E1%BA%A3i-th%C3%ADch-1\">Giáº£i thÃ­ch</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<p>á» Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i cÃ¡ch import vÃ  export vá»›i webpack, má»›i Ä‘Ã¢y, thiÃªn háº¡ Ä‘ang Ä‘á» nghá»‹ há»— trá»£ <a href=\"/2018-07-02-huong-dan-javascript-modules-tren-web\">import vÃ  export vá»›i native javascript</a></p>\n<p>Má»™t <strong>giÃ¡ trá»‹</strong>, <strong>hÃ m</strong>, <strong>object</strong> cÃ³ thá»ƒ Ä‘Æ°á»£c <code class=\"language-text\">export</code> tá»« má»™t file nÃ y vÃ  dÃ¹ng cÃ¢u lá»‡nh <code class=\"language-text\">import</code> Ä‘á»ƒ sá»­ dá»¥ng bÃªn trong file khÃ¡c.</p>\n<h1 id=\"export\"><a href=\"#export\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Export</h1>\n<h2 id=\"cÃº-phÃ¡p\"><a href=\"#c%C3%BA-ph%C3%A1p\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CÃº phÃ¡p</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token punctuation\">{</span>name1<span class=\"token punctuation\">,</span> name2<span class=\"token punctuation\">,</span> name3<span class=\"token punctuation\">,</span><span class=\"token spread operator\">...</span><span class=\"token punctuation\">,</span> nameN<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// export sá»­ dá»¥ng alias</span>\n<span class=\"token keyword module\">export</span> <span class=\"token punctuation\">{</span>name1 <span class=\"token keyword module\">as</span> differentName1<span class=\"token punctuation\">,</span> name2 <span class=\"token keyword module\">as</span> differentName2<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// export má»™t biáº¿n hoáº·c háº±ng sá»‘</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword\">let</span> name1<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> name2<span class=\"token punctuation\">,</span> <span class=\"token keyword\">var</span> name3\n<span class=\"token keyword module\">export</span> <span class=\"token keyword\">let</span> name1 <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> name2 <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">var</span> name3 <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\n\n<span class=\"token comment\">// export má»™t class hoáº·c function</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> expression<span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token spread operator\">...</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token spread operator\">...</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">name1</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token spread operator\">...</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token spread operator\">...</span><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"giáº£i-thÃ­ch\"><a href=\"#gi%E1%BA%A3i-th%C3%ADch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Giáº£i thÃ­ch</h2>\n<p>CÃ³ 2 kiá»ƒu <code class=\"language-text\">export</code></p>\n<ol>\n<li>Export 1 function Ä‘Ã£ Ä‘Æ°á»£c khai bÃ¡o hoáº·c má»™t giÃ¡ trá»‹: <strong>export cÃ³ Ä‘á»‹nh danh</strong></li>\n</ol>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// exports hÃ m Ä‘Ã£ khai bÃ¡o trÆ°á»›c Ä‘Ã³</span>\n<span class=\"token keyword module\">export</span> <span class=\"token punctuation\">{</span> myFunction <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token comment\">// exports má»™t háº±ng sá»‘</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">sqrt</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<ol start=\"2\">\n<li><strong>Default Export</strong> cho má»™t hÃ m hoáº·c class</li>\n</ol>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre>\n<p>Khi export cÃ³ Ä‘á»‹nh danh thÃ¬ khi import cÅ©ng pháº£i gá»i Ä‘Ãºng tÃªn Ä‘Ã£ export, cÃ²n náº¿u sá»­ dá»¥ng <em>default export</em> thÃ¬ khi import Ä‘áº·t tÃªn lÃ  gÃ¬ cÅ©ng Ä‘Æ°á»£c.</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> k <span class=\"token operator\">=</span> <span class=\"token number\">12</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// test.js</span>\n\n<span class=\"token keyword module\">import</span> m <span class=\"token keyword module\">from</span> <span class=\"token string\">'./test'</span> \n<span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// log 12</span></code></pre>\n<p>TrÃªn má»™t file chá»‰ cÃ³ thá»ƒ cÃ³ má»™t default export, cÃ¢u lá»‡nh sau khÃ´ng pháº£i lÃ  default export</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword module\">from</span> <span class=\"token spread operator\">...</span><span class=\"token punctuation\">;</span></code></pre>\n<h1 id=\"import\"><a href=\"#import\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Import</h1>\n<h2 id=\"cÃº-phÃ¡p-1\"><a href=\"#c%C3%BA-ph%C3%A1p-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CÃº phÃ¡p</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> defaultExport <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword module\">as</span> name <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword module\">export</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword module\">export</span> <span class=\"token keyword module\">as</span> alias <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span> export1 <span class=\"token punctuation\">,</span> export2 <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span> export1 <span class=\"token punctuation\">,</span> export2 <span class=\"token keyword module\">as</span> alias2 <span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token spread operator\">...</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> defaultExport<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword module\">export</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token spread operator\">...</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> defaultExport<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span> <span class=\"token keyword module\">as</span> name <span class=\"token keyword module\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"giáº£i-thÃ­ch-1\"><a href=\"#gi%E1%BA%A3i-th%C3%ADch-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Giáº£i thÃ­ch</h2>\n<p>Module export cÃ³ tÃªn quÃ¡ dÃ i, cÃ³ thá»ƒ Ä‘áº·t alias trong cÃ¢u <code class=\"language-text\">import</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span>reallyReallyLongModuleExportName <span class=\"token keyword module\">as</span> shortName<span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'/modules/my-module.js'</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Import táº¥t cáº£ cÃ¡c giÃ¡ trá»‹, hÃ m, object,... Ä‘Ã£ export trong má»™t file khÃ¡c</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword module\">as</span> myModule <span class=\"token keyword module\">from</span> <span class=\"token string\">'another.file'</span></code></pre>\n<p>Import chá»‰ Ä‘á»‹nh má»™t sá»‘ hÃ m, object, giÃ¡ trá»‹ trong file</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span>funcA<span class=\"token punctuation\">,</span> objB<span class=\"token punctuation\">,</span> constC<span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'another.file'</span></code></pre>\n","cover_image":""}}]}}},"context":{}}
{"hash":"11fd49ff7dfa599f2ece96e1f20e52693dbc054b","data":{"tag":{"title":"webpack","belongsTo":{"edges":[{"node":{"id":"af1b4fabe8e0499431dafa72082c9288","title":"H·ªèi nhanh ƒë√°p g·ªçn v·ªÅ REST","path":"/2021-01-15-rest-faq-hoi-nhanh-dap-gon-ve-rest/","date":"2021-01-15","timeToRead":3,"desc":"Chuy√™n m·ª•c h·ªèi nhanh - ƒë√°p g·ªçn, n·∫øu b·∫°n ch∆∞a bi·∫øt g√¨ v·ªÅ REST","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#m%E1%BB%99t-v%C3%A0i-%C4%91%E1%BA%B7c-t%C3%ADnh-ch%C3%ADnh-c%E1%BB%A7a-rest\">M·ªôt v√†i ƒë·∫∑c t√≠nh ch√≠nh c·ªßa REST?</a></li>\n<li><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-response\">C√°c th√†nh ph·∫ßn ch√≠nh c·ªßa m·ªôt http response</a></li>\n<li><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-request\">C√°c th√†nh ph·∫ßn ch√≠nh c·ªßa m·ªôt http request</a></li>\n<li><a href=\"#stateless-l%C3%A0-g%C3%AC\">Stateless l√† g√¨?</a></li>\n<li><a href=\"#stateless-c%C3%B3-g%C3%AC-hay\">Stateless c√≥ g√¨ hay?</a></li>\n<li><a href=\"#v%C3%A0i-c%C3%A1i-status-code-ph%E1%BB%95-bi%E1%BA%BFn\">V√†i c√°i status code ph·ªï bi·∫øn?</a></li>\n<li><a href=\"#c%C3%A1i-g%C3%AC-cache-%C4%91%C6%B0%E1%BB%A3c-c%C3%A1i-g%C3%AC-kh%C3%B4ng\">C√°i g√¨ cache ƒë∆∞·ª£c, c√°i g√¨ kh√¥ng?</a></li>\n<li><a href=\"#kh%C3%A1c-nhau-gi%E1%BB%AFa-ajax-v%C3%A0-rest\">Kh√°c nhau gi·ªØa AJAX v√† REST?</a></li>\n<li><a href=\"#keep-alive-l%C3%A0-g%C3%AC-v%C3%A0-l%E1%BB%A3i-%C3%ADch-c%E1%BB%A7a-n%C3%B3\">Keep-Alive l√† g√¨ v√† l·ª£i √≠ch c·ªßa n√≥?</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"m·ªôt-v√†i-ƒë·∫∑c-t√≠nh-ch√≠nh-c·ªßa-rest\"><a href=\"#m%E1%BB%99t-v%C3%A0i-%C4%91%E1%BA%B7c-t%C3%ADnh-ch%C3%ADnh-c%E1%BB%A7a-rest\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ªôt v√†i ƒë·∫∑c t√≠nh ch√≠nh c·ªßa REST?</h2>\n<ul>\n<li>REST l√† d·∫°ng <strong>stateless</strong>, server s·∫Ω kh√¥ng c√≥ th√¥ng tin <em>status</em> (n√≥i c√°ch kh√°c l√† kh√¥ng l∆∞u gi·ªØ user session)</li>\n<li>N·∫øu <em>Web service</em> ch·ªß y·∫øu d√πng POST ƒë·ªÉ thao t√°c, th√¨ REST d√πng <code class=\"language-inline-text\">GET</code> ƒë·ªÉ truy xu·∫•t ƒë·∫øn resource</li>\n</ul>\n<h2 id=\"c√°c-th√†nh-ph·∫ßn-ch√≠nh-c·ªßa-m·ªôt-http-response\"><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-response\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°c th√†nh ph·∫ßn ch√≠nh c·ªßa m·ªôt http response</h2>\n<ul>\n<li>Status / Response Code</li>\n<li>HTTP Version</li>\n<li>Response header</li>\n<li>Response body</li>\n</ul>\n<h2 id=\"c√°c-th√†nh-ph·∫ßn-ch√≠nh-c·ªßa-m·ªôt-http-request\"><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-request\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°c th√†nh ph·∫ßn ch√≠nh c·ªßa m·ªôt http request</h2>\n<ul>\n<li>Method (<code class=\"language-inline-text\">GET</code>, <code class=\"language-inline-text\">POST</code>, <code class=\"language-inline-text\">PUT</code>, <code class=\"language-inline-text\">DELETE</code>)</li>\n<li>URI</li>\n<li>HTTP Version</li>\n<li>Request Header</li>\n<li>Request Body</li>\n</ul>\n<h2 id=\"stateless-l√†-g√¨\"><a href=\"#stateless-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Stateless l√† g√¨?</h2>\n<p>Theo ƒë·ªãnh nghƒ©a c·ªßa RESTful, server kh√¥ng l∆∞u tr·ªØ b·∫•t k·ª≥ th√¥ng tin g√¨ v·ªÅ client state, ƒë·∫∑c tr∆∞ng n√†y g·ªçi l√† <strong>stateless</strong>. Ph√≠a client g·ª≠i th√¥ng tin c·∫ßn thi·∫øt tr√™n m·ªói request</p>\n<h2 id=\"stateless-c√≥-g√¨-hay\"><a href=\"#stateless-c%C3%B3-g%C3%AC-hay\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Stateless c√≥ g√¨ hay?</h2>\n<ol>\n<li><strong>Scale</strong> kh·∫£ nƒÉng ƒë√°p ·ª©ng c·ªßa API l√™n cho h√†ng tri·ªáu <em>concurrent user</em> b·∫±ng c√°ch deploy l√™n nhi·ªÅu server kh√°c nhau. B·∫•t k·ª≥ server n√†o c≈©ng c√≥ th·ªÉ handle m·ªôt request t·ª´ client v√¨ t·∫•t c·∫£ th√¥ng tin c·∫ßn thi·∫øt ƒëi·ªÅu ƒë∆∞·ª£c g·ª≠i t·ª´ ph√≠a client.</li>\n<li><strong>ƒê∆°n gi·∫£n h√≥a API</strong> nh·ªù v√†o vi·ªác g·ªü b·ªè vi·ªác ƒë·ªìng b·ªô logic c·ªßa <em>state</em></li>\n<li><strong>D·ªÖ cache h∆°n</strong>, ph√≠a server c√≥ th·ªÉ quy·∫øt ƒë·ªãnh cache hay kh√¥ng m·ªôt k·∫øt qu·∫£ HTTP request d·ª±a v√†o th√¥ng tin c·ªßa m·ªôt request, nh·ªØng request tr∆∞·ªõc ƒë√≥ kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn kh·∫£ nƒÉng <em>cache</em> c·ªßa request hi·ªán t·∫°i.</li>\n</ol>\n<h2 id=\"v√†i-c√°i-status-code-ph·ªï-bi·∫øn\"><a href=\"#v%C3%A0i-c%C3%A1i-status-code-ph%E1%BB%95-bi%E1%BA%BFn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V√†i c√°i status code ph·ªï bi·∫øn?</h2>\n<ul>\n<li>201 created</li>\n<li>204 No content</li>\n<li>400 Bad request</li>\n<li>403 Forbidden</li>\n<li>404 Not found</li>\n<li>405 Method not allowed</li>\n<li>409 Conflict</li>\n<li>500 internal server error</li>\n</ul>\n<h2 id=\"c√°i-g√¨-cache-ƒë∆∞·ª£c-c√°i-g√¨-kh√¥ng\"><a href=\"#c%C3%A1i-g%C3%AC-cache-%C4%91%C6%B0%E1%BB%A3c-c%C3%A1i-g%C3%AC-kh%C3%B4ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°i g√¨ cache ƒë∆∞·ª£c, c√°i g√¨ kh√¥ng?</h2>\n<ul>\n<li><code class=\"language-inline-text\">GET</code> cache ƒë∆∞·ª£c</li>\n<li><code class=\"language-inline-text\">POST</code> m·∫∑c ƒë·ªãnh l√† kh√¥ng, nh∆∞ng c√≥ th·ªÉ d√πng <strong>expires header</strong> ho·∫∑c <strong>cache-control header</strong> n·∫øu mu·ªën b·∫≠t cache</li>\n<li><code class=\"language-inline-text\">PUT/DELETE</code> kh√¥ng</li>\n</ul>\n<h2 id=\"kh√°c-nhau-gi·ªØa-ajax-v√†-rest\"><a href=\"#kh%C3%A1c-nhau-gi%E1%BB%AFa-ajax-v%C3%A0-rest\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kh√°c nhau gi·ªØa AJAX v√† REST?</h2>\n<p>AJAX l√† m·ªôt <strong>k·ªπ thu·∫≠t th·ª±c hi·ªán ph√≠a client</strong> ƒë·ªÉ c·∫≠p nh·∫≠p giao di·ªán, trong khi REST l√† <strong>m·ªôt ki·ªÉu ki·∫øn tr√∫c</strong> ƒë·ªÉ truy·ªÅn v√† x·ª≠ l√Ω HTTP Request.</p>\n<h2 id=\"keep-alive-l√†-g√¨-v√†-l·ª£i-√≠ch-c·ªßa-n√≥\"><a href=\"#keep-alive-l%C3%A0-g%C3%AC-v%C3%A0-l%E1%BB%A3i-%C3%ADch-c%E1%BB%A7a-n%C3%B3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Keep-Alive l√† g√¨ v√† l·ª£i √≠ch c·ªßa n√≥?</h2>\n<p>M·∫∑c ƒë·ªãnh m·ªôt HTTP connection s·∫Ω <strong>t·ª± ƒë√≥ng sau khi request ƒë√£ complete</strong>, nghƒ©a l√† ph√≠a server s·∫Ω close TCP connection sau khi ƒë√£ g·ª≠i ƒëi response. ƒê·ªÉ gi·ªØ connection n√†y cho nhi·ªÅu request, d√πng thu·ªôc t√≠nh <code class=\"language-inline-text\">keep-alive</code> tr√™n header</p>\n<p>V√≠ d·ª•</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Message Trace:\n-------------------------------------------\n~$ <span class=\"token function\">curl</span> -I https://www.domain.com/file.html\nHTTP/1.1 <span class=\"token number\">200</span> OK\nConnection: Keep-Alive\nContent-Type: text/html<span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">charset</span><span class=\"token operator\">=</span>UTF-8\nDate: Thu, <span class=\"token number\">15</span> Jan <span class=\"token number\">2015</span> <span class=\"token number\">16</span>:45:29 GMT\nContent-Length: <span class=\"token number\">1845</span>\nKeep-Alive: <span class=\"token assign-left variable\">timeout</span><span class=\"token operator\">=</span><span class=\"token number\">10</span>, <span class=\"token assign-left variable\">max</span><span class=\"token operator\">=</span><span class=\"token number\">20</span>\nServer: Apache/2.4.9 <span class=\"token punctuation\">(</span>Unix<span class=\"token punctuation\">)</span> PHP/5.6.2\n-------------------------------------------</code></pre></div>\n<p><em>L·ª£i √≠ch</em></p>\n<ul>\n<li><strong>Gi·∫£m t·∫£i vi·ªác s·ª≠ d·ª•ng CPU</strong>, m·ªói l·∫ßn thi·∫øt l·∫≠p m·ªôt TCP connection s·∫Ω c·∫ßn ti√™u hao CPU v√† b·ªô nh·ªõ.</li>\n<li><strong>C·∫£i thi·ªán t·ªëc ƒë·ªô trang web</strong>: ƒë√°p ·ª©ng nhi·ªÅu file s·ª≠ d·ª•ng c√πng m·ªôt connection cho ph√©p gi·∫£m t·∫£i v√† n√¢ng cao t·ªëc ƒë·ªô c·ªßa ·ª©ng d·ª•ng</li>\n<li><strong>HTTPS</strong>: mu·ªën d√πng keep-alive b·∫Øt bu·ªôc ph·∫£i l√† HTTPS, c≈©ng c√≥ th·ªÉ xem l√† m·ªôt ∆∞u ƒëi·ªÉm cho v·∫•n ƒë·ªÅ b·∫£o m·∫≠t</li>\n</ul>\n","cover_image":""}},{"node":{"id":"dc34c8a0c083ef6c15db1a0747852887","title":"H·ªèi nhanh ƒë√°p g·ªçn v·ªÅ webpack","path":"/2021-01-13-webpack-faq-hoi-nhanh-dap-gon-voi-webpack/","date":"2021-01-13","timeToRead":2,"desc":"Chuy√™n m·ª•c h·ªèi nhanh - ƒë√°p g·ªçn, n·∫øu b·∫°n ch∆∞a bi·∫øt g√¨ v·ªÅ webpack","content":"<p><em>üê∏ Nh·ªØng module pattern n√†o webpack h·ªó tr·ª£?</em></p>\n<p><code class=\"language-inline-text\">common.js</code> v√† es6</p>\n<p>üê∏ C√≥ ƒë∆∞·ª£c ph√©p c√≥ nhi·ªÅu entry point trong c√πng 1 file config?*</p>\n<p>C√≥</p>\n<p><em>üê∏ L√†m sao ƒë·ªÉ t·∫°o file config webpack t·ª± ƒë·ªông?</em></p>\n<p><code class=\"language-inline-text\">webpack-cli init</code></p>\n<p><em>üê∏ Loader trong webpack l√† g√¨?</em></p>\n<p>transform nh·ªØng module n√†o kh√¥ng ph·∫£i l√† JS v√†o trong bundle</p>\n<p><em>üê∏ Loader ch·∫°y sync hay async</em></p>\n<p>C·∫£ hai</p>\n<p><em>üê∏ Kh√°c nhau gi·ªØa loader v√† plugin</em></p>\n<p>Loader d√πng ƒë·ªÉ pre-processing, plugin ph·ª©c t·∫°p h∆°n v√† n√≥ can thi·ªáp nhi·ªÅu v√†o qu√° tr√¨nh compile.</p>\n<p><em>üê∏ L√†m sao ƒë·ªÉ t√°ch m·ªôt s·ªë data ra kh·ªèi bundle th√†nh m·ªôt file ri√™ng bi·ªát, v√≠ d·ª• nh∆∞ file css</em></p>\n<p>S·ª≠ d·ª•ng <a href=\"https://github.com/webpack-contrib/extract-text-webpack-plugin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ExtractTextWebpackPlugin</a>. T·∫•t c·∫£ css s·∫Ω kh√¥ng c√≤n n·∫±m inline trong file JS bundle, n√≥ s·∫Ω l√† m·ªôt file ri√™ng (style.css ch·∫≥ng h·∫°n)</p>\n<p><em>üê∏ Hot module replacement l√† g√¨?</em></p>\n<p>T√≠nh nƒÉng cho ph√©p c·∫≠p nh·∫≠p module m√† kh√¥ng c·∫ßn reload</p>\n<p><em>üê∏ parallel-webpack l√† g√¨ v√† n√≥ ·∫£nh h∆∞·ªüng th·∫ø n√†o ƒë·∫øn qu√° tr√¨nh build</em></p>\n<p><a href=\"https://github.com/trivago/parallel-webpack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">parallel-webpack</a> s·∫Ω gi√∫p config v·ªõi nhi·ªÅu entry point, cho ph√©p webpack build parallel, n√¢ng cao t·ªëc ƒë·ªô build</p>\n<p><em>üê∏ M√¥ t·∫£ m·ªôt c√°ch ng·∫Øn g·ªçn long-term caching v√† l√†m sao s·ª≠ d·ª•ng n√≥ trong webpack?</em></p>\n<p>Browser s·∫Ω cache static file b√™n d∆∞·ªõi local ƒë·ªÉ c·∫£i thi·ªán t·ªëc ƒë·ªô load, ƒë·ªÉ ƒë·∫£m b·∫£o n·∫øu c√≥ b·∫£n build m·ªõi, tr√¨nh duy·ªát bi·∫øt v√† download file m·ªõi, t√™n  file th∆∞·ªùng ƒë∆∞·ª£c ƒë·∫∑t nh∆∞ sau</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app.js?build=1\napp.js?build=2\n\n// ho·∫∑c\napp.js.2a6c1fee4b5b0d2c9285.js\napp.js.70b594fe8b07bcedaa98.js</code></pre></div>\n<p>ƒê·ªÉ l√†m vi·ªác n√†y, trong webpack ch√∫ng ta ƒë·∫∑t config</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>\n    output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     filename<span class=\"token operator\">:</span> <span class=\"token string\">\"[name].[hash].js\"</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><em>üê∏ Kh√°c nhau gi·ªØa hash v√† chunkhash?</em></p>\n<p>[hash] t·∫°o ra m·ªôt id ng·∫´u nhi√™n cho t·ª´ng l·∫ßn build v√† s·ª≠ d·ª•ng cho t·∫•t c·∫£  chunk. N·∫øu thay [hash] b·∫±ng [chunkhash] n√≥ s·∫Ω t·∫°o ra m·ªói chunk m·ªôt id ng·∫´u nhi√™n.</p>\n<p><em>üê∏ M√¥ t·∫£ CommonsChunk Plugin?</em></p>\n<p>L√† m·ªôt t√≠nh nƒÉng c√≥ s·∫µn c·ªßa webpack, cho ph√©p t·∫°o file ri√™ng (g·ªçi l√† chunk) cho nh·ªØng module d√πng chung. H·ªó tr·ª£ caching v√† n√¢ng cao t·ªëc ƒë·ªô load</p>\n<p><em>üê∏Di·ªÖn gi·∫£i ƒëo·∫°n code b√™n d∆∞·ªõi</em></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">webpack<span class=\"token punctuation\">.</span>ContextReplacementPlugin</span><span class=\"token punctuation\">(</span>\n     <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">moment[\\/\\\\]locale</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n     <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(en-gb|en-us)\\.js</span><span class=\"token regex-delimiter\">/</span></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>B√°o v·ªõi webpack, ch·ªâ include nh·ªØng file c√≥ t√™n kh·ªõp v·ªõi ƒëi·ªÅu ki·ªán <code class=\"language-inline-text\">/(en-gb|en-us)\\.js/</code>, trong ƒë∆∞·ªùng d·∫´n <code class=\"language-inline-text\">/moment[\\/\\\\]locale/</code> khi bundle</p>\n<p><em>üê∏ L√†m sao ƒë·ªÉ remove nh·ªØng css selector kh√¥ng d√πng ƒë·∫øn?</em></p>\n<p>D√πng plugin <a href=\"https://github.com/webpack-contrib/purifycss-webpack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">purifycss-webpack</a></p>\n","cover_image":""}},{"node":{"id":"4a83ae2c626a625e60998ef95d851361","title":"H∆∞·ªõng d·∫´n webpack 4 cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu - Ph·∫ßn 3","path":"/2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3/","date":"2018-05-28","timeToRead":4,"desc":"B√†i n√†y s·∫Ω n√≥i Plugins, Development, HotModuleReplacement trong Webpack","content":"<p>Trong Series n√†y\n1. <a href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\">Webpack l√† g√¨ v√† t·∫°i sao ta ph·∫£i x√†i n√≥</a>\n2. <a href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\">D√πng Loaders, code slitting trong webpack</a>\n3. <a href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\">Plugins, Development Server</a></p>\n<!-- TOC -->\n<ul>\n<li><a href=\"#t%C3%A1ch-css\">T√°ch CSS</a></li>\n<li><a href=\"#c%E1%BA%ADp-nh%E1%BA%ADp-html-t%E1%BB%B1-%C4%91%E1%BB%99ng\">C·∫≠p nh·∫≠p HTML t·ª± ƒë·ªông</a></li>\n<li><a href=\"#development-server\">Development Server</a></li>\n<li><a href=\"#hotmodulereplacement\">HotModuleReplacement</a></li>\n</ul>\n<!-- /TOC -->\n<p>Trong khi loader s·∫Ω ti·∫øn h√†nh transform t·ª´ng file m·ªôt, <strong>plugins</strong> s·∫Ω ti·∫øn h√†nh x·ª≠ l√Ω trong t·ª´ng ƒëo·∫°n code</p>\n<p>Gi·ªù ch√∫ng ta ƒë√£ bi·∫øt c√°ch  bundle code, c√†i th√™m c√°c module b·ªï sung cho webpack, c√°ch th√™m c√°c static asset, file bundle ch√∫ng ta s·∫Ω b·ª± d·∫ßn b·ª± d·∫ßn - kh√¥ng s·ªõm th√¨ mu·ªôn th√¥i. Plugins s·∫Ω gi√∫p ch√∫ng ta t√°ch ph·∫ßn code m·ªôt c√°ch th√¥ng m√¨nh h∆°n, optimize h∆°n cho production</p>\n<p>Th·∫≠t ra ma n√≥i, khi s·ª≠ d·ª•ng <code class=\"language-inline-text\">mode</code> development/production trong webpack ch√∫ng ta ƒë√£ s·ª≠ d·ª•ng r·∫•t nhi·ªÅu plugin m·∫∑c ƒë·ªãnh trong webpack</p>\n<p><em>develoment</em></p>\n<ul>\n<li>l√∫c n√†y gi√° tr·ªã bi·∫øn <code class=\"language-inline-text\">process.env.NODE_ENV</code> s·∫Ω b·∫±ng 'development'</li>\n<li>d√πng NamedModulesPlugin</li>\n</ul>\n<p><em>production</em></p>\n<ul>\n<li><code class=\"language-inline-text\">process.env.NODE_ENV</code> s·∫Ω b·∫±ng 'production'</li>\n<li>UglifyJsPlugin</li>\n<li>ModuleConcatenationPlugin</li>\n<li>NoEmitOnErrorsPlugin</li>\n</ul>\n<p>Tr∆∞·ªõc khi th√™m m·ªôt s·ªë plugin kh√°c, ch√∫ng ta s·∫Ω t√°ch file config ra th√†nh 2, ƒë·ªÉ sau n√†y ch√∫ng ta apply c√°c plugin kh√°c nhau cho c√°c mode ch·∫°y kh√°c nhau</p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\"> webpack.config.js\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> webpack.common.js\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> webpack.dev.js\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> webpack.prod.js</span></span></code></pre></div>\n<p>C√†i th√™m plugin l√† <code class=\"language-inline-text\">webpack-merge</code> ƒë·ªÉ tr·ªôn file <em>webpack.common.js</em> v·ªõi m·ªôt trong 2 file webpack.dev.js ho·∫∑c webpack.prod.js</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev webpack-merge</code></pre></div>\n<p><strong>webpack.dev.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> merge <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack-merge'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> common <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./webpack.common.js'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>common<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token operator\">:</span> <span class=\"token string\">'development'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>webpack.prod.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> merge <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack-merge'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> common <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./webpack.common.js'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>common<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  mode<span class=\"token operator\">:</span> <span class=\"token string\">'production'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>package.json</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> \"scripts\": {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">    \"develop\": \"webpack --watch --mode development\",\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">    \"build\": \"webpack --mode production\"\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">    \"develop\": \"webpack --watch --config webpack.dev.js\",\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">    \"build\": \"webpack --config webpack.prod.js\"\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">  },</span></span></code></pre></div>\n<h2 id=\"t√°ch-css\"><a href=\"#t%C3%A1ch-css\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T√°ch CSS</h2>\n<p>Ch√∫ng ta s·∫Ω t√°ch ra CSS khi ch·∫°y production b·∫±ng plugin l√† <code class=\"language-inline-text\">ExtractTextWebpackPlugin</code></p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev extract-text-webpack-plugin</code></pre></div>\n<p>Setup loader cho file .scss gi·ªØ nguy√™n cho development mode, ch·ªâ th√™m ExtractTextWebpackPlugin cho production</p>\n<p><strong>webpack.common.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   module: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">       {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">         use: [\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">             loader: 'style-loader'\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">             loader: 'css-loader'\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">             loader: 'sass-loader'\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">           }\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">         ]\n</span><span class=\"token prefix deleted\">-</span><span class=\"token line\">       },\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     ]\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre></div>\n<p><strong>webpack.dev.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">const merge = require('webpack-merge')\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const common = require('./webpack.common.js')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = merge(common, {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   mode: 'development',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'style-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'css-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'sass-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> })</span></span></code></pre></div>\n<p><strong>webpack.prod.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const merge = require('webpack-merge')\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const ExtractTextPlugin = require('extract-text-webpack-plugin')\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const common = require('./webpack.common.js')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = merge(common, {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   mode: 'production',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: ExtractTextPlugin.extract({\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           fallback: 'style-loader',\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           use: ['css-loader', 'sass-loader']\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         })\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   },\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   plugins: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new ExtractTextPlugin('style.css')\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   ]\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> })</span></span></code></pre></div>\n<p>N·∫øu ch·∫°y <code class=\"language-inline-text\">npm run build</code>, ch√∫ng ta c√≥ 3 file</p>\n<ul>\n<li>chat.bundle.js</li>\n<li>app.bundle.js</li>\n<li>style.css</li>\n</ul>\n<h2 id=\"c·∫≠p-nh·∫≠p-html-t·ª±-ƒë·ªông\"><a href=\"#c%E1%BA%ADp-nh%E1%BA%ADp-html-t%E1%BB%B1-%C4%91%E1%BB%99ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C·∫≠p nh·∫≠p HTML t·ª± ƒë·ªông</h2>\n<p>M·ªói l·∫ßn thay ƒë·ªïi ch√∫ng ta c·ª© ph·∫£i t·ª± tay ch·ªânh s·ª≠a file <code class=\"language-inline-text\">index.html</code> th√¨ h∆°i l∆∞·ªùi. D√πng <code class=\"language-inline-text\">html-webpack-plugin</code> ƒë·ªÉ t·ª± ƒë·ªông h√≥a qu√° tr√¨nh n√†y, ƒë·ªìng th·ªùi c·∫ßn th√™m <code class=\"language-inline-text\">clean-webpack-plugin</code> ƒë·ªÉ clear h·∫øt th∆∞ m·ª•c <code class=\"language-inline-text\">dist</code></p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> instal --save-dev html-webpack-plugin clean-webpack-plugin</code></pre></div>\n<p><strong>webpack.common.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">const path = require('path')\n<span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const CleanWebpackPlugin = require('clean-webpack-plugin');\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const HtmlWebpackPlugin = require('html-webpack-plugin');\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   plugins: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new CleanWebpackPlugin(['dist']),\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new HtmlWebpackPlugin({\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       title: 'My killer app'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     })\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   ]\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre></div>\n<p>Gi·ªù m·ªói l·∫ßn build, ch√∫ng ta x√≥a h·∫øt th∆∞ m·ª•c dist lu√¥n</p>\n<h2 id=\"development-server\"><a href=\"#development-server\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Development Server</h2>\n<p>V·ªõi <code class=\"language-inline-text\">webpack-dev-server</code> cung c·∫•p cho ch√∫ng ta m·ªôt web server ƒë∆°n gi·∫£n v·ªõi t√≠nh nƒÉng live reload r·∫•t r·∫•t l√† h·ªØu √≠ch lu√¥n m·∫•y man</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev webpack-dev-server</code></pre></div>\n<p><strong>package.json</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   \"scripts\": {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">     \"develop\": \"webpack --watch --config webpack.dev.js\",\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"develop\": \"webpack-dev-server --config webpack.dev.js\",\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre></div>\n<p>Gi·ªù m√† ch·∫°y <code class=\"language-inline-text\">npm run develop</code> ch√∫ng ta s·∫Ω c√≥ ngay server <a href=\"http://localhost:8080/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://localhost:8080/</a></p>\n<h2 id=\"hotmodulereplacement\"><a href=\"#hotmodulereplacement\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>HotModuleReplacement</h2>\n<p>Plugin <code class=\"language-inline-text\">HotModuleReplacement</code> s·∫Ω nh·ªânh h∆°n Live Reload m·ªôt ch√∫t, thay v√¨ live reload tr√¨nh duy·ªát s·∫Ω t·ª± ƒë·ªông refresh, ch√∫ng ta s·∫Ω th·∫•y n√≥ load l·∫°i to√†n b·ªô trang khi c√≥ thay ƒë·ªïi, c√≤n HotModuleReplacement l√† n√≥ swap nguy√™n c√°i module trong l√∫c ƒëang ch·∫°y m√† kh√¥ng c·∫ßn refresh lu√¥n. Nhanh nh∆∞ c√°i ch·ªõp m·∫Øt v·∫≠y. N·∫øu m√† c·∫•u h√¨nh ƒë√∫ng, ch√∫ng ta ti·∫øt ki·ªám ƒë∆∞·ª£c kh·ªëi th·ªùi gian ng·ªìi ƒë·ª£i load l·∫°i trang.</p>\n<p><strong>webpack.dev.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> const webpack = require('webpack')\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const merge = require('webpack-merge')\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> const common = require('./webpack.common.js')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = merge(common, {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   mode: 'development',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   devServer: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     hot: true\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   },\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   plugins: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     new webpack.HotModuleReplacementPlugin()\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   ],\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre></div>\n<p>Cho ph√©p swap module trong app</p>\n<p><strong>src/app.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> if (module.hot) {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module.hot.accept()\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> }\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> ...</span></span></code></pre></div>\n<p><code class=\"language-inline-text\">module.hot</code> s·∫Ω c√≥ gi√° tr·ªã l√† <code class=\"language-inline-text\">true</code> trong mode development v√† <code class=\"language-inline-text\">false</code> trong production.</p>\n<p><a href=\"https://www.sitepoint.com/beginners-guide-webpack-module-bundling/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Link b√†i g·ªëc</a>\nT√°c gi·∫£: Mark Brown</p>\n<p>Ch·ªânh s·ª≠a theo s·ª± hi·ªÉu c·ªßa m√¨nh m·ªôt t√≠</p>\n","cover_image":""}},{"node":{"id":"d27c82957cc1511533f17ea33a445b6a","title":"H∆∞·ªõng d·∫´n webpack 4 cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu - Ph·∫ßn 2","path":"/2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau/","date":"2018-05-27","timeToRead":5,"desc":"Ph·∫ßn 2 trong series v·ªÅ webpack, m√¨nh s·∫Ω n√≥i v·ªÅ code slitting, loaders","content":"<p>Trong Series n√†y</p>\n<ol>\n<li><a href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\">Webpack l√† g√¨ v√† t·∫°i sao ta ph·∫£i x√†i n√≥</a></li>\n<li><a href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\">D√πng Loaders, code slitting trong webpack</a></li>\n<li><a href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\">Plugins, Development Server</a></li>\n</ol>\n<!-- TOC -->\n<ul>\n<li><a href=\"#loaders\">Loaders</a></li>\n<li><a href=\"#babel-loader\">Babel Loader</a></li>\n<li><a href=\"#sass-loader\">SASS Loader</a></li>\n<li><a href=\"#image\">Image</a></li>\n<li><a href=\"#code-splitting\">Code splitting</a></li>\n</ul>\n<!-- /TOC -->\n<p>Ch√∫ng ta m·ªü l·∫°i file <strong>package.json</strong>, s·ª≠a l·∫°i ch√∫t</p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">{\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   \"scripts\": {\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"develop\": \"webpack --mode development --watch\",\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"build\": \"webpack --mode production\"\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   },\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span></span>}</code></pre></div>\n<p>V·ªõi c√°ch setup n√†y, ch·ªâ c·∫ßn ch·∫°y <code class=\"language-inline-text\">npm run develop</code> ch√∫ng ta s·∫Ω ch·∫°y webpack ·ªü development mode v√† b·∫≠t t√≠nh nƒÉng detect thay ƒë·ªïi ƒë·ªÉ ch·∫°y l·∫°i.</p>\n<p>Khi ch·∫°y <code class=\"language-inline-text\">npm run build</code> ch√∫ng ta s·∫Ω ch·∫°y webpack ·ªü mode production, khi ch·∫°y ·ªü mode n√†y code s·∫Ω ƒë∆∞·ª£c minified l·∫°i b·∫±ng Uglify JS, size nh·ªè h∆°n khi ch·∫°y dev mode.</p>\n<h1 id=\"loaders\"><a href=\"#loaders\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Loaders</h1>\n<p>Loaders l√† g√¨? loaders l√† nh·ªØng th∆∞ vi·ªán s·∫Ω can thi·ªáp tr∆∞·ªõc l√∫c ch√∫ng ta import file, n√≥ cho ph√©p webpack m·ªü r·ªông kh·∫£ nƒÉng kh√¥ng ch·ªâ c√≤n l√† bundle javascript th√¥i, m√† c·∫£ nh·ªØng static resource kh√°c, nh∆∞ css, image, svg, ...</p>\n<h1 id=\"babel-loader\"><a href=\"#babel-loader\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Babel Loader</h1>\n<p>Th·ªùi ƒëi·ªÉm hi·ªán t·∫°i ch·∫Øc ai c≈©ng vi·∫øt JS ki·ªÉu m·ªõi, ƒë·ªÉ transpile c√°i ES6 m√† ta vi·∫øt, ch√∫ng ta s·∫Ω c·∫ßn <code class=\"language-inline-text\">babel-loader</code></p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev babel-loader  @babel/core @babel/preset-env</code></pre></div>\n<p>M·ªü l·∫°i file <strong>webpack.config.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">const path = require('path')\n\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   entry: './src/index.js',\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   output: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     filename: 'bundle.js',\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     path: path.resolve(__dirname, 'dist')\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   },\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   module: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.js$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         exclude: /(node_modules|bower_components)/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'babel-loader',\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre></div>\n<p>ƒê·ªÉ c·∫•u h√¨nh c√°ch transpile c·ªßa babel, ch√∫ng ta add th√™m file <code class=\"language-inline-text\">.babelrc</code> v√†o c√πng th∆∞ m·ª•c v·ªõi <strong>webpack.config.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/env\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"modules\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"syntax-dynamic-import\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒêo·∫°n tr√™n ch√∫ng ta ƒëang c·∫•u h√¨nh ƒë·ªÉ khi Babel transpile, n√≥ kh√¥ng ƒë·ªïi c√¢u <code class=\"language-inline-text\">import</code> v√† <code class=\"language-inline-text\">export</code> v·ªÅ ES5 v√† cho ph√©p import linh ƒë·ªông, sau n√†y d√πng ƒë·∫øn trong ph·∫ßn slitting code</p>\n<p>Gi·ªù th√¨ c·ª© v√¥ t∆∞ vi·∫øt ES6 nh√©, v√¨ khi bundle, webpack s·∫Ω transpile code c·ªßa ch√∫ng v·ªÅ th√†nh ES5</p>\n<h1 id=\"sass-loader\"><a href=\"#sass-loader\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>SASS Loader</h1>\n<p>Tr∆∞·ªõc ti√™n c√†i m·ªôt s·ªë package ƒë·ªÉ l√†m vi·ªác v·ªõi SASS</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev style-loader css-loader sass-loader node-sass</code></pre></div>\n<p><strong>webpack.config.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   module: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.scss$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: [{\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'style-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'css-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }, {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           loader: 'sass-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         }]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     ]\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre></div>\n<p>M·∫•y c√°i loader n√†y s·∫Ω ƒë∆∞·ª£c th·ª±c hi·ªán theo th·ª© t·ª±</p>\n<ul>\n<li><code class=\"language-inline-text\">sass-loader</code> transforms Sass th√†nh CSS.</li>\n<li><code class=\"language-inline-text\">css-loader</code> parses CSS v√†o JavaScript v√† resolve dependencies.</li>\n<li><code class=\"language-inline-text\">style-loader</code> ch√®n CSS v√†o b√™n trong th·∫ª <code class=\"language-inline-text\">&lt;style></code></li>\n</ul>\n<p>C√≥ th·ªÉ h√¨nh dung n√≥ nh∆∞ m·ªôt function v·ªõi callback l√† m·ªôt function kh√°c</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">styleLoader</span><span class=\"token punctuation\">(</span><span class=\"token function\">cssLoader</span><span class=\"token punctuation\">(</span><span class=\"token function\">sassLoader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"source\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Sau khi c·∫•u h√¨nh nh∆∞ v·∫≠y ch√∫ng ta c√≥ th·ªÉ import file  <code class=\"language-inline-text\">.scss</code> b√™n trong file javascript</p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">import { groupBy } from 'lodash-es'\nimport people from './people'\n\n<span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> import './style.scss'\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> ...</span></span></code></pre></div>\n<p>T·∫°i sao ch√∫ng ta l·∫°i ƒëi import CSS v√†o trong file js? N·∫øu b·∫°n th·ªùi k·ª≥ tr∆∞·ªõc vi·ªác ch√®n h·∫ßm b√† l·∫±ng ki·ªÉu n√†y l√† c·ª±c k·ª≥ b·ªã l√™n √°n, nh∆∞ng b√¢y gi·ªù th·ªùi th·∫ø kh√°c, m·ªôt s·ªë l√Ω do ƒë·ªÉ tr·ªçn CSS v√†o trong js trong development</p>\n<ul>\n<li>M·ªôt component javascript s·∫Ω c√≥ th·ªÉ ph·ª• thu·ªôc v√†o CSS, images, SVG. N·∫øu ƒë∆∞·ª£c ƒë√≥ng g√≥i th√†nh 1 c·ª•c, ch√∫ng ta d·ªÖ mang n√≥ s·ª≠ d·ª•ng ·ªü n∆°i kh√°c h∆°n</li>\n<li>N·∫øu ch√∫ng ta kh√¥ng s·ª≠ d·ª•ng component, ƒëo·∫°n css import trong component c≈©ng s·∫Ω kh√¥ng ƒë∆∞·ª£c import lu√¥n, tr√°nh nh·ªØng vi·ªác load css ·ªü t·∫•t c·∫£</li>\n<li>Tr∆∞·ªõc ƒë√¢y n·∫øu d√πng OOP trong CSS, vi·ªác ch·ªânh s·ª≠a m·ªôt ƒëo·∫°n css s·∫Ω d·ªÖ b·ªã side effect, ·∫£nh h∆∞·ªõng ƒë·∫øn nh·ªØng ch·ªï ta kh√¥ng mong mu·ªën. CSS module ƒë·ªÉ CSS ch·ªâ ho·∫°t ƒë·ªông local th√¥i</li>\n<li>Gi·∫£m s·ªë l∆∞·ª£ng HTTP request xu·ªëng</li>\n</ul>\n<h1 id=\"image\"><a href=\"#image\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Image</h1>\n<p>D√πng <code class=\"language-inline-text\">file-loader</code> ƒë·ªÉ ƒë·ªçc file image. V·ªõi HTML chu·∫©n, image ƒë∆∞·ª£c s·ª≠ d·ª•ng b·∫±ng 2 c√°ch l√† d√πng tag <code class=\"language-inline-text\">img</code> ho·∫∑c thu·ªôc t√≠nh <code class=\"language-inline-text\">background-image</code>. V·ªõi Webpack, ch√∫ng ta c√≥ th·ªÉ optimize cho tr∆∞·ªùng h·ª£p dung l∆∞·ª£ng image v·ªõi k√≠ch th∆∞·ªõc nh·ªè th√†nh d·∫°ng <code class=\"language-inline-text\">string</code> b√™n trong javascript lu√¥n. L√∫c n√†y tr√¨nh duy·ªát kh√¥ng c·∫ßn load ri√™ng file image n·ªØa</p>\n<p>C√†i c√°i loader</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">nmp <span class=\"token function\">install</span> --save-dev file-loader</code></pre></div>\n<p>webpack.config.js</p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">module.exports = {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   module: {\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     rules: [\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">       ...\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">       {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         test: /\\.(png|svg|jpg|gif)$/,\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         use: [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">             loader: 'file-loader'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">           }\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">         ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">       }\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     ]\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   }\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre></div>\n<p>Trong l√∫c code ch√∫ng ta v·∫´n vi·∫øt b√¨nh th∆∞·ªùng</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> codeURL <span class=\"token keyword\">from</span> <span class=\"token string\">'./code.png'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">...</span>\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>codeURL<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">...</span></code></pre></div>\n<p>K·∫øt qu·∫£ bundle</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data:image/png;base64,iVBO...<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>C√≥ th·ªÉ ƒë·ªçc th√™m tr√™n docs c·ªßa <code class=\"language-inline-text\">file-loader</code> ƒë·ªÉ xem c√°ch ch·ªânh k√≠ch th∆∞·ªõc n√†o th√¨ chuy·ªÉn n·ªôi dung ·∫£nh th√†nh data URI. File loader c√≤n th·ªÉ th·ªÉ x·ª≠ l√Ω tr√™n m·ªôt s·ªë d·∫°ng file kh√°c n·ªØa, ch·ª© kh√¥ng ch·ªâ l√† h√¨nh th√¥i kh√¥ng.</p>\n<h1 id=\"code-splitting\"><a href=\"#code-splitting\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Code splitting</h1>\n<p>Tr√≠ch t·ª´ trang ch·ªß webpack</p>\n<blockquote>\n<p>Code splitting l√† m·ªôt trong nh·ªØng t√≠nh nƒÉng h·∫•p d·∫´n nh·∫•t c·ªßa Webpack. T√≠nh nƒÉng n√†y cho ph√©p b·∫°n t√°ch code ra th√†nh nhi·ªÅu file bundle ƒë·ªÉ load khi c·∫ßn thi·∫øt ho·∫∑c load song song. C√°i n√†y c√≥ th·ªÉ d√πng ƒë·ªÉ gi·∫£m k√≠ch th∆∞·ªõc file bundle v√† ki·ªÉm so√°t ƒë∆∞·ª£c load resource h·ª£p l√Ω h∆°n, n·∫øu s·ª≠ d·ª•ng ƒë√∫ng c√°ch, s·∫Ω gi·∫£m ƒë·∫£ng k·ªÉ th·ªùi gian load trang</p>\n</blockquote>\n<p>Tr∆∞·ªõc gi·ªù ch√∫ng ta ch·ªâ setup ƒë·ªÉ bundle ra 1 file duy nh·∫•t t·ª´ <code class=\"language-inline-text\">src/index.js</code> ra file <code class=\"language-inline-text\">dist/bundle.js</code>. Khi ·ª©ng d√∫ng ph√¨nh ra, ch√∫ng ta c·∫ßn t√°ch code ra th√†nh nhi·ªÅu file, to√†n b·ªô code ƒë·∫ßu c·∫ßn ph·∫£i load h·∫øt ngay t·ª´ ƒë·∫ßu ƒë√¢u nh·ªâ? D√πng <a href=\"https://webpack.js.org/guides/code-splitting/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code Slitting</a> v√† <a href=\"https://webpack.js.org/guides/lazy-loading/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Lazy Loading</a> ƒë·ªÉ ch·ªâ load khi c·∫ßn.</p>\n<div class=\"gridsome-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">  const path = require('path')\n</span></span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> module.exports = {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">   entry: './src/index.js',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">   entry: {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     app: './src/app.js'\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   },\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   output: {\n</span></span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span><span class=\"token line\">     filename: 'bundle.js',\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\">     filename: '[name].bundle.js',\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">     path: path.resolve(__dirname, 'dist')\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   },\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> }</span></span></code></pre></div>\n<p>V·ªõi setup nh∆∞ th·∫ø n√†y, n·∫øu ch√∫ng ta c√≥ 2 file trong th∆∞ m·ª•c <code class=\"language-inline-text\">src</code> l√† <code class=\"language-inline-text\">app.js</code> v√† <code class=\"language-inline-text\">chat.js</code>, webpack s·∫Ω bundle ra 2 file <code class=\"language-inline-text\">chat.bundle.js</code>, <code class=\"language-inline-text\">app.bundle.js</code></p>\n<p>B√†i sau n√≥i ti·∫øp plugins nh√©, k·∫øt th√∫c v·ªõi loaders ·ªü ƒë√¢y</p>\n<p><a href=\"https://www.sitepoint.com/beginners-guide-webpack-module-bundling/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Link b√†i g·ªëc</a>\nT√°c gi·∫£: Mark Brown</p>\n<p>Ch·ªânh s·ª≠a theo s·ª± hi·ªÉu c·ªßa m√¨nh m·ªôt t√≠</p>\n","cover_image":""}},{"node":{"id":"d7b36cee9f03beb7e7cdabdbd9c22600","title":"Webpack l√† g√¨ v√† t·∫°i sao ta ph·∫£i x√†i n√≥","path":"/2018-05-25-huong-dan-viet-code-javascript-tot-hon-voi-webpack/","date":"2018-05-25","timeToRead":5,"desc":"B√†i n√†y s·∫Ω n√≥i r√µ t·∫°i sao Webpack l√† s·ª± l·ª±a ch·ªçn s√°ng su·ªët cho bundle javascript","content":"<h1 id=\"trong-series-n√†y\"><a href=\"#trong-series-n%C3%A0y\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Trong Series n√†y</h1>\n<ol>\n<li><a href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\">Webpack l√† g√¨ v√† t·∫°i sao ta ph·∫£i x√†i n√≥</a></li>\n<li><a href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\">D√πng Loaders, code slitting trong webpack</a></li>\n<li><a href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\">Plugins, Development Server</a></li>\n</ol>\n<!-- TOC -->\n<ul>\n<li>\n<p><a href=\"#trong-series-n%C3%A0y\">Trong Series n√†y</a></p>\n<ul>\n<li>\n<p><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81\">V·∫•n ƒë·ªÅ</a></p>\n<ul>\n<li><a href=\"#c%C3%A1ch-t%E1%BB%91t-h%C6%A1n\">C√°ch t·ªët h∆°n</a></li>\n</ul>\n</li>\n<li><a href=\"#webpack-vs-gulp\">Webpack vs. Gulp</a></li>\n<li><a href=\"#vi%E1%BA%BFt-code-module\">Vi·∫øt code Module</a></li>\n<li><a href=\"#c%E1%BA%A5u-h%C3%ACnh-webpack\">C·∫•u h√¨nh Webpack</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"v·∫•n-ƒë·ªÅ\"><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V·∫•n ƒë·ªÅ</h2>\n<p>Vi·∫øt code client-side n·∫øu kh√¥ng c√≥ c√°c c√¥ng c·ª• h·ªó tr·ª£ th√¨ tr∆∞·ªõc sau v√¨ c≈©ng gi·ªëng nh∆∞ ƒë·ªëng h·ªón ƒë·ªôn tr√™n desktop, ƒë·ªÉ maintain v√† ng∆∞·ªùi kh√°c c√≥ th·ªÉ v√†o ƒë·ªçc hi·ªÉu ƒë∆∞·ª£c th√¨ vi·ªác code ƒë∆∞·ª£c t·ªï ch·ª©c t·ªët l√† ƒëi·ªÅu ai c≈©ng bi·∫øt, l√Ω thuy·∫øt l√† th·∫ø, nh∆∞ng n·∫øu c·ª© l√†m vi·ªác theo ki·ªÉu c≈© c·ª© quƒÉng script tr√†ng lan b·∫±ng th·∫ª <code class=\"language-inline-text\">&lt;script></code> s·∫Ω ch·∫≥ng d·ªÖ g√¨ s·∫Øp x·∫øp v√† nh·ªõ n·ªïi c√°i n√†o l√† c√°i n√†o n·∫øu, add th√™m c·ª° ch·ª•c files, <em>best practice</em> khuy√™n r·∫±ng h·∫°n ch·∫ø s·ªë l∆∞·ª£ng file script c√†ng √≠t c√†ng t·ªët, t·ªët nh·∫•t l√† 1 file duy nh·∫•t.</p>\n<p>Tr∆∞·ªõc ƒë√¢y c√≥ nhi·ªÅu gi·∫£i ph√°p cho v·∫•n ƒë·ªÅ nh∆∞ l√† Gulp, d√πng ƒë·ªÉ bunch to√†n b·ªô javascript th√†nh 1 file. Nh∆∞ng ch∆∞a ƒë·ªß. V·ªõi Gulp ch√∫ng ta ƒë√£ ƒë·∫©y c√°c dependency ngang h√†ng nhau, v√† ph·ª• thu·ªôc v√†o bi·∫øn global ƒë·ªÉ chia s·∫Ω d·ªØ li·ªáu gi·ªØa c√°c files.</p>\n<h3 id=\"c√°ch-t·ªët-h∆°n\"><a href=\"#c%C3%A1ch-t%E1%BB%91t-h%C6%A1n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°ch t·ªët h∆°n</h3>\n<p>N·∫øu tr∆∞·ªõc ƒë√¢y ch∆∞a t·ª´ng s·ª≠ d·ª•ng m·∫•y c√°i tool ƒë·ªÉ qu·∫£n l√Ω asset ·ªü frontend, t·ªët nh·∫•t l√† h·ªçc lu√¥n Webpack, b·ªè qua Gulp, Gruntjs lu√¥n. C√≤n n·∫øu n·∫øu ƒë√£ t·ª´ng d√πng m·∫•y task runner ki·ªÉu Gulp, Gruntjs, th√¨ chuy·ªÉn qua d√πng webpack c≈©ng kh√¥ng kh√≥ khƒÉn l·∫Øm, ch·ªâ l√† kh√°c nhau c√°ch t·ªï ch·ª©c v√† qu·∫£n l√Ω dependency.</p>\n<h2 id=\"webpack-vs-gulp\"><a href=\"#webpack-vs-gulp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Webpack vs. Gulp</h2>\n<p>Ch·∫Øc ƒë√£ t·ª´ng nghe t·ªõi c√¢u n√†y: <strong>Gulp l√† task runner, Webpack l√† module bundler</strong>, √Ω nhƒ©a th·∫≠t s·ª± sau c√¢u n√†y l√† g√¨?</p>\n<p>Gulp l√† c√¥ng c·ª• t·ª± ƒë·ªông h√≥a t·ªët, cho ph√©p ch√∫ng ta setup m·ªôt m·ªõ c√°c ti·∫øn tr√¨nh ph·ª©c t·∫°p c·∫ßn th·ª±c hi·ªán (m·ªôt c√°ch t·ª± ƒë·ªông) b·∫±ng javascript, r·ªìi ch·∫°y n√≥ b·∫±ng m·ªôt l·ªánh duy nh·∫•t. V·∫•n ƒë·ªÅ v·ªõi Gulp l√† n·∫øu code file A depend v√†o code ·ªü file B, b·∫°n c·∫ßn b√°o c√°o v·ªõi Gulp ƒë·ªÉ n√≥ include file A tr∆∞·ªõc, v√† khi b·∫°n th√™m c√†ng l√∫c c√†ng nhi·ªÅu file depend ch·ªìng ch√©o ki·ªÉu n√†y, c√¢y dependency l√† l·ªõn d·∫ßn, v√† s·∫Ω g·∫ßn nh∆∞ kh√¥ng th·ªÉ maintain ƒë∆∞·ª£c n·ªØa, v√¨ ch√∫ng ta ph·∫£i config b·∫±ng tay, n·∫øu s·ª≠ d·ª•ng file manifest v·ªõi plugin <code class=\"language-inline-text\">asset-builder</code> c≈©ng kh√¥ng th·ªÉ c·ª©u v√£n.</p>\n<p><img src=\"https://res.cloudinary.com/forestry-demo/image/fetch/c_limit,dpr_auto,f_auto,q_80,w_674/https://forestry.io/uploads/2018/03/webpack_fighter_of_the_gulpstack_champion_of_the_bundle.png\"></p>\n<p>B√†i to√°n dependency n√†y ƒë√£ ƒë∆∞·ª£c Webpack gi·∫£i quy·∫øt tri·ªát ƒë·ªÉ. Nh·ªØng g√¨ b·∫°n c·∫ßn l√†m l√† b√°o v·ªõi Webpack file <strong>entry</strong> point m√¨nh c·∫ßn bundle l√† g√¨, chuy·ªán b·∫°n <em>import module</em> l√∫c code s·∫Ω do webpack ƒë·∫£m nhi·ªám chuy·ªán d·ª±ng l√™n dependency graph, webpack s·∫Ω bundle cho b·∫°n 1 file duy nh·∫•t b·∫°n c·∫ßn. Ch√∫ng ta kh·ªèi ph·∫£i b√°o c√°o v·ªõi webpack th·ª© t·ª± c√°c file n√†o c·∫ßn tr∆∞·ªõc hay sau, ƒë·ªÉ ƒë√≥ Webpack lo!</p>\n<p>Ng·∫Øn g·ªçn l√†: v·ªõi Gulp dependency b·ªã gi·ªõi h·∫°n v√¨ n√≥ y√™u c·∫ßu m√¨nh t·ª± ch·ªâ ƒë·ªãnh s·ª± ph·ª• thu·ªôc, Webpack th√¨ n√≥ d√πng logic ƒë·ªÉ t√≠nh to√°n r·ªìi bundle ƒë√∫ng th·ª© t·ª±.</p>\n<h2 id=\"vi·∫øt-code-module\"><a href=\"#vi%E1%BA%BFt-code-module\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Vi·∫øt code Module</h2>\n<p>ƒê·ªÉ Webpack ho·∫°t ƒë·ªông nh∆∞ ph√©p m√†u nh∆∞ v·∫≠y, ch√∫ng ta ch·ªâ c·∫ßn vi·∫øt javascript c·ªßa m√¨nh d·∫°ng <em>module</em>. Vi·∫øt module trong javascript l√† t√°ch c√°c file ra th√†nh nhi·ªÅu file, vi·ªác s·ª≠ d·ª•ng code gi·ªØa c√°c file s·∫Ω th·ª±c hi·ªán b·∫±ng <strong>export</strong> v√† <strong>import</strong></p>\n<p>Webpack h·ªó tr·ª£ 2 chu·∫©n module h√≥a hi·ªán gi·ªù l√† <strong>EcmaScript</strong> v√†  <strong>CommonJS</strong>. V√≠ d·ª• b√™n d∆∞·ªõi ƒë·ªÉ h√¨nh dung c√°ch vi·∫øt module trong file <code class=\"language-inline-text\">hello.js</code> r·ªìi <strong>import</strong> v√†o trong file <code class=\"language-inline-text\">app.js</code> b·∫±ng c·∫£ 2 ki·ªÉu vi·∫øt EcmaScript v√† CommonJS</p>\n<p>Vi·∫øt ki·ªÉu <strong>EcmaScript</strong></p>\n<p><strong>hello.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello Binh An!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>app.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>hello<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./hello'</span>\n<span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Vi·∫øt ki·ªÉu <strong>CommonJS</strong></p>\n<p><strong>hello.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello B√¨nh An!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>app.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> hello <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./hello'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"c·∫•u-h√¨nh-webpack\"><a href=\"#c%E1%BA%A5u-h%C3%ACnh-webpack\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C·∫•u h√¨nh Webpack</h2>\n<p>M·ªôt ƒëi·ªÉm hay c·ªßa webpack l√† n·∫øu c√≥ ai ƒë√≥ ƒë√£ config r·ªìi th√¨ nh·ªØng ng∆∞·ªùi sau kh√¥ng c·∫ßn ph·∫£i v√†o file config ƒë·ªÉ hi·ªÉu c√°ch t·ªï ch·ª©c code, ch·ªâ c·∫ßn hi·ªÉu ƒë∆∞·ª£c c√°ch t·ªï ch·ª©c code c·ªßa project.</p>\n<p>Gi·ªù th·ª≠ config ƒë∆°n gi·∫£n nh·∫•t ƒë·ªÉ hi·ªÉu m·ªôt s·ªë th√†nh ph·∫ßn quan tr·ªçng nh·∫•t c·ªßa webpack</p>\n<p>T·ªï ch·ª©c project nh∆∞ v·∫ßy</p>\n<div class=\"gridsome-highlight\" data-language=\"basic\"><pre class=\"language-basic\"><code class=\"language-basic\">src<span class=\"token operator\">/</span>\n    app.js\nwebpack.config.js</code></pre></div>\n<p>M·∫∑t ƒë·ªãnh Webpack s·∫Ω t√¨m file config v·ªõi t√™n l√† <strong>webpack.config.js</strong>. Ti·∫øp ch√∫ng ta c·∫ßn c√†i <strong>webpack</strong> v√† <strong>webpack-cli</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> init -y\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev webpack webpack-cli</code></pre></div>\n<p>Trong file <strong>webpack.config.js</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    entry<span class=\"token operator\">:</span> <span class=\"token string\">'./src/app.js'</span><span class=\"token punctuation\">,</span>\n    output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'dist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        filename<span class=\"token operator\">:</span> <span class=\"token string\">'bundle.js'</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>2 ph·∫ßn quan tr·ªçng nh·∫•t m√† ph·∫£i bi·∫øt l√† <strong>entry</strong> - file source n·∫±m ·ªü ƒë√¢u v√† <strong>output</strong> - file s·∫Ω bundle ·ªü ƒë√¢u. S·ª≠ d·ª•ng module <code class=\"language-inline-text\">path</code> ƒë·ªÉ bi·∫øt v·ªã tr√≠ th·ª±c t·∫ø l√∫c ch·∫°y.</p>\n<p>Ch·∫°y CLI ƒë·ªÉ bundle</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">./node_modules/webpack-cli/bin/webpack.js</code></pre></div>\n<p>N√≥ s·∫Ω ƒë·ªçc source trong file <code class=\"language-inline-text\">src/app.js</code> r·ªìi compile v√†o <code class=\"language-inline-text\">dist/bundle.js</code>. Th∆∞ m·ª•c sau khi ch·∫°y xong s·∫Ω c√≥</p>\n<div class=\"gridsome-highlight\" data-language=\"basic\"><pre class=\"language-basic\"><code class=\"language-basic\">dist<span class=\"token operator\">/</span>\n    bundle.js\nsrc<span class=\"token operator\">/</span>\n    app.js\npackage.json\nwebpack.config.js</code></pre></div>\n<p>ƒê·ªÉ r√∫t ch·∫°y ƒëo·∫°n CLI d√†i ngo·∫±n <code class=\"language-inline-text\">./node_modules/webpack-cli/bin/webpack.js</code> c√≥ th·ªÉ th√™m m·ªôt custom script trong file <strong>package.json</strong>. B·∫°n c√≥ th·ªÉ ch·∫°y n√≥ b·∫±ng <code class=\"language-inline-text\">npm run SCRIPT_NAME</code></p>\n<p>Th√™m v√†o trong <strong>package.json</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>    \n    <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./node_modules/webpack-cli/bin/webpack.js\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"watch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./node_modules/webpack-cli/bin/webpack.js --watch\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Gi·ªù ch√∫ng ta c√≥ th·ªÉ ch·∫°y b·∫±ng l·ªánh <code class=\"language-inline-text\">npm run build</code>, ·ªü tr√™n ch√∫ng ta c≈©ng v·ª´a th√™m ƒëo·∫°n <code class=\"language-inline-text\">npm run watch</code>, th√™m option <code class=\"language-inline-text\">--watch</code> ƒë·ªÉ khi c√≥ b·∫•t k·ª≥ thay ƒë·ªïi n√†o n√≥ s·∫Ω t·ª± ƒë·ªông detect v√† compile l·∫°i.</p>\n<p>!!!! CUNG H·ª∂ !!!!!</p>\n<p>B·∫°n ƒë√£ ch·∫°m ƒë∆∞·ª£c v√†o c√°nh c·ª≠a ƒë·∫ßu ti√™n c·ªßa webpack, webpack c√≤n nhi·ªÅu kh·∫£ nƒÉng n·ªØa, tuy nhi√™n module bundle l√† core feature, b√†i ti·∫øp theo ch√∫ng ta s·∫Ω kh√°m ph√° nhi·ªÅu h∆°n nh∆∞ loaders, plugins, development server.</p>\n<p><a href=\"2017-10-18-import-va-export-trong-javascript\">T√¨m hi·ªÉu th√™m v·ªÅ import v√† export</a></p>\n<p><a href=\"https://forestry.io/blog/write-better-javascript-with-webpack/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Link b√†i g·ªëc</a></p>\n<p>T√°c gi·∫£: DJ Walker</p>\n","cover_image":""}},{"node":{"id":"936bd0d7d301376494576278881f51ac","title":"S·ª≠ d·ª•ng bi·∫øn Node Environment","path":"/2018-03-09-huong-dan-su-dung-bien-enviroment-nhu-the-nao/","date":"2018-03-09","timeToRead":2,"desc":"Bi·∫øn environment l√† m·ªôt ph·∫ßn c∆° b·∫£n c·∫ßn bi·∫øt khi l√†m vi·ªác v·ªõi Node","content":"<p>Khi nh·∫Øc ƒë·∫øn thu·∫≠t ng·ªØ \"Environment Variable\" l√† nghƒ© ngay t·ªõi vi·ªác thi·∫øt ƒë·∫∑t bi·∫øn n√†y cho th∆∞ m·ª•c Java Home trong windows</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*NWeRct1eJ16rAmEaabKV7A.png\"></p>\n<p>Th·∫≠t ra kh√¥ng li√™n quan g√¨ ƒë√¢u nh√°</p>\n<p>Trong Node, bi·∫øn Environment l√† m·ªôt bi·∫øn global, th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ch·ªâ ƒë·ªãnh <code class=\"language-inline-text\">process</code> n√†o mu·ªën ch·∫°y. V√≠ d·ª•, khi ch·∫°y m·ªôt ·ª©ng d·ª•ng web, ta s·∫Ω c√≥ c√°c bi·∫øn <strong>Environment</strong> sau:</p>\n<ul>\n<li>Port</li>\n<li>Database connection string</li>\n</ul>\n<p>N·∫øu ƒë√£ t·ª´ng l√†m vi·ªác v·ªõi .Net, ch·∫Øc s·∫Ω bi·∫øt t·ªõi file <code class=\"language-inline-text\">web.config</code>. Bi·∫øn Environment l√†m vi·ªác i nh∆∞ c√°c thi·∫øt ƒë·∫∑t trong <code class=\"language-inline-text\">web.config</code></p>\n<p>·∫¢nh vui nha</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*v9l07sac43rmP-FAXxmwkw.png\"></p>\n<h1 id=\"set-gi√°-tr·ªã-b·∫±ng-terminal\"><a href=\"#set-gi%C3%A1-tr%E1%BB%8B-b%E1%BA%B1ng-terminal\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Set gi√° tr·ªã b·∫±ng terminal</h1>\n<p>Th√≠ d·ª• ta set gi√° tr·ªã c·ªßa <code class=\"language-inline-text\">PORT</code> </p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PORT=6060 NODE_ENV=production webpack</code></pre></div>\n<p>Gi·ªù l√∫c code, ta g·ªçi c√°i bi·∫øn n√†y ra b·∫±ng c√°ch</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> port <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">PORT</span></code></pre></div>\n<p>Kh√¥ng ph·∫£i l√∫c n√†o set gi√° tr·ªã c·ªßa bi·∫øn <code class=\"language-inline-text\">env</code> b·∫±ng terminal, v√≠ d·ª• connection string th√¨ kh√¥ng ai ƒë∆∞a v√†o b·∫±ng terminal</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PORT=65534 DB_CONN=\"mongodb://react-cosmos-db:swQOhAsVjfHx3Q9VXh29T9U8xQNVGQ78lEQaL6yMNq3rOSA1WhUXHTOcmDf38Q8rg14NHtQLcUuMA==@react-cosmos-db.documents.azure.com:19373/?ssl=true&amp;replicaSet=globaldb\" SECRET_KEY=b6264fca-8adf-457f-a94f-5a4b0d1ca2b9</code></pre></div>\n<h1 id=\"set-gi√°-tr·ªã-b·∫±ng-file-env\"><a href=\"#set-gi%C3%A1-tr%E1%BB%8B-b%E1%BA%B1ng-file-env\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Set gi√° tr·ªã b·∫±ng file <code class=\"language-inline-text\">.env</code></h1>\n<p>T·∫°o ra m·ªôt c√°i file <code class=\"language-inline-text\">.env</code> trong c√πng th∆∞ m·ª•c project, khai b√°o m·ªõ bi·∫øn environment ·ªü ƒë√¢y</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PORT=65534\n\nDB_CONN=\"mongodb://react-cosmos-db:swQOhAsVjfHx3Q9VXh29T9U8xQNVGQ78lEQaL6yMNq3rOSA1WhUXHTOcmDf38Q8rg14NHtQLcUuMA==@react-cosmos-db.documents.azure.com:10255/?ssl=true&amp;replicaSet=globaldb\"\n\nSECRET_KEY=\"b6264fca-8adf-457f-a94f-5a4b0d1ca2b9\"</code></pre></div>\n<p>ƒê·ªÉ ƒë·ªçc ƒë∆∞·ª£c gi√° tr·ªã n√†y, c√≥ r·∫•t nhi·ªÅu c√°ch, m√† c√°ch n√†o th√¨ c≈©ng ph·∫£i c√°i th√™m package!, d√πng package d·ªÖ nh·∫•t l√† <code class=\"language-inline-text\">dotenv</code></p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install dotenv --save</code></pre></div>\n<p>Vi·ªác s·ª≠ d·ª•ng h·∫øt s·ª©c ƒë∆°n gi·∫£n nh∆∞ sau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dotenv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> MongoClient <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'m√¥ngdb'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>MongoClient<span class=\"token punctuation\">;</span>\n\nMongoClient<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">DB_CONN</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> db</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"We are connected\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>L∆∞u √Ω ƒë·ª´ng check in file <code class=\"language-inline-text\">.env</code> n√†y l√™n github, n·∫øu checkin l√™n Github s·∫Ω b√°o ngay t·ªõi email l√† vi·ªác l√†m n√†y h·∫øt s·ª©c nguy h·∫°i t·ªõi s·ª± 'ri√™ng t∆∞'!</p>\n</blockquote>\n<h1 id=\"extension-c·ªßa-vscode\"><a href=\"#extension-c%E1%BB%A7a-vscode\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Extension c·ªßa VSCode</h1>\n<p>N·∫øu ƒëang d√πng VSCode, m·ªôt s·ªë extension n√†y s·∫Ω h·ªØu √≠ch</p>\n<p>DotENV extension: mang m√†u s·∫Øc ƒë·∫øn v·ªõi cu·ªôc s·ªëng</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*K5PBHyeMSrND58ycVyw3YA.png\"></p>\n","cover_image":""}},{"node":{"id":"fa6427dbf45972e462dae10dc617d76e","title":"Import v√† Export trong Javascript b·∫±ng Webpack","path":"/2017-10-18-import-va-export-trong-javascript/","date":"2017-10-18","timeToRead":2,"desc":"B√†n v·ªÅ c√°c ki·ªÉu import v√† export module trong javascript v·ªõi Webpack","content":"<!-- TOC -->\n<ul>\n<li>\n<p><a href=\"#export\">Export</a></p>\n<ul>\n<li><a href=\"#c%C3%BA-ph%C3%A1p\">C√∫ ph√°p</a></li>\n<li><a href=\"#gi%E1%BA%A3i-th%C3%ADch\">Gi·∫£i th√≠ch</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#import\">Import</a></p>\n<ul>\n<li><a href=\"#c%C3%BA-ph%C3%A1p-1\">C√∫ ph√°p</a></li>\n<li><a href=\"#gi%E1%BA%A3i-th%C3%ADch-1\">Gi·∫£i th√≠ch</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<p>·ªû ƒë√¢y m√¨nh s·∫Ω n√≥i c√°ch import v√† export v·ªõi webpack, m·ªõi ƒë√¢y, thi√™n h·∫° ƒëang ƒë·ªÅ ngh·ªã h·ªó tr·ª£ <a href=\"/2018-07-02-huong-dan-javascript-modules-tren-web\">import v√† export v·ªõi native javascript</a></p>\n<p>M·ªôt <strong>gi√° tr·ªã</strong>, <strong>h√†m</strong>, <strong>object</strong> c√≥ th·ªÉ ƒë∆∞·ª£c <code class=\"language-inline-text\">export</code> t·ª´ m·ªôt file n√†y v√† d√πng c√¢u l·ªánh <code class=\"language-inline-text\">import</code> ƒë·ªÉ s·ª≠ d·ª•ng b√™n trong file kh√°c.</p>\n<h1 id=\"export\"><a href=\"#export\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Export</h1>\n<h2 id=\"c√∫-ph√°p\"><a href=\"#c%C3%BA-ph%C3%A1p\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√∫ ph√°p</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span>name1<span class=\"token punctuation\">,</span> name2<span class=\"token punctuation\">,</span> name3<span class=\"token punctuation\">,</span><span class=\"token operator\">...</span><span class=\"token punctuation\">,</span> nameN<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// export s·ª≠ d·ª•ng alias</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span>name1 <span class=\"token keyword\">as</span> differentName1<span class=\"token punctuation\">,</span> name2 <span class=\"token keyword\">as</span> differentName2<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// export m·ªôt bi·∫øn ho·∫∑c h·∫±ng s·ªë</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> name1<span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> name2<span class=\"token punctuation\">,</span> <span class=\"token keyword\">var</span> name3\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> name1 <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">const</span> name2 <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">var</span> name3 <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\n\n<span class=\"token comment\">// export m·ªôt class ho·∫∑c function</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> expression<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">name1</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"gi·∫£i-th√≠ch\"><a href=\"#gi%E1%BA%A3i-th%C3%ADch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·∫£i th√≠ch</h2>\n<p>C√≥ 2 ki·ªÉu <code class=\"language-inline-text\">export</code></p>\n<ol>\n<li>Export 1 function ƒë√£ ƒë∆∞·ª£c khai b√°o ho·∫∑c m·ªôt gi√° tr·ªã: <strong>export c√≥ ƒë·ªãnh danh</strong></li>\n</ol>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// exports h√†m ƒë√£ khai b√°o tr∆∞·ªõc ƒë√≥</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> myFunction <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token comment\">// exports m·ªôt h·∫±ng s·ªë</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"2\">\n<li><strong>Default Export</strong> cho m·ªôt h√†m ho·∫∑c class</li>\n</ol>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Khi export c√≥ ƒë·ªãnh danh th√¨ khi import c≈©ng ph·∫£i g·ªçi ƒë√∫ng t√™n ƒë√£ export, c√≤n n·∫øu s·ª≠ d·ª•ng <em>default export</em> th√¨ khi import ƒë·∫∑t t√™n l√† g√¨ c≈©ng ƒë∆∞·ª£c.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> k <span class=\"token operator\">=</span> <span class=\"token number\">12</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// test.js</span>\n\n<span class=\"token keyword\">import</span> m <span class=\"token keyword\">from</span> <span class=\"token string\">'./test'</span> \nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// log 12</span></code></pre></div>\n<p>Tr√™n m·ªôt file ch·ªâ c√≥ th·ªÉ c√≥ m·ªôt default export, c√¢u l·ªánh sau kh√¥ng ph·∫£i l√† default export</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> from <span class=\"token operator\">...</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"import\"><a href=\"#import\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Import</h1>\n<h2 id=\"c√∫-ph√°p-1\"><a href=\"#c%C3%BA-ph%C3%A1p-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√∫ ph√°p</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> defaultExport <span class=\"token keyword\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> name <span class=\"token keyword\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">export</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">export</span> <span class=\"token keyword\">as</span> alias <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> export1 <span class=\"token punctuation\">,</span> export2 <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> export1 <span class=\"token punctuation\">,</span> export2 <span class=\"token keyword\">as</span> alias2 <span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> defaultExport<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">export</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> defaultExport<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> name <span class=\"token keyword\">from</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"module-name\"</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"gi·∫£i-th√≠ch-1\"><a href=\"#gi%E1%BA%A3i-th%C3%ADch-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·∫£i th√≠ch</h2>\n<p>Module export c√≥ t√™n qu√° d√†i, c√≥ th·ªÉ ƒë·∫∑t alias trong c√¢u <code class=\"language-inline-text\">import</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>reallyReallyLongModuleExportName <span class=\"token keyword\">as</span> shortName<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'/modules/my-module.js'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Import t·∫•t c·∫£ c√°c gi√° tr·ªã, h√†m, object,... ƒë√£ export trong m·ªôt file kh√°c</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> myModule <span class=\"token keyword\">from</span> <span class=\"token string\">'another.file'</span></code></pre></div>\n<p>Import ch·ªâ ƒë·ªãnh m·ªôt s·ªë h√†m, object, gi√° tr·ªã trong file</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>funcA<span class=\"token punctuation\">,</span> objB<span class=\"token punctuation\">,</span> constC<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'another.file'</span></code></pre></div>\n","cover_image":""}}]}}},"context":{}}
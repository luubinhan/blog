{"hash":"11fd49ff7dfa599f2ece96e1f20e52693dbc054b","data":{"tag":{"title":"medium","belongsTo":{"edges":[{"node":{"id":"f92db246b489ea2b34cf82e11e30aea6","title":"LÃ m tÃ­nh nÄƒng Theme trong React?","path":"/2021-02-21-lam-theme-bang-css-hay-react-context/","date":"2021-02-21","timeToRead":3,"desc":"Sáº½ cÃ³ nhiá»u tiáº¿p cáº­n Ä‘á»ƒ lÃ m theme cho trang web, má»• xáº» 2 cÃ¡ch phá»• biáº¿n hiá»‡n nay trong React, chá»n cÃ¡ch nÃ o cho nÃ³ Ä‘Æ¡n giáº£n nhÆ°ng mang láº¡i hiá»‡u quáº£ cao","content":"<p>Äá»ƒ há»— trá»£ tÃ­nh nÄƒng <em>Theme</em>, cho phÃ©p ngÆ°á»i dÃ¹ng lá»±a chá»n kiá»ƒu giao diá»‡n mÃ  há» thÃ­ch, trong React, báº¡n sáº½ cÃ³ thá»ƒ tiáº¿p cáº­n 1 trong 2 cÃ¡ch dÃ¹ng CSS-in-JS hoáº·c dÃ¹ng CSS variable (táº¥t nhiÃªn khÃ´ng cÃ³ há»— trá»£ vá»›i IE)</p>\n<p>Náº¿u dÃ¹ng CSS-in-JS báº¡n sáº½ cÃ³ thá»ƒ lÃ m Ä‘Æ°á»£c nhiá»u <em>thá»©</em> hÆ¡n, báº¡n cÃ³ má»™t bá»™ cÃ´ng cá»¥ Ä‘á»§ cÃ¡c <strong>Ä‘áº¡o cá»¥</strong> Ä‘á»ƒ mua mai trong JS. BÃ i viáº¿t nÃ y sáº½ chá»‰ ra táº¡i sao báº¡n nÃªn dÃ¹ng CSS variable cho nhu cáº§u lÃ m theme</p>\n<p>Náº¿u dÃ¹ng CSS-in-JS, trong React báº¡n sáº½ tá»• chá»©c má»™t <code class=\"language-inline-text\">ThemeProvider</code> báº±ng React Context, dÃ¹ng hook <code class=\"language-inline-text\">useTheme</code>  Ä‘á»ƒ láº¥y giÃ¡ trá»‹ trong <code class=\"language-inline-text\">ThemeProvider</code>, sáº½ nhÆ° tháº¿ nÃ y</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'@emotion/styled'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>ThemeProvider<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'emotion-theming'</span>\n\n<span class=\"token keyword\">const</span> themes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  light<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    colors<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      primary<span class=\"token operator\">:</span> <span class=\"token string\">'deeppink'</span><span class=\"token punctuation\">,</span>\n      background<span class=\"token operator\">:</span> <span class=\"token string\">'white'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  dark<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    colors<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      primary<span class=\"token operator\">:</span> <span class=\"token string\">'lightpink'</span><span class=\"token punctuation\">,</span>\n      background<span class=\"token operator\">:</span> <span class=\"token string\">'black'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> PrimaryText <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span><span class=\"token function\">div</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>theme<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  padding<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  color<span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>colors<span class=\"token punctuation\">.</span>primary<span class=\"token punctuation\">,</span>\n  backgroundColor<span class=\"token operator\">:</span> theme<span class=\"token punctuation\">.</span>colors<span class=\"token punctuation\">.</span>background<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">ThemeToggler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>theme<span class=\"token punctuation\">,</span> onClick<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> nextTheme <span class=\"token operator\">=</span> theme <span class=\"token operator\">===</span> <span class=\"token string\">'light'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'dark'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'light'</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">onClick</span><span class=\"token punctuation\">(</span>nextTheme<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      Change to </span><span class=\"token punctuation\">{</span>nextTheme<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> mode\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>theme<span class=\"token punctuation\">,</span> setTheme<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ThemeProvider</span></span> <span class=\"token attr-name\">theme</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>themes<span class=\"token punctuation\">[</span>theme<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">PrimaryText</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">This text is the primary color</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">PrimaryText</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ThemeToggler</span></span>\n        <span class=\"token attr-name\">theme</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>theme<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nextTheme</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTheme</span><span class=\"token punctuation\">(</span>nextTheme<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ThemeProvider</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App</code></pre></div>\n<p>Náº¿u dÃ¹ng CSS variable, chÃºng ta khai bao má»™t bá»™ cÃ¡c biáº¿n cáº§n dÃ¹ng, rá»“i chÃ¨n thÃªm <code class=\"language-inline-text\">data-theme</code> cho tháº» <code class=\"language-inline-text\">body</code></p>\n<p>CSS</p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">body[data-theme='light']</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--colors-primary</span><span class=\"token punctuation\">:</span> deeppink<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--colors-background</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">body[data-theme='dark']</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--colors-primary</span><span class=\"token punctuation\">:</span> lightpink<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--colors-background</span><span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Pháº§n implement cá»§a React component lÃºc nÃ y sá»­a láº¡i</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./css-vars.css'</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'@emotion/styled'</span>\n\n<span class=\"token keyword\">const</span> PrimaryText <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span><span class=\"token function\">div</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  padding<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  color<span class=\"token operator\">:</span> <span class=\"token string\">'var(--colors-primary)'</span><span class=\"token punctuation\">,</span>\n  backgroundColor<span class=\"token operator\">:</span> <span class=\"token string\">'var(--colors-background)'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">ThemeToggler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>theme<span class=\"token punctuation\">,</span> setTheme<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> nextTheme <span class=\"token operator\">=</span> theme <span class=\"token operator\">===</span> <span class=\"token string\">'light'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'dark'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'light'</span>\n  React<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>dataset<span class=\"token punctuation\">.</span>theme <span class=\"token operator\">=</span> theme\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>theme<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTheme</span><span class=\"token punctuation\">(</span>nextTheme<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      Change to </span><span class=\"token punctuation\">{</span>nextTheme<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> mode\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">PrimaryText</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">This text is the primary color</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">PrimaryText</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ThemeToggler</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App</code></pre></div>\n<p>Tháº³ng tháº¯n mÃ  nÃ³i, cáº£ 2 cÃ¡ch lÃ m nÃ y Ä‘á»u cho káº¿t quáº£ nhÆ° nhau vá» máº·t trÃ£i nghiá»‡m sá»­ dá»¥ng, dÃ¹ng CSS-in-JS sáº½ cÃ³ chÃºt cáº£m giÃ¡c hÆ¡i quÃ¡ Ä‘Ã  ká»¹ thuáº­t, tá»« chuyÃªn ngÃ nh lÃ  over-engineering.</p>\n<iframe src=\"https://codesandbox.io/embed/css-variables-vs-themeprovider-df90h?fontsize=14&hidenavigation=1&theme=dark\"\n     style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"CSS Variables vs ThemeProvider\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n<p>Vá» hiá»‡u nÄƒng thÃ¬ sao?</p>\n<p>ThemeProvider</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/b903d3908c2f09f6139573d3da3ce48d0e831885/2cc29/static/e25d5f73f3fffe0fed8586eea95892df/e7448/theme-provider.png\" alt=\"Profiling session showing everything rendered\"></p>\n<p>CSS variable</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/e737a004afce33b75c4c0b07e42c58a3ff1aaeec/21d3b/static/47d22cd6f96a31f50329ff658f18af39/e7448/css-vars.png\" alt=\"Profiling session showing only one component rendered\"></p>\n<p>CÅ©ng khÃ´ng nháº¥t thiáº¿t pháº£i nhÃ¬n vÃ o con sá»‘ mili giÃ¢y pháº£i tá»‘n cho viá»‡c render, vÃ¬ simple nÃ y khÃ¡ lÃ  bÃ©. Báº¡n cá»© hÃ¬nh dÃ¹ng náº¿u má»™t cÃ¢y React Component vá»›i hÃ ng trÄƒm component con lá»“ng ghÃ©p nhau, khi thay Ä‘á»•i giÃ¡ trá»‹ trong ThemeProvider, táº¥t cáº£ nhá»¯ng component Ä‘á»u bá»‹ render láº¡i thÃ¬ sáº½ nhÆ° tháº¿ nÃ o? Viá»‡c dÃ¹ng CSS variable sáº½ mang láº¡i hiá»‡u quáº£ hÆ¡n nhiá»u vÃ¬ trÃ¬nh duyá»‡t khÃ´ng pháº£i lÃ m quÃ¡ nhiá»u thá»© nhÆ° cÃ¡ch 1.</p>\n<p>CÃ³ má»™t lÃ½ do mÃ  mÃ¬nh cho lÃ  hÆ¡i ngá»¥y biá»‡n khi khÄƒng khÄƒng Ä‘Ã²i dÃ¹ng JS-in-CSS theo mÃ¬nh Ä‘oÃ¡n lÃ  cÃ¡c báº¡n tháº­t sá»± chÆ°a Ä‘á»§ tá»± tin cÅ©ng nhÆ° \"trÃ¬nh\" Ä‘á»ƒ viáº¿t CSS hiá»‡n Ä‘áº¡i, báº¡n chuyÃªn tÃ¢m nÃ¢ng táº§m JS cá»§a mÃ¬nh mÃ  quÃªn máº¥t viá»‡c nÃ¢ng táº§m CSS, vÃ³n Ä‘Ã£ phÃ¡t triá»ƒn ráº¥t xa tá»« cÃ¡i thá»i báº¡n dÃ¹ng <code class=\"language-inline-text\">float</code></p>\n<p><a href=\"https://epicreact.dev/css-variables/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Use CSS Variables instead of React Context</a></p>\n","cover_image":""}},{"node":{"id":"af1b4fabe8e0499431dafa72082c9288","title":"Há»i nhanh Ä‘Ã¡p gá»n vá» REST","path":"/2021-01-15-rest-faq-hoi-nhanh-dap-gon-ve-rest/","date":"2021-01-15","timeToRead":3,"desc":"ChuyÃªn má»¥c há»i nhanh - Ä‘Ã¡p gá»n, náº¿u báº¡n chÆ°a biáº¿t gÃ¬ vá» REST","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#m%E1%BB%99t-v%C3%A0i-%C4%91%E1%BA%B7c-t%C3%ADnh-ch%C3%ADnh-c%E1%BB%A7a-rest\">Má»™t vÃ i Ä‘áº·c tÃ­nh chÃ­nh cá»§a REST?</a></li>\n<li><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-response\">CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a má»™t http response</a></li>\n<li><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-request\">CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a má»™t http request</a></li>\n<li><a href=\"#stateless-l%C3%A0-g%C3%AC\">Stateless lÃ  gÃ¬?</a></li>\n<li><a href=\"#stateless-c%C3%B3-g%C3%AC-hay\">Stateless cÃ³ gÃ¬ hay?</a></li>\n<li><a href=\"#v%C3%A0i-c%C3%A1i-status-code-ph%E1%BB%95-bi%E1%BA%BFn\">VÃ i cÃ¡i status code phá»• biáº¿n?</a></li>\n<li><a href=\"#c%C3%A1i-g%C3%AC-cache-%C4%91%C6%B0%E1%BB%A3c-c%C3%A1i-g%C3%AC-kh%C3%B4ng\">CÃ¡i gÃ¬ cache Ä‘Æ°á»£c, cÃ¡i gÃ¬ khÃ´ng?</a></li>\n<li><a href=\"#kh%C3%A1c-nhau-gi%E1%BB%AFa-ajax-v%C3%A0-rest\">KhÃ¡c nhau giá»¯a AJAX vÃ  REST?</a></li>\n<li><a href=\"#keep-alive-l%C3%A0-g%C3%AC-v%C3%A0-l%E1%BB%A3i-%C3%ADch-c%E1%BB%A7a-n%C3%B3\">Keep-Alive lÃ  gÃ¬ vÃ  lá»£i Ã­ch cá»§a nÃ³?</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"má»™t-vÃ i-Ä‘áº·c-tÃ­nh-chÃ­nh-cá»§a-rest\"><a href=\"#m%E1%BB%99t-v%C3%A0i-%C4%91%E1%BA%B7c-t%C3%ADnh-ch%C3%ADnh-c%E1%BB%A7a-rest\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Má»™t vÃ i Ä‘áº·c tÃ­nh chÃ­nh cá»§a REST?</h2>\n<ul>\n<li>REST lÃ  dáº¡ng <strong>stateless</strong>, server sáº½ khÃ´ng cÃ³ thÃ´ng tin <em>status</em> (nÃ³i cÃ¡ch khÃ¡c lÃ  khÃ´ng lÆ°u giá»¯ user session)</li>\n<li>Náº¿u <em>Web service</em> chá»§ yáº¿u dÃ¹ng POST Ä‘á»ƒ thao tÃ¡c, thÃ¬ REST dÃ¹ng <code class=\"language-inline-text\">GET</code> Ä‘á»ƒ truy xuáº¥t Ä‘áº¿n resource</li>\n</ul>\n<h2 id=\"cÃ¡c-thÃ nh-pháº§n-chÃ­nh-cá»§a-má»™t-http-response\"><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-response\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a má»™t http response</h2>\n<ul>\n<li>Status / Response Code</li>\n<li>HTTP Version</li>\n<li>Response header</li>\n<li>Response body</li>\n</ul>\n<h2 id=\"cÃ¡c-thÃ nh-pháº§n-chÃ­nh-cá»§a-má»™t-http-request\"><a href=\"#c%C3%A1c-th%C3%A0nh-ph%E1%BA%A7n-ch%C3%ADnh-c%E1%BB%A7a-m%E1%BB%99t-http-request\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CÃ¡c thÃ nh pháº§n chÃ­nh cá»§a má»™t http request</h2>\n<ul>\n<li>Method (<code class=\"language-inline-text\">GET</code>, <code class=\"language-inline-text\">POST</code>, <code class=\"language-inline-text\">PUT</code>, <code class=\"language-inline-text\">DELETE</code>)</li>\n<li>URI</li>\n<li>HTTP Version</li>\n<li>Request Header</li>\n<li>Request Body</li>\n</ul>\n<h2 id=\"stateless-lÃ -gÃ¬\"><a href=\"#stateless-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Stateless lÃ  gÃ¬?</h2>\n<p>Theo Ä‘á»‹nh nghÄ©a cá»§a RESTful, server khÃ´ng lÆ°u trá»¯ báº¥t ká»³ thÃ´ng tin gÃ¬ vá» client state, Ä‘áº·c trÆ°ng nÃ y gá»i lÃ  <strong>stateless</strong>. PhÃ­a client gá»­i thÃ´ng tin cáº§n thiáº¿t trÃªn má»—i request</p>\n<h2 id=\"stateless-cÃ³-gÃ¬-hay\"><a href=\"#stateless-c%C3%B3-g%C3%AC-hay\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Stateless cÃ³ gÃ¬ hay?</h2>\n<ol>\n<li><strong>Scale</strong> kháº£ nÄƒng Ä‘Ã¡p á»©ng cá»§a API lÃªn cho hÃ ng triá»‡u <em>concurrent user</em> báº±ng cÃ¡ch deploy lÃªn nhiá»u server khÃ¡c nhau. Báº¥t ká»³ server nÃ o cÅ©ng cÃ³ thá»ƒ handle má»™t request tá»« client vÃ¬ táº¥t cáº£ thÃ´ng tin cáº§n thiáº¿t Ä‘iá»u Ä‘Æ°á»£c gá»­i tá»« phÃ­a client.</li>\n<li><strong>ÄÆ¡n giáº£n hÃ³a API</strong> nhá» vÃ o viá»‡c gá»Ÿ bá» viá»‡c Ä‘á»“ng bá»™ logic cá»§a <em>state</em></li>\n<li><strong>Dá»… cache hÆ¡n</strong>, phÃ­a server cÃ³ thá»ƒ quyáº¿t Ä‘á»‹nh cache hay khÃ´ng má»™t káº¿t quáº£ HTTP request dá»±a vÃ o thÃ´ng tin cá»§a má»™t request, nhá»¯ng request trÆ°á»›c Ä‘Ã³ khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n kháº£ nÄƒng <em>cache</em> cá»§a request hiá»‡n táº¡i.</li>\n</ol>\n<h2 id=\"vÃ i-cÃ¡i-status-code-phá»•-biáº¿n\"><a href=\"#v%C3%A0i-c%C3%A1i-status-code-ph%E1%BB%95-bi%E1%BA%BFn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>VÃ i cÃ¡i status code phá»• biáº¿n?</h2>\n<ul>\n<li>201 created</li>\n<li>204 No content</li>\n<li>400 Bad request</li>\n<li>403 Forbidden</li>\n<li>404 Not found</li>\n<li>405 Method not allowed</li>\n<li>409 Conflict</li>\n<li>500 internal server error</li>\n</ul>\n<h2 id=\"cÃ¡i-gÃ¬-cache-Ä‘Æ°á»£c-cÃ¡i-gÃ¬-khÃ´ng\"><a href=\"#c%C3%A1i-g%C3%AC-cache-%C4%91%C6%B0%E1%BB%A3c-c%C3%A1i-g%C3%AC-kh%C3%B4ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CÃ¡i gÃ¬ cache Ä‘Æ°á»£c, cÃ¡i gÃ¬ khÃ´ng?</h2>\n<ul>\n<li><code class=\"language-inline-text\">GET</code> cache Ä‘Æ°á»£c</li>\n<li><code class=\"language-inline-text\">POST</code> máº·c Ä‘á»‹nh lÃ  khÃ´ng, nhÆ°ng cÃ³ thá»ƒ dÃ¹ng <strong>expires header</strong> hoáº·c <strong>cache-control header</strong> náº¿u muá»‘n báº­t cache</li>\n<li><code class=\"language-inline-text\">PUT/DELETE</code> khÃ´ng</li>\n</ul>\n<h2 id=\"khÃ¡c-nhau-giá»¯a-ajax-vÃ -rest\"><a href=\"#kh%C3%A1c-nhau-gi%E1%BB%AFa-ajax-v%C3%A0-rest\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>KhÃ¡c nhau giá»¯a AJAX vÃ  REST?</h2>\n<p>AJAX lÃ  má»™t <strong>ká»¹ thuáº­t thá»±c hiá»‡n phÃ­a client</strong> Ä‘á»ƒ cáº­p nháº­p giao diá»‡n, trong khi REST lÃ  <strong>má»™t kiá»ƒu kiáº¿n trÃºc</strong> Ä‘á»ƒ truyá»n vÃ  xá»­ lÃ½ HTTP Request.</p>\n<h2 id=\"keep-alive-lÃ -gÃ¬-vÃ -lá»£i-Ã­ch-cá»§a-nÃ³\"><a href=\"#keep-alive-l%C3%A0-g%C3%AC-v%C3%A0-l%E1%BB%A3i-%C3%ADch-c%E1%BB%A7a-n%C3%B3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Keep-Alive lÃ  gÃ¬ vÃ  lá»£i Ã­ch cá»§a nÃ³?</h2>\n<p>Máº·c Ä‘á»‹nh má»™t HTTP connection sáº½ <strong>tá»± Ä‘Ã³ng sau khi request Ä‘Ã£ complete</strong>, nghÄ©a lÃ  phÃ­a server sáº½ close TCP connection sau khi Ä‘Ã£ gá»­i Ä‘i response. Äá»ƒ giá»¯ connection nÃ y cho nhiá»u request, dÃ¹ng thuá»™c tÃ­nh <code class=\"language-inline-text\">keep-alive</code> trÃªn header</p>\n<p>VÃ­ dá»¥</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Message Trace:\n-------------------------------------------\n~$ <span class=\"token function\">curl</span> -I https://www.domain.com/file.html\nHTTP/1.1 <span class=\"token number\">200</span> OK\nConnection: Keep-Alive\nContent-Type: text/html<span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">charset</span><span class=\"token operator\">=</span>UTF-8\nDate: Thu, <span class=\"token number\">15</span> Jan <span class=\"token number\">2015</span> <span class=\"token number\">16</span>:45:29 GMT\nContent-Length: <span class=\"token number\">1845</span>\nKeep-Alive: <span class=\"token assign-left variable\">timeout</span><span class=\"token operator\">=</span><span class=\"token number\">10</span>, <span class=\"token assign-left variable\">max</span><span class=\"token operator\">=</span><span class=\"token number\">20</span>\nServer: Apache/2.4.9 <span class=\"token punctuation\">(</span>Unix<span class=\"token punctuation\">)</span> PHP/5.6.2\n-------------------------------------------</code></pre></div>\n<p><em>Lá»£i Ã­ch</em></p>\n<ul>\n<li><strong>Giáº£m táº£i viá»‡c sá»­ dá»¥ng CPU</strong>, má»—i láº§n thiáº¿t láº­p má»™t TCP connection sáº½ cáº§n tiÃªu hao CPU vÃ  bá»™ nhá»›.</li>\n<li><strong>Cáº£i thiá»‡n tá»‘c Ä‘á»™ trang web</strong>: Ä‘Ã¡p á»©ng nhiá»u file sá»­ dá»¥ng cÃ¹ng má»™t connection cho phÃ©p giáº£m táº£i vÃ  nÃ¢ng cao tá»‘c Ä‘á»™ cá»§a á»©ng dá»¥ng</li>\n<li><strong>HTTPS</strong>: muá»‘n dÃ¹ng keep-alive báº¯t buá»™c pháº£i lÃ  HTTPS, cÅ©ng cÃ³ thá»ƒ xem lÃ  má»™t Æ°u Ä‘iá»ƒm cho váº¥n Ä‘á» báº£o máº­t</li>\n</ul>\n","cover_image":""}},{"node":{"id":"dc34c8a0c083ef6c15db1a0747852887","title":"Há»i nhanh Ä‘Ã¡p gá»n vá» webpack","path":"/2021-01-13-webpack-faq-hoi-nhanh-dap-gon-voi-webpack/","date":"2021-01-13","timeToRead":2,"desc":"ChuyÃªn má»¥c há»i nhanh - Ä‘Ã¡p gá»n, náº¿u báº¡n chÆ°a biáº¿t gÃ¬ vá» webpack","content":"<p><em>ğŸ¸ Nhá»¯ng module pattern nÃ o webpack há»— trá»£?</em></p>\n<p><code class=\"language-inline-text\">common.js</code> vÃ  es6</p>\n<p>ğŸ¸ CÃ³ Ä‘Æ°á»£c phÃ©p cÃ³ nhiá»u entry point trong cÃ¹ng 1 file config?*</p>\n<p>CÃ³</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ táº¡o file config webpack tá»± Ä‘á»™ng?</em></p>\n<p><code class=\"language-inline-text\">webpack-cli init</code></p>\n<p><em>ğŸ¸ Loader trong webpack lÃ  gÃ¬?</em></p>\n<p>transform nhá»¯ng module nÃ o khÃ´ng pháº£i lÃ  JS vÃ o trong bundle</p>\n<p><em>ğŸ¸ Loader cháº¡y sync hay async</em></p>\n<p>Cáº£ hai</p>\n<p><em>ğŸ¸ KhÃ¡c nhau giá»¯a loader vÃ  plugin</em></p>\n<p>Loader dÃ¹ng Ä‘á»ƒ pre-processing, plugin phá»©c táº¡p hÆ¡n vÃ  nÃ³ can thiá»‡p nhiá»u vÃ o quÃ¡ trÃ¬nh compile.</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ tÃ¡ch má»™t sá»‘ data ra khá»i bundle thÃ nh má»™t file riÃªng biá»‡t, vÃ­ dá»¥ nhÆ° file css</em></p>\n<p>Sá»­ dá»¥ng <a href=\"https://github.com/webpack-contrib/extract-text-webpack-plugin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ExtractTextWebpackPlugin</a>. Táº¥t cáº£ css sáº½ khÃ´ng cÃ²n náº±m inline trong file JS bundle, nÃ³ sáº½ lÃ  má»™t file riÃªng (style.css cháº³ng háº¡n)</p>\n<p><em>ğŸ¸ Hot module replacement lÃ  gÃ¬?</em></p>\n<p>TÃ­nh nÄƒng cho phÃ©p cáº­p nháº­p module mÃ  khÃ´ng cáº§n reload</p>\n<p><em>ğŸ¸ parallel-webpack lÃ  gÃ¬ vÃ  nÃ³ áº£nh hÆ°á»Ÿng tháº¿ nÃ o Ä‘áº¿n quÃ¡ trÃ¬nh build</em></p>\n<p><a href=\"https://github.com/trivago/parallel-webpack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">parallel-webpack</a> sáº½ giÃºp config vá»›i nhiá»u entry point, cho phÃ©p webpack build parallel, nÃ¢ng cao tá»‘c Ä‘á»™ build</p>\n<p><em>ğŸ¸ MÃ´ táº£ má»™t cÃ¡ch ngáº¯n gá»n long-term caching vÃ  lÃ m sao sá»­ dá»¥ng nÃ³ trong webpack?</em></p>\n<p>Browser sáº½ cache static file bÃªn dÆ°á»›i local Ä‘á»ƒ cáº£i thiá»‡n tá»‘c Ä‘á»™ load, Ä‘á»ƒ Ä‘áº£m báº£o náº¿u cÃ³ báº£n build má»›i, trÃ¬nh duyá»‡t biáº¿t vÃ  download file má»›i, tÃªn  file thÆ°á»ng Ä‘Æ°á»£c Ä‘áº·t nhÆ° sau</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app.js?build=1\napp.js?build=2\n\n// hoáº·c\napp.js.2a6c1fee4b5b0d2c9285.js\napp.js.70b594fe8b07bcedaa98.js</code></pre></div>\n<p>Äá»ƒ lÃ m viá»‡c nÃ y, trong webpack chÃºng ta Ä‘áº·t config</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>\n    output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     filename<span class=\"token operator\">:</span> <span class=\"token string\">\"[name].[hash].js\"</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><em>ğŸ¸ KhÃ¡c nhau giá»¯a hash vÃ  chunkhash?</em></p>\n<p>[hash] táº¡o ra má»™t id ngáº«u nhiÃªn cho tá»«ng láº§n build vÃ  sá»­ dá»¥ng cho táº¥t cáº£  chunk. Náº¿u thay [hash] báº±ng [chunkhash] nÃ³ sáº½ táº¡o ra má»—i chunk má»™t id ngáº«u nhiÃªn.</p>\n<p><em>ğŸ¸ MÃ´ táº£ CommonsChunk Plugin?</em></p>\n<p>LÃ  má»™t tÃ­nh nÄƒng cÃ³ sáºµn cá»§a webpack, cho phÃ©p táº¡o file riÃªng (gá»i lÃ  chunk) cho nhá»¯ng module dÃ¹ng chung. Há»— trá»£ caching vÃ  nÃ¢ng cao tá»‘c Ä‘á»™ load</p>\n<p><em>ğŸ¸Diá»…n giáº£i Ä‘oáº¡n code bÃªn dÆ°á»›i</em></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">webpack<span class=\"token punctuation\">.</span>ContextReplacementPlugin</span><span class=\"token punctuation\">(</span>\n     <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">moment[\\/\\\\]locale</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n     <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(en-gb|en-us)\\.js</span><span class=\"token regex-delimiter\">/</span></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>BÃ¡o vá»›i webpack, chá»‰ include nhá»¯ng file cÃ³ tÃªn khá»›p vá»›i Ä‘iá»u kiá»‡n <code class=\"language-inline-text\">/(en-gb|en-us)\\.js/</code>, trong Ä‘Æ°á»ng dáº«n <code class=\"language-inline-text\">/moment[\\/\\\\]locale/</code> khi bundle</p>\n<p><em>ğŸ¸ LÃ m sao Ä‘á»ƒ remove nhá»¯ng css selector khÃ´ng dÃ¹ng Ä‘áº¿n?</em></p>\n<p>DÃ¹ng plugin <a href=\"https://github.com/webpack-contrib/purifycss-webpack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">purifycss-webpack</a></p>\n","cover_image":""}}]}}},"context":{}}
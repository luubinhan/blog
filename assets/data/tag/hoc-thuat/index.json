{"hash":"11fd49ff7dfa599f2ece96e1f20e52693dbc054b","data":{"tag":{"title":"hoc-thuat","belongsTo":{"edges":[{"node":{"id":"19be0ac5586327b94ad96a787c40889a","title":"typeof c·ªßa React element ƒë·ªÉ l√†m g√¨?","path":"/2021-07-26-giai-thich-typeof-cua-react-element-la-gi/","date":"2021-07-26","timeToRead":4,"desc":"B√†i vi·∫øt d√†nh cho nh·ªØng b·∫°n t√≤ m√≤ th√≠ch kh√°m ph√° nh·ªØng g√¨ di·ªÖn ra trong th·∫ø gi·ªõi ng·∫ßm","content":"<p>Ch√∫ng ta vi·∫øt m·ªôt react component v√† b·∫°n nghƒ© m√¨nh vi·∫øt JSX</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>marquee</span> <span class=\"token attr-name\">bgcolor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Ch√†o bu·ªïi s√°ng</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>marquee</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Nh∆∞ng th·∫≠t ra ch√∫ng ta ƒëang g·ªçi h√†m n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">React<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">/* type */</span> <span class=\"token string\">'marquee'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">/* props */</span> <span class=\"token punctuation\">{</span> bgcolor<span class=\"token operator\">:</span> <span class=\"token string\">'#000'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">/* children */</span> <span class=\"token string\">'Ch√†o bu·ªïi s√°ng'</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>V√† function tr√™n s·∫Ω tr·∫£ v·ªÅ cho ch√∫ng ta m·ªôt <code class=\"language-inline-text\">object</code>, <em>ng∆∞·ªùi ƒë·ªùi</em> g·ªçi <code class=\"language-inline-text\">object</code> n√†y l√† React element. N√≥ b√°o v·ªõi React ti·∫øp theo c·∫ßn ph·∫£i l√†m g√¨</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> <span class=\"token string\">'marquee'</span><span class=\"token punctuation\">,</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        bgcolor<span class=\"token operator\">:</span> <span class=\"token string\">'#000'</span><span class=\"token punctuation\">,</span>\n        children<span class=\"token operator\">:</span> <span class=\"token string\">'Ch√†o bu·ªïi s√°ng'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    key<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    ref<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n<span class=\"gridsome-highlight-code-line\">    $$<span class=\"token keyword\">typeof</span><span class=\"token operator\">:</span> Symbol<span class=\"token punctuation\">.</span><span class=\"token function\">for</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react.element'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// ai ƒë√¢y ta?</span></span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-inline-text\">$$typeof</code> l√† c√°i g√¨ v·∫≠y? v√† t·∫°i sao n√≥ c√≥ value l√† <code class=\"language-inline-text\">Symbol</code>?</p>\n<p>N·∫øu ch·ªâ c·∫ßn s·ª≠ d·ª•ng React th√¨ vi·ªác bi·∫øt hay kh√¥ng bi·∫øt ƒë·∫øn <em>n√≥</em> c≈©ng kh√¥ng ·∫£nh h∆∞·ªüng g√¨ th·∫ø gi·ªõi, ch·ªâ d√†nh cho c√°c b·∫°n th√≠ch t√≤ m√≤.</p>\n<h6 id=\"\"></h6>\n<p>Vi·ªác ch√®n th√™m m·ªôt HTML b·∫±ng code js nh∆∞ th·∫ø n√†y ƒë√£ t·ª´ng r·∫•t ph·ªï bi·∫øn</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> messageEl <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmessageEl<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;p>'</span> <span class=\"token operator\">+</span> message<span class=\"token punctuation\">.</span>text <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/p>'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>M·ªçi th·ª© th·∫≠t tuy·ªát v·ªùi cho ƒë·∫øn khi <em>ai ƒë√≥</em> c·ªë t√¨nh nh√©t gi√° tr·ªã <code class=\"language-inline-text\">&lt;img src onerror=\"stealYourPassword()\"></code> cho <code class=\"language-inline-text\">message.text</code>. M·ªôt ki·ªÉu <em>hack nh·∫π</em> c≈©ng r·∫•t ph·ªï bi·∫øn</p>\n<p>ƒê·ªÉ tr√°nh ki·ªÉu t·∫•n c√¥ng n√†y, ch√∫ng ta d√πng <code class=\"language-inline-text\">document.createTextNode()</code> ho·∫∑c <code class=\"language-inline-text\">textContent</code>, ho·∫∑c <strong>tr·ª•c xu·∫•t</strong> h·∫øt c√°c k√Ω t·ª± <code class=\"language-inline-text\">&lt;</code> v√† <code class=\"language-inline-text\">></code> ƒë·ªÉ n√≥ kh√¥ng th·ªÉ n√†o ch·∫°y ƒë∆∞·ª£c.</p>\n<p>T·∫•t nhi√™n kh√¥ng ph·∫£i ai c≈©ng bi·∫øt v√† nh·ªõ h·∫øt c√°c th·ªß t·ª•c x·ª≠ l√Ω n√†y khi nh·∫≠n gi√° tr·ªã input t·ª´ user. ƒê√≥ l√† l√Ω do t·∫°i sao, c√°c th∆∞ vi·ªán nh∆∞ React, vi·ªác <strong>tr·ª•c xu·∫•t</strong> n√†y ƒë∆∞·ª£c th·ª±c hi·ªán m·∫∑c ƒë·ªãnh</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Trong tr∆∞·ªùng h·ª£p <strong>ch√∫ng ta bi·∫øt m√¨nh ƒëang l√†m g√¨</strong>, mu·ªën render th·∫ª HTML</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> __html<span class=\"token operator\">:</span> message<span class=\"token punctuation\">.</span>text <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>V·∫≠y d√πng React th√¨ an to√†n tuy·ªát ƒë·ªëi? <strong>Kh√¥ng</strong></p>\n<p>Ph·∫£i n√≥i c√≥ <a href=\"https://github.com/facebook/react/issues/3473#issuecomment-90594748\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">nhi·ªÅu l·∫Øm</a> c√°ch t·∫•n c√¥ng d√πng HTML v√† DOM. Vi·ªác ch·∫∑n h·∫øt l√† qu√° kh√≥ v√† qu√° t·ªën th·ªùi gian.</p>\n<p>V√≠ d·ª• n·∫øu render <code class=\"language-inline-text\">&lt;a href={user.website}></code>, v√† trang web d·∫´n ƒë·∫øn c√≥ th·ªÉ ch·ªâ l√† <code class=\"language-inline-text\">javascript: stealYourPassword()</code>, hay spreading ki·ªÉu n√†y <code class=\"language-inline-text\">&lt;div {...userData}></code> c≈©ng nguy hi·ªÉm ph·∫øt.</p>\n<p>V√¨ v·ªõi c√°ch vi·∫øt n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// escape t·ª± ƒë·ªông</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>...ƒë√£ ƒë·ªß an to√†n l·∫Øm r·ªìi ƒë√∫ng kh√¥ng? Kh√¥ng ph·∫£i l√∫c n√†o c≈©ng ƒë√∫ng. ƒê√≥ l√† l√Ω do t·∫°i sao c√≥ <code class=\"language-inline-text\">$$typeof</code></p>\n<h6 id=\"-1\"><a href=\"#-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a></h6>\n<p>M·ªôt React element l√† m·ªôt <code class=\"language-inline-text\">object</code> nh∆∞ th·∫ø n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  type<span class=\"token operator\">:</span> <span class=\"token string\">'marquee'</span><span class=\"token punctuation\">,</span>\n  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    bgcolor<span class=\"token operator\">:</span> <span class=\"token string\">'#ffa7c4'</span><span class=\"token punctuation\">,</span>\n    children<span class=\"token operator\">:</span> <span class=\"token string\">'hi'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  key<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  $$<span class=\"token keyword\">typeof</span><span class=\"token operator\">:</span> Symbol<span class=\"token punctuation\">.</span><span class=\"token function\">for</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react.element'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>T·∫•t nhi√™n ch√∫ng ta s·∫Ω t·∫°o ra object n√†y b·∫±ng vi·ªác g·ªçi <code class=\"language-inline-text\">React.createElement()</code>. N·∫øu ch√∫ng ta s·∫Ω l∆∞u tr·ªØ <code class=\"language-inline-text\">object</code> nh∆∞ m·ªôt JSON ·ªü ph√≠a server</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// server cho ph√©p user l∆∞u ·ªü d·∫°ng JSON</span>\n<span class=\"token keyword\">let</span> expectedTextButGotJSON <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token operator\">:</span> <span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span>\n  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    dangerouslySetInnerHTML<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      __html<span class=\"token operator\">:</span> <span class=\"token string\">'/* put your exploit here */'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> message <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> text<span class=\"token operator\">:</span> expectedTextButGotJSON <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// V·ªõi React 0.13 ƒë√¢y l√† t·ª≠ nguy·ªát</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>React 0.13 ƒë√¢y l√† ƒëi·ªÉm b·ªã l·ª£i d·ª•ng ƒë·ªÉ t·∫•n c√¥ng XSS. (ƒê√°ng l·∫Ω ra ·ªü ph√≠a Server kh√¥ng n√™n ƒë·ªÉ cho user l∆∞u d·∫°ng JSON nh∆∞ th·∫ø)</p>\n<p>Phi√™n b·∫£n 0.14 React h·ªó tr·ª£ x·ª≠ l√Ω con bug n√†y b·∫±ng c√°ch th√™m ƒë√°nh d·∫•u <strong>ƒë√¢y ch√≠nh hi·ªáu l√† react element b·∫±ng Symbol</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  type<span class=\"token operator\">:</span> <span class=\"token string\">'marquee'</span><span class=\"token punctuation\">,</span>\n  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    bgcolor<span class=\"token operator\">:</span> <span class=\"token string\">'#ffa7c4'</span><span class=\"token punctuation\">,</span>\n    children<span class=\"token operator\">:</span> <span class=\"token string\">'hi'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  key<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  ref<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  $$<span class=\"token keyword\">typeof</span><span class=\"token operator\">:</span> Symbol<span class=\"token punctuation\">.</span><span class=\"token function\">for</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react.element'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>B·ªüi g√¨ user h·ªïng th·ªÉ n√†o ƒë·∫∑t m·ªôt <code class=\"language-inline-text\">Symbol</code> v√†o trong file JSON. <strong>Th·∫≠m ch√≠ m·∫•y √¥ng l√†m backend ·∫©u t·∫£ cho ph√©p return JSON thay v√¨ text</strong> c≈©ng kh√¥ng v·∫•n ƒë·ªÅ (ƒêo·∫°n n√†y ch·∫Øc l√£o Dan ƒëang c√°o m·∫•y ch√∫ Backend)</p>\n<p>ƒêi·ªÅu tuy·ªát v·ªùi n·ªØa l√† <code class=\"language-inline-text\">Symbol.for()</code> th√¨ scope ·ªü m·ª©c global gi·ªØa c√°c m√¥i tr∆∞·ªùng nh∆∞ iframe, worker. Nghƒ©a l√† vi·ªác <strong>n√©m</strong> c√°c component qua l·∫°i gi·ªØa c√°c m√¥i tr∆∞·ªùng c≈©ng kh√¥ng b·ªã ·∫£nh h∆∞·ªüng.</p>\n<h6 id=\"-2\"><a href=\"#-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a></h6>\n<p>V·∫≠y n·∫øu tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ Symbol th√¨ sao?</p>\n<p>ƒê√≥ l√† chuy·ªán c·ªßa user, ai b·∫£o x√†i tr√¨nh duy·ªát c≈© th√¨ kh√¥ng ƒë∆∞·ª£c b·∫£o h·ªô ƒë·∫ßy ƒë·ªß ch·ª© bi·∫øt sao. React s·∫Ω v·∫´n th√™m v√†o property <code class=\"language-inline-text\">$$typeof</code>, nh∆∞ng v·ªõi gi√° tr·ªã <code class=\"language-inline-text\">0xeac7</code>, t·∫°i sao l√† <code class=\"language-inline-text\">0xeac7</code>? T·∫°i t·ª•i tui (React team) th·∫•y nh√¨n n√≥ gi·ªëng ch·ªØ \"React\"</p>\n<p><a href=\"https://overreacted.io/why-do-react-elements-have-typeof-property/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">B√†i c·ªßa Dan</a></p>\n","cover_image":""}},{"node":{"id":"bda0d1d05b2f4a776c772397b957e5ef","title":"H·ªèi ƒë√°p c√πng Vue","path":"/2021-04-04-hoi-dap-voi-vue/","date":"2021-04-04","timeToRead":6,"desc":"M·ªôt s·ªë kh√°i ni·ªám trong Vue c·∫ßn n·∫Øm","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#function-component-l%C3%A0-g%C3%AC\">Function component l√† g√¨?</a></li>\n<li><a href=\"#t%E1%BA%A1i-sao-data-trong-vue-component-ph%E1%BA%A3i-l%C3%A0-1-function\">T·∫°i sao data trong Vue component ph·∫£i l√† 1 function</a></li>\n<li><a href=\"#v-if-v%C3%A0-v-show-kh%C3%A1c-nhau-nh%C6%B0-th%E1%BA%BF-n%C3%A0o\"><code class=\"language-inline-text\">v-if</code> v√† <code class=\"language-inline-text\">v-show</code> kh√°c nhau nh∆∞ th·∫ø n√†o</a></li>\n<li><a href=\"#khai-b%C3%A1o-default-value-c%E1%BB%A7a-prop-l%C3%A0-array-ho%E1%BA%B7c-object\">Khai b√°o default value c·ªßa <code class=\"language-inline-text\">prop</code> l√† <code class=\"language-inline-text\">array</code> ho·∫∑c <code class=\"language-inline-text\">object</code></a></li>\n<li><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-key-trong-vue-component\">M·ª•c ƒë√≠ch c·ªßa <code class=\"language-inline-text\">key</code> trong Vue Component</a></li>\n<li><a href=\"#v%C3%AC-sao-kh%C3%B4ng-s%E1%BB%AD-d%E1%BB%A5ng-v-if-v%C3%A0-v-for-c%C3%B9ng-l%C3%BAc\">V√¨ sao kh√¥ng s·ª≠ d·ª•ng <code class=\"language-inline-text\">v-if</code> v√† <code class=\"language-inline-text\">v-for</code> c√πng l√∫c?</a></li>\n<li><a href=\"#c%C3%A1c-event-modifier-cung-c%E1%BA%A5p-b%E1%BB%9Fi-vue\">C√°c <code class=\"language-inline-text\">event modifier</code> cung c·∫•p b·ªüi Vue</a></li>\n<li><a href=\"#m%E1%BB%99t-s%E1%BB%91-key-modifier-cung-c%E1%BA%A5p-s%E1%BA%B5n\">M·ªôt s·ªë key modifier cung c·∫•p s·∫µn</a></li>\n<li><a href=\"#modifier-tr%C3%AAn-model\">Modifier tr√™n model</a></li>\n<li><a href=\"#plugin-trong-vue-l%C3%A0-g%C3%AC-v%C3%A0-d%C3%B9ng-%C4%91%E1%BB%83-l%C3%A0m-g%C3%AC\">Plugin trong Vue l√† g√¨ v√† d√πng ƒë·ªÉ l√†m g√¨</a></li>\n<li><a href=\"#tr%C6%B0%E1%BB%9Dng-h%E1%BB%A3p-n%C3%AAn-s%E1%BB%AD-d%E1%BB%A5ng-render-function-m%C3%A0-kh%C3%B4ng-d%C3%B9ng-ki%E1%BB%83u-vi%E1%BA%BFt-template\">Tr∆∞·ªùng h·ª£p n√™n s·ª≠ d·ª•ng render function m√† kh√¥ng d√πng ki·ªÉu vi·∫øt template</a></li>\n<li><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-th%E1%BA%BB-keep-alive\">M·ª•c ƒë√≠ch c·ªßa th·∫ª <code class=\"language-inline-text\">keep-alive</code></a></li>\n<li><a href=\"#82-c%E1%BA%A5u-tr%C3%BAc-m%E1%BB%99t-async-component\">82. C·∫•u tr√∫c m·ªôt async component</a></li>\n<li><a href=\"#x-template\">x template</a></li>\n<li><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-once\">M·ª•c ƒë√≠ch c·ªßa <code class=\"language-inline-text\">once</code></a></li>\n<li><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-rendererror\">M·ª•c ƒë√≠ch c·ªßa <code class=\"language-inline-text\">renderError</code></a></li>\n<li><a href=\"#nexttick-l%C3%A0-g%C3%AC\"><code class=\"language-inline-text\">nextTick</code> l√† g√¨</a></li>\n<li><a href=\"#l%C3%A0m-sao-%C4%91%E1%BB%83-force-update\">L√†m sao ƒë·ªÉ force update</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"function-component-l√†-g√¨\"><a href=\"#function-component-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Function component l√† g√¨?</h2>\n<p>Function component l√† m·ªôt component v·ªõi ƒë·∫∑c ƒëi·ªÉm:</p>\n<ol>\n<li><strong>Stateless</strong>: kh√¥ng ch·ª©a state b√™n trong n√≥</li>\n<li><strong>Instanceless</strong>: kh√¥ng c√≥ instance, nghƒ©a l√† kh√¥ng c√≥ t·ª´ kh√≥a <code class=\"language-inline-text\">this</code></li>\n</ol>\n<h2 id=\"t·∫°i-sao-data-trong-vue-component-ph·∫£i-l√†-1-function\"><a href=\"#t%E1%BA%A1i-sao-data-trong-vue-component-ph%E1%BA%A3i-l%C3%A0-1-function\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·∫°i sao data trong Vue component ph·∫£i l√† 1 function</h2>\n<p>T·∫°i sao kh√¥ng th·ªÉ khai b√°o nh∆∞ th·∫ø n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\tmessage<span class=\"token operator\">:</span> <span class=\"token string\">'here data'</span> üò†\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>b·∫Øt bu·ªôc ph·∫£i l√† function return data</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\tmessage<span class=\"token operator\">:</span> <span class=\"token string\">'here data'</span> üëç\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Theo t√†i li·ªáu tr√™n trang c·ªßa Vue, n·∫øu khai b√°o <code class=\"language-inline-text\">data</code> l√† 1 object, c√°c <code class=\"language-inline-text\">instance</code> c·ªßa 1 component s·∫Ω tr·ªè ƒë·∫øn c√πng m·ªôt <code class=\"language-inline-text\">data</code></p>\n<blockquote>\n<p>Vi·ªác l√†m n√†y l√† v·ªõi m·ª•c ƒë√≠ch ti·∫øt ki·ªám b·ªô nh·ªõ.</p>\n</blockquote>\n<p>N·∫øu m·ªói component l√† m·ªôt object ƒë·ªôc l·∫≠p ho√†n to√†n v·ªõi nhau, khi component ƒë∆∞·ª£c kh·ªüi t·∫°o, t·∫•t c·∫£ c√°c ph∆∞∆°ng th·ª©c v√† d·ªØ li·ªáu ƒë∆∞·ª£c kh·ªüi t·∫°o theo.</p>\n<p>Vue cho ph√©p c√°c d·ªØ li·ªáu tr√™n component ho√†n to√†n ƒë·ªôc l·∫≠p, c√≤n nh·ªØng th·ª© nh∆∞ <code class=\"language-inline-text\">method</code>, <code class=\"language-inline-text\"></code>computed<code class=\"language-inline-text\">,</code>lifecycle hook` ƒë∆∞·ª£c t·∫°o v√† l∆∞u m·ªôt l·∫ßn duy nh·∫•t.</p>\n<h2 id=\"v-if-v√†-v-show-kh√°c-nhau-nh∆∞-th·∫ø-n√†o\"><a href=\"#v-if-v%C3%A0-v-show-kh%C3%A1c-nhau-nh%C6%B0-th%E1%BA%BF-n%C3%A0o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">v-if</code> v√† <code class=\"language-inline-text\">v-show</code> kh√°c nhau nh∆∞ th·∫ø n√†o</h2>\n<p><code class=\"language-inline-text\">v-if</code> kh√¥ng render DOM, <code class=\"language-inline-text\">v-show</code> c√≥ render nh∆∞ng d√πng css ƒë·ªÉ ·∫©n ƒëi, d√πng <code class=\"language-inline-text\">v-show</code> ƒë·ªÉ t·ªëi ∆∞u v√¨ kh√¥ng c·∫ßn update DOM li√™n t·ª•c.</p>\n<h2 id=\"khai-b√°o-default-value-c·ªßa-prop-l√†-array-ho·∫∑c-object\"><a href=\"#khai-b%C3%A1o-default-value-c%E1%BB%A7a-prop-l%C3%A0-array-ho%E1%BA%B7c-object\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Khai b√°o default value c·ªßa <code class=\"language-inline-text\">prop</code> l√† <code class=\"language-inline-text\">array</code> ho·∫∑c <code class=\"language-inline-text\">object</code></h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\tarr<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\ttype<span class=\"token operator\">:</span> Array\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>‚ò†Ô∏è No no ƒë·ª´ng vi·∫øt v·∫≠y nh√©</p>\n<p>T·∫•t c·∫£ <code class=\"language-inline-text\"></code>instance<code class=\"language-inline-text\">s·∫Ω c√πng *reference* t·ªõi m·ªôt prop</code>arr`</p>\n<p>C√°ch vi·∫øt ƒë√∫ng</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  arr<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> Array<span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">default</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>vi·∫øt ki·ªÉu ES6</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  arr<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> Array<span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"m·ª•c-ƒë√≠ch-c·ªßa-key-trong-vue-component\"><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-key-trong-vue-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ª•c ƒë√≠ch c·ªßa <code class=\"language-inline-text\">key</code> trong Vue Component</h2>\n<p>ƒê·ªÉ t·ªëi ∆∞u, Vue t√°i s·ª≠ d·ª•ng khi c√≥ th·ªÉ, tr√°nh kh·ªüi t·∫°o component m·ªçi l√∫c. Vi·ªác n√†y d·∫´n ƒë·∫øn m·ªôt v√†i bug trong t√≠nh hu·ªëng nh∆∞ b√™n d∆∞·ªõi</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toggle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-else</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>N·∫øu kh√¥ng c√≥ <code class=\"language-inline-text\">key</code>, Vue kh√¥ng t·∫°o ra 2 <code class=\"language-inline-text\">&lt;input/></code>, m√† d√πng c√πng 1 <code class=\"language-inline-text\">&lt;input/></code>, khi gi√° tr·ªã <code class=\"language-inline-text\">toggle</code> chuy·ªÉn t·ª´ <code class=\"language-inline-text\">true</code> sang <code class=\"language-inline-text\">false</code> v√† ng∆∞·ª£c l·∫°i, n·∫øu input n√†y ƒëang c√≥ gi√° tr·ªã n√≥ s·∫Ω kh√¥ng b·ªã thay ƒë·ªïi.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toggle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toggle-true<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-else</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Enter your name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toggle-false<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"v√¨-sao-kh√¥ng-s·ª≠-d·ª•ng-v-if-v√†-v-for-c√πng-l√∫c\"><a href=\"#v%C3%AC-sao-kh%C3%B4ng-s%E1%BB%AD-d%E1%BB%A5ng-v-if-v%C3%A0-v-for-c%C3%B9ng-l%C3%BAc\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V√¨ sao kh√¥ng s·ª≠ d·ª•ng <code class=\"language-inline-text\">v-if</code> v√† <code class=\"language-inline-text\">v-for</code> c√πng l√∫c?</h2>\n<p>V√¨ <code class=\"language-inline-text\">v-for</code> c√≥ th·ª© t·ª± ∆∞u ti√™n cao h∆°n <code class=\"language-inline-text\">v-if</code>, n√™n c√≥ th·ªÉ b·ªã bug khi d√πng chung.</p>\n<h2 id=\"c√°c-event-modifier-cung-c·∫•p-b·ªüi-vue\"><a href=\"#c%C3%A1c-event-modifier-cung-c%E1%BA%A5p-b%E1%BB%9Fi-vue\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°c <code class=\"language-inline-text\">event modifier</code> cung c·∫•p b·ªüi Vue</h2>\n<p>Trong javascript cung c·∫•p c√°c modifier <code class=\"language-inline-text\">event.preventDefault()</code>, <code class=\"language-inline-text\">event.stopPropagation()</code> trong ƒë·ªëi t∆∞·ª£ng <code class=\"language-inline-text\">event</code>. Vue th√¨ c√≥ th√™m c√°c modifier b·ªï sung</p>\n<ul>\n<li><code class=\"language-inline-text\">.stop</code></li>\n<li><code class=\"language-inline-text\">.prevent</code></li>\n<li><code class=\"language-inline-text\">.capture</code></li>\n<li><code class=\"language-inline-text\">.self</code></li>\n<li><code class=\"language-inline-text\">.once</code></li>\n<li><code class=\"language-inline-text\">.passive</code></li>\n</ul>\n<p>V√≠ d·ª•</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">&lt;</span>button @click<span class=\"token punctuation\">.</span>stop<span class=\"token operator\">=</span><span class=\"token string\">\"callHandler\"</span><span class=\"token operator\">></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"m·ªôt-s·ªë-key-modifier-cung-c·∫•p-s·∫µn\"><a href=\"#m%E1%BB%99t-s%E1%BB%91-key-modifier-cung-c%E1%BA%A5p-s%E1%BA%B5n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ªôt s·ªë key modifier cung c·∫•p s·∫µn</h2>\n<p>Vue h·ªó tr·ª£ c√°c key modifier ƒë·ªÉ l·∫Øng nghe s·ª± ki·ªán b√†n ph√≠m tr√™n <code class=\"language-inline-text\">v-on</code></p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>keyup.13</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>show<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>Khi ·∫•n ph√≠m <strong>Enter</strong> (key code = 13), n√≥ s·∫Ω ch·∫°y h√†m <code class=\"language-inline-text\">show</code>. C√°c ph√≠m c√≥ t√™n hay d√πng</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">.enter\n.tab\n.delete\n.esc\n.space\n.up\n.down\n.up\n.left\n.right</code></pre></div>\n<p>V√≠ d·ª• s·ª≠ d·ª•ng</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>keyup.enter</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>V√† c√≥ lu√¥n modifier cho chu·ªôt</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">.left\n.right\n.middle</code></pre></div>\n<h2 id=\"modifier-tr√™n-model\"><a href=\"#modifier-tr%C3%AAn-model\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Modifier tr√™n model</h2>\n<ul>\n<li><strong>lazy</strong>: thay v√¨ change ngay l·∫≠p t·ª©c, ch·ªâ change sau m·ªôt kho·∫£n th·ªùi gian delay</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">v-model.lazy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>msg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code></pre></div>\n<ul>\n<li><strong>number</strong> chuy·ªÉn gi√° tr·ªã sang d·∫°ng s·ªë </li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">v-model.number</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>age<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>number<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<ul>\n<li><strong>trim</strong> c·∫Øt b·ªè kho·∫£ng tr·∫Øng ·ªü ƒë·∫ßu v√† ·ªü cu·ªëi</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">v-model.trim</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>msg<span class=\"token punctuation\">'</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<h2 id=\"plugin-trong-vue-l√†-g√¨-v√†-d√πng-ƒë·ªÉ-l√†m-g√¨\"><a href=\"#plugin-trong-vue-l%C3%A0-g%C3%AC-v%C3%A0-d%C3%B9ng-%C4%91%E1%BB%83-l%C3%A0m-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Plugin trong Vue l√† g√¨ v√† d√πng ƒë·ªÉ l√†m g√¨</h2>\n<p>Plugin s·∫Ω cho ph√©p ƒëƒÉng k√Ω c√°c function ·ªü scope global, c√°c function ƒë∆∞·ª£c n√≥i ƒë·∫øn c√≥ th·ªÉ l√†</p>\n<ul>\n<li><code class=\"language-inline-text\">directive</code>, <code class=\"language-inline-text\">filter</code>, <code class=\"language-inline-text\">transition</code></li>\n<li><code class=\"language-inline-text\">methods</code>, <code class=\"language-inline-text\">properties</code></li>\n<li><code class=\"language-inline-text\">mixin</code></li>\n<li>D√πng Vue.prototype ƒë·ªÉ \"nh√©t\" th√™m m·ªôt s·ªë ph∆∞∆°ng th·ª©c global, v√≠ d·ª• <code class=\"language-inline-text\">vm.$router</code></li>\n</ul>\n<p>ƒê·ªÉ t·∫°o m·ªôt plugin</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">MyPlugin<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">install</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">Vue<span class=\"token punctuation\">,</span> options</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// 1. global method, property</span>\n\tVue<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">myGlobalMethod</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n\t<span class=\"token comment\">// 2. global asset</span>\n\tVue<span class=\"token punctuation\">.</span><span class=\"token function\">directive</span><span class=\"token punctuation\">(</span><span class=\"token string\">'my-directive'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">bind</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">el<span class=\"token punctuation\">,</span> binding<span class=\"token punctuation\">,</span> vnode<span class=\"token punctuation\">,</span> oldNode</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// 3. \"Nh√©t\" (inject) m·ªôt tr√™n to√†n b·ªô component</span>\n\tVue<span class=\"token punctuation\">.</span><span class=\"token function\">mixin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function-variable function\">created</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">//4. M·ªôt ph∆∞∆°ng th·ª©c global</span>\n\t<span class=\"token class-name\">Vue</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">$myMethod</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">methodOptions</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Sau ƒë√≥ khai b√°o v·ªõi Vue s·ª≠ d·ª•ng plugin n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>MyPlugin<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"tr∆∞·ªùng-h·ª£p-n√™n-s·ª≠-d·ª•ng-render-function-m√†-kh√¥ng-d√πng-ki·ªÉu-vi·∫øt-template\"><a href=\"#tr%C6%B0%E1%BB%9Dng-h%E1%BB%A3p-n%C3%AAn-s%E1%BB%AD-d%E1%BB%A5ng-render-function-m%C3%A0-kh%C3%B4ng-d%C3%B9ng-ki%E1%BB%83u-vi%E1%BA%BFt-template\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tr∆∞·ªùng h·ª£p n√™n s·ª≠ d·ª•ng render function m√† kh√¥ng d√πng ki·ªÉu vi·∫øt template</h2>\n<p>Nh∆∞ t·∫°o component ƒë·ªông d·ª±a tr√™n input ho·∫∑c gi√° tr·ªã slot</p>\n<h2 id=\"m·ª•c-ƒë√≠ch-c·ªßa-th·∫ª-keep-alive\"><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-th%E1%BA%BB-keep-alive\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ª•c ƒë√≠ch c·ªßa th·∫ª <code class=\"language-inline-text\">keep-alive</code></h2>\n<p>L√† m·ªôt component d√πng ƒë·ªÉ gi·ªØ state v√† tr√°nh vi·ªác re-render. Khi component trong tr·∫°ng th√°i inactive n√≥ s·∫Ω cache l·∫°i ch·ª© kh√¥ng destroy</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>keep-alive</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>comp-a</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a > 1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>comp-a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>comp-b</span> <span class=\"token attr-name\">v-else</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>comp-b</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>keep-alive</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"82-c·∫•u-tr√∫c-m·ªôt-async-component\"><a href=\"#82-c%E1%BA%A5u-tr%C3%BAc-m%E1%BB%99t-async-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>82. C·∫•u tr√∫c m·ªôt async component</h2>\n<p>Vue c√≥ s·∫µn m·ªôt factory function ƒë·ªÉ <strong>lazy load</strong> component, ƒë∆∞·ª£c g·ªçi v·ªõi t√™n async component</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">AsyncComponent</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  component<span class=\"token operator\">:</span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./MyComponent.vue'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token comment\">// indicator ƒë·ªÉ bi·∫øt load xong ch∆∞a</span>\n  loading<span class=\"token operator\">:</span> LoadingComponent<span class=\"token punctuation\">,</span>\n\t<span class=\"token comment\">// n·∫øu load b·ªã l·ªói</span>\n  error<span class=\"token operator\">:</span> ErrorComponent<span class=\"token punctuation\">,</span>\n\t<span class=\"token comment\">// m·∫∑c ƒë·ªãnh 200ms, th·ªùi gian delay</span>\n  delay<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token comment\">// m·∫∑c ƒë·ªãnh l√† kh√¥ng c√≥ gi·ªõi h·∫°n, sau th·ªùi gian n√†y, ErrorComponent s·∫Ω hi·ªÉn th·ªã</span>\n  timeout<span class=\"token operator\">:</span> <span class=\"token number\">3000</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"x-template\"><a href=\"#x-template\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>x template</h2>\n<p>Cho ph√©p ch√∫ng ta c√≥ th·ªÉ ƒë·ªãnh nghƒ©a m·ªôt template b·∫±ng th·∫ª <code class=\"language-inline-text\">script</code>, ch·ªâ c·∫ßn th√™m v√†o <code class=\"language-inline-text\">text/x-template</code></p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/x-template<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>script-template<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n\t<span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>vuilaptrinh<span class=\"token punctuation\">.</span>com<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">x-template-example</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\ttemplate<span class=\"token operator\">:</span> <span class=\"token string\">'#script-template'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"m·ª•c-ƒë√≠ch-c·ªßa-once\"><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-once\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ª•c ƒë√≠ch c·ªßa <code class=\"language-inline-text\">once</code></h2>\n<p>N·∫øu mu·ªën render <strong>r·∫•t nhi·ªÅu n·ªôi dung tƒ©nh</strong>, ch√∫ng ta ch·ªâ c·∫ßn th·ª±c hi·ªán <strong>m·ªôt l·∫ßn</strong> v√† sau ƒë√≥ cache l·∫°i k·∫øt qu·∫£ n√†y.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">v-once</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">vuilaptrinh.com</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"m·ª•c-ƒë√≠ch-c·ªßa-rendererror\"><a href=\"#m%E1%BB%A5c-%C4%91%C3%ADch-c%E1%BB%A7a-rendererror\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ª•c ƒë√≠ch c·ªßa <code class=\"language-inline-text\">renderError</code></h2>\n<p>Khi g·ªçi h√†m <code class=\"language-inline-text\">render</code> c√≥ ph√°t sinh l·ªói, h√†m <code class=\"language-inline-text\">renderError</code> s·∫Ω ƒë∆∞·ª£c g·ªçi</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">h</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'An error'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token function\">renderError</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">h<span class=\"token punctuation\">,</span> err</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">h</span><span class=\"token punctuation\">(</span> <span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>style<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> color<span class=\"token operator\">:</span> <span class=\"token string\">'red'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">.</span>stack <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"nexttick-l√†-g√¨\"><a href=\"#nexttick-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">nextTick</code> l√† g√¨</h2>\n<p>H√†m <code class=\"language-inline-text\">nextTick()</code> cho ph√©p ch·∫°y m·ªôt h√†m kh√°c sau khi d·ªØ li·ªáu c√≥ thay ƒë·ªïi v√† DOM ƒë√£ c·∫≠p nh·∫≠p.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// thay ƒë·ªïi d·ªØ li·ªáu</span>\nvm<span class=\"token punctuation\">.</span>msg <span class=\"token operator\">=</span> <span class=\"token string\">'vuilaptrinh'</span>\n<span class=\"token comment\">// DOM ch∆∞a update</span>\nVue<span class=\"token punctuation\">.</span><span class=\"token function\">nextTick</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// DOM ƒë√£ update</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// C√≥ th·ªÉ d√πng nh∆∞ `.then` nh∆∞ Promise</span>\nVue<span class=\"token punctuation\">.</span><span class=\"token function\">nextTick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// DOM ƒë√£ update</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"l√†m-sao-ƒë·ªÉ-force-update\"><a href=\"#l%C3%A0m-sao-%C4%91%E1%BB%83-force-update\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L√†m sao ƒë·ªÉ force update</h2>\n<p>Tr∆∞·ªùng h·ª£p ph·∫£i force update r·∫•t hi·∫øm x·∫£y ra. Nh∆∞ng n·∫øu mu·ªën ch√∫ng ta c√≥ th·ªÉ g·ªçi <code class=\"language-inline-text\">vm.$forceUpdate()</code> ƒë·ªÉ √©p bu·ªôc re-render</p>\n","cover_image":""}},{"node":{"id":"ea2beb2df9bee4098b4ee97077eaa64d","title":"V·ªõi CSS, chuy·ªán g√¨ x·∫£y ra khi c√≥ 2 gi√° tr·ªã margin n·∫±m li·ªÅn k·ªÅ nhau?","path":"/2020-12-14-quy-luat-cua-margin-collapse/","date":"2020-12-14","timeToRead":2,"desc":"ƒê∆∞·ª£c bi·∫øt v·ªõi t√™n margin collapse, th∆∞·ªùng g√¢y kh√≥ hi·ªÉu n·∫øu b·∫°n kh√¥ng n·∫Øm rule ƒë∆∞·ª£c √°p d·ª•ng s·∫Ω ƒë∆∞·ª£c ch·ªâ ra trong b√†i n√†y","content":"<p>V√≠ d·ª• v·ªõi 2 th·∫ª <code class=\"language-inline-text\">&lt;p /></code> n·∫±m li·ªÅn k·ªÅ nhau nh∆∞ th·∫ø n√†y:</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">p</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Paragraph One<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Paragraph Two<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Thay v√¨ <code class=\"language-inline-text\">48px</code>, th·ª±c t·∫ø gi·ªØa hai th·∫ª <code class=\"language-inline-text\">&lt;p /></code> ch·ªâ c√≥ kho·∫£ng c√°ch l√† <code class=\"language-inline-text\">24px</code></p>\n<p>Kh√¥ng r√µ v√¨ l√Ω do <em>c√° nh√¢n</em> g√¨, m√† CSS ch·ªâ √°p d·ª•ng c√°i lu·∫≠t <em>margin collapse</em> n√†y cho gi√° tr·ªã <code class=\"language-inline-text\">top</code> v√† <code class=\"language-inline-text\">bottom</code>, n·∫øu gi√° tr·ªã <em>margin</em> l√† <code class=\"language-inline-text\">left</code> ho·∫∑c <code class=\"language-inline-text\">right</code>, th√¨ n√≥ l·∫°i b√¨nh th∆∞·ªùng</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">p</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>P1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>P2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><em>Kho·∫£ng c√°ch gi·ªØa (tr√°i ph·∫£i) l√† 48px</em></p>\n<p>Ch∆∞a ƒë·ªß <em>d·ªã</em>, CSS l·∫°i c√≤n c√≥ quy ƒë·ªãnh <strong>ch·ªâ khi 2 element n·∫±m li·ªÅn k·ªÅ v·ªõi nhau m·ªõi hi·ªáu nghi·ªám</strong>, n·∫øu c√≥ 1 element ch√®n ·ªü gi·ªØa th√¨ l·∫°i b√¨nh th∆∞·ªùng 48px</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">p</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Paragraph One<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Paragraph Two<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>V√† s·∫Ω ra sao n·∫øu 2 element c√≥ gi√° tr·ªã <strong>margin kh√¥ng b·∫±ng nhau</strong>. <strong>winner take all</strong> s·∫Ω ƒë∆∞·ª£c √°p d·ª•ng, gi√° tr·ªã n√†o l·ªõn h∆°n th√¨ ch·ªâ l·∫•y gi√° tr·ªã ƒë√≥.</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n    <span class=\"token selector\">p</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 48px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token selector\">div</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 90px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Paragraph One<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>Paragraph Two<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><em>kho·∫£ng c√°ch tr√™n d∆∞·ªõi s·∫Ω l√† 90px</em></p>\n<p><em>margin collapse</em> kh√¥ng ch·ªâ xu·∫•t hi·ªán khi c√≥ gi√° tr·ªã <code class=\"language-inline-text\">top</code> v√† <code class=\"language-inline-text\">bottom</code>, n√≥ c√≤n x·∫£y ra khi c√≥ 2 gi√° tr·ªã <code class=\"language-inline-text\">top</code> ho·∫∑c <code class=\"language-inline-text\">bottom</code></p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.parent</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 72px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.child</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>parent<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>child<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Paragraph One<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><em>Gi√° tr·ªã margin s·∫Ω ch·ªâ l·∫•y top = 72px</em></p>\n<p>L·ªùi khuy√™n cu·ªëi c√πng, n·∫øu th·ª±c s·ª± hi·ªÉu v√† nh·ªõ m√¨nh ƒëang vi·∫øt g√¨ th√¨ d√πng margin, c√≤n kh√¥ng th√¨ d√πng <code class=\"language-inline-text\">padding</code> cho an to√†n.</p>\n","cover_image":""}},{"node":{"id":"6644501b4848c8e7978f0b7f037b94af","title":"Ghi ch√∫ file package.json c·ªßa node module","path":"/2020-12-09-ghi-chu-chp-package-json/","date":"2020-12-09","timeToRead":1,"desc":"","content":"<p>T·∫°o file <code class=\"language-inline-text\">package.json</code> (ƒë·ªìng th·ªùi kh·ªüi t·∫°o m·ªôt npm package)</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> init\n// d√πng c√°c thi·∫øt ƒë·∫∑t m·∫∑c ƒë·ªãnh\n<span class=\"token function\">npm</span> init --yes</code></pre></div>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--TQDD7RDS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://miro.medium.com/max/1050/1%2AQlNpEYhWUe_gU60G8X77mA.png\"></p>\n<p>C√°c property ch√≠nh c·∫ßn n·∫Øm trong file <code class=\"language-inline-text\">package.json</code></p>\n<p><code class=\"language-inline-text\">name</code>: t√™n project</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my-blog-backend\"</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><code class=\"language-inline-text\">version</code>: version hi·ªán t·∫°i c·ªßa project</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><code class=\"language-inline-text\">main</code>: ƒë∆∞·ªùng d·∫´n tr·ªè ƒë·∫øn file <code class=\"language-inline-text\">entry point</code> ch√≠nh c·ªßa project</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"server.js\"</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><code class=\"language-inline-text\">scripts</code>: ch·ª©a c√°c command shortcut</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npx babel-node src/server.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dev\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npx babel-node src/server.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"lint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint ./server\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><code class=\"language-inline-text\">bugs</code>: ƒë·ªãa ch·ªâ ƒë·ªÉ b√°o bug v√† email nh·∫≠n th√¥ng b√°o</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"bugs\"</span><span class=\"token operator\">:</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/owner/project/issues\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"project@hostname.com\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><code class=\"language-inline-text\">private</code>: true n·∫øu b·∫°n kh√¥ng mu·ªën publish, nh∆∞ ƒëang l√†m project c√¥ng ty th√¨ kh√¥ng ai ƒë·ªÉ <code class=\"language-inline-text\">false</code></p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"private\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></code></pre></div>\n<p><code class=\"language-inline-text\">keywords</code>: h·ªó tr·ª£ c√°c c√¥ng c·ª• search t√¨m theo t·ª´ kh√≥a</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"node\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><code class=\"language-inline-text\">dependencies</code>: nh·ªØng th∆∞ vi·ªán n√†o ƒëang ph·ª• thu·ªôc</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"express\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.17.1\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><code class=\"language-inline-text\">devDependencies</code>: external dependencies trong l√∫c dev, kh√¥ng c·∫ßn n·∫øu b·∫°n ch·ªâ l·∫•y production build.</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"@babel/cli\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.12.8\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"@babel/core\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.12.9\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"@babel/node\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.12.6\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"@babel/preset-env\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.12.7\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-inline-text\">repository</code>: code b·∫°n ƒë·∫∑t source ·ªü ƒë√¢u, ƒë·ªÉ ng∆∞·ªùi kh√°c c√≥ th·ªÉ ƒë√≥ng g√≥p</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"repository\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"git\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"url\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/npm/cli.git\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-inline-text\">license</code>: b·∫£n quy·ªÅn, project n√†y open source hay t√†i s·∫£n c·ªßa c√¥ng ty</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span> <span class=\"token comment\">// hay proprietary, MIT</span></code></pre></div>\n","cover_image":""}},{"node":{"id":"276dac0cac0bf3c19d5a53f3cd08f1e4","title":"Ghi ch√∫ v·ªÅ 3 module bundler rollup, parcel, webpack","path":"/2020-12-08-rollup-parcel-webpack/","date":"2020-12-08","timeToRead":2,"desc":"","content":"<blockquote>\n<p> <strong>bundler</strong> c·ªßa JS l√† c√¥ng c·ª• d√πng ƒë·ªÉ ƒë∆∞a t·∫•t c·∫£ file ƒë√£ <code class=\"language-inline-text\">import</code> v√†o th√†nh 1 file duy nh·∫•t. N√≥ c√≤n c√≥ th·ªÉ *minify` k·∫øt qu·∫£ cu·ªëi c√πng n·∫øu b·∫°n mu·ªën.</p>\n</blockquote>\n<p>JS bundler c√≥ 3 <em>√¥ng l·ªõn</em> ·ªü th·ªùi ƒëi·ªÉm hi·ªán t·∫°i</p>\n<ul>\n<li>Parcel</li>\n<li>Rollup</li>\n<li>Webpack</li>\n</ul>\n<h3 id=\"ƒë√°nh-gi√°-tr√™n-vi·ªác-config-c√≥-d·ªÖ-hay-kh√¥ng\"><a href=\"#%C4%91%C3%A1nh-gi%C3%A1-tr%C3%AAn-vi%E1%BB%87c-config-c%C3%B3-d%E1%BB%85-hay-kh%C3%B4ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ƒê√°nh gi√° tr√™n vi·ªác config c√≥ d·ªÖ hay kh√¥ng</h3>\n<p>Parcel s·ªë 1, g·∫ßn nh∆∞ kh√¥ng ph·∫£i l√†m g√¨</p>\n<p>Webpack v√† Rollup y√™u c·∫ßu ph·∫£i c√≥ file config ri√™ng.</p>\n<p>Rollup c√≥ s·∫µn polyfill cho <code class=\"language-inline-text\">import/export</code>, webpack ch∆∞a c√≥</p>\n<p>Rollup h·ªó tr·ª£ relative path, webpack ph·∫£i d√πng <code class=\"language-inline-text\">path.resolve</code> ho·∫∑c <code class=\"language-inline-text\">path.join</code></p>\n<p>Config webpack ph·ª©c t·∫°p nh·∫•t, ƒë∆∞·ª£c c√°i h·ªó tr·ª£ nhi·ªÅu third-party</p>\n<h3 id=\"lo·∫°i-b·ªè-code-kh√¥ng-s·ª≠-d·ª•ng\"><a href=\"#lo%E1%BA%A1i-b%E1%BB%8F-code-kh%C3%B4ng-s%E1%BB%AD-d%E1%BB%A5ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Lo·∫°i b·ªè code kh√¥ng s·ª≠ d·ª•ng</h3>\n<p>Lo·∫°i b·ªè code kh√¥ng s·ª≠ d·ª•ng, c√≤n g·ªçi dead code, Tree shaking r·∫•t c·∫ßn thi·∫øt ƒë·ªÉ n√¢ng cao hi·ªáu nƒÉng.</p>\n<p>Parcel v·∫´n l√† s·ªë 1. H·ªó tr·ª£ tree-shaking c·∫£ ES6 v√† CommonJS</p>\n<p>Rollup ƒë·ª©ng th·ª© 2.</p>\n<p>Webpack th√¨ ph·∫£i th·ªß c√¥ng config ƒë·ªÉ c√≥ tree-shaking.</p>\n<p>Rollup v√† webpack t·∫≠p trung tree-shaking v·ªõi ES6.</p>\n<h3 id=\"code-splitting\"><a href=\"#code-splitting\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Code splitting</h3>\n<p>Webpack s·ªë 1, ƒë√∫ng ki·ªÉu l√†m √≠t h∆∞·ªüng nhi·ªÅu. C√≥ 3 l·ª±a ch·ªçn</p>\n<ul>\n<li>S·ª≠ d·ª•ng config entry</li>\n<li>S·ª≠ d·ª•ng plugin CommonsChunkPlugin</li>\n<li>Dynamic import</li>\n</ul>\n<p>Rollup v√† Parcel h·ªó tr·ª£ splitting ngay t·ª´ ƒë·∫ßu, nh∆∞ng ƒëang v∆∞·ªõng nhi·ªÅu issue b·ªã report.</p>\n<p>Webpack v·∫´n l√† l·ª±a ch·ªçn h√†ng ƒë·∫ßu.</p>\n<h3 id=\"live-reload\"><a href=\"#live-reload\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Live reload</h3>\n<p>Parcel g·∫∑p m·ªôt s·ªë v·∫•n ƒë·ªÅ v·ªõi HTTP logging, Hooks v√† middleware</p>\n<p>Rollup ph·∫£i c√†i th√™m <code class=\"language-inline-text\">rollup-plugin-serve</code>, <code class=\"language-inline-text\">rollup-plugin-livereload</code> ch·ª© kh√¥ng c√≥ s·∫µn.</p>\n<p>Webpack c√†i th√™m <code class=\"language-inline-text\">webpack-dev-server</code>.</p>\n<p>Kh·∫£ nƒÉng t√πy ch·ªânh c·ªßa webpack s·∫Ω cao h∆°n Rollup v√† Parcel.</p>\n<h3 id=\"module-transform\"><a href=\"#module-transform\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Module transform</h3>\n<p>C√°c bundler ch·ªâ h·ªó tr·ª£ file JS, v·ªõi c√°c file kh√°c ch√∫ng ta c·∫ßn th√™m plugin</p>\n<p><img src=\"https://miro.medium.com/max/300/1*fQYPJhmQuHA93GWcChKBTw.png\"></p>\n<p>Parcel h·ªó tr·ª£ s·∫µn t·∫•t c·∫£ nh·ªØng ki·ªÉu file quen thu·ªôc, kh√¥ng c·∫ßn ƒë·ª•ng ƒë·∫øn config. Kh√¥ng nh·ªØng v·∫≠y, khi g·∫∑p c√°c file config <code class=\"language-inline-text\">.babelrc</code>, <code class=\"language-inline-text\">.postcssrc</code>, <code class=\"language-inline-text\">.posthtml</code> n√≥ s·∫Ω t·ª± handle</p>\n<p>Webpack v√† Rollup c·∫ßn th√™m plugin v√† config m·ªõi c√≥ transform v√† transpiler.</p>\n<h2 id=\"k·∫øt\"><a href=\"#k%E1%BA%BFt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>K·∫øt</h2>\n<ul>\n<li>Nhanh g·ªçn l·∫π, app ƒë∆°n gi·∫£n, ch·ªçn Parcel</li>\n<li>L√†m th∆∞ vi·ªán, h·∫°n ch·∫ø third-party, d√πng Rollup</li>\n<li>App ph·ª©c t·∫°p, nhi·ªÅu third-party, d√πng webpack.</li>\n</ul>\n<p>Ghi ch√∫ t·ª´ <a href=\"https://medium.com/better-programming/the-battle-of-bundlers-6333a4e3eda9\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Rollup vs. Parcel vs. webpack: Which Is the Best Bundler?</a></p>\n","cover_image":""}},{"node":{"id":"307e7c23d055c29830eecf1a597f82d9","title":"Ghi ch√∫ v·ªÅ JWT","path":"/2020-12-05-kinh-nghiem-lam-viec-voi-jwt/","date":"2020-12-05","timeToRead":4,"desc":"JWT ƒë√£ kh√¥ng c√≤n m·ªõi l·∫° ·ªü nƒÉm 2020, t√≥m t·∫Øt m·ªôt nh·ªØng v·∫•n ƒë·ªÅ ch√≠nh c·∫ßn quan t√¢m khi l√†m vi·ªác v·ªõi JWT","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#c%C6%A1-b%E1%BA%A3n-c%E1%BA%A7n-n%E1%BA%AFm\">C∆° b·∫£n, c·∫ßn n·∫Øm</a></li>\n<li><a href=\"#ph%C3%ADa-backend\">Ph√≠a Backend</a></li>\n<li>\n<p><a href=\"#ph%C3%ADa-client-d%C3%B9ng-spa\">Ph√≠a client d√πng SPA</a></p>\n<ul>\n<li><a href=\"#so-s%C3%A1nh-%C4%91%E1%BB%8Bnh-danh-b%E1%BA%B1ng-session-v%C3%A0-token\">So s√°nh ƒë·ªãnh danh b·∫±ng Session v√† Token</a></li>\n<li><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81-v%E1%BB%9Bi-xss-v%C3%A0-csrf-khi-d%C3%B9ng-jwt\">V·∫•n ƒë·ªÅ v·ªõi XSS v√† CSRF khi d√πng JWT</a></li>\n<li><a href=\"#c%C3%B3-c%E1%BA%A7n-https-v%E1%BB%9Bi-jwt\">C√≥ c·∫ßn HTTPS v·ªõi JWT?</a></li>\n<li><a href=\"#khi-n%C3%A0o-kh%C3%B4ng-n%C3%AAn-d%C3%B9ng-jwt\">Khi n√†o kh√¥ng n√™n d√πng JWT</a></li>\n<li><a href=\"#th%C6%B0-vi%E1%BB%87n-ngon\">Th∆∞ vi·ªán ngon</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"c∆°-b·∫£n-c·∫ßn-n·∫Øm\"><a href=\"#c%C6%A1-b%E1%BA%A3n-c%E1%BA%A7n-n%E1%BA%AFm\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C∆° b·∫£n, c·∫ßn n·∫Øm</h2>\n<p>JWT c√≥ th·ªÉ nh·ªõ n√¥m na l√† m·ªôt JSON ƒë√£ <strong>encrypt</strong> => g·ªçi l√† <em>token</em>, ch·ª©a th√¥ng tin gi√∫p backend c√≥ th·ªÉ ƒë·ªãnh danh b·∫°n l√† ai, b·∫°n c√≥ quy·ªÅn g√¨</p>\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--Lmyom2tH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_1048F41B3AC814B927887FF3C86602B940107555916A37D85A0BACB9135A34EA_1606545347515_jwt.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--Lmyom2tH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_1048F41B3AC814B927887FF3C86602B940107555916A37D85A0BACB9135A34EA_1606545347515_jwt.png\" alt=\"img\"></a></p>\n<p>Nguy√™n nh√¢n ra ƒë·ªùi c·ªßa JWT l√† ƒë·ªÉ gi·∫£i quy·∫øt b√†i to√°n <strong>ƒë·ªãnh danh</strong> trong <em>microservice</em></p>\n<h2 id=\"ph√≠a-backend\"><a href=\"#ph%C3%ADa-backend\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ph√≠a Backend</h2>\n<p>·ªû ph√≠a Backend c√≥ 2 v·∫•n ƒë·ªÅ ch√≠nh c·∫ßn quan t√¢m</p>\n<ol>\n<li>T·∫°o nh∆∞ th·∫ø n√†o</li>\n<li>Validate ra l√†m sao</li>\n</ol>\n<p>Vi·ªác t·∫°o, s·ª≠ d·ª•ng nh·ªØng th∆∞ vi·ªán c√≥ s·∫µn (<a href=\"https://www.npmjs.com/package/jsonwebtoken\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jsonwebtoken</a> n·∫øu b·∫°n ƒëang d√πng Node.js), ∆Øch·ªâ c·∫ßn quan t√¢m nh·ªØng gi√° tr·ªã <em>ƒë√£</em>  ho·∫∑c <em>mu·ªën</em> nh√©t th√™m trong JSON</p>\n<p>M·ªôt tr∆∞·ªùng t·ªëi quan trong trong JSON l√† <code class=\"language-inline-text\">expiresIn</code>, cho ph√©p token s·∫Ω expire sau bao l√¢u.</p>\n<p>Vi·ªác validate, th√¨ d√πng th∆∞ vi·ªán n√†o t·∫°o token, n√≥ s·∫Ω c√≥ lu√¥n ph∆∞∆°ng th·ª©c ƒë·ªÉ ki·ªÉm tra token ƒë√≥ c√≥ h·ª£p l·ªá kh√¥ng.</p>\n<h2 id=\"ph√≠a-client-d√πng-spa\"><a href=\"#ph%C3%ADa-client-d%C3%B9ng-spa\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ph√≠a client d√πng SPA</h2>\n<h3 id=\"so-s√°nh-ƒë·ªãnh-danh-b·∫±ng-session-v√†-token\"><a href=\"#so-s%C3%A1nh-%C4%91%E1%BB%8Bnh-danh-b%E1%BA%B1ng-session-v%C3%A0-token\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>So s√°nh ƒë·ªãnh danh b·∫±ng Session v√† Token</h3>\n<p>Gi·ªëng nhau</p>\n<ol>\n<li>Ch·ª©c nƒÉng nh∆∞ nhau, ƒë·ªÉ ƒë·ªãnh danh</li>\n<li>Sau khi ƒë·ªãnh danh ·ªü Backend, n√≥ tr·∫£ v·ªÅ token cho client</li>\n<li>G·ª≠i k√®m token tr√™n khi mu·ªën d√πng m·ªôt service ·ªü ph√≠a backend</li>\n</ol>\n<p>Kh√°c nhau</p>\n<ul>\n<li>Session th√¨ d·ªØ li·ªáu v√† tr·∫°ng th√°i ƒëƒÉng nh·∫≠p c·ªßa user ƒë∆∞·ª£c l∆∞u ·ªü b·ªô nh·ªõ ph√≠a server. Kh√¥ng ph√π h·ª£p v·ªõi RESTful APIs, m·ªói service ƒë·ªÅu ph·∫£i <code class=\"language-inline-text\">stateless</code>, anh l√† ai, anh t·ª´ ƒë√¢u t·ªõi ƒë·ªÅu ph·∫£i ƒë∆∞a ch·ª©ng minh nh√¢n d√¢n ch·ª© ch√∫ng t√¥i kh√¥ng ai r·∫£nh ƒë·∫ßu ng·ªìi nh·ªõ m·∫∑t h·∫øt nh·ªØng ai ra v√†o service.</li>\n<li>Session s·∫Ω l∆∞u th√¥ng tin v·ªÅ user ·ªü <strong>cookie</strong> c·ªßa tr√¨nh duy·ªát, v·∫•n ƒë·ªÅ l√† c√°c service c√≥ th·ªÉ kh√°c domain, tr√¨nh duy·ªát kh√¥ng bi·∫øt v√† s·∫Ω kh√¥ng ƒë∆∞a th√¥ng tin cookie cho c√°c domain kh√°c</li>\n</ul>\n<h3 id=\"v·∫•n-ƒë·ªÅ-v·ªõi-xss-v√†-csrf-khi-d√πng-jwt\"><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81-v%E1%BB%9Bi-xss-v%C3%A0-csrf-khi-d%C3%B9ng-jwt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V·∫•n ƒë·ªÅ v·ªõi XSS v√† CSRF khi d√πng JWT</h3>\n<p>H·∫øt s·ª©c th·∫≠n tr·ªçng khi x·ª≠ l√Ω JWT trong code, token l√† m·ªìi ngon cho XSS v√† CSRF</p>\n<p>Tuy·ªát ƒë·ªëi kh√¥ng d√πng local storage ƒë·ªÉ l∆∞u JWT tr√™n ph√≠a frontend. Localstorage c√≥ th·ªÉ ƒë∆∞·ª£c truy xu·∫•t b·∫±ng JS c√πng domain, attacker c√≥ th·ªÉ d√πng ƒëi·ªÉm n√†y ƒë·ªÉ inject th√™m m√£ ƒë·ªÉ l·∫•y local storage. (XSS)</p>\n<p>V√¨ cookie ƒë∆∞·ª£c g·ª≠i tr√™n t·∫•t c·∫£ <em>request</em>, attacker c√≥ th·ªÉ l·ª£i d·ª•ng ƒëi·ªÉm n√†y ƒë·ªÉ g·ª≠i m·ªôt link y√™u c·∫ßu ƒë·ªïi password (CSRF)</p>\n<p>N·∫øu kh√¥ng c√≤n l·ª±a ch·ªçn n√†o kh√°c, l∆∞u trong b·ªô nh·ªõ, l∆∞u √Ω s·∫Ω m·∫•t khi user refresh.</p>\n<p>Cookie th·∫≠t ra kh√¥ng ph·∫£i l√† kh√¥ng d√πng ƒë∆∞·ª£c, nh∆∞ng d√πng th√¨ ph·∫£i ki·ªÉm tra</p>\n<ul>\n<li>D√πng <code class=\"language-inline-text\">httpOnly</code> ƒë·ªÉ cookie kh√¥ng th·ªÉ ƒë∆∞·ª£c truy c·∫≠p th√¥ng qua JS</li>\n<li>D√πng <code class=\"language-inline-text\">SameSite</code> ƒë·ªÉ h·∫°n ch·∫ø  c·∫•p ph√°t cookie ƒëi c√°c domain ch·ªâ ƒë·ªãnh. N·∫øu ph·∫£i ƒë∆∞a qua nhi·ªÅu domain kh√°c nhau, d√πng <em>Lax</em>, n√≥ cho ph√©p g·ªçi truy·ªÅn cookie kh√°c domain n·∫øu l√† <code class=\"language-inline-text\">GET</code></li>\n</ul>\n<p>N·∫øu mu·ªën 100% an to√†n tuy·ªát ƒë·ªëi, ph·∫£i tr·∫£ m·ªôt c√°i gi√° kh√¥ng r·∫ª, nh∆∞ t·∫Øt cross-domain request.</p>\n<p>N·∫øu s·ª≠ d·ª•ng <code class=\"language-inline-text\">axios</code>, v√† backend t·∫°o cookie ƒë√∫ng chu·∫©n, ƒë·ªÉ axios lo ph·∫ßn ƒë√≥ cho an to√†n, kh√¥ng c·∫ßn lo vi·ªác x·ª≠ l√Ω token, cookie m·ªôt c√°ch th·ªß c√¥ng, thi·∫øu chuy√™n nghi·ªáp.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">axios<span class=\"token punctuation\">.</span>defaults<span class=\"token punctuation\">.</span>withCredentials <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><a href=\"https://github.com/deleteman/sample-jwt-auth-vue\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code tham kh·∫£o</a></p>\n<h3 id=\"c√≥-c·∫ßn-https-v·ªõi-jwt\"><a href=\"#c%C3%B3-c%E1%BA%A7n-https-v%E1%BB%9Bi-jwt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√≥ c·∫ßn HTTPS v·ªõi JWT?</h3>\n<p>HTTPS c√≥ ƒë·∫£m b·∫£o an to√†n tuy·ªát ƒë·ªëi cho site, l√† y√™u c·∫ßu b·∫Øt bu·ªôc khi s·ª≠ d·ª•ng JWT?</p>\n<p>100% b·∫£o m·∫≠t l√† con s·ªë ch∆∞a ai d√°m nh·∫≠n, hay n√≥i to·∫πt ra l√† kh√¥ng th·ªÉ. S·∫Ω lu√¥n c√≥ ƒë√¢u ƒë√≥ m·ªôt con ng∆∞·ªùi t√†i gi·ªèi, th√¥ng minh h∆°n b·∫°n, h·ªç s·∫Ω t√¨m ƒë∆∞·ª£c c√°ch t·∫•n c√¥ng ph√π h·ª£p. May m·∫Øn thay nh·ªØng ng∆∞·ªùi xu·∫•t ch√∫ng nh∆∞ v·∫≠y h·ªç c≈©ng c√≥ ƒë·∫°o ƒë·ª©c cao v√† kh√¥ng r·∫£nh ƒë·ªÉ l√†m nh·ªØng vi·ªác qu√° t·∫ßm th∆∞·ªùng. ƒê·ª´ng c√≥ l√™n m·∫°ng m√† \"Anh ƒë·ªë ch√∫ hack ƒë∆∞·ª£c site anh!\"</p>\n<p>HTTPS l√† c∆° ch·∫ø <strong>encrypt</strong> th√¥ng tin ƒëi-v·ªÅ gi·ªØa client v√† server, ƒë·∫£m b·∫£o kh√¥ng c√≥ ng∆∞·ªùi ngo√†i n√†o c√≥ th·ªÉ d√≤m ng√≥ v√† ƒë·ªçc ƒë∆∞·ª£c b·∫°n ƒëang g·ª≠i g√¨, nh∆∞ng n·∫øu n√≥ ƒë√£ chui ƒë∆∞·ª£c v√†o nh√† b·∫°n r·ªìi th√¨ th√†nh th·∫≠t m√† n√≥i HTTPS c≈©ng kh√¥ng ph·∫£i l√† c√°nh c·ª≠a ch·ªâ c√≥ b·∫°n m·ªü ƒë∆∞·ª£c.</p>\n<h3 id=\"khi-n√†o-kh√¥ng-n√™n-d√πng-jwt\"><a href=\"#khi-n%C3%A0o-kh%C3%B4ng-n%C3%AAn-d%C3%B9ng-jwt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Khi n√†o kh√¥ng n√™n d√πng JWT</h3>\n<p>N·∫øu b·∫°n ƒëang mu·ªën s·ª≠ d·ª•ng m·ªôt stateful backend, JWT l√† th·ª´a th√£i kh√¥ng c·∫ßn thi·∫øt.</p>\n<p>JWT sinh ra v√† ph√π h·ª£p nh·∫•t v·ªõi stateless API</p>\n<h3 id=\"th∆∞-vi·ªán-ngon\"><a href=\"#th%C6%B0-vi%E1%BB%87n-ngon\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th∆∞ vi·ªán ngon</h3>\n<p>Vue: <a href=\"https://www.npmjs.com/package/vuejs-jwt\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">vuejs-jwt</a></p>\n<p>React: <a href=\"https://www.npmjs.com/package/react-jwt\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-jwt</a></p>\n<p>Angular: <a href=\"https://www.npmjs.com/package/@auth0/angular-jwt\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">angular-jwt</a></p>\n<p>Ghi ch√∫ t·ª´ b√†i vi·∫øt <a href=\"https://dev.to/deleteman123/jwt-authentication-best-practices-3lf9\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JWT Authentication Best Practices</a></p>\n","cover_image":""}},{"node":{"id":"756b1766138731f4a766ba12486ddb4c","title":"T√≥m t·∫Øt qu√° tr√¨nh render c·ªßa tr√¨nh duy·ªát","path":"/2020-12-03-browser-render-website-nhu-the-nao/","date":"2020-12-03","timeToRead":2,"desc":"T√≥m l∆∞·ª£c c√°c b∆∞·ªõc ch√≠nh tr√¨nh duy·ªát c·∫ßn th·ª±c hi·ªán ƒë·ªÉ render m·ªôt trang web","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#parse-html\">Parse HTML</a></li>\n<li><a href=\"#2---external-resource\">2 - External Resource</a></li>\n<li><a href=\"#3---parse-css\">3 - Parse CSS</a></li>\n<li><a href=\"#4---execute-js\">4 - Execute JS</a></li>\n<li><a href=\"#5---merge-dom-v%C3%A0-cssom-%C4%91%E1%BB%83-t%E1%BA%A1o-render-tree\">5 - Merge DOM v√† CSSOM ƒë·ªÉ t·∫°o render tree</a></li>\n<li><a href=\"#6---calculate-layout-v%C3%A0-paint\">6 - Calculate layout v√† paint</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"parse-html\"><a href=\"#parse-html\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parse HTML</h2>\n<p>Khi tr√¨nh duy·ªát nh·∫≠n m·ªôt d·ªØ li·ªáu HTML, n√≥ s·∫Ω <strong>parse</strong> qua DOM node</p>\n<p><img src=\"https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-1.png\"></p>\n<h2 id=\"2---external-resource\"><a href=\"#2---external-resource\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2 - External Resource</h2>\n<p>Khi g·∫∑p c√°c file CSS, JS n√≥ s·∫Ω ch·∫°y ƒëi l·∫•y d·ªØ li·ªáu ƒë√≥, qu√° tr√¨nh <strong>parse</strong> v·∫´n ti·∫øp t·ª•c, nh∆∞ng s·∫Ω <strong>ch·∫∑n</strong> vi·ªác render tr√™n tr√¨nh duy·ªát (CSS ƒë∆∞·ª£c s·∫øp v√†o lo·∫°i resource <strong>block render</strong>)</p>\n<p>JS h∆°i kh√°c, m·∫∑c ƒë·ªãnh n√≥ s·∫Ω <strong>ch·∫∑n</strong> qu√° tr√¨nh parse HTML (<strong>block parse</strong>). Tuy nhi√™n v·ªõi vi·ªác truy·ªÅn th√™m attribute <code class=\"language-inline-text\">defer</code> ho·∫∑c <code class=\"language-inline-text\">async</code>, vi·ªác parse js s·∫Ω ch·∫°y ng·∫ßm, v√† kh√¥ng ch·∫∑n parse HTML</p>\n<p>V·ªõi <code class=\"language-inline-text\">defer</code>, file s·∫Ω ƒë∆∞·ª£c execute sau khi parse document xong, n·∫øu nhi·ªÅu file ƒë∆∞·ª£c th√™m thu·ªôc t√≠nh <code class=\"language-inline-text\">defer</code>, n√≥ s·∫Ω ƒë∆∞·ª£c execute theo th·ª© t·ª± trong HTML</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>script.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">defer</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>V·ªõi <code class=\"language-inline-text\">async</code>, file s·∫Ω execute ngay khi load, nghƒ©a l√† c√≥ th·ªÉ trong l√∫c parse ho·∫∑c sau l√∫c parse, v√¨ v·∫≠y th·ª© t·ª± ƒë·∫∑t file kh√¥ng quan tr·ªçng, kh√¥ng ƒë·∫£m b·∫£o file execute theo ƒë√∫ng th·ª© t·ª±.</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>script.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">async</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><a href=\"https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-2.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--5qrUxpJD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-2-1000.png\" alt=\"Fetching CSS and JavaScript resources in a web browser\"></a></p>\n<p>V·ªõi c√°c tr√¨nh duy·ªát sau n√†y, n√≥ s·∫Ω h·ªó tr·ª£ th√™m vi·ªác <strong>preload</strong>, l·∫•y v·ªÅ nh·ªØng resource ch∆∞a th·∫≠t s·ª± c·∫ßn ·ªü th·ªùi ƒëi·ªÉm hi·ªán t·∫°i, nh∆∞ng trong t∆∞∆°ng lai c√≥ th·ªÉ c·∫ßn ƒë·∫øn, vi·ªác n√†y c≈©ng t√πy thu·ªôc v√†o t·ª´ng tr√¨nh duy·ªát m√† c√°ch x·ª≠ l√Ω c√≥ kh√°c nhau</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>style.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>preload<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>style<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<h2 id=\"3---parse-css\"><a href=\"#3---parse-css\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>3 - Parse CSS</h2>\n<p>Sau khi ƒë√£ c√≥ ƒë∆∞·ª£c source file css \"trong tay\", tr√¨nh duy·ªát l√†m ti·∫øp 2 thao t√°c, parse CSS v√† build CSSOM</p>\n<p><a href=\"https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-3.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--lDR98Pu7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-3-1000.png\" alt=\"Parsing CSS and building the CSSOM in a web browser\"></a></p>\n<h2 id=\"4---execute-js\"><a href=\"#4---execute-js\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>4 - Execute JS</h2>\n<p>C√°c tr√¨nh duy·ªát kh√°c nhau, qu√° tr√¨nh parse-compile-execute s·∫Ω kh√°c nhau, c≈©ng c·∫ßn nh·ªõ th√™m vi·ªác parse JS r·∫•t t·ªën k√©m t√†i nguy√™n c·ªßa m√°y.</p>\n<p>Ngay sau khi <strong>JS ƒë√£ load xong</strong> v√† <strong>DOM ƒë√£ parse xong</strong>, s·ª± ki·ªán <code class=\"language-inline-text\">document.DOMContentLoaded</code> s·∫Ω ƒë∆∞·ª£c <em>emit</em></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'DOMContentLoaded'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Sau khi c√°c async JS, image load xong, s·ª± ki·ªán <code class=\"language-inline-text\">window.load</code> s·∫Ω ƒë∆∞·ª£c emit</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><a href=\"https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-4.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--fu8vnHfk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-4-1000.png\" alt=\"Timeline of executing JavaScript in a web browser\"></a></p>\n<h2 id=\"5---merge-dom-v√†-cssom-ƒë·ªÉ-t·∫°o-render-tree\"><a href=\"#5---merge-dom-v%C3%A0-cssom-%C4%91%E1%BB%83-t%E1%BA%A1o-render-tree\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>5 - Merge DOM v√† CSSOM ƒë·ªÉ t·∫°o render tree</h2>\n<p>H·ª£p th·ªÉ gi·ªØa DOM v√† CSSOM s·∫Ω cho ra <strong>render tree</strong>, l√† to√†n b·ªô nh·ªØng g√¨ s·∫Ω hi·ªÉn th·ªã tr√™n tr√¨nh duy·ªát</p>\n<p><a href=\"https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-5.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--ay06Rl9_--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-5-1000.png\" alt=\"Merging the DOM and CSSOM to create a render tree in a web browser\"></a></p>\n<h2 id=\"6---calculate-layout-v√†-paint\"><a href=\"#6---calculate-layout-v%C3%A0-paint\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>6 - Calculate layout v√† paint</h2>\n<p>Sau khi ƒë√£ nh·∫≠n ƒë∆∞·ª£c <strong>render tree</strong>, tr√¨nh duy·ªát ƒë√£ c√≥ ƒë·ªß th√¥ng tin ƒë·ªÉ t√≠nh to√°n nh·ªØng ph·∫ßn t·ª≠ n√†o, ƒë·∫∑t ·ªü ƒë√¢u, k√≠ch th∆∞·ªõc ra l√†m sao, qua tr√¨nh ƒë√≥ g·ªçi l√† calculate layout, k·∫øt th√∫c qu√° tr√¨nh t√≠nh to√°n n√†y, tr√¨nh duy·ªát s·∫Ω b·∫Øt ƒë·∫ßu qu√° tr√¨nh <strong>paint</strong>, l√† nh·ªØng g√¨ user s·∫Ω th·∫•y tr√™n tr√¨nh duy·ªát, ƒë√¢y c≈©ng l√† b∆∞·ªõc cu·ªëi c√πng.</p>\n<p><a href=\"https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-6.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--MBpASwvG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.jstar.mx/images/blog/how-a-browser-renders-a-web-page/step-6-1000.png\" alt=\"Calculating the layout and paint of a web page in a browser\"></a></p>\n<p><a href=\"https://dev.to/jstarmx/how-the-browser-renders-a-web-page-1ahc\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"></a></p>\n","cover_image":""}},{"node":{"id":"7120966a9a6902b7e38b353176f370ef","title":"C√°c c√°ch khai b√°o function trong JS","path":"/2020-11-09-3-cach-khai-bao-function-trong-js/","date":"2020-11-09","timeToRead":1,"desc":"","content":"<h2 id=\"khai-b√°o-t∆∞·ªùng-minh\"><a href=\"#khai-b%C3%A1o-t%C6%B0%E1%BB%9Dng-minh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Khai b√°o t∆∞·ªùng minh</h2>\n<p>C√°ch khai b√°o function ‚Äúv·ªü l√≤ng‚Äù m√† ai c≈©ng ph·∫£i bi·∫øt, sau t·ª´ kh√≥a <code class=\"language-inline-text\">function</code> l√† t√™n function ch√∫ng ta mu·ªën khai b√°o</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"vui lap trinh\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"g√°n-function-v√†o-m·ªôt-bi·∫øn\"><a href=\"#g%C3%A1n-function-v%C3%A0o-m%E1%BB%99t-bi%E1%BA%BFn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>G√°n function v√†o m·ªôt bi·∫øn</h2>\n<p>Ch√∫ng ta khai b√°o m·ªôt bi·∫øn, g√°n gi√° tr·ªã c·ªßa bi·∫øn n√†y l√† m·ªôt function</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">foo</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"vui lap trinh\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>V·ªõi c√°ch n√†y, l∆∞u √Ω l√† <strong>kh√¥ng d√πng function tr∆∞·ªõc khi khai b√°o</strong>, gi·ªëng nh∆∞ ch√∫ng ta kh√¥ng th·ªÉ d√πng m·ªôt bi·∫øn m√† ch∆∞a ƒë∆∞·ª£c khai b√°o v·∫≠y.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Uncaught ReferenceError: foo is not defined</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">foo</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"vui lap trinh\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"arrow-function\"><a href=\"#arrow-function\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Arrow function</h2>\n<p>Khai b√°o function b·∫±ng d·∫•u <code class=\"language-inline-text\">=></code> m≈©i t√™n, b√™n tr√°i l√† params c·ªßa function, b√™n ph·∫£i l√† ph·∫ßn <em>ru·ªôt</em> function</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"vui lap trinh\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ho·∫∑c b·ªè lu√¥n ngo·∫∑c k√©p</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'An'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'luckyluu'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'vui'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'laptrinh'</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span> <span class=\"token operator\">=></span> name<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span> <span class=\"token operator\">=></span> name<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>L∆∞u √Ω cho arrow function, s·∫Ω kh√¥ng c√≥</p>\n<ul>\n<li>object ƒë·∫∑c bi·ªát <code class=\"language-inline-text\">arguments</code>, c√°c function kh√°c s·∫Ω c√≥ c√°i object t√™n l√† <code class=\"language-inline-text\">arguments</code> ch·ª©a c√°c tham s·ªë truy·ªÅn v√†o cho function ƒë√≥</li>\n<li>Ko c√≥ g·ªçi <code class=\"language-inline-text\">new (() => {})</code></li>\n<li>Kh√¥ng c√≥ <code class=\"language-inline-text\">this</code>, <code class=\"language-inline-text\">super</code>, <code class=\"language-inline-text\">new.target</code></li>\n</ul>\n<h2 id=\"constructor\"><a href=\"#constructor\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>constructor</h2>\n<p>Ko ƒë∆∞·ª£c khuy·∫øn kh√≠ch s·ª≠ d·ª•ng, ƒë·ªçc cho vui</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> myStrangeFunc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Function</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"console.log(a + ' with Functions')\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">myStrangeFunc</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Fun\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// logs --> \"Fun with Functions\"</span></code></pre></div>\n<p>3 th·∫±ng c√≤n l·∫°i, c≈©ng kh√¥ng ph·ªï bi·∫øn, ch∆∞a th·∫•y gi√° tr·ªã s·ª≠ d·ª•ng</p>\n<ul>\n<li>generator function expression</li>\n<li>generator function declaration</li>\n<li>\n<p>GeneratorFunction constructor</p>\n<p>N·∫øu c√≥ ƒëam m√™ b·∫°n c√≥ th·ªÉ t√¨m hi·ªÉu th√™m</p>\n</li>\n</ul>\n","cover_image":""}},{"node":{"id":"8edd00046370763e538453241d01074d","title":"N·∫øu v·ªó ng·ª±c x∆∞ng t√™n l√† m·ªôt javascript developer s√†nh s·ªèi, m√† kh√¥ng gi·∫£i th√≠ch ƒë∆∞·ª£c prototype inheritance th√¨ th·∫≠t l√† k·ª≥","path":"/2020-11-16-gioi-thieu-javascript-prototype/","date":"2020-11-09","timeToRead":2,"desc":"","content":"<p>Kh·ªüi t·∫°o m·ªôt object trong JS b·∫±ng <em>object literal</em></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> cat <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> sound<span class=\"token operator\">:</span> <span class=\"token string\">'Meow!'</span><span class=\"token punctuation\">,</span> legs<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>N·∫øu mu·ªën s·ª≠ d·ª•ng l·∫°i thu·ªôc t√≠nh <code class=\"language-inline-text\">legs</code> tr√™n c√°c object kh√°c, ch√∫ng ta ƒë∆∞a <code class=\"language-inline-text\">legs</code> v√†o m·ªôt object <em>ƒë·∫∑c bi·ªát</em> <code class=\"language-inline-text\">pet</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> pet <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> legs<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> cat <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> sound<span class=\"token operator\">:</span> <span class=\"token string\">'Meow!'</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>L√†m sao <em>inherit</em> t·ª´ m·ªôt object kh√°c? C√¢u tr·∫£ l·ªùi l√† d√πng <strong>Prototype</strong></p>\n<p>N·∫øu <code class=\"language-inline-text\">pet</code> l√† m·ªôt <strong>prototype</strong> c·ªßa <code class=\"language-inline-text\">cat</code>, khi ƒë√≥ <code class=\"language-inline-text\">cat</code> s·∫Ω c√≥ lu√¥n property <code class=\"language-inline-text\">legs</code></p>\n<blockquote>\n<p>Khi kh·ªüi t·∫°o object b·∫±ng c√°ch vi·∫øt <em>object literal</em>, ch√∫ng ta c√≥ th√™m m·ªôt property ƒë·∫∑c bi·ªát <strong><code class=\"language-inline-text\">__proto__</code></strong> ƒë·ªÉ set prototype cho object ƒë√≥.</p>\n</blockquote>\n<p>V·ªõi v√≠ d·ª• tr√™n, ch√∫ng ta s·∫Ω l√†m nh∆∞ sau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> pet <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> legs<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> cat <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> sound<span class=\"token operator\">:</span> <span class=\"token string\">'Meow!'</span><span class=\"token punctuation\">,</span> __proto__<span class=\"token operator\">:</span> pet <span class=\"token punctuation\">}</span>\ncat<span class=\"token punctuation\">.</span>legs<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => 4</span></code></pre></div>\n<p>Property <code class=\"language-inline-text\">sound</code>, ch·ªâ t·ªìn t·∫°i trong <code class=\"language-inline-text\">cat</code>, ng∆∞·ªùi ta g·ªçi t√™n n√≥ l√† <strong>Own Property</strong> (property n√†y l√† c·ªßa anh, do anh t·∫°o ra, anh kh√¥ng th·ª´a h∆∞·ªüng t·ª´ b·∫•t k·ª≥ ai).</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">cat<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sound'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true;</span>\ncat<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'legs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span></code></pre></div>\n<p><img src=\"https://dmitripavlutin.com/static/9d6c9ba5235b280e315068f7c98bc16a/360ab/Selection_013.png\" alt=\"Inherited property from the prototype in JavaScript\"></p>\n<blockquote>\n<p>B·∫°n c√≥ th·ªÉ s·∫Ω th·∫Øc m·∫Øc, t·∫°i sao l·∫°i sinh ra <code class=\"language-inline-text\">inheritance</code> trong JS l·∫±ng nh·∫±ng th·∫ø ?</p>\n</blockquote>\n<p>V√¨ b·∫£n ch·∫•t JS ng√†y x∆∞a kh√¥ng h·ªó tr·ª£ <code class=\"language-inline-text\">class</code>.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> pet <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> legs<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> cat <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> sound<span class=\"token operator\">:</span> <span class=\"token string\">'Meow!'</span><span class=\"token punctuation\">,</span> __proto__<span class=\"token operator\">:</span> pet <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> dog <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> sound<span class=\"token operator\">:</span> <span class=\"token string\">'Bark!'</span><span class=\"token punctuation\">,</span> __proto__<span class=\"token operator\">:</span> pet <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> pig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> sound<span class=\"token operator\">:</span> <span class=\"token string\">'Grunt!'</span><span class=\"token punctuation\">,</span> __proto__<span class=\"token operator\">:</span> pet <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>S·ª≠ d·ª•ng <code class=\"language-inline-text\">__proto__</code> kh√¥ng c√≤n ƒë∆∞·ª£c ch·∫•p nh·∫≠n, thay v√†o ƒë√≥ hay d√πng <code class=\"language-inline-text\">Object.create()</code></p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> pet <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> legs<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> cat <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>pet<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncat<span class=\"token punctuation\">.</span>sound <span class=\"token operator\">=</span> <span class=\"token string\">'Meow!'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Nh∆∞ng gi·ªù JS ƒë√£ c√≥ class ƒë√∫ng kh√¥ng?</strong></p>\n<p>ƒê√∫ng, gi·ªù c√≥ class b·∫°n c√≥ th·ªÉ vi·∫øt</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Pet</span> <span class=\"token punctuation\">{</span>\n  legs <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">sound</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sound <span class=\"token operator\">=</span> sound<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> cat <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Pet</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Moew!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncat<span class=\"token punctuation\">.</span>legs<span class=\"token punctuation\">;</span>           <span class=\"token comment\">// => 4</span>\ncat <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Pet</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => true</span></code></pre></div>\n<p>B√™n d∆∞·ªõi, code tr√™n s·∫Ω ƒë∆∞·ª£c vi·∫øt l·∫°i (b·∫±ng babel) g·∫ßn gi·ªëng th·∫ø n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> pet <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  legs<span class=\"token operator\">:</span> <span class=\"token number\">4</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">CreatePet</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">sound</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> sound<span class=\"token punctuation\">,</span> __proto__<span class=\"token operator\">:</span> pet <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token class-name\">CreatePet</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> pet<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> cat <span class=\"token operator\">=</span> <span class=\"token function\">CreatePet</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Moew!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncat<span class=\"token punctuation\">.</span>legs<span class=\"token punctuation\">;</span>                 <span class=\"token comment\">// => 4</span>\ncat <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">CreatePet</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => true</span></code></pre></div>\n<p>B·∫°n c√≥ th·ªÉ s·∫Ω th·∫•y h∆°i b·ªëi r·ªëi, n·∫øu b·∫°n c√≥ n·ªÅn t·∫£ng t·ª´ nh·ªØng ng√¥n ng·ªØ c√≥ h·ªó tr·ª£ class <em>ngay trong tr·ª©ng</em> nh∆∞ Java hay PHP, kh√¥ng sao c·∫£, ai c≈©ng c·∫ßn th·ªùi gian ƒë·ªÉ ti·∫øp thu nh·ªØng ki·∫øn th·ª©c m·ªõi.</p>\n<p><a href=\"https://dmitripavlutin.com/javascript-prototypal-inheritance/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">What Makes JavaScript JavaScript? Prototypal Inheritance</a></p>\n","cover_image":""}},{"node":{"id":"297c522c2cd2decd9d73a99d57ed381a","title":"Factory Function vs. Class","path":"/2020-11-02-function-factory-trong-js/","date":"2020-11-02","timeToRead":4,"desc":"Khi ES6 gi·ªõi thi·ªáu class ch√∫ng ta nghƒ© n√≥ ƒë√£ gi·∫£i quy·∫øt t·∫•t c·∫£ nh·ªØng v·∫•n ƒë·ªÅ c·ªßa h√†m constructor trong JS, th·∫≠t s·ª± n√≥ ƒë√£ thay th·∫ø ƒë∆∞·ª£c factory function hay ch∆∞a, c√πng t√¨m hi·ªÉu.","content":"<p>ƒê·ªÉ t·∫°o m·ªôt <code class=\"language-inline-text\">object</code> v·ªõi c√°c <em>method</em> v√† <em>data</em> d·ª±ng s·∫µn, ch√∫ng ta c√≥ c√°c ph∆∞∆°ng ph√°p ƒë·ªÉ l√†m trong JS:</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// class</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassCar</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">drive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GOOO'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> car1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClassCar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>car1<span class=\"token punctuation\">.</span><span class=\"token function\">drive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// constructor function</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">ConstructorCar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">ConstructorCar</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">drive</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GOOO'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> car2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ConstructorCar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>car2<span class=\"token punctuation\">.</span><span class=\"token function\">drive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// factory</span>\n<span class=\"token keyword\">const</span> proto <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">drive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GOOO'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">factoryCar</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>proto<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> car3 <span class=\"token operator\">=</span> <span class=\"token function\">factoryCar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>car3<span class=\"token punctuation\">.</span><span class=\"token function\">drive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>V·ªÅ t√≠nh nƒÉng, th√¨ c·∫£ 3 l√† nh∆∞ nhau, v√† c√≥ th·ªÉ d√πng thay th·∫ø cho nhau ƒë∆∞·ª£c.</p>\n<blockquote>\n<p>C√≥ th·ªÉ b·∫°n ch∆∞a bi·∫øt: Trong JS, b·∫•t c·ª© function n√†o tr·∫£ v·ªÅ m·ªôt object, m√† kh√¥ng ph·∫£i l√† <code class=\"language-inline-text\">constructor function</code> hay <code class=\"language-inline-text\">class</code>, th√¨ ƒë∆∞·ª£c g·ªçi l√† <strong>factory function</strong></p>\n</blockquote>\n<h2 id=\"v√†i-so-s√°nh-gi·ªØa-factory-v√†-constructor\"><a href=\"#v%C3%A0i-so-s%C3%A1nh-gi%E1%BB%AFa-factory-v%C3%A0-constructor\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V√†i so s√°nh gi·ªØa Factory v√† Constructor</h2>\n<blockquote>\n<p> Constructor b·∫Øt bu·ªôc ph·∫£i kh·ªüi t·∫°o b·∫±ng keyword <code class=\"language-inline-text\">new</code>. Factory th√¨ kh√¥ng.</p>\n</blockquote>\n<p>V·∫≠y th√¨ keyword <code class=\"language-inline-text\">new</code> c·ªßa Constructor v√† Class n√≥ l√†m g√¨?</p>\n<ol>\n<li>Kh·ªüi t·∫°o m·ªôt object m·ªõi v√† <code class=\"language-inline-text\">bind</code> gi√° tr·ªã cho t·ª´ kh√≥a <code class=\"language-inline-text\">this</code></li>\n<li>Bind <code class=\"language-inline-text\">instance.__proto__</code> v√†o <code class=\"language-inline-text\">Constructor.prototype</code></li>\n<li>Bind <code class=\"language-inline-text\">instance.__proto__.constructor</code> v√†o <code class=\"language-inline-text\">Constructor</code></li>\n<li>Ng·∫ßm tr·∫£ v·ªÅ <code class=\"language-inline-text\">this</code> (refer v√†o gi√° tr·ªã <code class=\"language-inline-text\">instance</code>)</li>\n</ol>\n<p><strong>V·ªÅ m·∫∑t l·ª£i √≠ch khi s·ª≠ d·ª•ng Constructor v√† Class</strong></p>\n<ul>\n<li>D·ªÖ ti·∫øp c·∫≠n v·ªõi nh·ªØng ng∆∞·ªùi c√≥ xu·∫•t ph√°t ƒëi·ªÉm t·ª´ nh·ªØng ng√¥n ng·ªØ l·∫≠p tr√¨nh c√≥ h·ªó tr·ª£ <code class=\"language-inline-text\">class</code></li>\n<li><code class=\"language-inline-text\">this</code> lu√¥n prefer ƒë·∫øn m·ªôt object m·ªõi</li>\n<li>Nhi·ªÅu ng∆∞·ªùi th√≠ch c√°ch vi·∫øt <code class=\"language-inline-text\">myFoo = new Foo()</code></li>\n</ul>\n<p><strong>Nh∆∞·ª£c ƒëi·ªÉm c·ªßa Constructor v√† Class</strong></p>\n<ul>\n<li>B·∫Øt bu·ªôc ph·∫£i d√πng t·ª´ kh√≥a <code class=\"language-inline-text\">new</code> ƒë·ªÉ kh·ªüi t·∫°o</li>\n<li>T·∫•t c·∫£ nh·ªØng th·∫±ng s·ª≠ d·ª•ng ƒë·ªÅu d√πng chung m·ªôt constructor, r·∫•t kh√≥ n·∫øu mu·ªën thay ƒë·ªïi hi·ªán th·ª±c b√™n trong constructor t·ª´ b√™n ngo√†i.</li>\n<li>Kh√¥ng ƒë√°p ·ª©ng d·ª•ng nguy√™n t·∫Øc <code class=\"language-inline-text\">open/closed</code>: API ch·ªâ cho ph√©p <em>extend</em>, nh∆∞ng kh√¥ng cho ph√©p <em>modify</em></li>\n<li>K·∫øt th·ª´a <code class=\"language-inline-text\">class</code> v√† c√°c v·∫•n ƒë·ªÅ m√† n√≥ sinh ra l√† c√¢u chuy·ªán kh√¥ng m·ªõi khi c√°c b·∫°n vi·∫øt object oriented (c√≥ th·ªÉ tra c·ª©u google b·∫±ng c√°c t·ª´ kh√≥a sau: <strong>the fragile base class problem, the gorilla banana problem, the duplication by necessity problem</strong>)</li>\n</ul>\n<p><strong>L·ª£i √≠ch vi·ªác s·ª≠ d·ª•ng Factory</strong></p>\n<ul>\n<li><strong>Linh ƒë·ªông</strong> h∆°n <code class=\"language-inline-text\">class</code> v√† <code class=\"language-inline-text\">constructor function</code></li>\n<li>B·∫°n s·∫Ω kh√¥ng bao gi·ªù ƒë·ª•ng v√¥ t·ª´ kh√≥a <code class=\"language-inline-text\">extend</code> v·ªën l√† m·ªôt con ƒë∆∞·ªùng ƒë√£ g√¢y ra ƒëau kh·ªï b·∫•y nƒÉm nay.</li>\n<li>Kh√¥ng c√≤n c·∫ßn d√πng t·ª´ kh√≥a <code class=\"language-inline-text\">new</code>, kh√¥ng c√≤n lo·∫±n ngo·∫±n r·ªëi r·∫Øm v·ªõi t·ª´ kh√≥a <code class=\"language-inline-text\">this</code></li>\n<li>Nhi·ªÅu ng∆∞·ªùi th√≠ch ƒë·ªçc code d·∫°ng n√†y <code class=\"language-inline-text\">myFoo = createFoo()</code></li>\n</ul>\n<p><strong>Nh∆∞·ª£c ƒëi·ªÉm c·ªßa Factory</strong></p>\n<ul>\n<li>Kh√¥ng th·ªÉ check <code class=\"language-inline-text\">instanceof</code>, do kh√¥ng c√≥ li√™n k·∫øt gi·ªØa instance v√† <code class=\"language-inline-text\">Factory.prototype</code></li>\n<li><code class=\"language-inline-text\">this</code> kh√¥ng c√≤n refer v√†o object m·ªõi t·∫°o (<code class=\"language-inline-text\">this</code> c≈©ng c√≥ ∆∞u nh∆∞·ª£c ƒëi·ªÉm c·ªßa n√≥ ch·ª© kh√¥ng ph·∫£i to√†n nh∆∞·ª£c ƒëi·ªÉm)</li>\n<li><strong>C√≥ th·ªÉ</strong> ch·∫≠m h∆°n m·ªôt ch√∫t. Th·∫≠t ra c≈©ng kh√¥ng c·∫ßn qu√° b·∫≠n t√¢m vi·ªác n√†y, v√¨ ch∆∞a ai ch·ª©ng minh ƒë∆∞·ª£c n√≥ ·∫£nh h∆∞·ªüng ƒë·∫øn t·ªëc ƒë·ªô, hi·ªáu nƒÉng c·ªßa ·ª©ng d·ª•ng, l√Ω thuy·∫øt l√† ch·∫≠m h∆°n <em>x√≠u xiu</em> nh∆∞ng m√°y t√≠nh gi·ªù nhanh l·∫Øm r·ªìi.</li>\n</ul>\n<h2 id=\"n√™n-d√πng-factory-function\"><a href=\"#n%C3%AAn-d%C3%B9ng-factory-function\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>N√™n d√πng factory function</h2>\n<p>C√≥ r·∫•t nhi·ªÅu quan ƒëi·ªÉm ƒë∆∞a ra ƒë·ªÉ khuy√™n b·∫°n ƒë·ª´ng d√πng contructor trong JS, b√†i vi·∫øt <a href=\"https://tsherif.wordpress.com/2013/08/04/constructors-are-bad-for-javascript/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Constructors Are Bad For JavaScript</a> c√≥ li·ªát k√™ kh√° kh√° l√Ω do b·∫°n c√≥ th·ªÉ tham kh·∫£o.</p>\n<p>M·ªôt v√≠ d·ª• t∆∞∆°ng ƒë·ªëi ƒë·∫ßy ƒë·ªß v·ªÅ factory function</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Player</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> level</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">let</span> health <span class=\"token operator\">=</span> level <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getLevel</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> level<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getName</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> name<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">die</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// uh oh</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">damage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\thealth <span class=\"token operator\">-=</span> x<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>health <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token function\">die</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">attack</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">enemy</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>level <span class=\"token operator\">&lt;</span> enemy<span class=\"token punctuation\">.</span><span class=\"token function\">getLevel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token function\">damage</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>enemy<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> has damaged </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>level <span class=\"token operator\">>=</span> enemy<span class=\"token punctuation\">.</span><span class=\"token function\">getLevel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\tenemy<span class=\"token punctuation\">.</span><span class=\"token function\">damage</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> has damaged </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>enemy<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> attack<span class=\"token punctuation\">,</span> damage<span class=\"token punctuation\">,</span> getLevel<span class=\"token punctuation\">,</span> getName <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> jimmie <span class=\"token operator\">=</span> <span class=\"token function\">Player</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jim'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> badGuy <span class=\"token operator\">=</span> <span class=\"token function\">Player</span><span class=\"token punctuation\">(</span><span class=\"token string\">'jeff'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\njimmie<span class=\"token punctuation\">.</span><span class=\"token function\">attack</span><span class=\"token punctuation\">(</span>badGuy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ƒê·ªÉ k·∫ø th·ª´a trong factory function, c√°c b·∫°n c√≥ th·ªÉ l√†m nh∆∞ sau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Person</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">sayName</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">T√¥i l√† </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> sayName <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Nerd</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// t·∫°o Person, sau ƒë√≥ tr·∫£ v·ªÅ h√†m sayName</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> sayName <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">doSomethingNerdy</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'t√¥i t√†i gi·ªèi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> sayName<span class=\"token punctuation\">,</span> doSomethingNerdy <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> jeff <span class=\"token operator\">=</span> <span class=\"token function\">Nerd</span><span class=\"token punctuation\">(</span><span class=\"token string\">'luckyluu'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\njeff<span class=\"token punctuation\">.</span><span class=\"token function\">sayName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// T√¥i l√† luckyluu</span>\njeff<span class=\"token punctuation\">.</span><span class=\"token function\">doSomethingNerdy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// t√¥i t√†i gi·ªèi</span></code></pre></div>\n<p>V·ªõi c√°ch tr√™n, ch·ªâ ƒë·ªãnh r·∫•t c·ª• th·ªÉ h√†m n√†o s·∫Ω ƒë∆∞·ª£c tr·∫£ v·ªÅ, c√≤n n·∫øu mu·ªën tr·∫£ t·∫•t c·∫£ nh·ªØng g√¨ c·ªßa Person, ƒë∆°n gi·∫£n l√† merge object</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Nerd</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> prototype <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">doSomethingNerdy</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'t√¥i t√†i gi·ªèi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">return</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> prototype<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> doSomethingNerdy <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Nghe c√≥ v·∫ª h∆°i tr√°i tai, m·∫∑c d√π JS ƒë√£ c√≥ h·ªó tr·ª£ class, nh∆∞ng c√°c b·∫°n ƒë·ª´ng n√™n d√πng n√≥.</p>\n<p><a href=\"https://medium.com/javascript-scene/javascript-factory-functions-vs-constructor-functions-vs-classes-2f22ceddf33e\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JavaScript Factory Functions vs Constructor Functions vs Classes</a></p>\n<p><a href=\"https://www.theodinproject.com/courses/javascript/lessons/factory-functions-and-the-module-pattern\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FACTORY FUNCTIONS AND THE MODULE PATTERN</a></p>\n","cover_image":""}},{"node":{"id":"d6fb0d32e4ef12d7a00ffb83684328e2","title":"Import lodash nh∆∞ th·∫ø n√†o m·ªõi ƒë√∫ng","path":"/2020-10-20-import-lodash-sao-cho-dung/","date":"2020-10-20","timeToRead":2,"desc":"N·∫øu c·∫ßn x√†i lodash, th√¨ b·∫°n x√†i n√≥ sao cho hi·ªáu qu·∫£","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#c%C3%A1ch-1\">C√°ch 1</a></li>\n<li><a href=\"#c%C3%A1ch-2\">C√°ch 2</a></li>\n<li><a href=\"#c%C3%A1ch-3\">C√°ch 3</a></li>\n<li><a href=\"#d%C3%B9ng-lodash-babel-plugin\">D√πng lodash babel plugin</a></li>\n<li><a href=\"#d%C3%B9ng-lodash-webpack-plugin\">D√πng Lodash webpack plugin</a></li>\n<li><a href=\"#k%E1%BA%BFt-lu%E1%BA%ADn\">K·∫øt lu·∫≠n</a></li>\n</ul>\n<!-- /TOC -->\n<p>M√¨nh ƒë√£ t·ª´ng nghe m·ªôt b·∫°n Principle FE trong c√¥ng ty ph√°t bi·ªÉu l√†</p>\n<blockquote>\n<p>ƒê√£ 2020 r·ªìi m√† c√≤n x√†i lodash l√† sao, lodash ƒë√£ t·ªëi c·ªï, ch·∫£ ai x√†i n·ªØa ƒë√¢u</p>\n</blockquote>\n<p>Khoan b√†n chuy·ªán ƒë√∫ng sai trong ph√°t bi·ªÉu n√†y, n·∫øu b·∫°n c≈©ng nh∆∞ m√¨nh, v·∫´n ƒëang d√πng <code class=\"language-inline-text\">lodash</code> th√¨ b·∫°n c·∫ßn bi·∫øt <code class=\"language-inline-text\">import</code> n√≥ nh∆∞ th·∫ø n√†o cho ƒë√∫ng</p>\n<p><strong>T·∫°i sao c·∫ßn l√†m ƒë√∫ng? V√¨ n·∫øu l√†m sao v√¥ t√¨nh b·∫°n s·∫Ω l√†m ph√¨nh c·ª•c bundle l√™n g·∫•p m·∫•y ch·ª•c l·∫ßn</strong></p>\n<p>Gi·ªù so s√°nh 3 c√°ch <code class=\"language-inline-text\">import</code></p>\n<h2 id=\"c√°ch-1\"><a href=\"#c%C3%A1ch-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°ch 1</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> _ <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>T·∫°i sao l·∫°i ch·ªçn ki·ªÉu n√†y? Kh√¥ng c·∫ßn quan t√¢m ƒë·∫øn user, c·∫£m gi√°c r·∫•t quy·ªÅn l·ª±c nh∆∞ c√≥ gƒÉng tay v√¥ c·ª±c, ch·ªâ v·ªõi <code class=\"language-inline-text\">_.</code> ch√∫ng ta c√≥ t·∫•t c·∫£ m·ªçi th·ª©.</p>\n<p>ƒêi·ªÉm y·∫øu, ƒë√¢y l√† c√°ch tuy·ªát ƒë·ªëi nghi√™m c·∫•m, v√¨ g·∫ßn nh∆∞ l√† load nguy√™n c√°i th∆∞ vi·ªán</p>\n<p><img src=\"https://cdn2.hubspot.net/hubfs/208250/Blog_Images/lodash2.png\" alt=\"the best way to import lodash\"></p>\n<p>T·ªïng 190 KB, Lodash ng·ªën h·∫øt 72.5kb</p>\n<h2 id=\"c√°ch-2\"><a href=\"#c%C3%A1ch-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°ch 2</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> map<span class=\"token punctuation\">,</span> each<span class=\"token punctuation\">,</span> get<span class=\"token punctuation\">,</span> set <span class=\"token punctuation\">}</span> from lodash<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Ki·ªÉu n√†y ·ªïn, d·ªÖ ƒë·ªçc, r·∫•t r√µ r√†ng ƒë·ªÉ th·∫•y ƒë∆∞·ª£c nh·ªØng h√†m n√†o c·∫ßn s·ª≠ d·ª•ng.</p>\n<p>Tuy nhi√™n, n√≥ l·∫°i kh√¥ng kh√°c g√¨ v·ªõi c√°ch 1. T·ªïng v·∫´n l√† 190kb</p>\n<h2 id=\"c√°ch-3\"><a href=\"#c%C3%A1ch-3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°ch 3</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> map <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash/map'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> each <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash/each'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">get</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash/get'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">set</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash/set'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>K·∫øt qu·∫£ cho th·∫•y ƒë√¢y l√† c√°ch ti·∫øt ki·ªám nh·∫•t, m·∫∑c d√π th·ª±c t·∫ø s·ª≠ d·ª•ng cho th·∫•y c√°ch n√†y h∆°i t·ªën c√¥ng anh em dev c·ªßa ch√∫ng ta v√† nh√¨n ƒëo·∫°n import c√≥ v·∫ª d√†i.</p>\n<p><img src=\"https://cdn2.hubspot.net/hubfs/208250/Blog_Images/lodash3.png\" alt=\"benchmarking lodash import\"></p>\n<p>M·ªôt s·ªë √Ω ki·∫øn cho l√† d√πng <a href=\"https://www.npmjs.com/package/lodash-es\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">lodash-es</a>, m·ªôt phi√™n b·∫£n theo ki·ªÉu ES module s·∫Ω ti·∫øt ki·ªám h∆°n, ƒë√¢y l√† k·∫øt qu·∫£ ƒëo ƒë∆∞·ª£c</p>\n<ol>\n<li>C√°ch 1: 256.4 KB</li>\n<li>C√°ch 1: 256.54 KB</li>\n<li>C√°ch 1: 142.39 KB</li>\n</ol>\n<p>Nh∆∞ v·∫≠y vi·ªác d√πng <code class=\"language-inline-text\">lodash-es</code> c√≥ v·∫ª l√† v√¥ d·ª•ng</p>\n<h2 id=\"d√πng-lodash-babel-plugin\"><a href=\"#d%C3%B9ng-lodash-babel-plugin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>D√πng lodash babel plugin</h2>\n<p>S·ª≠ d·ª•ng <a href=\"https://github.com/lodash/babel-plugin-lodash\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">lodash babel plugin</a> ch√∫ng ta c√≥ k·∫øt qu·∫£ 140kb tr√™n t·∫•t c·∫£ c√°c c√°ch <em>import</em></p>\n<p><img src=\"https://cdn2.hubspot.net/hubfs/208250/Blog_Images/lodash4.png\" alt=\"importing lodash with the lodash babel plugin\"></p>\n<h2 id=\"d√πng-lodash-webpack-plugin\"><a href=\"#d%C3%B9ng-lodash-webpack-plugin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>D√πng Lodash webpack plugin</h2>\n<p><a href=\"https://github.com/lodash/lodash-webpack-plugin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Lodash webpack plugin</a> kh√¥ng bi·∫øt ƒë√£ b√πa ch√∫ ki·ªÉu g√¨ m√† k·∫øt qu·∫£ cu·ªëi c√πng r·∫•t <em>ngon</em> 121kb cho c√°ch 1, c√°c c√°ch kh√°c s·∫Ω c√≤n b√© h∆°n n·ªØa</p>\n<p><img src=\"https://cdn2.hubspot.net/hubfs/208250/Blog_Images/lodash5.png\" alt=\"imprting lodash with the webpack plugin\"></p>\n<h2 id=\"k·∫øt-lu·∫≠n\"><a href=\"#k%E1%BA%BFt-lu%E1%BA%ADn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>K·∫øt lu·∫≠n</h2>\n<p>N·∫øu ko si√™ng b·∫°n n√™n d√πng c√°ch 3, c√≤n n·∫øu si√™ng b·∫°n setup v·ªõi babel-plugin-lodash v√† lodash-webpack-plugin ƒë·ªÉ ƒë·∫°t hi·ªáu qu·∫£ cao nh·∫•t.</p>\n<p>Lodash-es th√¨ n√™n d·∫πp lu√¥n ƒë·ª´ng x√†i v√¨ n√≥ ko thay ƒë·ªïi g√¨ t√≠ch c·ª±c c·∫£.</p>\n<p><a href=\"https://www.blazemeter.com/blog/the-correct-way-to-import-lodash-libraries-a-benchmark\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The Correct Way to Import Lodash Libraries</a></p>\n","cover_image":""}},{"node":{"id":"c7db4e8951472801d63827ce67e67fe7","title":"Micro frontend t·∫°i sao v√† nh∆∞ th·∫ø n√†o","path":"/2020-10-15-micro-frontend-giai-thich-huong-dan/","date":"2020-10-15","timeToRead":11,"desc":"L∆∞·ªõt qua m·ªôt v√†i ƒëi·ªÉm v·ªÅ Micro Frontend, √Ω t∆∞·ªüng ch√≠nh v√† c√°c v·∫•n ƒë·ªÅ ƒë∆∞·ª£c quan t√¢m","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#t%E1%BA%A1i-sao-b%E1%BA%A1n-c%E1%BA%A7n-bi%E1%BA%BFt-%C4%91%E1%BA%BFn-micro-frontend\">T·∫°i sao b·∫°n c·∫ßn bi·∫øt ƒë·∫øn Micro frontend</a></li>\n<li><a href=\"#micro-frontend-l%C3%A0-c%C3%A1i-g%C3%AC\">Micro frontend l√† c√°i g√¨</a></li>\n<li>\n<p><a href=\"#hi%E1%BB%87n-th%E1%BB%B1c-h%C3%B3a-nh%C6%B0-th%E1%BA%BF-n%C3%A0o\">Hi·ªán th·ª±c h√≥a nh∆∞ th·∫ø n√†o</a></p>\n<ul>\n<li><a href=\"#t%C6%B0%C6%A1ng-t%C3%A1c-gi%E1%BB%AFa-c%C3%A1c-%E1%BB%A9ng-d%E1%BB%A5ng\">T∆∞∆°ng t√°c gi·ªØa c√°c ·ª©ng d·ª•ng</a></li>\n<li><a href=\"#th%C6%B0-vi%E1%BB%87n-component-d%C3%B9ng-chung\">Th∆∞ vi·ªán component d√πng chung</a></li>\n<li><a href=\"#styling\">Styling</a></li>\n<li><a href=\"#c%C3%A1c-c%C3%A1ch-%C4%91%E1%BB%83-integrate\">C√°c c√°ch ƒë·ªÉ integrate</a></li>\n</ul>\n</li>\n<li><a href=\"#k%E1%BA%BFt\">K·∫øt</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"t·∫°i-sao-b·∫°n-c·∫ßn-bi·∫øt-ƒë·∫øn-micro-frontend\"><a href=\"#t%E1%BA%A1i-sao-b%E1%BA%A1n-c%E1%BA%A7n-bi%E1%BA%BFt-%C4%91%E1%BA%BFn-micro-frontend\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·∫°i sao b·∫°n c·∫ßn bi·∫øt ƒë·∫øn Micro frontend</h2>\n<p>V·∫•n ƒë·ªÅ c·∫ßn gi·∫£i quy·∫øt:</p>\n<ul>\n<li>·ª®ng d·ª•ng c√†ng l√∫c c√†ng ph√¨nh ra v·ªÅ quy m√¥, c≈©ng nh∆∞ ƒë·ªô ph·ª©c t·∫°p</li>\n<li><strong>M·ªôt codebase FE</strong> duy nh·∫•t m√† mu·ªën maintain th√¨ ch·ªâ c√≥ <em>g·∫∑p √°c m·ªông h·∫±ng ƒë√™m</em></li>\n<li>Nhi·ªÅu team FE, m·ªói team ch·ªâ l√†m vi·ªác tr√™n m·ªôt ph·∫ßn t√≠nh nƒÉng n√†o ƒë√≥ r·∫•t c·ª• th·ªÉ, ch·ªâ 1 codebase m√† h∆°n 5 team v√†o l√†m vi·ªác tr√™n ƒë√≥ th√¨ th√¥i xong</li>\n<li>B·∫°n mu·ªën c√≥ 1 codebase vi·∫øt b·∫±ng typescript, m·ªôt codebase vi·∫øt js, m·ªôt feature ƒë∆∞·ª£c build b·∫±ng React, feature kh√°c ƒë∆∞·ª£c build Vue. N·∫øu b·∫°n c√≥ th·∫Øc m·∫Øc t·∫°i sao l·∫°i c√≥ nhu c·∫ßu n√†y? C√¢u tr·∫£ l·ªùi l√† v√¨ b·∫°n ko r√†ng bu·ªôc team v√†o m·ªôt technical n√†o c·∫£, team c√≥ th·ªÉ t·ª± quy·∫øt ƒë·ªãnh</li>\n<li>N√¢ng c·∫•p t·ª´ng project s·∫Ω d·ªÖ h∆°n nhi·ªÅu</li>\n</ul>\n<h2 id=\"micro-frontend-l√†-c√°i-g√¨\"><a href=\"#micro-frontend-l%C3%A0-c%C3%A1i-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Micro frontend l√† c√°i g√¨</h2>\n<p>ƒê√¢y l√† c√°ch ti·∫øp c·∫≠n c≈©ng <em>na n√°</em> nh∆∞ microservice, thay v√¨ 1, ch√∫ng ta c√≥ nhi·ªÅu codebase, v√† tr√™n t·ª´ng codebase ch·ªâ qu·∫£n l√Ω m·ªôt t√≠nh nƒÉng c·ª• th·ªÉ m√† th√¥i.</p>\n<p>C√≥ th·ªÉ xem m·ªôt ·ª©ng d·ª•ng web l√† m·ªôt b·ªô k·∫øt h·ª£p c·ªßa nhi·ªÅu t√≠nh nƒÉng, m·ªói m·ªôt t√≠nh nƒÉng nh∆∞ v·∫≠y ƒë∆∞·ª£c qu·∫£n l√Ω b·ªüi m·ªôt team</p>\n<p><img src=\"https://microfrontends.com/img/deployment.png\" alt=\"A flow diagram showing 3         independent deployment pipelines for 3 different micro frontends, which         are then composed into a single app after deployment\"></p>\n<p>Thu·∫≠t ng·ªØ n√†y ƒë∆∞·ª£c gi·ªõi thi·ªáu l·∫ßn ƒë·∫ßu v√†o 2016 b·ªüi <a href=\"https://www.thoughtworks.com/radar/techniques/micro-frontends\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Thourghtworks Tech Radar</a></p>\n<blockquote>\n<p>An architectural style where independently deliverable frontend applications are composed into a greater whole</p>\n</blockquote>\n<p><img src=\"https://microfrontends.com/img/radar.png\" alt=\"Micro frontends on the ThoughtWorks tech radar\"></p>\n<p>M·ªôt c√°ch tr·ª±c quan h∆°n b·∫°n c√≥ th·ªÉ tham kh·∫£o h√¨nh sau</p>\n<p><img src=\"https://microfrontends.com/img/composition.png\" alt=\"A wireframe of an example website,         showing a container application that embeds a micro frontend within it\"></p>\n<p>C√≤n ƒë√¢y l√† demo c·ªßa trang microfrontends.com <a href=\"https://demo.microfrontends.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://demo.microfrontends.com/</a></p>\n<h2 id=\"hi·ªán-th·ª±c-h√≥a-nh∆∞-th·∫ø-n√†o\"><a href=\"#hi%E1%BB%87n-th%E1%BB%B1c-h%C3%B3a-nh%C6%B0-th%E1%BA%BF-n%C3%A0o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Hi·ªán th·ª±c h√≥a nh∆∞ th·∫ø n√†o</h2>\n<p>ƒê·ªÉ c√≥ th·ªÉ hi·ªán th·ª±c h√≥a ho√†n ch·ªânh micro frontend s·∫Ω bao g·ªìm r·∫•t nhi·ªÅu th·ª©, ·ªü ƒë√¢y ch·ªâ t√≥m t·∫Øt m·ªôt s·ªë v·∫•n ƒë·ªÅ c∆° b·∫£n c·∫ßn gi·∫£i quy·∫øt</p>\n<h3 id=\"t∆∞∆°ng-t√°c-gi·ªØa-c√°c-·ª©ng-d·ª•ng\"><a href=\"#t%C6%B0%C6%A1ng-t%C3%A1c-gi%E1%BB%AFa-c%C3%A1c-%E1%BB%A9ng-d%E1%BB%A5ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T∆∞∆°ng t√°c gi·ªØa c√°c ·ª©ng d·ª•ng</h3>\n<p>M·ªôt c√¢u h·ªèi ƒë∆∞·ª£c ƒë·∫∑t ra ƒë·∫ßu ti√™n l√† n·∫øu t√°ch ra th√†nh nhi·ªÅu b·ªô source nh∆∞ v·∫≠y, l√†m sao ch√∫ng c√≥ th·ªÉ n√≥i chuy·ªán ƒë∆∞·ª£c v·ªõi nhau? M·ªôt c√°ch t·ªïng qu√°t, <strong>n√™n h·∫°n ch·∫ø vi·ªác trao ƒë·ªïi th√¥ng tin qua l·∫°i √≠t ch·ª´ng n√†o t·ªët ch·ª´ng ƒë√≥</strong>, b·ªüi v√¨ n·∫øu b·∫°n l√†m ng∆∞·ª£c l·∫°i, nghƒ©a l√† b·∫°n ƒëang l·∫∑p l·∫°i v·∫•n ƒë·ªÅ ch√∫ng ta mu·ªën gi·∫£i quy·∫øt ngay t·ª´ ƒë√¢u: <strong>decoupling</strong> c√°c t√≠nh nƒÉng v·ªõi nhau.</p>\n<p>Nh∆∞ng vi·ªác trao ƒë·ªïi gi·ªØa c√°c ·ª©ng d·ª•ng v·ªõi nhau l√† kh√¥ng tr√°nh kh·ªèi v√† c·∫ßn thi·∫øt, ch√∫ng ta ch·ªâ ti·∫øt ch·∫ø ch·ª© kh√¥ng lo·∫°i b·ªè h·∫øt, <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Custom event</a> l√† m·ªôt c√°ch, c√°ch kh√°c, l·∫•y m√¥ h√¨nh truy·ªÅn callback v√† data t·ª´ tr√™n xu·ªëng trong React ƒë·ªÉ l√†m <strong>k√™nh</strong> trao ƒë·ªïi th√¥ng tin, l√†m nh∆∞ th·∫ø n√≥ s·∫Ω r·∫•t t∆∞·ªùng minh, c√°ch th·ª© 3 l√† th√¥ng qua thanh ƒë∆∞·ªùng d·∫´n tr√™n tr√¨nh duy·ªát, ch√∫t n·ªØa n√≥i k·ªπ h∆°n.</p>\n<p>T·ª±a chung, ch√∫ng ta kh√¥ng share state, m√† ch·ªâ share d·ªØ li·ªáu trong database nh∆∞ microservice.</p>\n<h3 id=\"th∆∞-vi·ªán-component-d√πng-chung\"><a href=\"#th%C6%B0-vi%E1%BB%87n-component-d%C3%B9ng-chung\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th∆∞ vi·ªán component d√πng chung</h3>\n<p>N√≥ chung, √Ω t∆∞·ªüng <strong>re-use</strong> l·∫°i nh·ªØng component UI kh√¥ng c√≥ g√¨ m·ªõi, nghe c≈©ng r·∫•t h·ª£p l√Ω, m·∫∑c d√π ai c≈©ng bi·∫øt vi·ªác ƒë√≥ kh√≥ l√†m.</p>\n<p>Sai l·∫ßm th∆∞·ªùng th·∫•y l√† vi·ªác t·∫°o c√°c component nh∆∞ v·∫≠y qu√° s·ªõm, vi·ªác <em>h√†o h·ª©ng</em> qu√° m·ª©c v√†o x√¢y d·ª±ng m·ªôt Framework UI chu·∫©n kh√¥ng c·∫ßn ch·ªânh, vi·∫øt m·ªôt l·∫ßn x√†i m√£i m√£i, th·ªëng nh·∫•t giao di·ªán tr√™n m·ªçi m·∫∑t tr·∫≠n l√† ƒëi·ªÅu th∆∞·ªùng th·∫•y ·ªü m·ªçi team. Tuy nhi√™n, trong th·ª±c t·∫ø, kinh nghi·ªám cho bi·∫øt r·∫±ng vi·ªác ƒë√≥ r·∫•t kh√≥, n·∫øu kh√¥ng mu·ªën n√≥i l√† kh√¥ng th·ªÉ, kh√¥ng th·ªÉ ng·ªìi nghƒ© ra m·ªôt b·ªô Framework v·ªõi t·∫•t c·∫£ c√°c API c·∫ßn thi·∫øt r·ªìi ƒë∆∞a cho t·∫•t c·∫£ c√°c team x√†i, ch·∫Øc g√¨ API ƒë√≥ ƒë√£ ƒë√°p ·ª©ng ƒë√∫ng nhu c·∫ßu cho t·∫•t c·∫£ c√°c team? L·ªùi khuy√™n l√† c√°c team c·ª© t·∫°o ra nh·ªØng component ri√™ng trong codebase n·∫øu h·ªç th·∫•y c·∫ßn, d√π cho n√≥ c√≥ b·ªã duplicate ƒë√¢y n·ªØa c≈©ng ch·∫≥ng sao. V√† khi ƒë√£ ch√≠n m√πi, nh·ªØng API n√†o c·∫ßn thi·∫øt s·∫Ω hi·ªán nguy√™n h√¨nh, ch√∫ng ta ƒë∆∞a nh·ªØng cho ƒëang b·ªã duplicate v√†o trong th∆∞ vi·ªán d√πng chung.</p>\n<p>T·∫•t nhi√™n c≈©ng c√≥ nh·ªØng ngo·∫°i l·ªá, nh·ªØng component m√† nh√¨n v√†o ch√∫ng ta bi·∫øt ngay l√† c·∫ßn ƒë∆∞a v√†o share component, nh∆∞ icon, label, button, autocomplete, drop-down, search, table. V√† nh·ªõ l√† ch·ªâ ƒë∆∞a ƒë√∫ng UI logic, ƒë·ª´ng ƒë∆∞a b·∫•t k·ª≥ business logic v√† domain logic v√†o ƒë√¢y. V√≠ d·ª• nh∆∞ m·ªôt component <code class=\"language-inline-text\">ProductTable</code> cho ri√™ng c√°i domain Product l√† kh√¥ng n√™n, ch·ªâ n√™n l√†m m·ªôt c√°i component <code class=\"language-inline-text\">Table</code>.</p>\n<p>Tho·∫°t nghe l√†m m·ªôt share component c√≥ v·∫ª ƒë∆°n gi·∫£n, nh∆∞ng n√≥ l·∫°i l√† c√¥ng vi·ªác ƒë√≤i h·ªèi k·ªπ thu·∫≠t ph·∫£i r·∫•t c·ª©ng tay, v√† ng∆∞·ªùi c√≥ nh√∫ng tay v√†o t·∫•t c·∫£ c√°c team.</p>\n<h3 id=\"styling\"><a href=\"#styling\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Styling</h3>\n<p>Styling 2020 l√† m·ªôt c√¢u chuy·ªán d√†i, nh∆∞ m√¨nh ƒë√£ k·ªÉ trong m·ªôt <a href=\"https://vuilaptrinh.com/2020-05-22-cam-giac-viet-css-nam-2020/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">b√†i vi·∫øt</a>, t·ª±a chung m√† n√≥i b·∫°n c√≥ th·ªÉ d√πng BEM, d√πng SASS, d√πng CSS module, d√πng CSS-in-JS, d√πng Styled Component, d√πng Tailwind, ki·ªÉu g√¨ c≈©ng ƒë∆∞·ª£c, mi·ªÖn ƒë·∫£m b·∫£o ƒë∆∞·ª£c style kh√¥ng ch·ªìng ch√©o l√™n nhau, th·∫±ng n√†o ƒë·ªôc l·∫≠p th·∫±ng ƒë√≥, v√† t·ª± tin ƒëo·∫°n code n√≥ s·∫Ω ch·∫°y nh∆∞ <strong>ƒë√∫ng nh∆∞ l∆∞·ªùng tr∆∞·ªõc</strong>.</p>\n<h3 id=\"c√°c-c√°ch-ƒë·ªÉ-integrate\"><a href=\"#c%C3%A1c-c%C3%A1ch-%C4%91%E1%BB%83-integrate\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°c c√°ch ƒë·ªÉ integrate</h3>\n<p>ƒê·ªÉ hi·ªán th·ª±c h√≥a √Ω t∆∞·ªüng c·ªßa micro frontend, c≈©ng c√≥ nhi·ªÅu c√°ch l√†m, c√°ch n√†o c≈©ng c√≥ ƒë√°nh ƒë·ªïi. T·ª±u chung, n·∫øu x√©t theo h∆∞·ªõng giao di·ªán, ch√∫ng ta c√≥ th·ªÉ t·ªï ch·ª©c n√≥ theo d·∫°ng m·ªôt ·ª©ng d·ª•ng d·∫°ng <strong>container</strong>, bao g·ªìm nh·ªØng th√†nh ph·∫ßn chung nh∆∞ <em>header</em>, <em>menu</em>, v√† c√°c <em>micro frontend</em> s·∫Ω nh√∫ng v√†o ph·∫ßn <strong>ru·ªôt</strong> c·ªßa trang</p>\n<p><img src=\"https://martinfowler.com/articles/micro-frontends/composition.png\" alt=\"A web page with boxes drawn around different sections. One box wraps the whole page, labelling it as the &#x27;container application&#x27;. Another box wraps the main content (but not the global page title and navigation), labelling it as the &#x27;browse micro frontend&#x27;\"></p>\n<p><strong>C√°ch 1: composition d√πng server side template</strong></p>\n<p>V·ªõi m·ªôt c√°ch <em>kh√¥ng ch√≠nh th·ªëng l·∫Øm</em> cho vi·ªác ph√°t tri·ªÉn code FE, ch√∫ng ta render HTML ·ªü ph√≠a server, v·ªõi nhi·ªÅu b·ªô template kh√°c nhau. Ch√∫ng ta c√≥ m·ªôt file <code class=\"language-inline-text\">index.html</code> v·ªõi c√°c ph·∫ßn t·ª≠ chung, server s·∫Ω quy·∫øt ƒë·ªãnh ph·∫ßn <em>ru·ªôt</em> tr·∫£ v·ªÅ cho t·ª´ng trang</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dir</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ltr<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Feed me<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>üçΩ Feed me<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!--# include file=\"$PAGE.html\" --></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>·ªû v√≠ d·ª• n√†y ƒëang d√πng v·ªõi Nginx, bi·∫øn <code class=\"language-inline-text\">$PAGE</code> s·∫Ω ·ª©ng v·ªõi URL ƒëang ƒë∆∞·ª£c request</p>\n<div class=\"gridsome-highlight\" data-language=\"nginx\"><pre class=\"language-nginx\"><code class=\"language-nginx\"><span class=\"token directive\"><span class=\"token keyword\">server</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token directive\"><span class=\"token keyword\">listen</span> <span class=\"token number\">8080</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">server_name</span> localhost</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token directive\"><span class=\"token keyword\">root</span> /usr/share/nginx/html</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">index</span> index.html</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">ssi</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\"># Redirect / ƒë·∫øn /browse</span>\n    <span class=\"token directive\"><span class=\"token keyword\">rewrite</span> ^/$ http://localhost:8080/browse redirect</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\"># D√πng HTML n√†o ƒë·ªÉ insert d·ª±a v√†o URL</span>\n    <span class=\"token directive\"><span class=\"token keyword\">location</span> /browse</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token directive\"><span class=\"token keyword\">set</span> <span class=\"token variable\">$PAGE</span> <span class=\"token string\">'browse'</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token directive\"><span class=\"token keyword\">location</span> /order</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token directive\"><span class=\"token keyword\">set</span> <span class=\"token variable\">$PAGE</span> <span class=\"token string\">'order'</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token directive\"><span class=\"token keyword\">location</span> /profile</span> <span class=\"token punctuation\">{</span>\n      set $PAGE 'profile'\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\"># Cho ph√©p render ·ªü index.html</span>\n    <span class=\"token directive\"><span class=\"token keyword\">error_page</span> <span class=\"token number\">404</span> /index.html</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>K·ªπ thu·∫≠t n√†y m√¨nh kh√¥ng n·∫Øm l·∫Øm, n√™n c≈©ng ch·ªâ ƒë·ªÉ ƒë√¢y cho c√°c b·∫°n tham kh·∫£o, trong th·ª±c t·∫ø m√¨nh g·∫∑p v√† l√†m vi·ªác v·ªõi nh·ªØng c√°ch l√†m b√™n d∆∞·ªõi nhi·ªÅu h∆°n.</p>\n<p><strong>C√°ch 2: Integrate l√∫c build</strong></p>\n<p>C√°ch n√†y s·∫Ω publish c√°i micro frontend ·ªü d·∫°ng package, container s·∫Ω khai b√°o nh·ªØng micro frontend n√†y ·ªü d·∫°ng dependency. File <code class=\"language-inline-text\">package.json</code> n√≥ s·∫Ω tr√¥ng nh∆∞ th·∫ø n√†y:</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@feed-me/container\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"A food delivery web app\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@feed-me/browse-restaurants\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^1.2.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@feed-me/order-food\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.5.6\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@feed-me/user-profile\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.8.9\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Tho·∫°t nh√¨n, c≈©ng kh√° h·ª£p l√Ω, tuy nhi√™n n·∫øu ƒë·ªÉ √Ω, b·∫°n s·∫Ω th·∫•y ch√∫ng ta ph·∫£i re-compile v√† release tr√™n t·ª´ng c·ª•c dependency, r·ªìi sao ƒë√≥ l·∫°i ph·∫£i release ti·∫øp container. ƒê√¢y v·∫´n kh√¥ng ph·∫£i l√† c√°ch l√†m ƒë∆∞·ª£c khuy·∫øn kh√≠ch.</p>\n<p><strong>C√°ch 3: Integrate l√∫c run-time b·∫±ng iframe</strong></p>\n<p>ƒê√¢y c≈©ng l√† c√°ch m√† d·ª± √°n m√¨nh ƒëang d√πng, m·ªôt c√°ch ti·∫øp c·∫≠n ƒë∆°n gi·∫£n nh·∫•t ƒë·ªÉ compose nhi·ªÅu ·ª©ng d·ª•ng v·ªõi nhau trong tr√¨nh duy·ªát ƒë√£ c√≥ t·ª´ r·∫•t r·∫•t l√¢u. L·ª£i √≠ch c√≥ th·ªÉ k·ªÉ th√™m c·ªßa c√°ch l√†m n√†y l√† ph·∫ßn styling v√† bi·∫øn global ƒë·ªÅu ƒë·ªôc l·∫≠p v√† kh√¥ng b·ªã ƒë·ª•ng ƒë·ªô l·∫´n nhau</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Welcome to Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>iframe</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>micro-frontend-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>iframe</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token keyword\">const</span> microFrontendsByRoute <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'/'</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://browse.example.com/index.html'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/order-food'</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://order.example.com/index.html'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/user-profile'</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://profile.example.com/index.html'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> iframe <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'micro-frontend-container'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      iframe<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> microFrontendsByRoute<span class=\"token punctuation\">[</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Nh∆∞·ª£c ƒëi·ªÉm c·ªßa c√°ch n√†y l√† vi·ªác t√≠ch h·ª£p gi·ªØa c√°c ph·∫ßn c·ªßa ·ª©ng d·ª•ng, nh∆∞ route, history, deep-link s·∫Ω r·∫•t ph·ª©c t·∫°p, responsive c≈©ng s·∫Ω g·∫∑p nhi·ªÅu v·∫•n ƒë·ªÅ c·∫ßn x·ª≠ l√Ω h∆°n.</p>\n<p><strong>C√°ch 4: Integrate l√∫c run-time b·∫±ng JavaScript</strong></p>\n<p>ƒê√¢y l√† c√°ch linh ho·∫°t nh·∫•t, v√† ƒë∆∞·ª£c nhi·ªÅu team ch·ªçn l√†m. M·ªói m·ªôt micro frontend s·∫Ω ƒë∆∞·ª£c nh√©t v√†o trong trang b·∫±ng th·∫ª <code class=\"language-inline-text\">&lt;script /></code>. Container s·∫Ω l√†m nhi·ªám v·ª• cho mount micro frontend n√†o v√† th·ª±c thi c√°c h√†m li√™n quan ƒë·ªÉ b√°o cho c√°c micro frontend s·∫Ω render ·ªü ƒë√¢u v√† khi n√†o.</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Welcome to Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token comment\">&lt;!-- N√≥ kh√¥ng render b·∫•t c·ª© g√¨ c·∫£ --></span>\n    <span class=\"token comment\">&lt;!-- N√≥ s·∫Ω ƒë∆∞a v√†o h√†m entry-point v√†o `window` --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://browse.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://order.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://profile.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>micro-frontend-root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token comment\">// Nh·ªØng global function n√†y ƒë∆∞·ª£c nh√©t v√†o window b·∫±ng c√°c ƒëo·∫°n script include ·ªü tr√™n</span>\n      <span class=\"token keyword\">const</span> microFrontendsByRoute <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'/'</span><span class=\"token operator\">:</span> window<span class=\"token punctuation\">.</span>renderBrowseRestaurants<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/order-food'</span><span class=\"token operator\">:</span> window<span class=\"token punctuation\">.</span>renderOrderFood<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/user-profile'</span><span class=\"token operator\">:</span> window<span class=\"token punctuation\">.</span>renderUserProfile\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> renderFunction <span class=\"token operator\">=</span> microFrontendsByRoute<span class=\"token punctuation\">[</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// Sau khi ƒë√£ c√≥ c√°c h√†m c·∫ßn thi·∫øt,</span>\n      <span class=\"token comment\">// ƒë∆∞a id c·ªßa element s·∫Ω d√πng ƒë·ªÉ render</span>\n      <span class=\"token function\">renderFunction</span><span class=\"token punctuation\">(</span><span class=\"token string\">'micro-frontend-root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Tr√™n ƒë√¢y ch·ªâ l√† v√≠ d·ª• c∆° b·∫£n nh·∫•t ƒë·ªÉ m√¥ t·∫£ k·ªπ thu·∫≠t s·∫Ω l√†m, th·∫≠t t·∫ø c√≥ th·ªÉ ph·∫£i th√™m th·∫Øt m·ªôt s·ªë th·ª© kh√°c. Kh√¥ng gi·ªëng v·ªõi c√°ch integrate l√∫c build, <code class=\"language-inline-text\">bundle.js</code> c√≥ th·ªÉ ƒë∆∞·ª£c deploy m·ªôt c√°ch ƒë·ªôc l·∫≠p. V√† kh√°c iframe, ch√∫ng ta c√≥ th·ªÉ linh ƒë·ªông ch·ªçn l·ª±a vi·ªác render micro frontend n√†o ch√∫ng ta th√≠ch.</p>\n<p>N·∫øu c√≥ h·ª©ng th√∫ v·ªõi c√°ch l√†m n√†y, c√≥ th·ªÉ tham kh·∫£o th√™m <a href=\"https://martinfowler.com/articles/micro-frontends.html#TheExampleInDetail\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">v√≠ d·ª• chi ti·∫øt h∆°n</a></p>\n<p><strong>C√°ch 5: Integrate l√∫c run-time b·∫±ng Web Component</strong></p>\n<p>M·ªôt l·ª±a ch·ªçn kh√°c c≈©ng t∆∞∆°ng t·ª± nh∆∞ c√°ch l√†m tr√™n, m·ªói m·ªôt micro frontend s·∫Ω ƒë∆∞·ª£c link v·ªõi element</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Welcome to Feed me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token comment\">&lt;!-- Ch∆∞a render g√¨ c·∫£ --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://browse.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://order.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://profile.example.com/bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>micro-frontend-root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token comment\">// Nh·ªØng element type n√†y ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a ·ªü c√°c script tr√™n</span>\n      <span class=\"token keyword\">const</span> webComponentsByRoute <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'/'</span><span class=\"token operator\">:</span> <span class=\"token string\">'micro-frontend-browse-restaurants'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/order-food'</span><span class=\"token operator\">:</span> <span class=\"token string\">'micro-frontend-order-food'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'/user-profile'</span><span class=\"token operator\">:</span> <span class=\"token string\">'micro-frontend-user-profile'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> webComponentType <span class=\"token operator\">=</span> webComponentsByRoute<span class=\"token punctuation\">[</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// T·∫°o instance v√† ƒë∆∞a v√†o document ·ª©ng v·ªõi t·ª´ng lo·∫°i ph√π h·ª£p</span>\n      <span class=\"token keyword\">const</span> root <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'micro-frontend-root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> webComponent <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>webComponentType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      root<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>webComponent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Kh√°c nhau duy nh·∫•t so v·ªõi c√°ch tr√™n c√≥ l·∫Ω ch·ªâ l√† vi·ªác d√πng <em>web component</em> thay v√¨ m·ªôt interface ch√∫ng ta t·ª± ƒë·ªãnh nghƒ©a.</p>\n<p><strong>T∆∞∆°ng t√°c v·ªõi Backend</strong></p>\n<p>C√°i n√†y ch∆∞a bi·∫øt, kh√¥ng d√°m ch√©m.</p>\n<h2 id=\"k·∫øt\"><a href=\"#k%E1%BA%BFt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>K·∫øt</h2>\n<p>Micro frontend c√≥ th·ªÉ kh√¥ng l·∫° v·ªõi m·ªôt s·ªë ng∆∞·ªùi v√† kh√° m·ªõi v·ªõi s·ªë c√≤n l·∫°i, th·ª±c t·∫ø m√† n√≥i ƒë√£ c√≥ r·∫•t nhi·ªÅu d·ª± √°n ƒëang √°p d·ª•ng ki·∫øn tr√∫c n√†y (d·ª± √°n m√¨nh ƒëang l√†m).</p>\n<p>Hy v·ªçng v·ªõi b√†i vi·∫øt n√†y b·∫°n ƒë√£ th·∫•y c√¥ng vi·ªác c·ªßa nh·ªØng l·∫≠p tr√¨nh vi√™n frontend kh√¥ng c√≤n ƒë∆°n thu·∫ßn l√† vi·ªác l√†m sao cho trang web bay, l∆∞·ª£n, responsive m∆∞·ª£t m√†, n·∫øu b·∫°n mu·ªën ti·∫øn xa h∆°n, gi·ªõi h·∫°n l√† ch√¢n tr·ªùi.</p>\n<p><strong>C√°c b√†i vi·∫øt ƒë√£ tham kh·∫£o</strong></p>\n<ul>\n<li><a href=\"https://martinfowler.com/articles/micro-frontends.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://martinfowler.com/articles/micro-frontends.html</a></li>\n<li><a href=\"https://microfrontends.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://microfrontends.com/</a></li>\n<li><a href=\"https://micro-frontends.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://micro-frontends.org/</a></li>\n</ul>\n","cover_image":""}},{"node":{"id":"67b6f325941d1f641ba6144fc210f796","title":"3 ƒëi·ªÅu b·∫°n c√≥ th·ªÉ kh√¥ng bi·∫øt v·ªÅ bi·∫øn trong CSS","path":"/2020-10-07-ban-co-the-lam-gi-voi-bien-css/","date":"2020-10-07","timeToRead":3,"desc":"B√†i n√†y ch√∫ng ta s·∫Ω ƒëi qua ba th·ª© ch√∫ng ta c√≥ th·ªÉ l√†m ƒë∆∞·ª£c v·ªõi bi·∫øn trong css, c√≥ th·ªÉ b·∫°n ch∆∞a bi·∫øt","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#chuy%E1%BB%87n-g%C3%AC-x%E1%BA%A3y-ra-n%E1%BA%BFu-ch%C3%BAng-ta-d%C3%B9ng-var-v%E1%BB%9Bi-m%E1%BB%99t-bi%E1%BA%BFn-undefined\">Chuy·ªán g√¨ x·∫£y ra n·∫øu ch√∫ng ta d√πng <code class=\"language-inline-text\">var()</code> v·ªõi m·ªôt bi·∫øn undefined</a></li>\n<li><a href=\"#fallback-value-khi-gi%C3%A1-tr%E1%BB%8B-bi%E1%BA%BFn-kh%C3%B4ng-t%C3%ACm-th%E1%BA%A5y\">Fallback value khi gi√° tr·ªã bi·∫øn kh√¥ng t√¨m th·∫•y</a></li>\n<li><a href=\"#devtool-c%E1%BB%A7a-tr%C3%ACnh-duy%E1%BB%87t-gi%C3%BAp-%C4%91%C6%B0%E1%BB%A3c-g%C3%AC\">DevTool c·ªßa tr√¨nh duy·ªát gi√∫p ƒë∆∞·ª£c g√¨</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"chuy·ªán-g√¨-x·∫£y-ra-n·∫øu-ch√∫ng-ta-d√πng-var-v·ªõi-m·ªôt-bi·∫øn-undefined\"><a href=\"#chuy%E1%BB%87n-g%C3%AC-x%E1%BA%A3y-ra-n%E1%BA%BFu-ch%C3%BAng-ta-d%C3%B9ng-var-v%E1%BB%9Bi-m%E1%BB%99t-bi%E1%BA%BFn-undefined\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Chuy·ªán g√¨ x·∫£y ra n·∫øu ch√∫ng ta d√πng <code class=\"language-inline-text\">var()</code> v·ªõi m·ªôt bi·∫øn undefined</h2>\n<p>Tr∆∞·ªõc h·∫øt ph·∫£i n√≥i CSS v√† HTML l√† ng√¥n ng·ªØ kh√¥ng qu√° strictly, m·ªôt v√†i l·ªói nh·ªè kh√¥ng l√†m l√†m ch·∫øt nguy√™n trang, n·∫øu d√πng <code class=\"language-inline-text\">var()</code> v·ªõi m·ªôt bi·∫øn kh√¥ng t·ªìn t·∫°i, kh√¥ng g√¢y ra ·∫£nh h∆∞·ªüng parsing.</p>\n<p>S·∫Ω c√≥ nhi·ªÅu l√Ω do cho vi·ªác xu·∫•t bi·∫øn undefined trong <code class=\"language-inline-text\">var</code>, c√≥ th·ªÉ l√†</p>\n<ul>\n<li>G√µ nh·∫ßm t√™n bi·∫øn</li>\n<li>T∆∞·ªüng l√† c√≥ nh∆∞ng ch∆∞a define bi·∫øn n√†y</li>\n<li>Bi·∫øn ƒë√≥ ko t·ªìn t·∫°i tr√™n trang ƒëang xem</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">ol li</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">--foo</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token selector\">ul li</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>B·ªüi, l·ªùi khuy√™n l√† lu√¥n ƒë·∫∑t bi·∫øt ·ªü node tr√™n c√πng nh∆∞ <code class=\"language-inline-text\">:root</code> hay <code class=\"language-inline-text\">html</code>, nh∆∞ v·∫≠y bi·∫øn c√≥ th·ªÉ truy xu·∫•t ·ªü b·∫•t c·ª© ƒë√¢u trong DOM.</p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">:root</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">--main-color</span><span class=\"token punctuation\">:</span> #f06<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.my-lovely-component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--main-color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>V·∫≠y n·∫øu bi·∫øn ƒë√≥ <code class=\"language-inline-text\">undefined</code> th√¨ sao? Th·ª© t·ª± x·ª≠ l√Ω s·∫Ω l√†</p>\n<ol>\n<li>N·∫øu property ƒë√≥ ko <em>inheritable</em> (v√≠ d·ª• nh∆∞ <code class=\"language-inline-text\">border</code>) n√≥ ƒë∆∞·ª£c ƒë∆∞a v·ªÅ <code class=\"language-inline-text\">initial</code></li>\n<li>N·∫øu l√† property k·∫ø th·ª´a, nh∆∞ <code class=\"language-inline-text\">color</code>, th√¨ <code class=\"language-inline-text\">inherited</code> gi√° tr·ªã t·ª´ th·∫±ng cha, n·∫øu kh√¥ng c√≥ c√°i n√†o h·∫øt, th√¨ s·∫Ω d√πng <code class=\"language-inline-text\">initial</code></li>\n</ol>\n<p>Gi√° tr·ªã initial c·ªßa <code class=\"language-inline-text\">border</code> s·∫Ω l√† <code class=\"language-inline-text\">medium none currentColor</code>, c√°i n√†y si√™ng th√¨ ki·ªÉm tra tr√™n <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/border#Formal_definition\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MDN</a></p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">:root</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">--main-color</span><span class=\"token punctuation\">:</span> #f06<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> gold<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.my-lovely-component</span> <span class=\"token punctuation\">{</span>\n    // n√≥ s·∫Ω d√πng gi√° tr·ªã `gold` k·∫ø th·ª´a t·ª´ body\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--secondary-color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"fallback-value-khi-gi√°-tr·ªã-bi·∫øn-kh√¥ng-t√¨m-th·∫•y\"><a href=\"#fallback-value-khi-gi%C3%A1-tr%E1%BB%8B-bi%E1%BA%BFn-kh%C3%B4ng-t%C3%ACm-th%E1%BA%A5y\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Fallback value khi gi√° tr·ªã bi·∫øn kh√¥ng t√¨m th·∫•y</h2>\n<p>ƒê√¢y c≈©ng √≠t ai ƒë·ªÉ √Ω m√† d√πng, <code class=\"language-inline-text\">var()</code> c√≥ th·ªÉ truy·ªÅn th√™m tham s·ªë th·ª© 2, l√† gi√° tr·ªã fallback khi kh√¥ng t√¨m th·∫•y bi·∫øn</p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\">// d√πng red n·∫øu kh√¥ng th·∫•y --theme-color\n<span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--theme-color<span class=\"token punctuation\">,</span> red<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Kh√° clear ƒë√∫ng kh√¥ng, nh∆∞ng b·∫°n c≈©ng c√≥ th·ªÉ vi·∫øt nh∆∞ th·∫ø n√†y cho n√≥ <em>r·∫Øc r·ªëi</em> ƒë·ªìng ƒë·ªôi ch∆°i</p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--foo<span class=\"token punctuation\">,</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--bar<span class=\"token punctuation\">,</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--baz<span class=\"token punctuation\">,</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--are<span class=\"token punctuation\">,</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--you<span class=\"token punctuation\">,</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--crazy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>C√∫ ph√°p tr√™n ho√†n to√†n h·ª£p l·ªá, nh∆∞ng kh√¥ng n√™n l√†m kh√≥ nhau nh∆∞ v·∫≠y. Ngo√†i ra ƒë√¢y c≈©ng l√† m·ªôt c√°ch vi·∫øt h·ª£p l·ªá </p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">--my-variable</span><span class=\"token punctuation\">:</span> one<span class=\"token punctuation\">,</span> two<span class=\"token punctuation\">,</span> three<span class=\"token punctuation\">;</span>\n<span class=\"token property\">content</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--foo<span class=\"token punctuation\">,</span> one<span class=\"token punctuation\">,</span> two<span class=\"token punctuation\">,</span> three<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>H√£y nh·ªõ, l√†m m·ªçi th·ª© ƒë∆°n gi·∫£n nh·∫•t th√¥i c√°c b·∫°n, ƒë·ª´ng nghƒ© m√¨nh vi·∫øt nh∆∞ v·∫≠y s·∫Ω th√¥ng minh h∆°n ng∆∞·ªùi kh√°c.</p>\n<h2 id=\"devtool-c·ªßa-tr√¨nh-duy·ªát-gi√∫p-ƒë∆∞·ª£c-g√¨\"><a href=\"#devtool-c%E1%BB%A7a-tr%C3%ACnh-duy%E1%BB%87t-gi%C3%BAp-%C4%91%C6%B0%E1%BB%A3c-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>DevTool c·ªßa tr√¨nh duy·ªát gi√∫p ƒë∆∞·ª£c g√¨</h2>\n<p>R·∫Øc r·ªëi l√† nh∆∞ v·∫≠y, may m√† ch√∫ng ta c√≥ DevTool c·ª©u gi√∫p</p>\n<p><strong>T·ª± ƒë·ªông ƒëi·ªÅn t√™n bi·∫øn</strong></p>\n<p>Khi c·∫ßn quick change tr√™n tr√¨nh duy·ªát, sau khi g√µ <code class=\"language-inline-text\">var(</code>, n√≥ t·ª± ƒë·ªông g·ª£i √Ω c√°c bi·∫øn h·ª£p l·ªá</p>\n<p><img src=\"https://patrickbrosset.com/assets/firefox-css-var-autocomplete.png\" alt=\"Screenshot of Firefox&#x27;s css var autocomplete\"></p>\n<p>Firefox, Edge, Chrome ƒë·ªÅu c√≥</p>\n<p><strong>Bi·∫øt gi√° tr·ªã n√†o ƒëang ƒë∆∞·ª£c s·ª≠ d·ª•ng</strong></p>\n<p>B√™n trong tab <strong>Computed</strong>, gi√° tr·ªã cu·ªëi c√πng ƒëang s·ª≠ d·ª•ng sau c·∫£ t√° k·∫ø th·ª´a s·∫Ω ƒë∆∞·ª£c hi·ªán ra</p>\n<p><img src=\"https://patrickbrosset.com/assets/edge-computed-css-var.png\" alt=\"Screenshot of the tooltip that appears in Edge when you hover over a var() function\"></p>\n<p>Hy v·ªçng trong t∆∞∆°ng lai DevTool s·∫Ω c√≥ nhi·ªÅu h·ªó tr·ª£ h∆°n nh∆∞ x√°c ƒë·ªãnh bi·∫øn <code class=\"language-inline-text\">undefined</code></p>\n<p><a href=\"https://patrickbrosset.com/articles/2020-09-21-3-things-about-css-variables-you-might-not-know/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">3 things about CSS variables you might not know</a></p>\n","cover_image":""}},{"node":{"id":"5832f92b763d62bb1a48e35b5132666e","title":"Composition l√† c√°i chi chi","path":"/2020-10-01-composition-la-cai-chi-chi/","date":"2020-10-01","timeToRead":6,"desc":"Nh·ªõ v·ªÅ 5 anh em si√™u nh√¢n k·∫øt h·ª£p th√†nh m·ªôt con robot m√£nh th√∫","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#composition-trong-to%C3%A1n-h%E1%BB%8Dc\">Composition trong to√°n h·ªçc</a></li>\n<li><a href=\"#function-composition\">Function composition</a></li>\n<li><a href=\"#component-composition\">Component Composition</a></li>\n<li><a href=\"#composition-vs-inheritance\">Composition vs inheritance</a></li>\n</ul>\n<!-- /TOC -->\n<p>Composition m·ªôt c√°ch tr·ª´u t∆∞·ª£ng m√† n√≥i l√† vi·ªác ƒë∆∞a hai (ho·∫∑c nhi·ªÅu) th·ª© kh√°c nhau v√†o m·ªôt ch·ªó ƒë·ªÉ nh·∫≠n ƒë∆∞·ª£c m·ªôt lo·∫°i k·∫øt qu·∫£</p>\n<h2 id=\"composition-trong-to√°n-h·ªçc\"><a href=\"#composition-trong-to%C3%A1n-h%E1%BB%8Dc\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Composition trong to√°n h·ªçc</h2>\n<p>To√°n h·ªçc c≈©ng ch∆∞a th·∫≠t s·ª± li√™n quan nhi·ªÅu ƒë·∫øn frontend, tuy nhi√™n to√°n h·ªçc l√† n∆°i ƒë√£ ph√°t sinh ra kh√°i ni·ªám n√†y</p>\n<p>V√≠ d·ª• c√≥ 2 h√†m, m·ªôt h√†m l√† <code class=\"language-inline-text\">y = 2 * x</code>, h√†m th·ª© 2 l√† <code class=\"language-inline-text\">y = x + 10</code>.</p>\n<p><em>Composition</em> 2 h√†m n√†y l·∫°i, k·∫øt qu·∫£ c·ªßa th·∫±ng n√†y l√† input c·ªßa th·∫±ng kia, ch√∫ng ta s·∫Ω c√≥ h√†m m·ªõi <code class=\"language-inline-text\">y = (2 * x) + 10</code>. <strong>ƒê√≥ l√† t·∫•t c·∫£ kh√°i ni·ªám c·∫ßn n·∫Øm</strong></p>\n<h2 id=\"function-composition\"><a href=\"#function-composition\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Function composition</h2>\n<p>Trong ng·ªØ c·∫£nh c·ªßa functional programming, c≈©ng kh√¥ng kh√°c to√°n h·ªçc, ch·ªâ l√† ƒë∆∞·ª£c di·ªÖn t·∫£ b·∫±ng code</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> date <span class=\"token operator\">=</span> <span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> text <span class=\"token operator\">=</span> <span class=\"token function\">formatDate</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> label <span class=\"token operator\">=</span> <span class=\"token function\">createLabel</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">showLabel</span><span class=\"token punctuation\">(</span>label<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Code n√†y c√≥ v√†i ƒëo·∫°n <em>na n√°</em> nhau, ch√∫ng ta c√≥ nh·∫≠n l·∫•y m·ªôt input, convert n√≥ sang m·ªôt lo·∫°i kh√°c, r·ªìi l·∫°i l·∫•y k·∫øt qu·∫£ ƒë√≥, convert ti·∫øp.</p>\n<p>L√†m sao ƒë·ªÉ l∆∞·ª£t b·ªè h·∫øt s·ª± <em>na n√°</em> ƒë√≥?</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> steps <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    getDate<span class=\"token punctuation\">,</span>\n    formatDate<span class=\"token punctuation\">,</span>\n    createLabel<span class=\"token punctuation\">,</span>\n    showLabel\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>M·ªôt \"v√†i ng∆∞·ªùi\" cho r·∫±ng code v·∫≠y s·∫°ch h∆°n. Vi·∫øt m·ªôt helper function ƒë·ªÉ tin g·ªçn h∆°n n·ªØa</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">runSteps</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">steps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> result<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> steps<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> step <span class=\"token operator\">=</span> steps<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// l√†m ti·∫øp c√°c b∆∞·ªõc ƒë∆∞·ª£c m√≥c n·ªëi v√†o</span>\n    result <span class=\"token operator\">=</span> <span class=\"token function\">step</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nh·ªù s·ª± tr·ª£ gi√∫p c·ªßa h√†m <code class=\"language-inline-text\">runSteps</code> ch√∫ng ta c√≥ th·ªÉ vi·∫øt l·∫°i</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">runSteps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    getDate<span class=\"token punctuation\">,</span>\n    formatDate<span class=\"token punctuation\">,</span>\n    createLabel<span class=\"token punctuation\">,</span>\n    showLabel\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>N·∫øu t·ªïng s·ªë code b∆∞·ªõc ph·∫£i l√†m l√† c·ªë ƒë·ªãnh, ch√∫ng ta mu·ªën ch·∫°y y chang nh∆∞ v·∫≠y tr√™n nhi·ªÅu ch·ªó kh√°c nhau, ch√∫ng ta ti·∫øp t·ª•c ƒë∆∞a n√≥ v√†o m·ªôt function</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">showDateLabel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">runSteps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    getDate<span class=\"token punctuation\">,</span>\n    formatDate<span class=\"token punctuation\">,</span>\n    createLabel<span class=\"token punctuation\">,</span>\n    showLabel\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Gi·ªù g·ªçi ·ªü b·∫•t k·ª≥ ƒë√¢u</span>\n<span class=\"token function\">showDateLabel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">showDateLabel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>C√°c b·∫°n l·∫≠p tr√¨nh l·∫°i ti·∫øn m·ªôt b∆∞·ªõc xa h∆°n, sao kh√¥ng r√∫t g·ªçn code h∆°n n·ªØa b·∫±ng m·ªôt h√†m g·ªçi l√† <code class=\"language-inline-text\">pipe</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> showDateLabel <span class=\"token operator\">=</span> <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n  getDate<span class=\"token punctuation\">,</span>\n  formatDate<span class=\"token punctuation\">,</span>\n  createLabel<span class=\"token punctuation\">,</span>\n  showLabel\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Gi·ªù g·ªçi ·ªü b·∫•t k·ª≥ ƒë√¢u</span>\n<span class=\"token function\">showDateLabel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">showDateLabel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Ch√∫ng ta <em>d·∫•u di·∫øm</em> ph·∫ßn implement c·ªßa th·ªÉ  ƒë√≥ nh∆∞ th·∫ø n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>steps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ch·∫°y h·∫øt t·∫•t c·∫£ c√°c function cho tui</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">runSteps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> steps<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> step <span class=\"token operator\">=</span> steps<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      result <span class=\"token operator\">=</span> <span class=\"token function\">step</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nh∆∞ v·∫≠y ch√∫ng ta ƒë√£ ƒëi r·∫•t xa, r·∫•t r·∫•t xa. T·ª´ ƒëi·ªÉm xu·∫•t ph√°t ph·∫£i g·ªçi l·∫ßn l∆∞·ª£t c√°c h√†m m·ªôt c√°ch th·ªß c√¥ng, ch√∫ng ta ch·ªâ ƒë·ªãnh c√°c b∆∞·ªõc c·∫ßn ch·∫°y theo th·ª© t·ª± m·ªôt c√°ch <em>s·∫°ch s·∫Ω h∆°n</em></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// code c≈©</span>\n<span class=\"token keyword\">let</span> date <span class=\"token operator\">=</span> <span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> text <span class=\"token operator\">=</span> <span class=\"token function\">formatDate</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> label <span class=\"token operator\">=</span> <span class=\"token function\">createLabel</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">showLabel</span><span class=\"token punctuation\">(</span>label<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// code m·ªõi</span>\n<span class=\"token keyword\">let</span> showDateLabel <span class=\"token operator\">=</span> <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n  getDate<span class=\"token punctuation\">,</span>\n  formatDate<span class=\"token punctuation\">,</span>\n  createLabel<span class=\"token punctuation\">,</span>\n  showLabel\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">showDateLabel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>N·∫øu c√≥ th·∫Øc m·∫Øc trong ƒë·∫ßu: ·ªßa v·∫≠y ƒë·ªÉ m·∫ßn chi? Ph·ª©c t·∫°p r∆∞·ªùm r√† v√£i c·∫£ ra! H√£y c√¢n nh·∫Øc xem gi·ªØa hay c√°ch vi·∫øt tr√™n, c√°ch n√†o b·∫°n ƒë·ªçc d·ªÖ h∆°n?</p>\n<p>Khi hi·ªÉu ƒë∆∞·ª£c <code class=\"language-inline-text\">pipe</code> v√† function composition b·∫°n s·∫Ω th·∫•y m·ªçi th·ª© g·ªçn g√†ng r√†nh m·∫°ch th·∫≠t tuy·ªát v·ªùi, nh∆∞ng kh√¥ng c√≥ nghƒ©a l√† kh√¥ng c√≥ nh∆∞·ª£c ƒëi·ªÉm, <em>outsource</em> cho <code class=\"language-inline-text\">pipe</code>, ch√∫ng ta kh√¥ng c√≤n th·∫•y ƒë∆∞·ª£c r√µ r√†ng d·ªØ li·ªáu ƒë√£ ƒëi ra-ƒëi v√†o nh∆∞ th·∫ø n√†o.</p>\n<h2 id=\"component-composition\"><a href=\"#component-composition\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Component Composition</h2>\n<p>M·ªôt ng·ªØ c·∫£nh kh√°c ch√∫ng ta c≈©ng th·∫•y s·ª± xu·∫•t hi·ªán c·ªßa \"composition\" l√† l·∫≠p tr√¨nh UI h∆∞·ªõng declarative. React component l√† m·ªôt v√≠ d·ª•.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Screen</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Screen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Form</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Form</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Button</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hey there.</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒê·∫•y c≈©ng g·ªçi l√† composition v√¨ ch√∫ng ta ƒë·ª©a nh·ªØng component v√†o trong nh·ªØng component kh√°c, r·ªìi nh·∫≠n ƒë∆∞·ª£c k·∫øt qu·∫£ l√† m·ªôt t·ªïng th·ªÉ ch·ª©a t·∫•t c·∫£ component</p>\n<p>M·ªôt d·∫°ng bi·∫øn th·ªÉ c·ªßa composition trong component l√† <code class=\"language-inline-text\">slot</code> (l√†m Vue b·∫°n s·∫Ω bi·∫øt kh√°i ni·ªám n√†y)</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Layout</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> sidebar<span class=\"token punctuation\">,</span> content <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sidebar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>sidebar<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>content<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Sau ƒë·∫•y ƒë∆∞a c√°c gi√° tr·ªã c·ª• th·ªÉ v√†o slot</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">HomePage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Layout</span></span>\n      <span class=\"token attr-name\">sidebar</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomeSidebar</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">content</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomeContent</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  )\n}\nfunction AboutPage() </span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Layout</span></span>\n      <span class=\"token attr-name\">sidebar</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AboutSidebar</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">content</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AboutContent</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  )\n}</span></code></pre></div>\n<p>React s·∫Ω kh√¥ng ƒë·∫∑t h·∫≥n m·ªôt kh√°i ni·ªám ri√™ng cho slot v√¨ b·∫°n c√≥ th·ªÉ l√†m ƒëi·ªÅu ƒë√≥ th√¥ng qua <code class=\"language-inline-text\">prop</code></p>\n<h2 id=\"composition-vs-inheritance\"><a href=\"#composition-vs-inheritance\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Composition vs inheritance</h2>\n<p><em>Ng∆∞·ªùi ƒë·ªùi</em> th∆∞·ªùng ƒëem composition ƒë·ªÉ ƒë·ªëi chi·∫øu v·ªõi inheritance, k·∫ø th·ª´a g·∫∑p nhi·ªÅu trong class v√† object h∆°n, composition g·∫∑p nhi·ªÅu trong function</p>\n<p>M·ªôt c√°ch c·ª• th·ªÉ, n·∫øu vi·∫øt code theo ki·ªÉu <code class=\"language-inline-text\">class</code>, b·∫°n s·∫Ω c√≥ xu h∆∞·ªõng d√πng l·∫°i c√°c behavior t·ª´ m·ªôt class kh√°c b·∫±ng c√°ch <code class=\"language-inline-text\">extend</code> n√≥ (k·∫ø th·ª´a). Tuy nhi√™n, l√†m v·∫≠y c≈©ng c√≥ h·∫°n ch·∫ø l√† r·∫•t kh√≥ t√πy ch·ªânh c√°c behavior sau n√†y. V√≠ d·ª• nh∆∞ t√¨nh hu·ªëng mu·ªën <code class=\"language-inline-text\">extend</code> kh√¥ng ch·ªâ m·ªôt m√† nhi·ªÅu <code class=\"language-inline-text\">class</code></p>\n<p>ƒê√¥i khi, <em>mi·ªáng ƒë·ªùi</em> c≈©ng ƒë·ªìn ƒë·∫°i r·∫±ng vi·ªác d√πng class khi·∫øn \"b·∫°n b·ªã kh√≥a c·ª©ng\" trong thi·∫øt k·∫ø ban ƒë·∫ßu v√¨ vi·ªác thay ƒë·ªïi ki·∫øn tr√∫c c·ªßa c√°c class th√¨ r·∫•t chi l√† t·ªën c√¥ng. V·ªõi vi·ªác d√πng composition, thay v√¨ extend, b·∫°n d·ªØ nguy√™n hi·ªán tr·∫°ng c·ªßa m·ªôt instance, s·ª≠ d·ª•ng tr·ª±c ti·∫øp t·ª´ instance n√†y v√† c≈©ng c√≥ th·ªÉ l√†m g√¨ ƒë√≥ k·∫øt h·ª£p v·ªõi nhi·ªÅu th·ª© kh√°c, c√≥ nhi·ªÅu ƒë·∫•t di·ªÖn h∆°n.</p>\n<p>N√≥i chung, ng√†nh ph·∫ßn m·ªÅm ƒë√£ b·ªè vi·ªác model c√°c UI component nh∆∞ m·ªôt d·∫°ng k·∫ø th·ª´a nhi·ªÅu t·∫ßng nhi·ªÅu c·∫•p.</p>\n<p>Kh√¥ng c√≥ n√≥i inheritance l√∫c n√†o c≈©ng \"t·ªá\", n√≥ ch·ªâ kh√¥ng ƒë·ªß \"b√©n nh∆∞ dao lam\", s·ª≠ d·ª•ng c·∫ßn ph·∫£i ti·∫øt ch·∫ø, vi·ªác k·∫ø th·ª´a ƒëa c·∫•p ·ªü m·ªôt ƒë·ªô s√¢u nh·∫•t ƒë·ªãnh, ƒë√≤i h·ªèi b·∫°n ƒë·ªß ki√™n nh·∫´n ƒë·ªÉ gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ c·ªßa n√≥.</p>\n<blockquote>\n<p>If you write your code in a style that composes functions in some way before calling them, and there are other humans on your team, make sure that you‚Äôre getting concrete benefits from this approach. It is not ‚Äúcleaner‚Äù or ‚Äúbetter‚Äù, and there is a price to pay for ‚Äúbeautiful‚Äù but indirect code.</p>\n</blockquote>\n<p>T·∫°m k·∫øt: N·∫øu b·∫°n l√†m vi·ªác trong team, h√£y ƒë·∫£m b·∫£o m·ªçi ng∆∞·ªùi nh·∫•t tr√≠ v·ªõi nhau l·ª£i √≠ch m√† n√≥ mang l·∫°i t·ª´ c√°ch l√†m n√†y. N√≥ kh√¥ng li√™n quan g√¨ t·ªõi vi·ªác \"cleaner-better\", n√≥ lu√¥n c√≥ c√°i gi√° ph·∫£i tr·∫£ cho \"beautiful\" nh∆∞ng m√† code kh√¥ng tr·ª±c quan</p>\n<p><a href=\"https://whatthefuck.is/composition\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">composition - <em>Dan‚Äôs JavaScript Glossary</em></a></p>\n","cover_image":""}},{"node":{"id":"e75a99f44846b3fabeee36d8b1eb0b64","title":"Ki·∫øn th·ª©c cƒÉn b·∫£n REST API cho FE developer","path":"/2020-09-26-kien-thuc-rest-api-can-thiet-khi-di-phong-van/","date":"2020-09-26","timeToRead":4,"desc":"2020 REST API v·∫´n ƒëang l√† chu·∫©n m·ª±c giao ti·∫øp c·ªßa API tr√™n n·ªÅn web (chi·∫øm 69% so v·ªõi c√°c API kh√°c), nh∆∞ v·∫≠y ƒë√£ ƒë·ªß thuy·∫øt ph·ª•c c√°c b·∫°n n·∫Øm th·∫≠t r√µ ki·∫øn th·ª©c REST API ch∆∞a?","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#ph%C3%A2n-bi%E1%BB%87t-gi%E1%BB%AFa-api-v%C3%A0-web-service\">Ph√¢n bi·ªát gi·ªØa API v√† Web Service</a></li>\n<li><a href=\"#ph%C3%A2n-bi%E1%BB%87t-gi%E1%BB%AFa-rest-v%C3%A0-restful\">Ph√¢n bi·ªát gi·ªØa REST v√† RESTFUL</a></li>\n<li><a href=\"#nh%E1%BB%AFng-ph%C6%B0%C6%A1ng-th%E1%BB%A9c-http-%C4%91%C6%B0%E1%BB%A3c-h%E1%BB%95-tr%E1%BB%A3-trong-rest\">Nh·ªØng ph∆∞∆°ng th·ª©c HTTP ƒë∆∞·ª£c h·ªï tr·ª£ trong REST</a></li>\n<li><a href=\"#s%E1%BB%B1-kh%C3%A1c-nhau-gi%E1%BB%AFa-ajax-v%C3%A0-rest\">S·ª± kh√°c nhau gi·ªØa AJAX v√† REST</a></li>\n<li><a href=\"#%C4%91i%E1%BB%83m-m%E1%BA%A5u-ch%E1%BB%91t-c%E1%BA%A7n-nh%E1%BB%9B-trong-rest\">ƒêi·ªÉm m·∫•u ch·ªët c·∫ßn nh·ªõ trong REST</a></li>\n<li><a href=\"#%C4%91i%E1%BB%83m-kh%C3%A1c-nhau-gi%E1%BB%AFa-put-v%C3%A0-post\">ƒêi·ªÉm kh√°c nhau gi·ªØa <code class=\"language-inline-text\">PUT</code> v√† <code class=\"language-inline-text\">POST</code></a></li>\n<li><a href=\"#m%E1%BB%A5c-ti%C3%AAu-c%E1%BB%A7a-ph%C6%B0%C6%A1ng-th%E1%BB%A9c-options-trong-restful-web-service\">M·ª•c ti√™u c·ªßa ph∆∞∆°ng th·ª©c OPTIONS trong RESTful web service</a></li>\n<li><a href=\"#limit-c%E1%BB%A7a-payload-trong-ph%C6%B0%E1%BB%9Bc-th%E1%BB%A9c-post\">Limit c·ªßa payload trong ph∆∞·ªõc th·ª©c POST</a></li>\n</ul>\n<!-- /TOC -->\n<p>ƒê·ªÉ cho d·ªÖ hi·ªÉu ch√∫ng ta ƒëi qua m·ªôt s·ªë thu·∫≠t ng·ªØ tr∆∞·ªõc</p>\n<ul>\n<li><strong>Resource</strong> (t√†i nguy√™n) c√≥ th·ªÉ h√¨nh dung n√¥m na n√≥ l√† m·ªôt <em>c√°i g√¨ ƒë√≥ ƒë√≥</em> ·ªü ph√≠a server n·∫Øm d·ªØ, c√≥ th·ªÉ l√† m·ªôt d·ªØ li·ªáu trong database, m·ªôt file html, css, js, svg,...</li>\n<li><strong>Web Service</strong>: nhi·ªÅu c√°ch ƒë·ªãnh nghƒ©a, c√≥ th·ªÉ hi·ªÉu <em>b√¨nh d√¢n</em>, n·∫øu internet l√† m·ªôt c√°i ch·ª£, d·ªØ li·ªáu l√† nh·ªØng g√¨ c√≥ th·ªÉ bu√¥n b√°n trao ƒë·ªïi, th√¨ web service l√† nh·ªØng g√¨ c√≥ th·ªÉ ƒëem ra ch·ª£ trao ƒë·ªïi bu√¥n b√°n</li>\n<li><strong>URI</strong>: vi·∫øt t·∫Øt c·ªßa <em>Uniform Resource Identifier</em>, m·ªôt m·ªôt resource trong ki·∫øn tr√∫c REST s·∫Ω x√°c ƒë·ªãnh b·∫±ng m·ªôt v√† ch·ªâ m·ªôt URI. Theo ƒë·ªãnh d·∫°ng nh∆∞ sau</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span>protocol<span class=\"token operator\">></span>://<span class=\"token operator\">&lt;</span>service-name<span class=\"token operator\">></span>/<span class=\"token operator\">&lt;</span>ResourceType<span class=\"token operator\">></span>/<span class=\"token operator\">&lt;</span>ResourceID<span class=\"token operator\">></span></code></pre></div>\n<h2 id=\"ph√¢n-bi·ªát-gi·ªØa-api-v√†-web-service\"><a href=\"#ph%C3%A2n-bi%E1%BB%87t-gi%E1%BB%AFa-api-v%C3%A0-web-service\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ph√¢n bi·ªát gi·ªØa API v√† Web Service</h2>\n<ul>\n<li>T·∫•t c·∫£ web service ƒë·ªÅu l√† API, nh∆∞ng kh√¥ng ph·∫£i t·∫•t c·∫£ API ƒë·ªÅu l√† web service</li>\n<li>Web service s·ª≠ d·ª•ng 3 ki·ªÉu sau: SOAP, REST, XML-RPC, trong khi API c√≥ nhi·ªÅu c√°ch h∆°n</li>\n</ul>\n<h2 id=\"ph√¢n-bi·ªát-gi·ªØa-rest-v√†-restful\"><a href=\"#ph%C3%A2n-bi%E1%BB%87t-gi%E1%BB%AFa-rest-v%C3%A0-restful\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ph√¢n bi·ªát gi·ªØa REST v√† RESTFUL</h2>\n<p>REST √°m ch·ªâ <strong>ki·ªÉu ki·∫øn tr√∫c</strong> ƒë·ªÉ x√¢y d·ª±ng c√°c ·ª©ng d·ª•ng c√≥ th·ªÉ truy c·∫≠p th√¥ng qua m·∫°ng c·ªßa √¥ng ch√∫ viettel, vnpt, fpt,...</p>\n<p>REST ch·ªâ l√† <em>m·ªôt trong nhi·ªÅu ki·ªÉu ki·∫øn tr√∫c</em> tr√™n n·ªÅn web, ngo√†i ra c√≤n c√≥ <a href=\"https://en.wikipedia.org/wiki/SOAP\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">SOAP</a>, v√† m·ªôt s·ªë ki·ªÉu kh√°c.</p>\n<p><em>RESTful</em> √°m ch·ªâ m·ªôt <strong>web service</strong> hi·ªán th·ª±c c√°i ki·∫øn tr√∫c REST</p>\n<h2 id=\"nh·ªØng-ph∆∞∆°ng-th·ª©c-http-ƒë∆∞·ª£c-h·ªï-tr·ª£-trong-rest\"><a href=\"#nh%E1%BB%AFng-ph%C6%B0%C6%A1ng-th%E1%BB%A9c-http-%C4%91%C6%B0%E1%BB%A3c-h%E1%BB%95-tr%E1%BB%A3-trong-rest\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nh·ªØng ph∆∞∆°ng th·ª©c HTTP ƒë∆∞·ª£c h·ªï tr·ª£ trong REST</h2>\n<ul>\n<li><code class=\"language-inline-text\">GET</code>: d√πng ƒë·ªÉ y√™u c·∫ßu m·ªôt resource qua URL. Kh√¥ng n√™n ch·ª©a <code class=\"language-inline-text\">body</code>, c√≥ th·ªÉ ƒë∆∞·ª£c cache ph√≠a client ho·∫∑c server</li>\n<li><code class=\"language-inline-text\">POST</code>: g·ª≠i th√¥ng tin l√™n m·ªôt <em>service</em> n√†o ƒë·∫•y ƒë·ªÉ x·ª≠ l√Ω, th∆∞·ªùng tr·∫£ v·ªÅ m·ªôt resource m·ªõi ho·∫∑c resource ƒë√£ b·ªã thay ƒë·ªïi</li>\n<li><code class=\"language-inline-text\">PUT</code>: c·∫≠p nh·∫≠p resource t·∫°i m·ªôt URL</li>\n<li><code class=\"language-inline-text\">DELETE</code>: x√≥a resource t·∫°i m·ªôt URL</li>\n<li><code class=\"language-inline-text\">OPTIONS</code>: X√°c ƒë·ªãnh h·ªï tr·ª£ c√°i g√¨</li>\n<li><code class=\"language-inline-text\">HEAD</code>: tr·∫£ v·ªÅ c√°c th√¥ng tin meta</li>\n</ul>\n<h2 id=\"s·ª±-kh√°c-nhau-gi·ªØa-ajax-v√†-rest\"><a href=\"#s%E1%BB%B1-kh%C3%A1c-nhau-gi%E1%BB%AFa-ajax-v%C3%A0-rest\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·ª± kh√°c nhau gi·ªØa AJAX v√† REST</h2>\n<table>\n<thead>\n<tr>\n<th>AJAX</th>\n<th>REST</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>G·ª≠i m·ªôt object <code class=\"language-inline-text\">XMLHttpRequest</code> l√™n server. JS s·∫Ω nh·∫≠n l·∫•y k·∫øt qu·∫£ tr·∫£ v·ªÅ v√† l√†m g√¨ ƒë√≥ th·∫≠t <em>vi di·ªáu</em> tr√™n trang hi·ªán t·∫°i</td>\n<td>Bao g·ªìm nhi·ªÅu th·ª© h∆°n: c·∫•u tr√∫c URL, pattern cho request/response xung quanh vi·ªác truy xu·∫•t ƒë·∫øn c√°c resource</td>\n</tr>\n<tr>\n<td>√Åm ch·ªâ m·ªôt c√¥ng ngh·ªá ƒë·ªÉ c·∫≠p nh·∫≠p UI m√† kh√¥ng c·∫ßn reload th·∫ßn th√°nh</td>\n<td>Ki·∫øn tr√∫c ph·∫ßn m·ªÅm v√† ph∆∞∆°ng ph√°p ƒë·ªÉ user c√≥ th·ªÉ c√≥ ƒë∆∞·ª£c d·ªØ li·ªáu t·ª´ ph√≠a server</td>\n</tr>\n<tr>\n<td>Lo·∫°i b·ªè t∆∞∆°ng t√°c gi·ªØa ng∆∞·ªùi s·ª≠ d·ª•ng v√† server</td>\n<td>Y√™u c·∫ßu t∆∞∆°ng t√°c gi·ªØa ng∆∞·ªùi s·ª≠ d·ª•ng v√† server</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ƒëi·ªÉm-m·∫•u-ch·ªët-c·∫ßn-nh·ªõ-trong-rest\"><a href=\"#%C4%91i%E1%BB%83m-m%E1%BA%A5u-ch%E1%BB%91t-c%E1%BA%A7n-nh%E1%BB%9B-trong-rest\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ƒêi·ªÉm m·∫•u ch·ªët c·∫ßn nh·ªõ trong REST</h2>\n<p><strong>Stateless</strong>: nghƒ©a l√† server kh√¥ng qu·∫£n l√Ω state v√† session data</p>\n<h2 id=\"ƒëi·ªÉm-kh√°c-nhau-gi·ªØa-put-v√†-post\"><a href=\"#%C4%91i%E1%BB%83m-kh%C3%A1c-nhau-gi%E1%BB%AFa-put-v%C3%A0-post\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ƒêi·ªÉm kh√°c nhau gi·ªØa <code class=\"language-inline-text\">PUT</code> v√† <code class=\"language-inline-text\">POST</code></h2>\n<ul>\n<li><code class=\"language-inline-text\">PUT</code> d√πng ƒë·ªÉ <strong>x·ª≠ l√Ω</strong> m·ªôt resource t·∫°i m·ªôt URI c·ª• th·ªÉ <strong>ƒë√£ t·ªìn t·∫°i tr∆∞·ªõc ƒë√≥</strong>, n·∫øu ch∆∞a c√≥ t·∫°o m·ªõi, ƒë√£ c√≥ th√¨ ghi ƒë√®. Ko ph·ª• thu·ªôc s·ªë l·∫ßn g·ª≠i, s·ªë l∆∞·ª£ng resource s·∫Ω kh√¥ng ƒë·ªïi sau khi g·ªçi <code class=\"language-inline-text\">PUT</code></li>\n<li><code class=\"language-inline-text\">POST</code> <strong>g·ª≠i d·ªØ li·ªáu</strong> ƒë·∫øn m·ªôt URI, resource t·∫°i URI ƒë√≥ s·∫Ω x·ª≠ l√Ω d·ªØ li·ªáu ƒë∆∞·ª£c g·ªüi. Vi·ªác g·ª≠i l√™n c√†ng nhi·ªÅu, ƒë·ªìng nghƒ©a v·ªõi vi·ªác s·ªë l∆∞·ª£ng resource ph√≠a server c≈©ng tƒÉng theo</li>\n</ul>\n<h2 id=\"m·ª•c-ti√™u-c·ªßa-ph∆∞∆°ng-th·ª©c-options-trong-restful-web-service\"><a href=\"#m%E1%BB%A5c-ti%C3%AAu-c%E1%BB%A7a-ph%C6%B0%C6%A1ng-th%E1%BB%A9c-options-trong-restful-web-service\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ª•c ti√™u c·ªßa ph∆∞∆°ng th·ª©c OPTIONS trong RESTful web service</h2>\n<p>Ph∆∞∆°ng th·ª©c n√†y d√πng ƒë·ªÉ li·ªát k√™ t·∫•t c·∫£ c√°c thao t√°c m√† web service h·ªï tr·ª£. T·∫°o m·ªôt request readonly ƒë·∫øn server</p>\n<h2 id=\"limit-c·ªßa-payload-trong-ph∆∞·ªõc-th·ª©c-post\"><a href=\"#limit-c%E1%BB%A7a-payload-trong-ph%C6%B0%E1%BB%9Bc-th%E1%BB%A9c-post\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Limit c·ªßa payload trong ph∆∞·ªõc th·ª©c POST</h2>\n<p>N·∫øu <GET> g·ª≠i d·ªØ li·ªáu th√¥ng qua URL, n√≥ ko ƒë∆∞·ª£c v∆∞·ª£t qu√° chi·ªÅu d√†i t·ªëi ƒëa cho ph√©p c·ªßa URL. <POST> l·∫°i kh√¥ng c√≥ limit, c√≥ th·ªÉ g·ª≠i l√™n bao nhi·ªÅu t√πy th√≠ch, trong th·ª±c t·∫ø s·ª≠ d·ª•ng th√¨ kh√¥ng n√™n g·ª≠i payload qu√° l·ªõn, v√¨ s·∫Ω t·ªën r·∫•t nhi·ªÅu th·ªùi gian x·ª≠ l√Ω.</p>\n","cover_image":""}},{"node":{"id":"5392f292106070559f38f68ef156425e","title":"S·ª± kh√°c nhau gi·ªØa npm v√† npx?","path":"/2020-09-01-phan-biet-giua-npm-va-npx/","date":"2020-09-01","timeToRead":2,"desc":"B√†i vi·∫øt n√†y s·∫Ω gi·∫£i th√≠ch ng·∫Øn g·ªçn nh·∫•t c√≥ th·ªÉ s·ª± kh√°c nhau v·ªÅ m·ª•c ƒë√≠ch c·ªßa 2 th·∫±ng n√†y","content":"<p>Ph√¢n bi·ªát gi·ªØa l·ªánh <code class=\"language-inline-text\">npm</code> v√† <code class=\"language-inline-text\">npx</code> c√°c b·∫°n c√≥ th·ªÉ t√¨m th·∫•y tr√™n m·∫°ng kh√° nhi·ªÅu, ch·ªß y·∫øu l√† d·ªãch t·ª´ <a href=\"https://www.freecodecamp.org/news/npm-vs-npx-whats-the-difference/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">freeCodeCamp</a>, m√¨nh ƒë·ªçc th·∫•y c≈©ng kh√° d√†i d√≤ng nh∆∞ng c√≥ nhi·ªÅu ch·ªï kh√¥ng ∆∞ng, hy v·ªçng th√¥ng qua ng√¥n ng·ªØ c·ªßa m·ªôt l·∫≠p tr√¨nh vi√™n l√† m√¨nh c√°c b·∫°n c√≥ th·ªÉ d·ªÖ ƒë·ªçc, d·ªÖ hi·ªÉu, t√≥m g·ªçn h∆°n l√† c√°c b·∫°n marketing d·ªãch.</p>\n<p>N√≥i m·ªôt c√°ch ng·∫Øn g·ªçn nh·∫•t, ƒë·ªÉ b·∫°n d·ªÖ nh·ªõ th√¨ h√£y nh·ªõ ƒë·∫øn t√™n ƒë·∫ßy ƒë·ªß c·ªßa t·ª´ng th·∫±ng ƒë·ªÉ h√¨nh dung c√¥ng d·ª•ng c·ªßa n√≥</p>\n<blockquote>\n<p>npm vi·∫øt t·∫Øt cho Node Package Manager</p>\n<p>npx vi·∫øt t·∫Øt cho Node Package eXecute</p>\n</blockquote>\n<p>M·ªôt th·∫±ng d√πng ƒë·ªÉ <strong>qu·∫£n l√Ω</strong> package, th·∫±ng c√≤n l·∫°i ƒë·ªÉ <strong>th·ª±c thi</strong> package.</p>\n<p>D√†i d√≤ng h∆°n m·ªôt ch√∫t</p>\n<p><strong>NPM</strong> l√† b·ªô <strong>qu·∫£n l√Ω</strong> package (nh∆∞ b·ªô giao th√¥ng v·∫≠n t·∫£i, b·ªô gi√°o d·ª•c ƒë√†o t·∫°o)  ch√≠nh th·ª©c c·ªßa Node.js, khi b·∫°n c√†i Node.js l√† b·∫°n ƒë∆∞·ª£c <em>t·∫∑ng k√®m kh√¥ng thu gi√°</em> m·ªôt b·ªô command-line (c√¢u l·ªánh ƒë·ªÉ b·∫°n g√µ c·ªçc c·ªçc trong terminal) c≈©ng t√™n l√† <code class=\"language-inline-text\">npm</code></p>\n<p><strong>NPX</strong>, ƒë∆∞·ª£c tr√¨nh l√†ng t·ª´ Node.js 5.2.0 (<em>nghƒ©a l√† hi·ªán t·∫°i b·∫°n s·∫Ω lu√¥n c√≥ npx song song v·ªõi npm, v√¨ c√°i th·ªùi 5.2.0 l√† n√≥ l√† th·ªùi m√¨nh c√≤n c·ªüi tru·ªìng t·∫Øm m∆∞a r·ªìi</em>) ƒë∆∞·ª£c d√πng ƒë·ªÉ <strong>th·ª±c thi</strong> b·∫•t k·ª≥ package n√†o c√≥ tr√™n trang <a href=\"https://www.npmjs.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.npmjs.com/</a> m√† <strong>kh√¥ng c·∫ßn c√†i ƒë·∫∑t</strong> n√≥ tr∆∞·ªõc ƒë√≥, b·∫°n ch·ªâ ch·∫°y n√≥ th√¥i (t·ª©c nhi√™n n·∫øu n√≥ ch·∫°y ƒë∆∞·ª£c)</p>\n<p>V√≠ d·ª• cho d·ªÖ hi·ªÉu nh√©, tr√™n t√†i li·ªáu c·ªßa <a href=\"https://create-react-app.dev/docs/getting-started/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">create-react-app</a> ng∆∞·ªùi ta s·∫Ω h∆∞·ªõng d·∫´n b·∫°n ch·∫°y l·ªánh</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx create-react-app my-app</code></pre></div>\n<p>B·∫°n kh√¥ng c·∫ßn c√†i <code class=\"language-inline-text\">create-react-app</code> (b·∫£n th√¢n n√≥ l√† m·ªôt package Node.js), m√† ch·ªâ th·ª±c thi n√≥ ƒë·ªÉ init source code</p>\n<p>N·∫øu th√≠ch c√°c b√†i d√†i d√≤ng h∆°n n·ªØa, b·∫°n c√≥ th·ªÉ gh√© qua</p>\n<p><a href=\"https://www.geeksforgeeks.org/what-are-the-differences-between-npm-and-npx/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.geeksforgeeks.org/what-are-the-differences-between-npm-and-npx/</a></p>\n<p><a href=\"https://www.geeksforgeeks.org/what-are-the-differences-between-npm-and-npx/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.geeksforgeeks.org/what-are-the-differences-between-npm-and-npx/</a></p>\n","cover_image":""}},{"node":{"id":"d70d6a906ab8201592944ea4001ec9a1","title":"DRY kh√¥ng hi·ªáu qu·∫£, h√£y d√πng WET","path":"/2020-08-24-dry-khong-duoc-vay-thi-wet/","date":"2020-08-24","timeToRead":3,"desc":"Khi b·∫°n h·ªçc l·∫≠p tr√¨nh b·∫°n s·∫Ω ƒë∆∞·ª£c nghe t·ªõi kh√°i ni·ªám DRY (Don't Repeat Yourself), b·∫°n r·∫•t c√≥ th·ªÉ ƒë√£ v·∫≠n d·ª•ng sai √Ω nghƒ©a c·ªßa n√≥.","content":"<p>Tr√™n wiki: DRY l√† nguy√™n t·∫Øc b·∫°n ƒë·ª´ng vi·∫øt l·∫∑p l·∫°i m·ªôt ƒëo·∫°n code</p>\n<p>B·∫°n: Ok, nh·ªØng ph·∫ßn code b·ªã tr√πng m√¨nh s·∫Ω chuy·ªÉn th√†nh abstraction</p>\n<p>Gi·∫£i ph√°p tr√¥ng c√≥ v·∫ª hi·ªÉn nhi√™n ƒë√∫ng, nh∆∞ng kh√¥ng, abstraction c·ªßa b·∫°n th∆∞·ªùng l√† sai.</p>\n<p>ƒê√¢y l√† l√Ω do t·∫°i sao:</p>\n<ol>\n<li>B·∫°n th·∫•y code b·ªã duplicate</li>\n<li>B·∫°n ƒë∆∞a ƒëo·∫°n duplicate ra th√†nh m·ªôt abstract (method, class)</li>\n<li>B·∫°n thay th·ªÉ to√†n b·ªô ph·∫ßn duplicate b·∫±ng abstraction m·ªõi</li>\n<li>B·∫°n nghƒ© code ƒë√£ ho√†n h·∫£o</li>\n<li>Th·ªùi gian tr√¥i ƒëi</li>\n<li>PM ƒë∆∞a th√™m c√°c y√™u c·∫ßu m·ªõi.</li>\n<li>B·∫°n b·∫Øt ƒë·∫ßu hi·ªán th·ª±c c√°c y√™u c·∫ßu m·ªõi</li>\n<li>V·ªõi y√™u c·∫ßu m·ªõi n√†y, b·∫°n ph·∫£i ch·ªânh s·ª≠a v√†i ƒëo·∫°n trong abstraction, <code class=\"language-inline-text\">if...else</code> c√°c ki·ªÉu, ƒë·ªïi parameter, abstraction c·ªßa ch√∫ng ta c√≥ th·ªÉ ƒë∆∞a ra nh·ªØng action kh√°c nhau theo nh·ªØng ƒëi·ªÅu ki·ªán kh√°c nhau</li>\n<li>Gi·ªù abstraction c·ªßa tr·ªçng s·∫Ω cho ra nh·ªØng k·∫øt qu·∫£ kh√°c nhau tr√™n nh·ªØng case kh√°c nhau</li>\n<li>Y√™u c·∫ßu m·ªõi l·∫°i ƒë·∫øn, th√™m parameter ti·∫øp, th√™m c√¢u ƒëi·ªÅu ki·ªán ti·∫øp</li>\n<li>V√† gi·ªù ƒë√¢y ƒëo·∫°n code c·ªßa b·∫°n kh√¥ng c√≤n d·ªÖ maintain, n√≥i th·∫≥ng ra l√† m·ªôt ƒë·ªëng h·∫ßm b√† l·∫±ng kh√≥ nu·ªët</li>\n<li>Ch√∫c m·ª´ng, b·∫°n ƒë√£ b·ªã over engineer v√† g√¢y ra m·ªôt abstract qu√° ƒë·ªói ph·ª©c t·∫°p</li>\n</ol>\n<p>V·∫≠y th√¨ sao? H√£y th·ª≠ WET (Write everything twice)</p>\n<h2 id=\"wet\"><a href=\"#wet\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>WET</h2>\n<p>Nh∆∞ c√°ch ch∆°i ch·ªØ ƒë√£ th·ªÉ hi·ªán, n√≥ l√† tr∆∞·ªùng ph√°i ƒë·ªëi ngh·ªãch ho√†n to√†n v·ªõi DRY, khi b·∫Øt ƒë·∫ßu vi·∫øt code, b·∫°n s·∫Ω kh√¥ng th·ªÉ n√†o l∆∞·ªùng tr∆∞·ªõc ƒë∆∞·ª£c m·ªçi y√™u c·∫ßu, m·ªçi t√≠nh nƒÉng. V√¨ th·∫ø ƒë·ª´ng v·ªôi v√†ng √°p d·ª•ng abstraction</p>\n<p>B·∫°n h√£y nh·ªõ</p>\n<blockquote>\n<p>C√°i gi√° ph·∫£i tr·∫£ cho duplicate v·∫´n r·∫ª h∆°n nhi·ªÅu cho m·ªôt abstract vi·∫øt sai</p>\n</blockquote>\n<p>V√≠ d·ª• b·∫°n vi·∫øt m·ªôt ·ª©ng d·ª•ng, b·∫°n d·ª±ng ra m·ªôt component t√™n <code class=\"language-inline-text\">Button</code> ƒë·ªÉ s·ª≠ d·ª•ng nhi·ªÅu n∆°i, nghe r·∫•t h·ª£p l√Ω. M·ªôt y√™u c·∫ßu m·ªõi xu·∫•t hi·ªán, ·ªü trang landing page h·ªç mu·ªën c√≥ m·ªôt n√∫t b·∫•m r·∫•t <em>fancy</em> v√† kh√¥ng gi·ªëng v·ªõi t·∫•t c·∫£ nh·ªØng n√∫t b·∫•m tr∆∞·ªõc ƒë√¢y.</p>\n<p>Ok, thay ƒë·ªïi c≈©ng nh·ªè th√¥i, ch·ªâ c·∫ßn th√™m t√≠ ƒëi·ªÅu ki·ªán <code class=\"language-inline-text\">if...else</code>, 90% ph·∫ßn code l√† c·ªßa <code class=\"language-inline-text\">Button</code> v√† 10% code l√† c·ªßa <code class=\"language-inline-text\">FancyButton</code></p>\n<p>S·ª± th·∫≠t ƒë√°ng bu·ªìn l√† s·∫Ω c√≥ r·∫•t nhi·ªÅu nh·ªØng thay ƒë·ªïi nh∆∞ th·∫ø xu·∫•t hi·ªán v√† kh·∫£ nƒÉng r·∫•t cao l√† b·∫°n kh√¥ng ƒë·ªß kinh nghi·ªám ƒë·ªÉ c√≥ hi·ªán th·ª±c nh·ªØng abstraction ƒë·ªß d·ªÖ hi·ªÉu, d·ªÖ maintain.</p>\n<p>L·ªùi khuy√™n? <strong>Copy copy code ƒë√≥ ra, ƒë·ª´ng ng·∫ßn ng·∫°i</strong></p>\n<p>B·∫°n th·∫•y quan ƒëi·ªÉm c·ªßa m√¨nh <em>b·∫≠y qu√° b·∫≠y!</em>, b·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m quan ƒëi·ªÉm c·ªßa Dan Abramov</p>\n<p><a href=\"https://overreacted.io/the-wet-codebase/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The WET Codebase</a></p>\n<blockquote>\n<p>In this talk, my aim was to show why strict adherence to writing code that is free of duplication inevitably leads to software we can‚Äôt understand</p>\n</blockquote>\n<p>T·∫°m d·ªãch, tu√¢n th·ªß nghi√™m ng·∫∑c quy t·∫Øc DRY s·∫Ω d·∫´n ƒë·∫øn m·ªôt ph·∫ßn m·ªÅm m√† ch√∫ng ta kh√¥ng hi·ªÉu n·ªïi n√≥.</p>\n<p><a href=\"https://www.deconstructconf.com/2019/dan-abramov-the-wet-codebase\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Watch: The Wet Codebase</a></p>\n<p><a href=\"https://dev.to/bulljsdev/when-dry-doesn-t-work-go-wet-4536\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">When DRY Doesn't Work, Go WET - T√°c gi·∫£ Nick Bull JS</a></p>\n","cover_image":""}},{"node":{"id":"3468f54867fa0926e25df8a607bbfd7e","title":"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript","path":"/2020-08-19-tim-hieu-cac-thuat-toan-sap-xep-va-hien-thuc-bang-javascript/","date":"2020-08-19","timeToRead":5,"desc":"Ch√∫ng ta s·∫Ω ƒëi·ªÉm qua c√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn ƒë∆∞·ª£c h·ªçc trong tr∆∞·ªùng v√† hi·ªán th·ª±c n√≥ b·∫±ng JavaScript","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#bubble-sort\">Bubble Sort</a></li>\n<li><a href=\"#selection-sort\">Selection Sort</a></li>\n<li><a href=\"#insertion-sort\">Insertion Sort</a></li>\n<li><a href=\"#merge-sort\">Merge Sort</a></li>\n<li><a href=\"#quick-sort\">Quick sort</a></li>\n<li><a href=\"#bucket-sort\">Bucket Sort</a></li>\n</ul>\n<!-- /TOC -->\n<p>Ch√∫ng ta s·∫Ω hi·ªán th·ª±c c√°c thu·∫≠t to√°n n√†y b·∫±ng JavaScript.</p>\n<p>H√†m helper ƒë·ªÉ swap gi√° tr·ªã</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> temp <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  arr<span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>b<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  arr<span class=\"token punctuation\">[</span>b<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> temp<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>H√†m ƒë·ªÉ so s√°nh gi√° tr·ªã</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> Compare <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">LESS_THAN</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">BIGGER_THAN</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">defaultCompare</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>a <span class=\"token operator\">===</span> b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> a <span class=\"token operator\">&lt;</span> b <span class=\"token operator\">?</span> Compare<span class=\"token punctuation\">.</span><span class=\"token constant\">LESS_THAN</span> <span class=\"token operator\">:</span> Compare<span class=\"token punctuation\">.</span><span class=\"token constant\">BIGGER_THAN</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"bubble-sort\"><a href=\"#bubble-sort\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Bubble Sort</h2>\n<ul>\n<li>T√¨nh hu·ªëng t·ªët nh·∫•t: ƒë·ªô ph·ª©c t·∫°p = <code class=\"language-inline-text\">O(N)</code> (ƒëi qua ƒë√∫ng n ph·∫ßn t·ª≠)</li>\n<li>T√¨nh hu·ªëng x·∫•u nh·∫•t: ƒë·ªô ph·ª©c t·∫°p = <code class=\"language-inline-text\">O(N^2)</code> (ƒëi qua n m≈© 2 ph·∫ßn t·ª≠)</li>\n</ul>\n<p>C√°i n√†y r·∫•t √≠t x√†i trong th·ª±c t·∫ø, ch·ªâ ƒë·ªÉ d·∫°y v√† h·ªçc, v√¨ n√≥ ch·∫≠m nh·∫•t so v·ªõi c√°c thu·∫≠t to√°n kh√°c.</p>\n<p>√ù t∆∞·ªüng l√† s·∫Ω so s√°nh 2 ph·∫ßn t·ª≠ li·ªÅn k·ªÅ, ho√°n ƒë·ªïi v·ªã tr√≠ cho ph√π h·ª£p</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--C0CI1OCj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/ubhywp9xh8zk6on4caql.gif\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">bubbleSort</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> compare <span class=\"token operator\">=</span> defaultCompare</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> length <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> length <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">-</span> i<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// refer to note below</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> Compare<span class=\"token punctuation\">.</span><span class=\"token constant\">BIGGER_THAN</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> j<span class=\"token punctuation\">,</span> j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒê·ªÉ h√¨nh dung thu·∫≠t to√°n n√†y, b·∫°n c√≥ th·ªÉ nghi√™n c·ª©u c√°i h√¨nh m√¥ t·∫£ b√™n d∆∞·ªõi</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--AIAlZIhq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/euz62qdpc74m9w4gcg09.png\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<h2 id=\"selection-sort\"><a href=\"#selection-sort\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Selection Sort</h2>\n<p>Kh√¥ng ph√¢n bi·ªát t√≠nh hu·ªëng t·ªët hay x·∫•u g√¨ c·∫£, n√≥ lu√¥n c√≥ ƒë·ªô ph·ª©c t·∫°p = <code class=\"language-inline-text\">O(N^2)</code></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--musoV4Rk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/vweh1mcmiap8q3onqxz8.gif\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<p>√ù t∆∞·ªüng c·ªßa thu·∫≠t to√°n l√† t√¨m ra gi√° tr·ªã nh·ªè nh·∫•t trong ƒë√°m, r·ªìi ƒë∆∞a n√≥ v·ªÅ v·ªã tr√≠ ƒë·∫ßu ti√™n, l·∫∑p l·∫°i cho c√°c ph·∫ßn t·ª≠ k·∫ø ti·∫øp.</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--wJDCsONw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/mbzjewb2l897eiidkr14.gif\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">selectionSort</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> compare <span class=\"token operator\">=</span> defaultCompare</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> length <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> minIndex<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    minIndex <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>minIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> Compare<span class=\"token punctuation\">.</span><span class=\"token constant\">BIGGER_THAN</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        minIndex <span class=\"token operator\">=</span> j<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">!==</span> minIndex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">,</span> minIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--992IFucj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/43gibzc1hne0ie73cmp1.png\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<h2 id=\"insertion-sort\"><a href=\"#insertion-sort\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Insertion Sort</h2>\n<ul>\n<li>T√¨nh hu·ªëng t·ªët nh·∫•t: ƒë·ªô ph·ª©c t·∫°p = <code class=\"language-inline-text\">O(N)</code></li>\n<li>T√¨nh hu·ªëng x·∫•u nh·∫•t: ƒë·ªô ph·ª©c t·∫°p = <code class=\"language-inline-text\">O(N^2)</code></li>\n</ul>\n<p>Thu·∫≠t to√°n n√†y n√≥ s·∫Ω t·∫°o ra m·∫£ng m·ªõi, t√¨m v√† ch√®n t·ª´ng ph·∫ßn t·ª≠ m·ªôt v√†o ƒë√∫ng th·ª© t·ª±. S·∫Ω nh∆∞ sau</p>\n<ol>\n<li>C·ª© coi nh∆∞ ph·∫ßn t·ª≠ ƒë·∫ßu ti√™n l√† ƒë√∫ng v·ªã tr√≠</li>\n<li>L·∫•y ph·∫ßn t·ª≠ ƒë·∫ßu ti√™n n√†y so s√°nh v·ªõi ph·∫ßn t·ª≠ ti·∫øp theo, n√≥ c√≥ 2 t√¨nh hu·ªëng m·ªôt l√† ·ªü y√™n v·ªã tr√≠ ƒëang ·ªü, hay l√† ch√∫ng ta ch√®n ph·∫ßn t·ª≠ th·ª© 2 v√†o tr∆∞·ªõc ph·∫ßn t·ª≠ ƒë·∫ßu.</li>\n<li>L·∫∑p l·∫°i t∆∞∆°ng t·ª±</li>\n</ol>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s---bIcRugF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/osft7ojymgp8jroekxxu.gif\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">insertionSort</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> compare <span class=\"token operator\">=</span> defaultCompare</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> length <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> temp<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n    temp <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>j <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> temp<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> Compare<span class=\"token punctuation\">.</span><span class=\"token constant\">BIGGER_THAN</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>j <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      j<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> temp<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--98gGOQtF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/kdcqz1o3weeqjxwcdfpq.png\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<h2 id=\"merge-sort\"><a href=\"#merge-sort\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Merge Sort</h2>\n<p>ƒê·ªô ph·ª©c t·∫°p c·ªë ƒë·ªãnh: <code class=\"language-inline-text\">O(N Log N)</code></p>\n<p>L√† thu·∫≠t to√°n chia ƒë·ªÉ tr·ªã, chi nh·ªè c√°c ph·∫ßn t·ª≠ ban ƒë·∫ßu ra th√†nh c√°c nh√≥m nh·ªè h∆°n ƒë·ªÉ d·ªÉ x·ª≠ l√Ω t·ª´ng c·ª•m</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--A-kq2byS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/xokw1fxci67ttscu23vy.gif\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">mergeSort</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> compare <span class=\"token operator\">=</span> defaultCompare</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> length <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> middle <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>length <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> left <span class=\"token operator\">=</span> <span class=\"token function\">mergeSort</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> middle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> compare<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> right <span class=\"token operator\">=</span> <span class=\"token function\">mergeSort</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>middle<span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> compare<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    arr <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">,</span> compare<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">,</span> compare</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> left<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&amp;&amp;</span> j <span class=\"token operator\">&lt;</span> right<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    result<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> Compare<span class=\"token punctuation\">.</span><span class=\"token constant\">LESS_THAN</span> <span class=\"token operator\">?</span> left<span class=\"token punctuation\">[</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> right<span class=\"token punctuation\">[</span>j<span class=\"token operator\">++</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> left<span class=\"token punctuation\">.</span>length <span class=\"token operator\">?</span> left<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> right<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span>j<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--iTGTEOAp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/bowug91fuof69su39fwd.png\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<h2 id=\"quick-sort\"><a href=\"#quick-sort\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Quick sort</h2>\n<ul>\n<li>T√¨nh hu·ªëng t·ªët nh·∫•t: ƒë·ªô ph·ª©c t·∫°p = <code class=\"language-inline-text\">O(N Log N)</code></li>\n<li>T√¨nh hu·ªëng x·∫•u nh·∫•t: ƒë·ªô ph·ª©c t·∫°p = <code class=\"language-inline-text\">O(N^2)</code></li>\n</ul>\n<p>ƒê√¢y l√† thu·∫≠t to√°n ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu nh·∫•t, v·∫´n l√† ph∆∞∆°ng ph√°p chia ƒë·ªÉ tr·ªã</p>\n<p>C√≥ th·ªÉ xem l·∫°i b√†i <a href=\"http://vuilaptrinh.com/2019-11-02-gioi-thieu-thuat-toan-quicksort\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gi·ªõi thi·ªáu v·ªÅ Quick Sort c·ªßa m√¨nh</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--5nmg3LKx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/vo2ltivrpucxtoamvdeb.gif\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> compare <span class=\"token operator\">=</span> defaultCompare</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">quick</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> compare<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">quick</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">,</span> compare</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> i<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    i <span class=\"token operator\">=</span> <span class=\"token function\">partition</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">,</span> compare<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>left <span class=\"token operator\">&lt;</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">quick</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> compare<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> right<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">quick</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">,</span> compare<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">partition</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">,</span> compare</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> pivot <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>right<span class=\"token punctuation\">,</span> left<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> left<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> right<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;=</span> j<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> pivot<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> Compare<span class=\"token punctuation\">.</span><span class=\"token constant\">LESS_THAN</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> pivot<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> Compare<span class=\"token punctuation\">.</span><span class=\"token constant\">BIGGER_THAN</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      j<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;=</span> j<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">,</span> j<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n      j<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> i<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"bucket-sort\"><a href=\"#bucket-sort\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Bucket Sort</h2>\n<ul>\n<li>T√¨nh hu·ªëng t·ªët nh·∫•t: ƒë·ªô ph·ª©c t·∫°p = <code class=\"language-inline-text\">O(N + k)</code></li>\n<li>T√¨nh hu·ªëng x·∫•u nh·∫•t: ƒë·ªô ph·ª©c t·∫°p = <code class=\"language-inline-text\">O(N^2)</code></li>\n</ul>\n<p>√ù t∆∞·ªüng l√† s·∫Ω chia ƒë√¥i th√†nh 2 m·∫£ng, r·ªìi tr√™n t·ª´ng m·∫£ng ƒë√≥, √°p d·ª•ng m·ªôt thu·∫≠t to√°n s·∫Øp x·∫øp tr√™n ƒë√≥, nh∆∞ insertion sort</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--c3E8lx6w--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/vdv48hfw2oomr5r3myc0.gif\" alt=\"C√°c thu·∫≠t to√°n s·∫Øp x·∫øp ph·ªï bi·∫øn v√† JavaScript\"></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">bucketSort</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> bucketSize</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// create buckets and distribute the elements</span>\n  <span class=\"token keyword\">const</span> buckets <span class=\"token operator\">=</span> <span class=\"token function\">createBuckets</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> bucketSize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// sort the buckets using insertion sort and add all bucket elements to sorted result</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">sortBuckets</span><span class=\"token punctuation\">(</span>buckets<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">createBuckets</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> bucketSize</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// determine the bucket count</span>\n  <span class=\"token keyword\">let</span> min <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> max <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> min<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      min <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> max<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      max <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">const</span> bucketCount <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>max <span class=\"token operator\">-</span> min<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> bucketSize<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// initialize each bucket (a multidimensional array)</span>\n  <span class=\"token keyword\">const</span> buckets <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> bucketCount<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    buckets<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// distribute elements into buckets</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> bucketIndex <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> min<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> bucketSize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    buckets<span class=\"token punctuation\">[</span>bucketIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> buckets<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">sortBuckets</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">buckets</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> sortedArr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> buckets<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>buckets<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">insertionSort</span><span class=\"token punctuation\">(</span>buckets<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// quick sort is another good option</span>\n      sortedArr<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>buckets<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> sortedArr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>L∆∞u √Ω bucket sort ch·∫°y t·ªët nh·∫•t khi c√≥ th·ªÉ chia ƒë·ªÅu c√°c ph·∫ßn t·ª≠ cho c√°c bucket, vi·ªác chia th√†nh 2 bucket c≈©ng kh√¥ng b·∫Øt bu·ªôc, c√≥ th·ªÉ chia nhi·ªÅu h∆°n n·∫øu s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ nhi·ªÅu</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--OCRlBcCM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/m10o9xkwmpyllvarra5g.png\"></p>\n<p><a href=\"https://dev.to/christinamcmahon/common-sorting-algorithms-in-javascript-58a7\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Common Sorting Algorithms in JavaScript</a></p>\n<p><a href=\"https://www.bigocheatsheet.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Know Thy Complexities!</a></p>\n","cover_image":""}},{"node":{"id":"f2e054fcf720c1bbfd96b1f9aaeb9983","title":"Gi·ªõi thi·ªáu functional programming trong JavaScript","path":"/2020-08-16-tim-hieu-functional-programming/","date":"2020-08-16","timeToRead":5,"desc":"Functional programming l√† m·ªôt topic r·∫•t chi quen thu·ªôc trong c·ªông ƒë·ªìng JS, c√°c b·∫°n c√≥ bi·∫øt t·∫°i sao m·ªçi ng∆∞·ªùi l·∫°i hype v·ªõi n√≥? T·∫°i sao m·ªçi ng∆∞·ªùi l·∫°i quay l∆∞ng v·ªõi Object oriented","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#functional-programming-l%C3%A0-g%C3%AC--d%C3%A2n-t%C3%ACnh-hay-vi%E1%BA%BFt-t%E1%BA%AFt-l%C3%A0-fp\">Functional Programming l√† g√¨ ? (d√¢n t√¨nh hay vi·∫øt t·∫Øt l√† FP)</a></li>\n<li><a href=\"#t%E1%BA%A1i-sao-l%E1%BA%A1i-s%E1%BB%AD-d%E1%BB%A5ng-fp\">T·∫°i sao l·∫°i s·ª≠ d·ª•ng FP?</a></li>\n<li><a href=\"#t%E1%BA%A1i-sao-l%E1%BA%A1i-s%E1%BB%AD-d%E1%BB%A5ng-fp-v%E1%BB%9Bi-javascript\">T·∫°i sao l·∫°i s·ª≠ d·ª•ng FP v·ªõi JavaScript?</a></li>\n<li><a href=\"#vi%E1%BA%BFt-fp-nh%C6%B0-th%E1%BA%BF-n%C3%A0o\">Vi·∫øt FP nh∆∞ th·∫ø n√†o?</a></li>\n<li><a href=\"#t%C3%A0i-li%E1%BB%87u-tham-kh%E1%BA%A3o\">T√†i li·ªáu tham kh·∫£o</a></li>\n</ul>\n<!-- /TOC -->\n<p>Functional Programming ? L√† c√°i g√¨? T·∫°i sao d√πng? D√πng nh∆∞ th·∫ø n√†o?</p>\n<p>C√°c b·∫°n c√≥ t·ª´ng <em>ho·∫£ng lo·∫°n</em> nh∆∞ m√¨nh khi ph·∫£i nghe h√†ng lo·∫°t thu·∫≠t ng·ªØ sau kh√¥ng</p>\n<blockquote>\n<p>stateless, compose, pure, side effect, ramda, lazy, immuable, curry, functor, monad, monoid, higher-order, referential transparency</p>\n</blockquote>\n<h2 id=\"functional-programming-l√†-g√¨--d√¢n-t√¨nh-hay-vi·∫øt-t·∫Øt-l√†-fp\"><a href=\"#functional-programming-l%C3%A0-g%C3%AC--d%C3%A2n-t%C3%ACnh-hay-vi%E1%BA%BFt-t%E1%BA%AFt-l%C3%A0-fp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Functional Programming l√† g√¨ ? (d√¢n t√¨nh hay vi·∫øt t·∫Øt l√† FP)</h2>\n<p>Functional Programming n√≥ l√† m·ªôt thu·∫≠t ng·ªØ m√† hi·ªÉu theo ki·ªÉu b√¨nh d√¢n l√† m·ªôt <strong>style</strong>-phong c√°ch-ki·ªÉu vi·∫øt code.</p>\n<p>Khi n√≥i ƒë·∫øn <strong>style</strong> th√¨ b·∫Øt bu·ªôc ph·∫£i c√≥ m·ªôt s·ªë ƒë·∫∑c th√π nh·∫•t ƒë·ªãnh ƒë·ªÉ ph√¢n bi·ªát v·ªõi c√°c <strong>style</strong> kh√°c. Ch√∫t n·ªØa s·∫Ω n√≥i c·ª• th·ªÉ.</p>\n<p>Kh√¥ng ch·ªâ c√≥ JS m√† m·ªôt s·ªë ng√¥n ng·ªØ l·∫≠p tr√¨nh kh√°c c≈©ng h·ªó tr·ª£ <em>style</em> n√†y</p>\n<ul>\n<li>F#</li>\n<li>Haskell</li>\n<li>Erlang</li>\n<li>JS ( t·∫•t nhi√™n )</li>\n<li>Elm</li>\n<li>Scala</li>\n<li>Ocaml</li>\n<li>Clojure</li>\n</ul>\n<p>Ngo√†i tr∆∞·ªõc FP, n·∫øu c√°c b·∫°n h·ªçc c√πng th·ªùi v·ªõi m√¨nh th√¨ s·∫Ω ƒë∆∞·ª£c d·∫°y Object Oriented <em>Programming</em></p>\n<p>M·ªôt thu·∫≠t ng·ªØ c√°c b·∫°n c≈©ng s·∫Ω hay g·∫∑p l√† <strong>programming paradigm</strong>, c√≥ th·ªÉ hi·ªÉu <em>b√¨nh d√¢n</em> l√† <strong>c√°ch ch√∫ng ta nh√¨n nh·∫≠n m·ªçi th·ª© v·∫≠n h√†nh</strong>, c√°ch m√† ch∆∞∆°ng tr√¨nh s·∫Ω k·∫øt n·ªëi v√† ho·∫°t ƒë·ªông v·ªõi nhau (<strong>mindset</strong> n·∫øu mu·ªën d√πng thu·∫≠t ng·ªØ hoa m·ªπ)</p>\n<p>M·ªôt s·ªë <em>programming paradigm</em>  li√™n quan</p>\n<table>\n<thead>\n<tr>\n<th>Nh√≥m 1</th>\n<th>Nh√≥m 2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Imperative</strong>: t·∫≠p c√°c l·ªánh ƒë∆∞·ª£c ƒë∆∞a ra theo th·ª© t·ª± c·ªë ƒë·ªãnh</td>\n<td><strong>Declarative</strong>: tui mu·ªën c√°i n√†y, b·∫°n l√†m sao ƒë∆∞a ra k·∫øt qu·∫£ nh∆∞ mong mu·ªën</td>\n</tr>\n<tr>\n<td><strong>Object-Oriented</strong>: imperative cool, nh∆∞ng n·∫øu c√≥ nhi·ªÅu state v√† ph·∫£i qu·∫£n l√Ω to√†n b·ªô n√≥, h√£y chia n√≥ ra th√†nh t·ª´ng <strong>object</strong> l√†m nhi·ªám v·ª• qu·∫£n l√Ω <code class=\"language-inline-text\">state</code> n√†y v√† ch∆∞∆°ng tr√¨nh l√† s·ª± k·∫øt h·ª£p c√°c object <strong>truy·ªÅn/nh·∫≠n</strong> th√¥ng tin</td>\n<td><strong>Functional</strong>: m·ªôt d·∫°ng sub-paradigm (con c√πng cha ch√∫) v·ªõi declarative</td>\n</tr>\n</tbody>\n</table>\n<p>√ù t∆∞·ªüng FP kh√¥ng qua cao si√™u, ch·ªâ g√≥i g·ªçn trong m·ªôt c√¢u</p>\n<blockquote>\n<p>Pure Function: ch·ªâ ph·ª• thu·ªôc v√†o input truy·ªÅn v√†o, ch·ªâ tr·∫£ v·ªÅ output kh√¥ng l√†m g√¨ kh√°c c·∫£</p>\n</blockquote>\n<p>V√≠ d·ª•, m·ªôt function nh∆∞ th·∫ø n√†y kh√¥ng ƒë∆∞·ª£c xem l√† Pure Function</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"Andy\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, \"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\"!\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Hello, Andy!</span>\n\nname <span class=\"token operator\">=</span> <span class=\"token string\">\"luckyluu\"</span>\n<span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Hello, luckyluu!</span></code></pre></div>\n<p>N√≥ vi ph·∫°m 2 nguy√™n t·∫Øc, m·ªôt l√† ph·ª• thu·ªôc v√†o m·ªôt bi·∫øn b√™n ngo√†i, 2 l√† n√≥ kh√¥ng tr·∫£ v·ªÅ m√† l√†m thay ƒë·ªïi m·ªôt <strong>th·ª©</strong> b√™n ngo√†i (·ªü ƒë√¢y l√† log ra m·ªôt gi√° tr·ªã).</p>\n<h2 id=\"t·∫°i-sao-l·∫°i-s·ª≠-d·ª•ng-fp\"><a href=\"#t%E1%BA%A1i-sao-l%E1%BA%A1i-s%E1%BB%AD-d%E1%BB%A5ng-fp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·∫°i sao l·∫°i s·ª≠ d·ª•ng FP?</h2>\n<p><strong>Predictable/Safer</strong></p>\n<p>Ch√∫ng ta c√≥ th·ªÉ ho√†n to√†n tin t∆∞·ªüng v√†o pure function, n√≥ ch·ªâ l√†m ƒë√∫ng vi·ªác c·∫ßn l√†m v√† kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn h√†ng x√≥m. Ch·∫Øc ch·∫Øn l√† √≠t c√≥ nh·ªØng c√≥ bug m√† ai c≈©ng kh√¥ng ng·ªù t·ªõi</p>\n<p><strong>D·ªÖ test/debug</strong></p>\n<p>Nh·ªØng g√¨ b·∫°n c·∫ßn test tr√™n m·ªôt Pure Function l√† ƒë∆∞a v√†o input v√† ki·ªÉm tra output. V√≠ d·ª• m√† b·∫°n nh·∫≠n ƒë∆∞·ª£c m·ªôt output sai, ki·ªÉm tra input ƒë√£ ƒë√∫ng h·∫øt th√¨ b·∫°n s·∫Ω bi·∫øt ngay v·∫•n ƒë·ªÅ n·∫±m ·ªü trong function ƒë√≥, h√£y nh·ªõ Pure Function ch·ªâ ph·ª• thu·ªôc v√†o input, kh√¥ng c√≥ side effect th√¨ l√†m g√¨ ƒë·ªï l·ªói ƒë∆∞·ª£c.</p>\n<blockquote>\n<p>Ngo√†i ra theo quan ƒëi·ªÉm c√° nh√¢n th√¨ vi·ªác s·ª≠ d·ª•ng FP c≈©ng gi√∫p ch√∫ng ta copy-paste code gi·ªØa nhi·ªÅu d·ª± √°n d·ªÖ d√†ng h∆°n</p>\n</blockquote>\n<p>C√≤n n·∫øu b·∫°n ƒëang s·ª≠ d·ª•ng FP v√¨ nh·ªØng l√Ω do sau, th√¨ m√¨nh khuy√™n b·∫°n kh√¥ng n√™n tin v√†o ƒëi·ªÅu n√†y</p>\n<ul>\n<li>Nh·ªØng ng∆∞·ªùi s·ª≠ d·ª•ng FP tr√¥ng cool/ng·∫ßu h∆°n nh·ªØng ng∆∞·ªùi ti·ªÅn b·ªëi s·ª≠ d·ª•ng Object Oriented</li>\n<li>ƒê√¢y l√† paradigm x·ªãn s√≤ nh·∫•t ·ªü th√¨ hi·ªán t·∫°i</li>\n</ul>\n<p><strong>N√≥i chung FP c≈©ng ch·ªâ l√† m·ªôt trong nh·ªØng paradigm trong l·∫≠p tr√¨nh, s·∫Ω c√≥ ƒëi·ªÉm m·∫°nh v√† ƒëi·ªÉm y·∫øu ri√™ng.</strong></p>\n<h2 id=\"t·∫°i-sao-l·∫°i-s·ª≠-d·ª•ng-fp-v·ªõi-javascript\"><a href=\"#t%E1%BA%A1i-sao-l%E1%BA%A1i-s%E1%BB%AD-d%E1%BB%A5ng-fp-v%E1%BB%9Bi-javascript\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·∫°i sao l·∫°i s·ª≠ d·ª•ng FP v·ªõi JavaScript?</h2>\n<p>Khi b·∫Øt ƒë·∫ßu h·ªçc v√† s·ª≠ d·ª•ng JS ƒë·ªÉ vi·∫øt object-oriented ch√∫ng ta ƒë·ªÅu nh·∫≠n ra m·ªôt ƒëi·ªÅu r·∫±ng: JS kh√¥ng ph·∫£i sinh ra ƒë·ªÉ vi·∫øt object-oriented.</p>\n<p>B·∫°n s·∫Ω th·∫•y nhan nh·∫£n c√°c c√¢u h·ªèi tricky trong JavaScript v·ªÅ <code class=\"language-inline-text\">prototype</code> , <code class=\"language-inline-text\">this</code> trong c√°c bu·ªïi ph·ªèng v·∫•n, qua chi l√† kh√≥ ƒë·ªÉ l√†m vi·ªác v√† hi·ªÉu ƒë∆∞·ª£c th·ª±c nh·ªØng th·ª© nh∆∞ v·∫≠y trong javascript, ch√∫ng ta s·∫Ω k·ª≥ v·ªçng n√≥ l√†m vi·ªác nh∆∞ th·∫ø n√†y, nh∆∞ng JS l·∫°i kh√¥ng l√†m nh∆∞ ch√∫ng nghƒ©.</p>\n<blockquote>\n<p> ƒê√£ bao nhi√™u l·∫ßn b·∫°n b·ªã d√≠nh bug li√™n quan t·ªõi <code class=\"language-inline-text\">this</code></p>\n</blockquote>\n<p>D√π cho b·∫°n l√† chuy√™n gia l·∫≠p tr√¨nh c·∫•p cao, ch·∫Øc c≈©ng bao l·∫ßn m·ªát m·ªèi v·ªõi <code class=\"language-inline-text\">this</code></p>\n<p>V√† n·∫øu b·∫°n s·ª≠ d·ª•ng FP m·ªçi th·ª© nh·ª©c ƒë·∫ßu ƒë√≥ s·∫Ω kh√¥ng c√≤n l√† v·∫•n ƒë·ªÅ quan t√¢m.</p>\n<p>Ngo√†i ra c√≥ kh√° nhi·ªÅu th∆∞ vi·ªán/c√¥ng c·ª• trong c·ªông ƒë·ªìng javascript x√¢y <em>s·∫µn</em> ƒë·ªÉ ch√∫ng ta x√†o m√≥n FP n√†y nhanh nh·∫•t c√≥ th·ªÉ</p>\n<h2 id=\"vi·∫øt-fp-nh∆∞-th·∫ø-n√†o\"><a href=\"#vi%E1%BA%BFt-fp-nh%C6%B0-th%E1%BA%BF-n%C3%A0o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Vi·∫øt FP nh∆∞ th·∫ø n√†o?</h2>\n<p>M√¨nh ƒë√£ c√≥ 2 b√†i vi·∫øt cho ch·ªß ƒë·ªÅ n√†y, c√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc l·∫°i</p>\n<p><a href=\"http://vuilaptrinh.com/2019-07-26-nguyen-ly-chung-cua-lap-trinh-huong-function\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Nguy√™n l√Ω n·ªÅn t·∫£ng c·ªßa l·∫≠p tr√¨nh function</a></p>\n<p><a href=\"http://vuilaptrinh.com/2020-05-17-functional-programing-nen-va-khong-nen/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Functional programing n√™n v√† kh√¥ng n√™n</a></p>\n<p>M·ªôt s·ªë th∆∞ vi·ªán ƒë·ªÉ b·∫°n vi·∫øt FP m·ªôt c√°ch g·ªçn g√†n, s·∫°ch s·∫Ω, th∆°m tho</p>\n<ul>\n<li>Mori: <a href=\"https://github.com/swannodette/mori\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/swannodette/mori</a></li>\n<li>Immutable.js: <a href=\"https://github.com/immutable-js/immutable-js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/immutable-js/immutable-js</a></li>\n<li>Ramda: <a href=\"https://github.com/ramda/ramda\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/ramda/ramda</a></li>\n<li>Underscore: <a href=\"https://github.com/jashkenas/underscore\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/jashkenas/underscore</a></li>\n<li>Lodash: <a href=\"https://github.com/lodash/lodash\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/lodash/lodash</a></li>\n<li>Nhi·ªÅu l·∫Øm</li>\n</ul>\n<h2 id=\"t√†i-li·ªáu-tham-kh·∫£o\"><a href=\"#t%C3%A0i-li%E1%BB%87u-tham-kh%E1%BA%A3o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T√†i li·ªáu tham kh·∫£o</h2>\n<p><a href=\"https://codewords.recurse.com/issues/one/an-introduction-to-functional-programming\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://codewords.recurse.com/issues/one/an-introduction-to-functional-programming</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=qtsbZarFzm8&#x26;list=WL&#x26;index=7&#x26;t=0s\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=qtsbZarFzm8&#x26;list=WL&#x26;index=7&#x26;t=0s</a></p>\n","cover_image":""}},{"node":{"id":"6bffc82be2bf89ba3f7caa6f3c3cd854","title":"Yaml cho web developer","path":"/2020-08-05-gioi-thieu-yaml-cho-nguoi-moi-bat-dau/","date":"2020-08-05","timeToRead":4,"desc":"D·∫°o g·∫ßn ƒë√¢y, n·∫øu b·∫°n l√† Front End developer ch·∫Øc s·∫Ω g·∫∑p nhi·ªÅu ƒë·∫øn file c√≥ ƒëu√¥i .yml ( v√≠ d·ª• nh∆∞ .gitlab-ci.yml). N·∫øu b·∫°n ch∆∞a bi·∫øt ki·ªÉu file n√†y, th√¨ b√†i n√†y m√¨nh s·∫Ω gi·ªõi thi·ªáu t√∫m l∆∞·ª£c ƒë·ªÉ b·∫°n l√†m quen.","content":"<p>File n√†y ƒë∆∞·ª£c d√πng kh√° nhi·ªÅu cho vi·ªác thi·∫øt ƒë·∫∑t v√† c·∫•u h√¨nh. M√† nhi·ªÅu nh·∫•t l√† d√πng cho c√°c thi·∫øt ƒë·∫∑t CI/CD. Ng√†y x∆∞a, khi ch∆∞a c√≥ Yaml, sau khi qu√° m·ªát m·ªèi v·ªõi vi·ªác m·ªói ng∆∞·ªùi m·ªói √Ω trong vi·ªác vi·∫øt file c·∫•u h√¨nh, n·ªï ra c√°i √Ω t∆∞·ªüng h·ªìi nƒÉm 2001</p>\n<blockquote>\n<p>Gi·ªù sao ch√∫ng ta kh√¥ng t·∫°o ra m·ªôt file c·∫•u h√¨nh gi·ªëng nh∆∞ ch·ªâ d·∫´n n·∫•u ƒÉn, ch·ªØ th√¥i, c·ª±c k·ª≥ d·ªÖ hi·ªÉu</p>\n</blockquote>\n<p>Yaml c≈©ng l√† m·ªôt d·∫°ng superset c·ªßa ng∆∞·ªùi anh em JSON.</p>\n<blockquote>\n<p>Superset l√† m·ªôt ng√¥n ng·ªØ ch·ª©a t·∫•t c·∫£ feature c·ªßa m·ªôt ng√¥n ng·ªØ, r·ªìi m·ªü r·ªông th√™m m·ªôt s·ªë th·ª© n·ªØa</p>\n</blockquote>\n<p>V√≠ d·ª• nh∆∞ TypeScript l√† superset c·ªßa Javascript</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"module\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"system\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"noImplicitAny\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"removeComments\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"preserveConstEnums\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"outFile\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../../built/local/tsc.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sourceMap\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"types\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"node\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"lodash\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"express\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src/**/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"exclude\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"node_modules\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"**/*.spec.ts\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>File JSON kh√¥ng qu√° kh√≥ ƒë·ªçc, tuy nhi√™n l·∫°i v∆∞·ªõng m·ªôt v√†i h·∫°n ch·∫ø:</p>\n<ol>\n<li>Kh√¥ng d√πng bi·∫øn ƒë∆∞·ª£c</li>\n<li>Kh√¥ng d√πng bi·∫øn m√¥i tr∆∞·ªùng ƒë∆∞·ª£c</li>\n<li>Kh√¥ng th·ªÉ override value</li>\n</ol>\n<p>YAML s·∫Ω gi√∫p ta l√†m ƒë∆∞·ª£c nh·ªØng ƒëi·ªÅu ch∆∞a l√†m ƒë∆∞·ª£c ·ªü json</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">compilerOptions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">module</span><span class=\"token punctuation\">:</span> system\n  <span class=\"token key atrule\">noImplicitAny</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">removeComments</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">preserveConstEnums</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">outFile</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"../../built/local/tsc.js\"</span>\n  <span class=\"token key atrule\">sourceMap</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> node\n    <span class=\"token punctuation\">-</span> lodash\n    <span class=\"token punctuation\">-</span> express\n<span class=\"token key atrule\">include</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> src/<span class=\"token important\">**/*</span>\n<span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> node_modules\n  <span class=\"token punctuation\">-</span> <span class=\"token string\">\"**/*.spec.ts\"</span></code></pre></div>\n<p><em>l∆∞u √Ω ƒë√¢y ch·ªâ l√† v√≠ d·ª•, b·∫°n kh√¥ng th·ªÉ vi·∫øt <code class=\"language-inline-text\">tsconfig</code> b·∫±ng YAML, bu·ªìn thay</em></p>\n<p>M·ªôt s·ªë nguy√™n t·∫Øc-c√∫ ph√°p c·∫ßn n·∫Øm</p>\n<p><strong>Th·ª•c ƒë·∫ßu d√≤ng</strong></p>\n<p>Th·ª•c ƒë·∫ßu d√≤ng r·∫•t quan tr·ªçng, b·∫°n ch·ªâ ƒë∆∞·ª£c d√πng d·∫•u <strong>kho·∫£ng tr·∫Øng</strong>, kh√¥ng cho ph√©p d√πng <strong>tab</strong></p>\n<p><strong>Vi·∫øt comment</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># I'm a comment</span>\n<span class=\"token key atrule\">person</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># I'm also a comment</span>\n  <span class=\"token key atrule\">age</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span></code></pre></div>\n<p><strong>D·∫°ng danh s√°ch</strong></p>\n<p>C√≥ 2 c√°ch bi·∫øt, nh∆∞ ƒë√£ n√≥i l√† superset c·ªßa json, n√™n ch√∫ng ta c√≥ c√°ch th·ª© nh·∫•t i nh∆∞ json</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">people</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Anne\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"John\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Max\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>Khuy·∫øn kh√≠ch c√°ch n√†y h∆°n</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">people</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> Anne\n  <span class=\"token punctuation\">-</span> John\n  <span class=\"token punctuation\">-</span> Max</code></pre></div>\n<p><strong>Khai b√°o gi√° tr·ªã string</strong></p>\n<p>Trong JSON b·∫°n ch·ªâ m·ªôt c√°ch vi·∫øt gi√° tr·ªã d·∫°ng <code class=\"language-inline-text\">String</code> l√† ƒë∆∞a n√≥ v√†o d·∫•u ngo·∫∑c k√©p <code class=\"language-inline-text\">\"\"</code>, Yaml th√¨ linh ƒë·ªông h∆°n</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">company</span><span class=\"token punctuation\">:</span> Google <span class=\"token comment\"># Single words, no quotes</span>\n<span class=\"token key atrule\">full_name</span><span class=\"token punctuation\">:</span> John Foo Bar Doe <span class=\"token comment\"># Full sentence, no quotes</span>\n<span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"John\"</span> <span class=\"token comment\"># Using single quotes</span>\n<span class=\"token key atrule\">surname</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Christian Meyer\"</span> <span class=\"token comment\"># Using double quotes</span></code></pre></div>\n<blockquote>\n<p>Trong tr∆∞·ªùng h·ª£p b·∫°n c√≥ ch∆∞a c√°c k√Ω t·ª± ƒë·∫∑c bi·ªát, th√¨ n√™n ƒë∆∞a v√†o d·∫•u nh√°y k√©p.</p>\n</blockquote>\n<p><strong>S·ªë</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">year</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2019</span> <span class=\"token comment\"># Integer</span>\n<span class=\"token key atrule\">nodeVersion</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10.8</span> <span class=\"token comment\"># Float</span></code></pre></div>\n<p><strong>Con tr·ªè</strong></p>\n<p>Kh√°i ni·ªám <em>con tr·ªè</em> xem nh∆∞ b·∫°n ƒë√£ bi·∫øt nh√©, m√¨nh kh√¥ng gi·∫£i th√≠ch, c√°i n√†y c√°c b·∫°n ƒëi h·ªçc ch·∫Øc c√°c th·∫ßy d·∫°y k·ªπ l·∫Øm r·ªìi.</p>\n<p>V√≠ d·ª• nh∆∞ b·∫°n ƒëang vi·∫øt m·ªôt s·ªë config cho m√¥i tr∆∞·ªùng <code class=\"language-inline-text\">production</code> v√† <code class=\"language-inline-text\">staging</code>, t·ª©c nhi√™n l√† m·ªôt config l√† gi·ªëng nhau th√¥i, n√™n ch√∫ng ta ch·ªâ c·∫ßn <em>tr·ªè</em> n√≥ qua m·ªôt ch·ªó</p>\n<p>ƒê√¢y l√† kh√¥ng <em>tr·ªè</em> qua m√† <em>copy/paste</em> huy·ªÅn tho·∫°i</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"production\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"node_version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"13.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"os\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ubuntu\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"package_manager\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"yarn\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"run\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"yarn install\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"NODE_ENV=${ENVIRONMENT} yarn build\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"env\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"ENVIRONMENT\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"production\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"staging\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"node_version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"13.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"os\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ubuntu\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"package_manager\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"yarn\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"run\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"yarn install\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"NODE_ENV=${ENVIRONMENT} yarn build\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"env\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"ENVIRONMENT\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"staging\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒê·ªÉ d√πng con tr·ªè, ch√∫ng ta t·∫°o tr∆∞·ªõc m·ªôt c√°i <em>neo</em> ƒë·ªÉ sau n√†y tr·ªè v√†o c√°i <em>neo</em> n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">base-config</span><span class=\"token punctuation\">:</span> <span class=\"token important\">&amp;base</span> <span class=\"token comment\"># t√™n c√°i neo</span>\n  <span class=\"token key atrule\">node_version</span><span class=\"token punctuation\">:</span> 13.0.0\n  <span class=\"token key atrule\">os</span><span class=\"token punctuation\">:</span> ubuntu\n  <span class=\"token key atrule\">package_manager</span><span class=\"token punctuation\">:</span> yarn\n  <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> yarn install\n    <span class=\"token punctuation\">-</span> NODE_ENV=$<span class=\"token punctuation\">{</span>ENVIRONMENT<span class=\"token punctuation\">}</span> yarn build</code></pre></div>\n<p>Sau ƒë√≥ th·ª±c hi·ªán vi·ªác tr·ªè</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">base-config</span><span class=\"token punctuation\">:</span> <span class=\"token important\">&amp;base</span>\n  <span class=\"token key atrule\">node_version</span><span class=\"token punctuation\">:</span> 13.0.0\n  <span class=\"token key atrule\">os</span><span class=\"token punctuation\">:</span> ubuntu\n  <span class=\"token key atrule\">package_manager</span><span class=\"token punctuation\">:</span> yarn\n  <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> yarn install\n    <span class=\"token punctuation\">-</span> NODE_ENV=$<span class=\"token punctuation\">{</span>ENVIRONMENT<span class=\"token punctuation\">}</span> yarn build\n\n<span class=\"token key atrule\">production</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># d√πng c√°c thi·∫øt ƒë·∫∑t ·ªü neo t√™n l√† base</span>\n  <span class=\"token key atrule\">&lt;&lt;</span><span class=\"token punctuation\">:</span> <span class=\"token important\">*base</span>\n  <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">ENVIRONMENT</span><span class=\"token punctuation\">:</span> production\n\n<span class=\"token key atrule\">staging</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># d√πng c√°c thi·∫øt ƒë·∫∑t ·ªü neo t√™n l√† base</span>\n  <span class=\"token key atrule\">&lt;&lt;</span><span class=\"token punctuation\">:</span> <span class=\"token important\">*base</span>\n  <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">ENVIRONMENT</span><span class=\"token punctuation\">:</span> staging</code></pre></div>\n<p><strong>M√¥i tr∆∞·ªùng Shell/Bash</strong></p>\n<p>Nh∆∞ ƒë√£ n√≥i l√∫c ƒë·∫ßu, file <code class=\"language-inline-text\">.yml</code> r·∫•t ƒë∆∞·ª£c ∆∞u d√πng ƒë·ªÅ l√†m config, ƒë·∫∑c bi·ªát l√† config m√¥i tr∆∞·ªùng CI/CD.</p>\n<p>M√¥i tr∆∞·ªùng CI/CD th∆∞·ªùng l√† Linux, v√† ch√∫ng ta c≈©ng c√≥ th·ªÉ truy c·∫≠p ƒë·∫øn c√°c bi·∫øn m√¥i tr∆∞·ªùng c·ªßa Linux.</p>\n<p>V√≠ d·ª• nh∆∞ Github CI, ch√∫ng ta c√≥ th·ªÉ ch·ªâ ƒë·ªãnh bi·∫øn m√¥i tr∆∞·ªùng global n√†o ch√∫ng ta mu·ªën truy c·∫≠p</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">variables</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">NODE_IMAGE</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">:</span><span class=\"token number\">10</span>\n\n<span class=\"token key atrule\">stages</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> build\n\n<span class=\"token key atrule\">test</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> $NODE_IMAGE\n  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> build</code></pre></div>\n<p>C√∫ ph√°p <code class=\"language-inline-text\">$</code> kh√¥ng ph·∫£i c·ªßa <code class=\"language-inline-text\">yaml</code> m√† l√† c·ªßa <code class=\"language-inline-text\">shell/bash</code>. Nh·ªØng g√¨ Github CI s·∫Ω l√†m l√† ƒë∆∞a to√†n b·ªô nh·ªØng bi·∫øn b·∫°n ƒë·∫∑t trong <code class=\"language-inline-text\">variables</code> v√† t·∫°o ra bi·∫øn trong <code class=\"language-inline-text\">shell</code></p>\n<p>M·ªôt v√†i h·ªá th·ªëng kh√°c c≈©ng <strong>inject</strong> c√°c gi√° tr·ªã kh√°c nh∆∞ commit ref, branch name, build time, secret key ƒë∆∞·ª£c ƒë·∫∑t b√™n ngo√†i file config</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">variables</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">NODE_IMAGE</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">:</span><span class=\"token number\">10</span>\n\n<span class=\"token key atrule\">stages</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> build\n\n<span class=\"token key atrule\">test</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> $NODE_IMAGE\n  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> build\n  <span class=\"token key atrule\">artifacts</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> $CI_COMMIT_REF_NAME</code></pre></div>\n<p>V√≠ d·ª• ·ªü tr√™n, ch√∫ng ta s·ª≠ d·ª•ng bi·∫øn m√¥i tr∆∞·ªùng <code class=\"language-inline-text\">$CI_COMMIT_REF_NAME</code> c·ªßa GitLab CI.</p>\n<p>Hy v·ªçng c√°c b·∫°n ƒë√£ hi·ªÉu ch√∫t ƒë·ªânh v·ªÅ YAML v√† c·∫£m th·∫•y ƒë·ªçc file yaml kh√¥ng qu√° kh√≥ ch·ªãu n·ªØa.</p>\n<h3 id=\"t√†i-li·ªáu-tham-kh·∫£o\"><a href=\"#t%C3%A0i-li%E1%BB%87u-tham-kh%E1%BA%A3o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T√†i li·ªáu tham kh·∫£o</h3>\n<p><a href=\"https://yaml.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://yaml.org/</a>\n<a href=\"https://www.json2yaml.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.json2yaml.com/</a>\n<a href=\"https://learnxinyminutes.com/docs/yaml/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://learnxinyminutes.com/docs/yaml/</a></p>\n<p><a href=\"https://dev.to/raulfdm/yaml-for-web-developers-559n\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Yaml for Web Developers</a></p>\n","cover_image":""}},{"node":{"id":"ab67ae8850336939a2af1f93578fa95c","title":"Ph√¢n bi·ªát s·ª± kh√°c nhau gi·ªØa await-return-return await","path":"/2020-07-30-phan-biet-su-khac-nhau-giua-await-return-await/","date":"2020-07-30","timeToRead":2,"desc":"N·∫Øm r√µ async kh√¥ng bao gi·ªù l√† m·ªôt ki·∫øn th·ª©c th·ª´a.","content":"<p>Khi vi·∫øt m·ªôt async function, c√≥ s·ª± kh√°c nhau gi·ªØa <code class=\"language-inline-text\">await</code> v√† <code class=\"language-inline-text\">return</code> v√† <code class=\"language-inline-text\">return await</code>, c√°c b·∫°n n√™n bi·∫øt ƒë·ªÉ s·ª≠ d·ª•ng cho ƒë√∫ng</p>\n<p>Ch√∫ng ta c√≥ m·ªôt async function <code class=\"language-inline-text\">waitAndMaybeReject</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">waitAndMaybeReject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// wait 1 gi√¢y</span>\n  <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> isHeads <span class=\"token operator\">=</span> <span class=\"token function\">Boolean</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isHeads<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"Th√†nh c√¥ng z√≤i\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token function\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Xui th√¥i!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Sau 1 gi√¢y, n√≥ s·∫Ω tr·∫£ v·ªÅ m·ªôt <code class=\"language-inline-text\">Promise</code>, <em>h√™n h√™n</em> th√¨ resolve cho gi√° tr·ªã <em>Th√†nh c√¥ng z√≤i</em>, xui xui th√¨ cho gi√° tr·ªã <em>Xui th√¥i!</em>.</p>\n<p>Gi·ªù khi ch√∫ng ta g·ªçi h√†m <code class=\"language-inline-text\">waitAndMaybeReject()</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">waitAndMaybeReject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"Oh No!\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Khi vi·∫øt nh∆∞ v·∫≠y, ch√∫ng ta s·∫Ω lu√¥n nh·∫≠n ƒë∆∞·ª£c k·∫øt qu·∫£ <strong>fulfill v·ªõi gi√° tr·ªã undefined, kh√¥ng c√≥ waiting</strong></p>\n<p>B·ªüi v√¨ ch√∫ng ta kh√¥ng c√≥ <strong>await</strong> tr√™n k·∫øt qu·∫£ tr·∫£ v·ªÅ c·ªßa <code class=\"language-inline-text\">waitAndMaybeReject()</code>, n√≥i ch√∫ng l√† ch√∫ng ta ko c√≥ ph·ª•c thu·ªôc g√¨ v√†o vi·ªác g·ªçi h√†m <code class=\"language-inline-text\">waitAndMaybeReject()</code>. Code nh∆∞ v·∫≠y l√† sai nghe c√°c b·∫°n.</p>\n<p>R·ªìi gi·ªù ch√∫ng ta s·∫Ω <strong>await</strong> tr√™n k·∫øt qu·∫£ c·ªßa h√†m <code class=\"language-inline-text\">waitAndMaybeReject()</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">waitAndMaybeReject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"Oh No!\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>H√†m n√†y khi th·ª±c thi n√≥ s·∫Ω ch·∫°y nh∆∞ sau, <strong>ƒë·ª£i 1 gi√¢y</strong>, sau ƒë√≥ ho·∫∑c l√† tr·∫£ v·ªÅ <strong>fulfill v·ªõi undefined</strong>, ho·∫∑c <strong>fulfill v·ªõi 'Oh No!'</strong></p>\n<p>B·ªüi v√¨ ch√∫ng ta <em>ch·ªâ await tr√™n <code class=\"language-inline-text\">waitAndMaybeReject()</code></em>, vi·ªác <em>xui xui</em> b·ªã reject trong <code class=\"language-inline-text\">waitAndMaybeReject</code> s·∫Ω throw ra l·ªói v√† ƒë∆∞·ª£c t√∫m l·∫•y trong h√†m <code class=\"language-inline-text\">test</code>. V√† v√¨ kh√¥ng l√†m g√¨ h·∫øt khi <code class=\"language-inline-text\">waitAndMaybeReject()</code> khi ƒë∆∞·ª£c resolve, n√™n ch√∫ng ta nh·∫≠n v·ªÅ <em>undefined</em></p>\n<p>R·ªìi, gi·ªù t·ªõi tr∆∞·ªùng h·ª£p <code class=\"language-inline-text\">return</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">waitAndMaybeReject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"Oh No!\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>N√≥ s·∫Ω th·ª±c thi nh∆∞ sau, <strong>ƒë·ª£i m·ªôt gi√¢y</strong>, sau ƒë√≥ ho·∫∑c l√† <strong>fulfill v·ªõi gi√° tr·ªã Th√†nh c√¥ng z√≤i</strong> ho·∫∑c <strong>reject v·ªõi gi√° tr·ªã Xui th√¥i!</strong></p>\n<p>V·ªõi vi·ªác <code class=\"language-inline-text\">return waitAndMaybeReject</code>, ch√∫ng ta ƒë√£ chuy·ªÉn ti·∫øp h·∫øt k·∫øt qu·∫£ tr·∫£ v·ªÅ c·ªßa <code class=\"language-inline-text\">waitAndMaybeReject</code>, ƒë·ªìng nghƒ©a v·ªõi vi·ªác <code class=\"language-inline-text\">catch</code> b√™n trong h√†m <code class=\"language-inline-text\">test</code> ch·∫£ bao gi·ªù ch·∫°y t·ªõi.</p>\n<p><code class=\"language-inline-text\">return await</code> th√¨ sao?</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> <span class=\"token function\">waitAndMaybeReject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"Oh No!\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>N√≥ s·∫Ω th·ª±c thi nh∆∞ sau, <strong>ƒë·ª£i sau m·ªôt gi√¢y</strong> sau ƒë√≥ tr·∫£ v·ªÅ <strong>fulfill v·ªõi gi√° tr·ªã Th√†nh c√¥ng z√≤i</strong> ho·∫∑c <strong>fulfill v·ªõi gi√° tr·ªã Oh No!</strong></p>\n<p>V√¨ ch√∫ng ta <code class=\"language-inline-text\">await</code> tr√™n k·∫øt qu·∫£ c·∫£ <code class=\"language-inline-text\">waitAndMaybeReject()</code>, reject c·ªßa h√†m <code class=\"language-inline-text\">waitAndMaybeReject()</code> s·∫Ω ƒë·∫©y v·ªÅ throw c·ªßa h√†m <code class=\"language-inline-text\">test</code>, k·∫øt qu·∫£ l√† <strong>Oh No!</strong>. N·∫øu <code class=\"language-inline-text\">waitAndMaybeReject</code> ƒë∆∞·ª£c resolve, ch√∫ng ta return k·∫øt qu·∫£ n√†y, ch√≠nh l√† <strong>Th√†nh c√¥ng z√≤i</strong></p>\n<p>C√≥ th·ªÉ vi·∫øt nh∆∞ th·∫ø n√†y cho d·ªÖ h√¨nh dung h∆°n</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> fulfilledValue <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">waitAndMaybeReject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> fulfilledValue<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"Oh No!\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>L∆∞u √Ω cu·ªëi c√πng: N·∫øu kh√¥ng d√πng try/catch m√† return await s·∫Ω r·∫•t d∆∞ th·ª´a</p>\n</blockquote>\n<p><a href=\"https://jakearchibald.com/2017/await-vs-return-vs-return-await/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">await vs return vs return await</a></p>\n","cover_image":""}},{"node":{"id":"e50caffffbea9c79e5698cd929baa00a","title":"useEffect t·ª´ a t·ªõi z","path":"/2020-03-23-tat-tan-tat-huong-dan-ve-use-effect/","date":"2020-03-23","timeToRead":13,"desc":"ƒê√¢y l√† m·ªôt b√†i vi·∫øt t∆∞∆°ng ƒë·ªëi d√†i d√≤ng v·ªÅ useEffect, b·∫°n c·∫ßn bi·∫øt v√† ƒë√£ ƒë·ªçc qua t√†i li·ªáu v·ªÅ useEffect tr√™n trang ch√≠nh th·ª©c c·ªßa React tr∆∞·ªõc, v√† n·∫øu ch·ªâ th·ª±c s·ª± c·∫ßn bi·∫øt s·ª≠ d·ª•ng useEffect ra sao, b·∫°n kh√¥ng c·∫ßn ƒë·ªçc b√†i vi·∫øt ph√¢n t√°ch m·ªï x·∫ª s√¢u ki·ªÉu n√†y.","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#m%E1%BB%97i-l%E1%BA%A7n-render-l%C3%A0-m%E1%BB%99t-gi%C3%A1-tr%E1%BB%8B-prop-v%C3%A0-state-%C4%91%E1%BB%99c-l%E1%BA%ADp\">M·ªói l·∫ßn render l√† m·ªôt gi√° tr·ªã Prop v√† State ƒë·ªôc l·∫≠p</a></li>\n<li><a href=\"#m%E1%BB%99t-l%C3%A0-kh%C3%B4ng-n%C3%B3i-l%C3%A1o-2-l%C3%A0-kh%C3%B4ng-n%C3%B3i-l%C3%A1o-nhi%E1%BB%81u-l%E1%BA%A7n\">M·ªôt l√† kh√¥ng n√≥i l√°o, 2 l√† kh√¥ng n√≥i l√°o nhi·ªÅu l·∫ßn</a></li>\n<li><a href=\"#h%E1%BA%ADu-qu%E1%BA%A3-c%E1%BB%A7a-vi%E1%BB%87c-d%E1%BB%91i-tr%C3%A1\">H·∫≠u qu·∫£ c·ªßa vi·ªác d·ªëi tr√°</a></li>\n<li><a href=\"#2-c%C3%A1ch-%C4%91%E1%BB%83-th%C3%BA-th%E1%BA%ADt-v%E1%BB%9Bi-react-v%E1%BB%81-dependency\">2 c√°ch ƒë·ªÉ th√∫ th·∫≠t v·ªõi React v·ªÅ dependency</a></li>\n<li><a href=\"#t%C3%ADnh-n%C4%83ng-update-c%E1%BB%A7a-google-docs\">T√≠nh nƒÉng update c·ªßa Google Docs</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"m·ªói-l·∫ßn-render-l√†-m·ªôt-gi√°-tr·ªã-prop-v√†-state-ƒë·ªôc-l·∫≠p\"><a href=\"#m%E1%BB%97i-l%E1%BA%A7n-render-l%C3%A0-m%E1%BB%99t-gi%C3%A1-tr%E1%BB%8B-prop-v%C3%A0-state-%C4%91%E1%BB%99c-l%E1%BA%ADp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ªói l·∫ßn render l√† m·ªôt gi√° tr·ªã Prop v√† State ƒë·ªôc l·∫≠p</h2>\n<p>Tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu n√≥i v·ªÅ <code class=\"language-inline-text\">useEffect</code> ch√∫ng ta c·∫ßn nh·∫Øc l·∫°i qu√° tr√¨nh render</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">You clicked </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> times</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> ...\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Kh√°c v·ªõi Vue, n√≥ kh√¥ng ph·∫£i l√† m·ªôt d·∫°ng <em>data binding</em>, <em>watcher</em>, <em>proxy</em>, n√≥ ch·ªâ l√† m·ªôt gi√° tr·ªã th√¥ng th∆∞·ªùng.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> count <span class=\"token operator\">=</span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ƒê·∫ßu ti√™n gi√° tr·ªã kh·ªüi t·∫°o c·ªßa <code class=\"language-inline-text\">count</code> s·∫Ω =0. Khi ch√∫ng ta g·ªçi <code class=\"language-inline-text\">setCount(1)</code>, React s·∫Ω g·ªçi l·∫°i component m·ªôt l·∫ßn n·ªØa, v·ªõi gi√° tr·ªã <code class=\"language-inline-text\">count</code> l√∫c n√†y l√† <code class=\"language-inline-text\">1</code>. C·ª© v·∫≠y</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// L·∫ßn ƒë·∫ßu render</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// tr·∫£ v·ªÅ b·ªüi useState()  // ...</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">You clicked </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> times</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// sau khi click, function n√†y ƒë∆∞·ª£c g·ªçi l·∫°i l·∫ßn n·ªØa</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> count <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// tr·∫£ v·ªÅ b·ªüi `useState()  // ...</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">You clicked </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> times</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// sau khi click, function ƒë∆∞·ª£c g·ªçi l·∫°i l·∫ßn n·ªØa</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> count <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// tr·∫£ v·ªÅ b·ªüi useState()  // ...</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">You clicked </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> times</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Khi update m·ªôt state, React g·ªçi l·∫°i component, m·ªói l·∫ßn render nh∆∞ v·∫≠y, n√≥ s·∫Ω <strong>th·∫•y</strong> m·ªôt gi√° tr·ªã <code class=\"language-inline-text\">count</code> m·ªõi. Sau ƒë√≥ React s·∫Ω update l·∫°i DOM t∆∞∆°ng ·ª©ng.</p>\n<p>V·∫•n ƒë·ªÅ m·∫•u ch·ªët c·∫ßn n·∫Øm l√† gi√° tr·ªã <code class=\"language-inline-text\">count</code> <strong>trong c√°c l·∫ßn render kh√°c nhau l√† kh√°c nhau.</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handleAlertClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked on: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Click me</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleAlertClick<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Show alert</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      ...\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ch√∫ng ta th·ª±c hi·ªán c√°c b∆∞·ªõc sau</p>\n<ul>\n<li>B·∫•m counter l√™n 3</li>\n<li>B·∫•m \"Show alert\"</li>\n<li>B·∫•m ti·∫øp <code class=\"language-inline-text\">Click me</code> cho counter l√™n 5 tr∆∞·ªõc khi b·ªã g·ªçi timeout</li>\n</ul>\n<p><img src=\"https://overreacted.io/46c55d5f1f749462b7a173f1e748e41e/counter.gif\" alt=\"Counter demo\"></p>\n<p>C√¢u h·ªèi ·ªü ƒë√¢y l√† n√≥ s·∫Ω alert ra 5 - gi√° tr·ªã cu·ªëi c√πng, hay l√† 3 gi√° tr·ªã l√∫c ch√∫ng ta click</p>\n<p><a href=\"https://codesandbox.io/s/w2wxl3yo0l\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ch·∫°y th·ª≠</a></p>\n<p><em>B·∫°n c√≥ th·∫•y k·∫øt qu·∫£ qu√° v√¥ l√Ω?</em></p>\n<p>Nh∆∞ ƒë√£ n√≥i ·ªü tr√™n, gi√° tr·ªã <code class=\"language-inline-text\">count</code> l√† h·∫±ng s·ªë tr√™n m·ªói l·∫ßn render. <strong>Function c·ªßa ch√∫ng ta ƒë∆∞·ª£c g·ªçi nhi·ªÅu l·∫ßn, m·ªói l·∫ßn g·ªçi nh∆∞ v·∫≠y gi√° tr·ªã <code class=\"language-inline-text\">count</code> b√™n trong l√† m·ªôt s·ªë ƒë·ªôc l·∫≠p ho√†n to√†n v·ªõi gi√° tr·ªã tr∆∞·ªõc ƒë√≥</strong></p>\n<p>Kh√¥ng ph·∫£i <strong>ƒë·∫∑c s·∫£n</strong> c·ªßa React, vi·∫øt d·∫°ng function nh∆∞ th·∫ø n√†y b·∫°n s·∫Ω d·ªÖ h√¨nh dung h∆°n.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">person</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> person<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hello, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> someone <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"Dan\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span>someone<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsomeone <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"Yuzhi\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span>someone<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsomeone <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"Dominic\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span>someone<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Th·∫ø c√≤n h√†m x·ª≠ l√Ω event th√¨ sao? c·ª• th·ªÉ l√† h√†m <code class=\"language-inline-text\">handleAlertClick</code>? C≈©ng nh∆∞ tr√™n, h√†m n√†y l√† c√≥ c√°c <strong>version</strong> kh√°c nhau ·ªü c√°c l·∫ßn render kh√°c nhau.</p>\n<p>B√†i vi·∫øt ƒë∆∞·ª£c <strong>qu·∫£ng c√°o</strong> l√† n√≥i v·ªÅ <code class=\"language-inline-text\">useEffect</code> m√† n√£y gi·ªù ch∆∞a ƒë√° ƒë·ªông g√¨!</p>\n<p>Quay l·∫°i v·ªõi v√≠ d·ª• t·ª´ <a href=\"https://reactjs.org/docs/hooks-effect.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">trang ch√≠nh th·ª©c c·ªßa React</a></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">You clicked </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> times</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Click me</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>C√¢u h·ªèi l√† <code class=\"language-inline-text\">useEffect</code> ƒë√£ l√†m c√°ch n√†o ƒë·ªÉ l·∫•y ƒë∆∞·ª£c gi√° tr·ªã cu·ªëi c√πng c·ªßa <code class=\"language-inline-text\">count</code>?</p>\n<p>L·∫Ω n√†o ƒë√≥ c√≥ m·ªôt d·∫°ng \"data binding\" hay \"watching\" ·ªü ƒë√¢y ƒë·ªÉ update gi√° tr·ªã <code class=\"language-inline-text\">count</code> b√™n trong h√†m effect? Ho·∫∑c gi·∫£ React <em>ch∆°i chi√™u</em> d√πng bi·∫øn mutable b√™n trong component ƒë·ªÉ lu√¥n c√≥ ƒë∆∞·ª£c gi√° tr·ªã cu·ªëi?</p>\n<p><em>Kh√¥ng h·ªÅ!</em></p>\n<p>Ch√∫ng ta ƒë√£ bi·∫øt: gi√° tr·ªã <code class=\"language-inline-text\">count</code> l√† h·∫±ng s·ªë cho c√°c l·∫ßn render, event handle c≈©ng ƒë·ªôc l·∫≠p tr√™n c√°c l·∫ßn render kh√°c nhau, effect c≈©ng v·∫≠y lu√¥n.</p>\n<p>Kh√¥ng ph·∫£i gi√° tr·ªã <code class=\"language-inline-text\">count</code> thay ƒë·ªïi b√™n trong <code class=\"language-inline-text\">useEffect</code> <strong>b·∫•t bi·∫øn</strong>, m√† l√† <code class=\"language-inline-text\">useEffect</code> c≈©ng b·ªã thay ƒë·ªïi tr√™n t·ª´ng l·∫ßn render.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// l·∫ßn render ƒë·∫ßu ti√™n</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">0</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// sau khi click</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// click th√™m l·∫ßn n·ªØa</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token number\">2</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ..</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>C√≥ th·ªÉ m∆∞·ªùng t∆∞·ª£ng effect l√† m·ªôt ph·∫ßn c·ªßa k·∫øt qu·∫£ l√∫c render</p>\n</blockquote>\n<p>Gi·ªù th·ª≠ v·ªõi <code class=\"language-inline-text\">setTimeout</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">You clicked </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> times</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        Click me\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>N·∫øu m√† click v√†i l·∫ßn v·ªõi m·ªôt kho·∫£ng th·ªùi gian <em>b·ªè nh·ªè</em> th√¨ k·∫øt qu·∫£ log ra l√† g√¨?</p>\n<p><a href=\"https://codesandbox.io/s/lyx20m1ol\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Th·ª≠ ·ªü ƒë√¢y</a></p>\n<p>B·∫°n kh√¥ng ch·ªâ nh·∫≠n ƒë∆∞·ª£c 1 m√† l√† m·ªôt chu·ªói c√°c ƒëo·∫°n log ·ª©ng v·ªõi s·ªë l·∫ßn click.</p>\n<p><img src=\"https://overreacted.io/a5727d333c270e05942f508707265378/timeout_counter.gif\" alt=\"Screen recording of 1, 2, 3, 4, 5 logged in order\"></p>\n<p><em>ƒê∆∞∆°ng nhi√™n ph·∫£i ch·∫°y nh∆∞ v·∫≠y m·ªõi ƒë√∫ng ch·ª©, ƒë√¢u c√≥ g√¨ ph·∫£i th·∫Øc m·∫Øc?</em></p>\n<p>B·∫°n ƒë√£ th·ª≠ v·ªõi <code class=\"language-inline-text\">this.state</code> trong class component ch∆∞a?</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">componentDidUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"https://overreacted.io/264b329edc111a1973003bdf2bcacd65/timeout_counter_class.gif\" alt=\"Screen recording of 5, 5, 5, 5, 5 logged in order\"></p>\n<p><em>L√Ω do?</em> Gi√° tr·ªã <code class=\"language-inline-text\">this.state</code> b√™n trong class component l√† m·ªôt mutation (c√≥ th·ªÉ thay ƒë·ªïi).</p>\n<p>N·∫øu lu√¥n mu·ªën l·∫•y gi√° tr·ªã sau c√πng b√™n trong effect, c√°ch d·ªÖ nh·∫•t l√† d√πng <code class=\"language-inline-text\">refs</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Example</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token operator\">...</span>\n    <span class=\"token keyword\">const</span> latestCount <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token operator\">...</span>\n\n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>\n        latestCount<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> count<span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">...</span>\n        <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token operator\">...</span>\n                console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>latestCount<span class=\"token punctuation\">.</span>current<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token operator\">...</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"https://overreacted.io/timeout_counter_refs-78f7948263dd13b023498b23cb99f4fc.gif\"></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Greeting<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello, </span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>N·∫øu ch√∫ng ta render <code class=\"language-inline-text\">&lt;Greeting name=\"Dan\" /></code>, sau ƒë√≥ render <code class=\"language-inline-text\">&lt;Greeting name=\"Luu\" /></code>. Cu·ªëi c√πng ch√∫ng ta lu√¥n nh·∫≠n ƒë∆∞·ª£c <em>Hello, Luu</em></p>\n<p>React lu√¥n ƒë·ªìng b·ªô c·ª•c DOM v·ªõi gi√° tr·ªã hi·ªán t·∫°i c·ªßa <code class=\"language-inline-text\">prop</code> v√† <code class=\"language-inline-text\">state</code>. Kh√¥ng c·∫ßn ph√¢n bi·ªát gi·ªØa <code class=\"language-inline-text\">mount</code> v√† <code class=\"language-inline-text\">update</code> khi render. C√≥ th·ªÉ h√¨nh dung effect c≈©ng t∆∞∆°ng t·ª± nh∆∞ v·∫≠y, <strong><code class=\"language-inline-text\">useEffect</code> cho ph√©p ƒë·ªìng b·ªô nh·ªØng ph·∫ßn kh√¥ng n·∫±m trong React tree v·ªõi gi√° tr·ªã c·ªßa <code class=\"language-inline-text\">prop</code> v√† <code class=\"language-inline-text\">state</code></strong></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello, \"</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Greeting<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello, </span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>C√¢u th·∫ßn ch√∫ cho vi·ªác n√†y l√†: <strong>Quan tr·ªçng l√† ƒë√≠ch ƒë·∫øn, kh√¥ng ph·∫£i qu√° tr√¨nh</strong></p>\n<p>Ch·∫°y effect tr√™n t·∫•t c·∫£ l√∫c ch·∫°y render s·∫Ω kh√¥ng hay l·∫Øm, ƒë√¥i khi c√≥ tr∆∞·ªùng h·ª£p l·∫∑p v√¥ t·∫≠n.</p>\n<p>Trong qu√° tr√¨nh re-render, React ch·ªâ c·∫≠p nh·∫≠p ƒë√∫ng ph·∫ßn DOM ƒë√£ thay ƒë·ªïi.</p>\n<p>V√≠ d·ª• nh∆∞</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Greeting<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello, Dan</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Sang</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Greeting<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello, Luu</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>React s·∫Ω th·∫•y 2 object</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> oldProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> className<span class=\"token operator\">:</span> <span class=\"token string\">\"Greeting\"</span><span class=\"token punctuation\">,</span> children<span class=\"token operator\">:</span> <span class=\"token string\">\"Hello, Dan\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> newProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> className<span class=\"token operator\">:</span> <span class=\"token string\">\"Greeting\"</span><span class=\"token punctuation\">,</span> children<span class=\"token operator\">:</span> <span class=\"token string\">\"Hello, Yuzhi\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>N√≥ s·∫Ω x√°c ƒë·ªãnh ƒë∆∞·ª£c <code class=\"language-inline-text\">children</code> b·ªã thay ƒë·ªïi v√† c·∫ßn update, c√≤n <code class=\"language-inline-text\">className</code> th√¨ kh√¥ng, n√≥ s·∫Ω l√†m nh∆∞ sau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">domNode<span class=\"token punctuation\">.</span>innerText <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello, Luu\"</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Ch√∫ng ta c≈©ng mu·ªën effect l√†m ƒëi·ªÅu t∆∞∆°ng t·ª±, khi re-render ch·ªâ apply nh·ªØng update c·∫ßn thi·∫øt</p>\n<p>V√≠ d·ª• v·ªõi component n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Greeting</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>counter<span class=\"token punctuation\">,</span> setCounter<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello, \"</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Greeting<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      Hello, </span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCounter</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-inline-text\">useEffect</code> kh√¥ng h·ªÅ li√™n quan t·ªõi gi√° tr·ªã state <code class=\"language-inline-text\">counter</code>, g·ªçi <code class=\"language-inline-text\">document.title</code> khi gi√° tr·ªã <code class=\"language-inline-text\">counter</code> thay ƒë·ªïi kh√¥ng ph·∫£i l√† √Ω hay.</p>\n<p>ƒê√≥ l√† l√Ω do t·∫°i sao ch√∫ng ta c√≥ th√™m tham s·ªë <code class=\"language-inline-text\">dependency</code> (m·ªôt m·∫£ng) khi d√πng <code class=\"language-inline-text\">useEffect</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello, \"</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// deps</span></code></pre></div>\n<p>D·ªãch ra ng√¥n ng·ªØ con ng∆∞·ªùi l√† th·∫ø n√†y: \"Tao bi·∫øt React m√†y kh√¥ng ph√¢n bi·ªát ƒë∆∞·ª£c s·ª± kh√°c nhau b√™n trong function, n√™n tao h·ª©a l√† tao ch·ªâ d√πng ƒë·∫øn <code class=\"language-inline-text\">name</code> b√™n trong function n√†y th√¥i, v√† ch·ªâ gi√° tr·ªã <code class=\"language-inline-text\">name</code> n√†y update th√¨ m√†y h·∫£ g·ªçi n√≥\"</p>\n<h2 id=\"m·ªôt-l√†-kh√¥ng-n√≥i-l√°o-2-l√†-kh√¥ng-n√≥i-l√°o-nhi·ªÅu-l·∫ßn\"><a href=\"#m%E1%BB%99t-l%C3%A0-kh%C3%B4ng-n%C3%B3i-l%C3%A1o-2-l%C3%A0-kh%C3%B4ng-n%C3%B3i-l%C3%A1o-nhi%E1%BB%81u-l%E1%BA%A7n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ªôt l√† kh√¥ng n√≥i l√°o, 2 l√† kh√¥ng n√≥i l√°o nhi·ªÅu l·∫ßn</h2>\n<p>ƒê·ª´ng bao gi·ªù l·ª´a g·∫°t React b·∫±ng c√°ch ƒë∆∞a dependency kh√¥ng ƒë√∫ng cho n√≥, h·∫≠u qu·∫£ nh√£n ti·ªÅn. H·ª£p l√Ω, nh∆∞ng nhi·ªÅu l·∫≠p tr√¨nh vi√™n quen s·ª≠ d·ª•ng <code class=\"language-inline-text\">class</code> s·∫Ω c·ªë t√¨nh qua m·∫∑t</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SearchResults</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// vi·ªác ntn ƒë∆∞·ª£c h√¥n? kh√¥ng ph·∫£i l√∫c n√†o c≈©ng ƒë√∫ng</span>\n  <span class=\"token comment\">// c√≥ c√°ch vi·∫øt t·ªët h∆°n</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>B·∫°n s·∫Ω nghƒ© l√† \"Tao ch·ªâ mu·ªën ch·∫°y n√≥ l√∫c mount th√¥i\". N·∫øu ch√∫ng ta ch·ªâ ƒë·ªãnh m·ªôt dependency, <strong>t·∫•t c·∫£ gi√° tr·ªã b√™n trong component s·ª≠ d·ª•ng b·ªüi effect ph·∫£i ƒë∆∞·ª£c khai b√°o c·ª• th·ªÉ</strong>. Bao g·ªìm prop, state, function</p>\n<p>ƒê√¥i khi m√† l√†m nh∆∞ v·∫≠y n√≥ ph√°t sinh l·ªói. Th√≠ d·ª• nh∆∞ g·ªçi fetch data li√™n t·ª•c ho·∫∑c socket ƒë∆∞·ª£c t·∫°o kh√¥ng c·∫ßn thi·∫øt. C√°ch gi·∫£i quyets l√† <strong>kh√¥ng x√≥a ch√∫ng kh·ªèi dependency</strong></p>\n<p>Tr∆∞·ªõc khi n√≥i v·ªÅ c√°ch gi·∫£i quy·∫øt, ch√∫ng ta xem v·∫•n ƒë·ªÅ ·ªü ƒë√¢y l√† g√¨ khi so s√°nh Dependency</p>\n<h2 id=\"h·∫≠u-qu·∫£-c·ªßa-vi·ªác-d·ªëi-tr√°\"><a href=\"#h%E1%BA%ADu-qu%E1%BA%A3-c%E1%BB%A7a-vi%E1%BB%87c-d%E1%BB%91i-tr%C3%A1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>H·∫≠u qu·∫£ c·ªßa vi·ªác d·ªëi tr√°</h2>\n<p>N·∫øu m·∫£ng dependency ch·ª©a t·∫•t c·∫£ gi√° tr·ªã s·ª≠ d·ª•ng trong <code class=\"language-inline-text\">useEffect</code>, React bi·∫øt ƒë∆∞·ª£c khi n√†o th√¨ re-run n√≥</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello, \"</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"https://overreacted.io/fae247cd068eedbd4b62ba50592d2b3d/deps-compare-correct.gif\" alt=\"Diagram of effects replacing one another\"></p>\n<p>Nh∆∞ng n·∫øu ch√∫ng ta ch·ªâ ƒë·ªãnh <code class=\"language-inline-text\">[]</code>, n√≥ kh√¥ng re-run sau l·∫ßn ƒë·∫ßu ti√™n</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello, \"</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// thi·∫øu name</span></code></pre></div>\n<p><img src=\"https://overreacted.io/25f75db3f9f57ffe1426912093577445/deps-compare-wrong.gif\" alt=\"Diagram of effects replacing one another\">,</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello, \"</span> <span class=\"token operator\">+</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Sai: kh√¥ng ƒë∆∞·ª£c ph√©p b·ªè qua th·∫±ng name</span></code></pre></div>\n<p>R√µ r√†ng l√† 2 th·∫±ng dependency kh√¥ng kh√°c nhau, n√™n n√≥ s·∫Ω kh√¥ng ch·∫°y effect</p>\n<p>Trong t√¨nh hu·ªëng n√†y, v·∫•n ƒë·ªÅ kh√° l√† hi·ªÉn nhi√™n, nh∆∞ng tr·ª±c gi√°c c√≥ th·ªÉ ƒë√°nh l·ª´a b·∫°n trong c√°c t√¨nh hu·ªëng kh√°c, l·∫•y v√≠ d·ª•, ch√∫ng ta mu·ªën gi√° tr·ªã <code class=\"language-inline-text\">counter</code> tƒÉng ƒë·ªÅu sau m·ªói gi√¢y. V·ªõi m·ªôt class, tr·ª±c gi√°c s·∫Ω m√°ch b·∫£o: \"Set up c√°i interval m·ªôt l·∫ßn, r·ªìi d·ª©t t√¨nh v·ª©t √°o m·ªôt l·∫ßn\", ki·ªÉu nh∆∞ <a href=\"https://codesandbox.io/s/n5mjzjy9kl\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">th·∫ø n√†y</a>, khi chuy·ªÉn qua d√πng <code class=\"language-inline-text\">useEffect</code> b·∫°n s·∫Ω nghƒ© ƒë·∫øn d√πng <code class=\"language-inline-text\">[]</code> cho m·∫£ng ph·ª• thu·ªôc \"Tao ch·ªâ mu·ªën t√¨nh m·ªôt ƒë√™m\", ƒë√∫ng kh√¥ng?</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Theo nh∆∞ l·∫≠p lu·∫≠n r·∫•t hay g·∫∑p \"danh s√°ch ph·ª• thu·ªôc cho ph√©p ch√∫ng ta ch·ªâ ƒë·ªãnh vi·ªác re-render effect khi n√†o\", v√† ·ªü ƒë√¢y ta ch·ªâ mu·ªën trigger n√≥ m·ªôt l·∫ßn v√¨ n√≥ l√† interval, <em>nh∆∞ng t·∫°i sao l·∫°i c√≥ v·∫•n ƒë·ªÅ ·ªü ƒë√¢y?</em></p>\n<p>Ch√∫ng ta ƒëang mu·ªën effect n√†y ch·ªâ ch·∫°y l·∫ßn ƒë·∫ßu ti√™n m√† th√¥i, ƒë∆∞a v√†o dependencies l√† <code class=\"language-inline-text\">[]</code> c√≥ v·∫ª h·ª£p l√Ω, React s·∫Ω b·ªè qua h·∫øt nh·ªØng l·∫ßn sau, nh∆∞ng ch√∫ng ta ƒëang l·ª´a d·ªëi React, v√¨ b√™n trong ch√∫ng ta c√≥ s·ª≠ d·ª•ng gi√° tr·ªã <code class=\"language-inline-text\">count</code>, ch√∫ng ta c√≥ gi√° tr·ªã ph·ª• thu·ªôc m√† kh√¥ng khai b√°o. Th·ª±c t·∫ø <code class=\"language-inline-text\">setCount()</code> s·∫Ω g·ªçi li√™n t·ª•c sau 1 gi√¢y, ch·ª© kh√¥ng d·ª´ng l·∫°i sau l·∫ßn g·ªçi ƒë·∫ßu ti√™n.</p>\n<p>·ªû l·∫ßn render ƒë·∫ßu ti√™n, <code class=\"language-inline-text\">count</code> = 0, v√¨ th·∫ø <code class=\"language-inline-text\">setCount(count + 1)</code> ·ªü l·∫ßn render ƒë·∫ßu ti√™n nghƒ©a l√† <code class=\"language-inline-text\">setCount(0+1)</code>, nh∆∞ng v√¨ kh√¥ng re-run effect th√™m l·∫ßn n√†o n·ªØa, ch√∫ng ta c·ª© g·ªçi m√£i <code class=\"language-inline-text\">setCount(0+1)</code> ·ªü nh·ªØng l·∫ßn ti·∫øp theo</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// state = 0</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// l·∫ßn ƒë·∫ßu</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// lu√¥n l√† setCount(1)      }, 1000);</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// kh√¥ng re-run  );</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// state = 1</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// kh√¥ng bao gi·ªù ch·∫°y    () => {</span>\n      <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nh·ªØng con bug nh∆∞ th·∫ø n√†y s·∫Ω r·∫•t r·∫•t kh√≥ ƒë·ªÉ m√≤ ra ƒë∆∞·ª£c, v√¨ th·∫ø h√£y lu√¥n th√†nh th·∫≠t v·ªõi React, khai b√°o h·∫øt dependency ƒëang c√≥.</p>\n<p><img src=\"https://overreacted.io/29e53bd0c9b7d2ac70d3cd924886b030/interval-wrong.gif\" alt=\"Diagram of stale interval closure\"></p>\n<h2 id=\"2-c√°ch-ƒë·ªÉ-th√∫-th·∫≠t-v·ªõi-react-v·ªÅ-dependency\"><a href=\"#2-c%C3%A1ch-%C4%91%E1%BB%83-th%C3%BA-th%E1%BA%ADt-v%E1%BB%9Bi-react-v%E1%BB%81-dependency\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2 c√°ch ƒë·ªÉ th√∫ th·∫≠t v·ªõi React v·ªÅ dependency</h2>\n<p><em>N√™n ch·ªçn c√°ch m·ªôt, c√°ch 2 ch·ªâ √°p d·ª•ng khi c·∫ßn thi·∫øt</em></p>\n<p><strong>C√°ch 1: lu√¥n l√† ng∆∞·ªùi trung th·ª±c, ch√≠nh tr·ª±c ƒë·∫°o ƒë·ª©c h·∫øt m·ª±c, lu√¥n khai b√°o ƒë·∫ßy ƒë·ªß th√¥ng tin b·∫°n trai, b·∫°n g√°i, ba m√°, ch√∫ b√°c n√†o b·∫°n ƒëang ph·ª• thu·ªôc cho c∆° quan thu·∫ø</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">etCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Tuy nhi√™n th·∫ø n√†y, khi gi√° tr·ªã <code class=\"language-inline-text\">count</code> thay ƒë·ªïi, c√°i interval c·ªßa ch√∫ng ta s·∫Ω b·ªã x√≥a v√† ƒë·∫∑t l·∫°i l·∫ßn n·ªØa sau nh·ªØng l·∫ßn render, n√≥ kh√¥ng ph·∫£i l√† c√°i ch√∫ng ta mong mu·ªën n√≥ ho·∫°t ƒë·ªông nh∆∞ v·∫≠y</p>\n<p><img src=\"https://overreacted.io/5734271ddfa94d2d65ac6160515e0069/interval-rightish.gif\" alt=\"Diagram of interval that re-subscribes\"></p>\n<p><strong>C√°ch 2 l√† thay ƒë·ªïi t∆∞ duy, gi·∫£m b·ªõt anh trai nu√¥i, em g√°i nu√¥i kh√¥ng c·∫ßn thi·∫øt</strong></p>\n<p>Ch√∫ng ta kh√¥ng n√≥i x·∫°o, ch√∫ng ta gi·∫£m b·ªõt s·ªë l∆∞·ª£ng nh·ªØng th·ª© ph·ª• thu·ªôc cho vi·ªác re-run effect</p>\n<p>ƒê·ªÉ l√†m ƒë∆∞·ª£c vi·ªác n√†y, ch√∫ng ta ph·∫£i h·ªèi b·∫£n th√¢n: <strong>ch√∫ng ta d√πng count ƒë·ªÉ l√†m g√¨?</strong> C√≥ v·∫ª nh∆∞ ch√∫ng ta ch·ªâ d√πng n√≥ cho vi·ªác g·ªçi h√†m <code class=\"language-inline-text\">setCount</code>, ch√∫ng ta kh√¥ng th·ª±c s·ª± c·∫ßn gi√° tr·ªã <code class=\"language-inline-text\">count</code> n·∫øu ch√∫ng ta bi·∫øt ƒë∆∞·ª£c gi√° tr·ªã tr∆∞·ªõc ƒë√≥, tr∆∞·ªùng h·ª£p tr√™n, ch√∫ng ta c√≥ th·ªÉ kh√¥ng c·∫ßn d√πng ƒë·∫øn gi√° tr·ªã <code class=\"language-inline-text\">count</code> m√† d√πng <em>previous state</em></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">c</span> <span class=\"token operator\">=></span> c <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"https://overreacted.io/f128ad20c28317ed27a3cb68197fc906/interval-right.gif\" alt=\"Diagram of interval that works\"></p>\n<p><a href=\"https://codesandbox.io/s/q3181xz1pj\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ch·∫°y th·ª≠</a></p>\n<h2 id=\"t√≠nh-nƒÉng-update-c·ªßa-google-docs\"><a href=\"#t%C3%ADnh-n%C4%83ng-update-c%E1%BB%A7a-google-docs\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T√≠nh nƒÉng update c·ªßa Google Docs</h2>\n<p>Khi n√≥i v·ªÅ effect, ƒë·ªãnh h∆∞·ªõng l·∫≠p tr√¨nh ch√∫ng ta l√† <strong>ƒë·ªìng b·ªô h√≥a</strong>, c√≥ m·ªôt kh√°i ni·ªám kh√° th√∫ v·ªã khi th·ª±c hi·ªán ƒë·ªìng b·ªô h√≥a l√† ch√∫ng ta th∆∞·ªùng kh√¥ng ƒë·ªìng b·ªô to√†n b·ªô n·ªôi dung. L·∫•y v√≠ d·ª• nh∆∞ Google Docs, n√≥ kh√¥ng th·ª±c s·ª± truy·ªÅn t·∫£i <strong>c·∫£ trang</strong> l√™n ph√≠a server, l√†m nh∆∞ v·∫≠y hi·ªáu nƒÉng s·∫Ω r·∫•t t·ªá, c√°i n√≥ l√†m l√† g·ª≠i ƒëi m·ªôt th√¥ng tin ch·ª©a c√°i m√† user ƒëang mu·ªën th·ª±c hi·ªán.</p>\n<p><strong>T·ªët nh·∫•t truy·ªÅn ƒëi th·∫≠t √≠t th√¥ng tin t·ª´ effect (ch·ªâ nh·ªØng th√¥ng tin c·∫ßn thi·∫øt nh·∫•t) v√†o trong component</strong>. H√†m <code class=\"language-inline-text\">setCount(c => c + 1)</code> s·∫Ω g·ª≠i ƒëi √≠t th√¥ng tin h∆°n so v·ªõi h√†m <code class=\"language-inline-text\">setCount(count + 1)</code> ƒë·ª©ng tr√™n m·ªôt kh√≠a c·∫°nh n√†o ƒë√≥ v√¨ n√≥ kh√¥ng ph·ª• thu·ªôc gi√° tr·ªã hi·ªán t·∫°i, <a href=\"https://reactjs.org/docs/thinking-in-react.html#step-3-identify-the-minimal-but-complete-representation-of-ui-state\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">s·ª≠ d·ª•ng √≠t state nh·∫•t c√≥ th·ªÉ</a> ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c k·∫øt qu·∫£ l√† m·ªôt trong c√°c nguy√™n l√Ω ch√≠nh c·ªßa ƒë·ª£t c·∫≠p nh·∫≠p React v·ªõi effect</p>\n<p>Tuy nhi√™n kh√¥ng ph·∫£i l√∫c n√†o cu·ªôc s·ªëng c≈©ng ƒë∆°n gi·∫£n v·ªõi b·∫°n nh∆∞ v·∫≠y, n·∫øu ch√∫ng ta mu·ªën t√≠nh to√°n gi√° tr·ªã c·ªßa state m·ªõi d·ª±a tr√™n m·ªôt prop, 2 gi√° tr·ªã state ph·ª• thu·ªôc l·∫´n nhau, <code class=\"language-inline-text\">setState</code> l√† kh√¥ng ƒë·ªß. Ch√∫ng ta c√≥ ng∆∞·ªùi ch·ªã em h√†ng x√≥m t√™n <code class=\"language-inline-text\">useReducer</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> step <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>reducer<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">reducer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">\"tick\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> state <span class=\"token operator\">+</span> step<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">\"tick\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>dispatch<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>C√°ch d√πng <code class=\"language-inline-text\">useReducer</code> nh∆∞ v·∫≠y l√† m·ªôt d·∫°ng <strong>cheat mode</strong> c·ªßa hook, cho ph√©p ch√∫ng ta b·ªè qua c√°c dependency <em>ng·∫ßm</em> kh·ªèi effect, v√† ch·∫∑n re-run kh√¥ng kh√¥ng c·∫ßn thi·∫øt</p>\n<p><a href=\"https://codesandbox.io/s/7ypm405o8q\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ch·∫°y th·ª≠</a></p>\n<p>B√†i vi·∫øt n√†y v·∫´n c√≤n, v√† n·∫øu b·∫°n v·∫´n c√≤n mu·ªën ƒë√†o s√¢u h∆°n n·ªØa, c√≥ th·ªÉ t√¨m ƒë·ªçc b√†i vi·∫øt g·ªëc c·ªßa Dan</p>\n<p><a href=\"https://overreacted.io/a-complete-guide-to-useeffect/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">A Complete Guide to useEffect</a></p>\n","cover_image":""}},{"node":{"id":"f1e7e7301a64eaa87386851839352f42","title":"Thi·∫øt ƒë·∫∑t ESLint khi s·ª≠ d·ª•ng v·ªõi Javascript, Typescript, React","path":"/2020-02-03-huong-dan-cai-dat-eslint-react-javascript-typescript-vscode/","date":"2020-02-03","timeToRead":8,"desc":"Ch√∫ng ta b·∫Øt ƒë·∫ßu v·ªõi Javascript tr∆∞·ªõc, sau ƒë√≥ s·∫Ω l√† TypeScript, v√† React. M·ª•c ti√™u l√† l√†m ƒë√∫ng, tr√°nh tr∆∞·ªùng h·ª£p c√†i package kh√¥ng c·∫ßn thi·∫øt ho·∫∑c copy/paste c√°c config t·ªõi khi n√≥ ch·∫°y ƒë∆∞·ª£c th√¨ th√¥i.","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#t%E1%BA%A1i-sao-d%C3%B9ng-eslint\">T·∫°i sao d√πng ESLint</a></li>\n<li><a href=\"#c%C3%A0i-%C4%91%E1%BA%B7t-eslint\">C√†i ƒë·∫∑t ESLint</a></li>\n<li><a href=\"#file-c%C3%A0i-%C4%91%E1%BA%B7t-c%E1%BB%A7a-eslint\">File c√†i ƒë·∫∑t c·ªßa ESLint</a></li>\n<li><a href=\"#javascript-thu%E1%BA%A7n\">Javascript thu·∫ßn</a></li>\n<li><a href=\"#thi%E1%BA%BFt-%C4%91%E1%BA%B7t-typescript\">Thi·∫øt ƒë·∫∑t TypeScript</a></li>\n<li>\n<p><a href=\"#thi%E1%BA%BFt-%C4%91%E1%BA%B7t-cho-react\">Thi·∫øt ƒë·∫∑t cho React</a></p>\n<ul>\n<li><a href=\"#react-javascript\">React Javascript</a></li>\n<li><a href=\"#react-typescript\">React TypeScript</a></li>\n</ul>\n</li>\n<li><a href=\"#c%C3%A0i-%C4%91%E1%BA%B7t-cho-vscode\">C√†i ƒë·∫∑t cho VSCode</a></li>\n</ul>\n<!-- /TOC -->\n<p>N·∫øu ch∆∞a r√†nh, b·∫°n c·∫ßn ƒë·ªçc t·ª´ ƒë·∫ßu t·ªõi cu·ªëi, n·∫øu ƒë√£ th√†nh th·∫°o, ch·ªâ vi·ªác nh·∫£y t·ªõi ph·∫ßn cu·ªëi r·ªìi copy config v·ªÅ x√†i.</p>\n<p>H∆∞·ªõng d·∫´n n√†y s·ª≠ d·ª•ng b·ªô config c·ªßa Airbnb, v√¨ n√≥ qu√° n·ªïi ti·∫øng v√† ƒë∆∞·ª£c s·ª≠ d·ª•ng g·∫ßn nh∆∞ l√† chu·∫©n. T·∫•t nhi√™n, b·∫°n c√≥ quy·ªÅn thay ƒë·ªïi sao cho h·ª£p <em>gu</em></p>\n<p>N·∫øu ch∆∞a bao gi·ªù <em>nghe</em> ƒë·∫øn h∆∞·ªõng d·∫´n vi·∫øt <em>code sao cho chu·∫©n</em> c·ªßa Airbnb, tham kh·∫£o c√°c b√†i vi·∫øt sau</p>\n<ul>\n<li><a href=\"https://github.com/airbnb/javascript/blob/master/README.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Airbnb JavaScript style guide</a></li>\n<li><a href=\"https://github.com/airbnb/javascript/tree/master/react\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Airbnb React style guide</a></li>\n<li><a href=\"https://github.com/airbnb/javascript/tree/master/css-in-javascript\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Airbnb CSS in JavaScript style guide</a></li>\n<li><a href=\"https://github.com/airbnb/css\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Airbnb Sass style guide</a></li>\n</ul>\n<h2 id=\"t·∫°i-sao-d√πng-eslint\"><a href=\"#t%E1%BA%A1i-sao-d%C3%B9ng-eslint\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·∫°i sao d√πng ESLint</h2>\n<p>Hi·ªán t·∫°i kh√¥ng c√≥ b·∫•t c·ª© m·ªôt ƒë·ªëi th·ªß n√†o <em>x·ª©ng t·∫ßm</em> v·ªõi ESLint, n√≥ l√† d·ª± √°n ƒë√£ v√† ƒëang ƒë∆∞·ª£c b·∫£o tr√¨ b·ªüi c·ªông ƒë·ªìng r·∫•t r·ªông l·ªõn. H·∫ßu h·∫øt c√°c ch∆∞∆°ng tr√¨nh vi·∫øt code ƒë·ªÅu h·ªó tr·ª£, ch√∫ng ta s·∫Ω kh√¥ng g·∫∑p kh√≥ khƒÉn trong vi·ªác s·ª≠ d·ª•ng n√≥ v·ªõi VSCode, Vim, Emac, WebStorm, Sublime, Atom,...</p>\n<p>T√∫m l·∫°i, ESLint l√† <strong>n·ªÅn t·∫£ng</strong> x·ªãn s√≤ nh·∫•t, b·∫°n kh√¥ng c·∫ßn lƒÉng tƒÉng t√¨m <em>ng∆∞·ªùi kh√°c</em>.</p>\n<h2 id=\"c√†i-ƒë·∫∑t-eslint\"><a href=\"#c%C3%A0i-%C4%91%E1%BA%B7t-eslint\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√†i ƒë·∫∑t ESLint</h2>\n<p>Gi·ªëng nh∆∞ b·∫•t k·ª≥ package n√†o kh√°c, ESLint c√≥ th·ªÉ ƒë∆∞·ª£c c√†i ƒë·∫∑t ·ªü 2 m·ª©c</p>\n<ul>\n<li><em>global</em>, c√†i lu√¥n v√†o m√°y <code class=\"language-inline-text\">npm -g</code></li>\n<li>ƒëi theo t·ª´ng project</li>\n</ul>\n<p>Vi·ªác c√†i ƒë·∫∑t ESLint ·ªü m·ª©c <em>global</em> kh√° l√† h·ª£p l√Ω v√¨ ch√∫ng ta mu·ªën d√πng n√≥ ·ªü m·ªçi project. Tuy nhi√™n c≈©ng <em>h·ª£p l√Ω</em> n·∫øu c√†i ri√™ng tr√™n t·ª´ng project n·∫øu b·∫°n ƒëang c·∫ßn</p>\n<ul>\n<li>C√°c phi√™n b·∫£n ESLint kh√°c nhau tr√™n t·ª´ng d·ª± √°n</li>\n<li>C√¥ng khai b·∫°n ph·ª• thu·ªôc v√†o ESLint cho project ƒë√≥</li>\n<li>ƒê·ªìng nghi·ªáp v√† c√°c c√¥ng c·ª• t·ª± ƒë·ªông (nh∆∞ m·∫•y th·∫±ng CI) c√≥ th·ªÉ c√†i ƒë·∫∑t ESlint nh∆∞ nh·ªØng package kh√°c.</li>\n</ul>\n<p>C√†i ƒë·∫∑t ESLint trong th∆∞ m·ª•c project</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i eslint --save-dev</code></pre></div>\n<p>Ch·∫°y ESLint trong project</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx eslint</code></pre></div>\n<p>ƒê·ªÉ t·∫°o m·ªôt <em>shortcut</em> cho c√¢u l·ªánh ch·∫°y eslint. B√™n trong file <code class=\"language-inline-text\">package.json</code> th√™m d√≤ng sau</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"lint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint .\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Tham s·ªë <code class=\"language-inline-text\">.</code> cho ph√©p ch·∫°y ESLint b√™n trong th∆∞ m·ª•c hi·ªán t·∫°i, ch√∫ng ta ch·∫°y l·ªánh th√¥ng qua shortcut</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> run lint</code></pre></div>\n<h2 id=\"file-c√†i-ƒë·∫∑t-c·ªßa-eslint\"><a href=\"#file-c%C3%A0i-%C4%91%E1%BA%B7t-c%E1%BB%A7a-eslint\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>File c√†i ƒë·∫∑t c·ªßa ESLint</h2>\n<p>C√≥ th·ªÉ ƒë·∫∑t file c√†i ƒë·∫∑t ESLint ·ªü <a href=\"https://eslint.org/docs/user-guide/configuring#configuration-cascading-and-hierarchy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">nhi·ªÅu v·ªã tr√≠</a>. N·∫øu kh√¥ng c√≥ nhu c·∫ßu qu√° ƒë·∫∑t bi·ªát, 1 file duy nh·∫•t ·ªü th∆∞ m·ª•c ngo√†i c√πng ( <code class=\"language-inline-text\">root</code> ) l√† ƒë·ªß.</p>\n<p>ESLint cho ph√©p s·ª≠ d·ª•ng nhi·ªÅu ki·ªÉu file</p>\n<ul>\n<li>Javascript</li>\n<li>JSON</li>\n<li>YAML</li>\n</ul>\n<p>X√†i YAML trong v√≠ d·ª• n√†y. T·∫°o file t√™n <code class=\"language-inline-text\">.eslintrc.yaml</code>, c√°i n√†y n·∫øu b·∫°n ch·∫°y <code class=\"language-inline-text\">eslint init</code> trong th∆∞ m·ª•c <code class=\"language-inline-text\">src/</code> c·ªßa d·ª± √°n n√≥ s·∫Ω h·ªèi b·∫°n c√≥ mu·ªën t·∫°o kh√¥ng, n√≥ t·∫°o d√πm cho.</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">eslint --init</code></pre></div>\n<blockquote>\n<p>N·∫øu mu·ªën th√™m <em>logic</em> b·∫±ng code, b·∫°n c·∫ßn d√πng ki·ªÉu javascript</p>\n</blockquote>\n<p>ƒêi·ªÅu c·∫ßn quan t√¢m tr∆∞·ªõc h·∫øt l√† th√¥ng b√°o cho ESLint ch√∫ng ta ƒëang vi·∫øt ng√¥n ng·ªØ g√¨, phi√™n b·∫£n n√†o, m√¥i tr∆∞·ªùng m√† code s·∫Ω ch·∫°y. N·∫øu kh√¥ng c√≥ c√°c th√¥ng tin, ESLint s·∫Ω kh√¥ng ch·∫°y ƒë∆∞·ª£c.</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">parserOptions:\n  ecmaVersion: <span class=\"token number\">6</span>\nenv:\n  node: <span class=\"token boolean\">true</span></code></pre></div>\n<h2 id=\"javascript-thu·∫ßn\"><a href=\"#javascript-thu%E1%BA%A7n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Javascript thu·∫ßn</h2>\n<p>V·ªõi project l√† javascript thu·∫ßn, to√†n b·ªô file l√† <code class=\"language-inline-text\">.js</code>, c√≥ th·ªÉ t·ª± ƒë·ªãnh nghƒ©a t·ª´ ƒë·∫ßu h·∫øt, nh∆∞ng nh∆∞ v·∫≠y kh√° m·∫•t th·ªùi gian, kh√≥ b·∫£o tr√¨, ch∆∞a ch·∫Øc chu·∫©n v√¨ n√≥ ph·ª• thu·ªôc v√†o s·ª± hi·ªÉu bi·∫øt c·ªßa b·∫°n v·ªÅ javascript</p>\n<p>R·∫•t nhi·ªÅu c√°c c√¥ng ty l·ªõn nh∆∞ <a href=\"https://github.com/google/eslint-config-google\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Google</a>, <a href=\"https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Airbnb</a>, <a href=\"https://github.com/facebook/fbjs/tree/master/packages/eslint-config-fbjs-opensource\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Facebook</a> b·ªè ra c·∫£ t·ªâ t·ªâ th·ªùi gian ƒë·ªÉ b·∫£o tr√¨ v√† c·∫≠p nh·∫≠p m·∫•y c√†i ƒë·∫∑t n√†y</p>\n<p>S·ª≠ d·ª•ng c√†i ƒë·∫∑t v·∫°n ng∆∞·ªùi y√™u th√≠ch, Airbnb</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx install-peerdeps --dev eslint-config-airbnb-base</code></pre></div>\n<p>C√°c b√†i vi·∫øt tr√™n m·∫°ng s·∫Ω k√™u b·∫°n c√†i <code class=\"language-inline-text\">eslint-config-airbnb</code>, n√≥ c√≥ bao g·ªìm lu√¥n ph·∫ßn c√†i ƒë·∫∑t cho React, React Hooks, ... . Kh√¥ng c·∫ßn thi·∫øt trong tr∆∞·ªùng h·ª£p project ch·ªâ l√† javascript th√¥ng th∆∞·ªùng.</p>\n<p>ƒê·ªÉ √Ω ch√∫ng ta <strong>KH√îNG</strong> d√πng <code class=\"language-inline-text\">npm</code> ƒë·ªÉ c√†i ƒë·∫∑t, m√† d√πng <code class=\"language-inline-text\">npx install-peerdeps</code>. N√≥ s·∫Ω c√†i lu√¥n m·∫•y package n√†o m√† <code class=\"language-inline-text\">eslint-config-airbnb-base</code> ph·ª• thu·ªôc. Tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng ESLint ch√∫ng ta s·∫Ω g·∫∑p ho√†i, v√¨ h·∫ßu nh∆∞ n√≥ ƒë·ªÅu ph·ª• thu·ªôc m·ªôt v√†i package kh√°c.</p>\n<p>C√†i xong, khai b√°o s·∫Ω k·∫ø th·ª´a b·ªô c√†i ƒë·∫∑t c·ªßa Airbnb</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">extends</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> airbnb<span class=\"token punctuation\">-</span>base</code></pre></div>\n<p>Nh·ªØng thi·∫øt ƒë·∫∑t c·ªßa airbnb c√≥ th·ªÉ n√≥i l√† r·∫•t ph·ªï bi·∫øn v√† ƒë∆∞·ª£c tin d√πng b·ªüi nhi·ªÅu d·ª± √°n l·ªõn nh·ªè kh√°c nhau. Ch√∫ng ta c√≥ th·ªÉ y√™n t√¢m s·ª≠ d·ª•ng n√≥ m√† kh√¥ng c·∫ßn thay ƒë·ªïi g√¨ nhi·ªÅu.</p>\n<p>T·ªïng k·∫øt</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"eslint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^6.1.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-config-airbnb-base\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^14.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-plugin-import\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.20.0\"</span> (peer dependency)\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">parserOptions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">ecmaVersion</span><span class=\"token punctuation\">:</span> <span class=\"token number\">6</span>\n\n<span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">node</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n\n<span class=\"token key atrule\">extends</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> eslint<span class=\"token punctuation\">:</span>recommended\n  <span class=\"token punctuation\">-</span> airbnb<span class=\"token punctuation\">-</span>base</code></pre></div>\n<h2 id=\"thi·∫øt-ƒë·∫∑t-typescript\"><a href=\"#thi%E1%BA%BFt-%C4%91%E1%BA%B7t-typescript\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thi·∫øt ƒë·∫∑t TypeScript</h2>\n<p>V·∫•n ƒë·ªÅ ch√≠nh c·ªßa TypeScript l√† ESLint kh√¥ng th·ªÉ t·ª± ƒë·ªông m√† <code class=\"language-inline-text\">parse</code> ƒë∆∞·ª£c, ch√∫ng ta ph·∫£i th√™m m·ªôt parser <a href=\"https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/parser\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@typescript-eslint/parser</a>.</p>\n<p>C√†i ƒë·∫∑t</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> @typescript-eslint/parser --save-dev</code></pre></div>\n<blockquote>\n<p>Parse l√†m nhi·ªám v·ª• ƒë·ªçc c√†i file input v√† t·∫°o ra m·ªôt <em>phi√™n b·∫£n</em> m√† ESLint hi·ªÉu ƒë∆∞·ª£c.</p>\n</blockquote>\n<p>Khai b√°o d√πng parser n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">parser</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"@typescript-eslint/parser\"</span></code></pre></div>\n<p>ƒê·ªìng th·ªùi c·∫≠p nh·∫≠p lu√¥n <code class=\"language-inline-text\">package.json</code> v√† b√°o v·ªõi ESLint ƒë·ª´ng ki·ªÉm tra file <code class=\"language-inline-text\">.js</code> m√† ki·ªÉm tra file <code class=\"language-inline-text\">.ts</code></p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"lint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint . --ext .ts\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>T∆∞∆°ng t·ª± nh∆∞ javascript, ch√∫ng ta d√πng b·ªô thi·∫øt ƒë·∫∑t c·ªßa Airbnb</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx install-peerdeps --dev eslint-config-airbnb-typescript\n<span class=\"token function\">npm</span> i eslint-plugin-import --save-dev</code></pre></div>\n<p><code class=\"language-inline-text\">eslint-plugin-import</code> ph·∫£i ƒë∆∞·ª£c c√†i ƒë·∫∑t ri√™ng, th·ªß c√¥ng, kh√¥ng r√µ l√Ω do t·∫°i sao lu√¥n.</p>\n<p>C·∫≠p nh·∫≠p l·∫°i file config ESLint</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">extends</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> airbnb<span class=\"token punctuation\">-</span>typescript/base\n  <span class=\"token punctuation\">-</span> plugin<span class=\"token punctuation\">:</span>@typescript<span class=\"token punctuation\">-</span>eslint/recommended</code></pre></div>\n<p>B·∫°n c√≥ th·ªÉ th·∫Øc m·∫Øc, t·∫°i sao ch∆∞a c√†i <code class=\"language-inline-text\">@typescript-eslint</code> m√† c√≥ th·ªÉ s·ª≠ d·ª•ng, th·∫≠t ra l√∫c c√†i <code class=\"language-inline-text\">eslint-config-airbnb-typescript</code> ch√∫ng ta ƒë√£ c√†i lu√¥n n√≥ b·∫±ng <code class=\"language-inline-text\">npx install-peerdeps</code></p>\n<p>C√≥ th·ªÉ rule kh√°c n·ªØa c√≥ th·ªÉ tham kh·∫£o <a href=\"https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/eslint-plugin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">tr·ª±c ti·∫øp t·ª´ t√†i li·ªáu tr√™n github</a></p>\n<p>Cu·ªëi c√πng, b·∫°n s·∫Ω th·∫•y c√≥ r·∫•t nhi·ªÅu b√†i vi·∫øt tr√™n m·∫°ng, ch·ªâ b·∫°n thi·∫øt ƒë·∫∑t</p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">plugins</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token string\">\"@typescript-eslint\"</span></code></pre></div>\n<p>N·∫øu kh√¥ng s·ª≠ d·ª•ng c√°c thi·∫øt ESLint ƒë∆∞·ª£c ƒë·ªÅ ngh·ªã, c√°i n√†y kh√¥ng c·∫ßn thi·∫øt. L√Ω do l√† Airbnb ƒë√£ b·∫≠t lu√¥n c√°c rule nh∆∞ v·∫≠y.</p>\n<p>T·ªïng k·∫øt</p>\n<p><strong>package.json</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"@typescript-eslint/eslint-plugin\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.17.0\"</span><span class=\"token punctuation\">,</span> (peer dependency)\n  <span class=\"token property\">\"@typescript-eslint/parser\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.17.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^6.8.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-config-airbnb-typescript\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^6.3.1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-plugin-import\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.20.0\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>.eslintrc.yaml</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">parserOptions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">ecmaVersion</span><span class=\"token punctuation\">:</span> <span class=\"token number\">6</span>\n\n<span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">node</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n\n<span class=\"token key atrule\">extends</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> airbnb<span class=\"token punctuation\">-</span>typescript/base\n  <span class=\"token punctuation\">-</span> plugin<span class=\"token punctuation\">:</span>@typescript<span class=\"token punctuation\">-</span>eslint/recommended</code></pre></div>\n<h2 id=\"thi·∫øt-ƒë·∫∑t-cho-react\"><a href=\"#thi%E1%BA%BFt-%C4%91%E1%BA%B7t-cho-react\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thi·∫øt ƒë·∫∑t cho React</h2>\n<p>Th√™m c√°c thi·∫øt ƒë·∫∑t ESLint cho React v√¥ c√πng ƒë∆°n gi·∫£n, m·ªçi th·ª© ƒë√£ c√≥ Airbnb lo.</p>\n<p>M·ªôt trong nh·ªØng sai l·∫ßm ph·ªï bi·∫øn l√† cho r·∫±ng vi·∫øt nh∆∞ b√™n d∆∞·ªõi s·∫Ω b·∫≠t h·ªó tr·ª£ React</p>\n<p><strong>.eslintrc.yaml</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">parserOptions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">ecmaFeatures</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">jsx</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>React s·ª≠ d·ª•ng JSX, nh∆∞ng theo c√°ch m√† ESLint kh√¥ng th·ªÉ <strong>hi·ªÉu n·ªïi</strong>. ƒê·ªÉ React v√† ESLint <em>n√≥i chuy·ªán</em> ƒë∆∞·ª£c v·ªõi nhau, ch√∫ng ta ph·∫£i s·ª≠ d·ª•ng <code class=\"language-inline-text\">eslint-plugin-react</code></p>\n<h3 id=\"react-javascript\"><a href=\"#react-javascript\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>React Javascript</h3>\n<p>C√†i ƒë·∫∑t package</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx install-peerdeps --dev eslint-config-airbnb</code></pre></div>\n<p><strong>.eslintrc.yaml</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">extends</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> airbnb\n<span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">browser</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p><strong>package.json</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"lint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint . --ext .js,.jsx\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>N·∫øu c√≥ s·ª≠ d·ª•ng React Hook, b·∫°n n√™n th√™m ph·∫ßn c√†i ƒë·∫∑t sau (c√≥ b·ªè qua vi·ªác ki·ªÉm tra accessibility)</p>\n<p><strong>.eslintrc.yaml</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">extends</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> airbnb<span class=\"token punctuation\">-</span>base\n  <span class=\"token punctuation\">-</span> airbnb/rules/react\n  <span class=\"token punctuation\">-</span> airbnb/hooks</code></pre></div>\n<p>T·ªïng k·∫øt</p>\n<p><strong>package.json</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"eslint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^6.1.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-config-airbnb\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^18.0.1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-plugin-import\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.20.0\"</span><span class=\"token punctuation\">,</span> (peer dependency)\n  <span class=\"token property\">\"eslint-plugin-jsx-a11y\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^6.2.3\"</span><span class=\"token punctuation\">,</span> (peer dependency)\n  <span class=\"token property\">\"eslint-plugin-react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.18.0\"</span><span class=\"token punctuation\">,</span> (peer dependency)\n  <span class=\"token property\">\"eslint-plugin-react-hooks\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^1.7.0\"</span> (peer dependency)\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>.eslintrc.yaml</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">parserOptions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">ecmaVersion</span><span class=\"token punctuation\">:</span> <span class=\"token number\">6</span>\n\n<span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">browser</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n\n<span class=\"token key atrule\">extends</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> airbnb\n  <span class=\"token punctuation\">-</span> airbnb/hooks\n\n<span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">react/react-in-jsx-scope</span><span class=\"token punctuation\">:</span> off</code></pre></div>\n<p><a href=\"https://github.com/yannickcr/eslint-plugin-react#list-of-supported-rules\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">R·∫£nh ng·ªìi xem to√†n b·ªô thi·∫øt ƒë·∫∑t</a></p>\n<h3 id=\"react-typescript\"><a href=\"#react-typescript\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>React TypeScript</h3>\n<p>N·∫øu d√πng TypeScript, ch√∫ng ta kh√¥ng th·ªÉ c√†i theo ki·ªÉu <code class=\"language-inline-text\">npx install-peerdeps</code>, m√† ph·∫£i c√†i ƒë·ªôc l·∫≠p</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> eslint-config-airbnb-typescript <span class=\"token punctuation\">\\</span>\n            eslint-plugin-import <span class=\"token punctuation\">\\</span>\n            eslint-plugin-jsx-a11y <span class=\"token punctuation\">\\</span>\n            eslint-plugin-react <span class=\"token punctuation\">\\</span>\n            eslint-plugin-react-hooks <span class=\"token punctuation\">\\</span>\n            @typescript-eslint/eslint-plugin <span class=\"token punctuation\">\\</span>\n            --save-dev</code></pre></div>\n<p><strong>.eslintrc.yaml</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">parserOptions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">ecmaVersion</span><span class=\"token punctuation\">:</span> <span class=\"token number\">6</span>\n\n<span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">browser</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n\n<span class=\"token key atrule\">extends</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> airbnb<span class=\"token punctuation\">-</span>typescript\n  <span class=\"token punctuation\">-</span> airbnb/hooks\n  <span class=\"token punctuation\">-</span> plugin<span class=\"token punctuation\">:</span>@typescript<span class=\"token punctuation\">-</span>eslint/recommended\n\n<span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">react/react-in-jsx-scope</span><span class=\"token punctuation\">:</span> off</code></pre></div>\n<p><strong>package.json</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"eslint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^6.8.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"@typescript-eslint/eslint-plugin\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.17.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-config-airbnb-typescript\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^6.3.1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-plugin-import\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.20.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-plugin-jsx-a11y\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^6.2.3\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-plugin-react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.18.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-plugin-react-hooks\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.3.0\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"lint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint . --ext .ts,.tsx\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"c√†i-ƒë·∫∑t-cho-vscode\"><a href=\"#c%C3%A0i-%C4%91%E1%BA%B7t-cho-vscode\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√†i ƒë·∫∑t cho VSCode</h2>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">VSCode ƒë√£ c√≥ plugin</a> kh√° th·∫ßn th√°nh ƒë·ªÉ h·ªó tr·ª£ ESLint. C√°c thi·∫øt ƒë·∫∑t y√™u th√≠ch c·ªßa m√¨nh</p>\n<p>T·ª± ƒë·ªông ch·∫°y lint khi save</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"eslint.run\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"onSave\"</span></code></pre></div>\n<p>VSCode s·∫Ω ki·ªÉm tra tr√™n JS, JSX, TS, TSX</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"eslint.validate\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"javascript\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"javascriptreact\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"typescript\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"typescriptreact\"</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>Ch·ªçn ki·ªÉu nh√°y ƒë∆°n</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"javascript.preferences.quoteStyle\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"single\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"typescript.preferences.quoteStyle\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"single\"</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>T·ª± ƒë·ªông c·∫≠p nh·∫≠p v·ªã tr√≠ file</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"javascript.updateImportsOnFileMove.enabled\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"always\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"typescript.updateImportsOnFileMove.enabled\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"always\"</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><a href=\"https://blog.geographer.fr/eslint-guide\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ESLint configuration and best practices</a></p>\n","cover_image":""}},{"node":{"id":"d8795a1d2d36d8b231145f80a5f79d96","title":"Ki·ªÉu enum trong TypeScript: l√†m vi·ªác nh∆∞ th·∫ø n√†o, s·ª≠ d·ª•ng ra sao","path":"/2020-02-01-huong-dan-kieu-enum-trong-typescript-can-ban/","date":"2020-02-01","timeToRead":4,"desc":"Ch√∫ng ta s·∫Ω tr·∫£ l·ªùi 2 c√¢u h·ªèi sau: enum c·ªßa TypeScript l√†m vi·ªác nh∆∞ th·∫ø n√†o, N√≥ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l√†m g√¨. V·ªü l√≤ng cho ng∆∞·ªùi m·ªõi vi·∫øt TypeScript","content":"<h2 id=\"c√°c-kh√°i-ni·ªám-cƒÉn-b·∫£n-c·ªßa-enum\"><a href=\"#c%C3%A1c-kh%C3%A1i-ni%E1%BB%87m-c%C4%83n-b%E1%BA%A3n-c%E1%BB%A7a-enum\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°c kh√°i ni·ªám cƒÉn b·∫£n c·ªßa enum</h2>\n<p>Javascript ch·ªâ c√≥ ƒë√∫ng m·ªôt ki·ªÉu m√† gi√° tr·ªã b·ªã r√†ng bu·ªôc <em>r·∫•t c·ª• th·ªÉ</em>: <code class=\"language-inline-text\">boolean</code>, gi√° tr·ªã ch·ªâ ƒë∆∞·ª£c ph√©p l√† <code class=\"language-inline-text\">true</code> ho·∫∑c <code class=\"language-inline-text\">false</code>, kh√¥ng ch·∫•p nh·∫≠n m·ªôt gi√° tr·ªã n√†o kh√°c. <code class=\"language-inline-text\">Enum</code> l√† phi√™n b·∫£n <em>m·ªü r·ªông</em> v·ªõi c√¥ng d·ª•ng t∆∞∆°ng t·ª± nh∆∞ <code class=\"language-inline-text\">boolean</code></p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> NoYes <span class=\"token punctuation\">{</span>\n    No<span class=\"token punctuation\">,</span>\n    Yes\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>2 gi√° tr·ªã <code class=\"language-inline-text\">No</code> <code class=\"language-inline-text\">Yes</code> ƒë∆∞·ª£c g·ªçi l√† th√†nh vi√™n c·ªßa h·ªôi <code class=\"language-inline-text\">enum</code> <code class=\"language-inline-text\">NoYes</code>. D√πng n√≥ nh∆∞ m·ªôt <code class=\"language-inline-text\">object</code>, ch√∫ng ta c√≥ th·ªÉ <em>ch·∫•m</em> ƒë·∫øn gi√° tr·ªã ƒë√≥</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">toGerman</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> NoYes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> NoYes<span class=\"token punctuation\">.</span>No<span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token string\">'Nein'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> NoYes<span class=\"token punctuation\">.</span>Yes<span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token string\">'Ja'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>T·∫•t c·∫£ th√†nh vi√™n c·ªßa h·ªôi <code class=\"language-inline-text\">enum</code> ƒë·ªÅu ƒë∆∞·ª£c c·∫•p m·ªôt <em>th·∫ª th√†nh vi√™n</em> g·ªìm <code class=\"language-inline-text\">name</code> v√† <code class=\"language-inline-text\">value</code>. ·ªû tr√™n ch√∫ng ta ch·ªâ ƒëang khai b√°o ph·∫ßn <code class=\"language-inline-text\">name</code> cho enum, <code class=\"language-inline-text\">value</code> l√∫c ƒë√≥ s·∫Ω l·∫•y m·∫∑c ƒë·ªãnh l√† s·ªë t·ª´ 0 ƒëi l√™n</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> NoYes <span class=\"token punctuation\">{</span>\n  No<span class=\"token punctuation\">,</span>\n  Yes<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// n·∫øu khai b√°o m·ªôt c√°ch t∆∞·ªùng minh h∆°n</span>\n<span class=\"token keyword\">enum</span> NoYes <span class=\"token punctuation\">{</span>\n  No <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n  Yes <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\nassert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>NoYes<span class=\"token punctuation\">.</span>No<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nassert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>NoYes<span class=\"token punctuation\">.</span>Yes<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>N·∫øu c√† kh·ªãa, khai b√°o nh∆∞ th·∫ø n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> Enum <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">A</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">B</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">C</span> <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">D</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">E</span> <span class=\"token operator\">=</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">F</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒê·ªìng nghƒ©a l√† c√°c gi√° tr·ªã k·∫ø ti·∫øp s·∫Ω t·ª± ƒë·ªông tƒÉng l√™n m·ªôt, so v·ªõi gi√° tr·ªã khai b√°o tr∆∞·ªõc ƒë√≥</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">assert<span class=\"token punctuation\">.</span><span class=\"token function\">deepEqual</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">[</span>Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">A</span><span class=\"token punctuation\">,</span> Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">B</span><span class=\"token punctuation\">,</span> Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">C</span><span class=\"token punctuation\">,</span> Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">D</span><span class=\"token punctuation\">,</span> Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">E</span><span class=\"token punctuation\">,</span> Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">F</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>V·ªÅ c√°ch ƒë·∫∑t t√™n (<code class=\"language-inline-text\">name</code>) trong <code class=\"language-inline-text\">enum</code>, c≈©ng c√≥ v√†i ba l·ª±a ch·ªçn</p>\n<ul>\n<li>ƒê·∫∑t theo ki·ªÉu JavaScript, vi·∫øt hoa h·∫øt, <code class=\"language-inline-text\">Number,MAX_VALUE</code></li>\n<li>ƒê·∫∑t theo ki·ªÉu symbol, con l·∫°c ƒë√†, ch·ªØ ƒë·∫ßu vi·∫øt th∆∞·ªùng, <code class=\"language-inline-text\">Symbol.asyncIterator</code></li>\n<li>Ki·ªÉu TypeScript, con l·∫°c ƒë√†, ch·ªØ ƒë·∫ßu vi·∫øt hoa, <code class=\"language-inline-text\">Number.MaxValue</code></li>\n</ul>\n<p>T∆∞∆°ng t·ª± nh∆∞ object, ch√∫ng ta c√≥ th·ªÉ truy xu·∫•t ƒë·∫øn m·ªôt th√†nh vi√™n c·ªßa h·ªôi b·∫±ng c√°ch vi·∫øt sau</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> HttpRequestField <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">'Accept'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'Accept-Charset'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'Accept-Datetime'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'Accept-Encoding'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'Accept-Language'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\nassert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>HttpRequestField<span class=\"token punctuation\">[</span><span class=\"token string\">'Accept-Charset'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Gi√° tr·ªã <code class=\"language-inline-text\">value</code> c·ªßa enum, kh√¥ng b·∫Øt bu·ªôc l√† m·ªôt number, c√≥ th·ªÉ l√† m·ªôt <code class=\"language-inline-text\">string</code></p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> NoYes <span class=\"token punctuation\">{</span>\n  No <span class=\"token operator\">=</span> <span class=\"token string\">'No'</span><span class=\"token punctuation\">,</span>\n  Yes <span class=\"token operator\">=</span> <span class=\"token string\">'Yes'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\nassert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>NoYes<span class=\"token punctuation\">.</span>No<span class=\"token punctuation\">,</span> <span class=\"token string\">'No'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nassert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>NoYes<span class=\"token punctuation\">.</span>Yes<span class=\"token punctuation\">,</span> <span class=\"token string\">'Yes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>C√≤n m·ªôt c√°ch khai b√°o, √≠t ƒë∆∞·ª£c s·ª≠ d·ª•ng, l√† ki·ªÉu xƒÉng pha nh·ªõt, c√°c gi√° tr·ªã trong enum c√≥ th·ªÉ l√† s·ªë c≈©ng c√≥ th·ªÉ l√† ch·ªØ</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> Enum <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">A</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">B</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">C</span> <span class=\"token operator\">=</span> <span class=\"token string\">'C'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">D</span> <span class=\"token operator\">=</span> <span class=\"token string\">'D'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">E</span> <span class=\"token operator\">=</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">F</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\nassert<span class=\"token punctuation\">.</span><span class=\"token function\">deepEqual</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">[</span>Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">A</span><span class=\"token punctuation\">,</span> Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">B</span><span class=\"token punctuation\">,</span> Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">C</span><span class=\"token punctuation\">,</span> Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">D</span><span class=\"token punctuation\">,</span> Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">E</span><span class=\"token punctuation\">,</span> Enum<span class=\"token punctuation\">.</span><span class=\"token constant\">F</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'C'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'D'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Theo nh∆∞ kinh nghi·ªám t·ª´ c√°c b·∫≠t ti·ªÅn b·ªëi, s·ª≠ d·ª•ng enum th√¨ n√™n d√πng ki·ªÉu gi√° tr·ªã <code class=\"language-inline-text\">string</code></p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> NoYes <span class=\"token punctuation\">{</span> No <span class=\"token operator\">=</span> <span class=\"token string\">'NO'</span><span class=\"token punctuation\">,</span> Yes <span class=\"token operator\">=</span> <span class=\"token string\">'YES'</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>N·∫øu c√≥ <em>log</em> ra ch√∫ng ta c≈©ng bi·∫øt ƒë∆∞·ª£c gi√° tr·ªã ch√≠nh x√°c l√† g√¨, ƒë·ª° hack n√£o ng·ªìi ƒë·∫øm s·ªë th·ª© t·ª±</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>NoYes<span class=\"token punctuation\">.</span>No<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>NoYes<span class=\"token punctuation\">.</span>Yes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Th√™m n·ªØa, r√†ng bu·ªôc ƒë∆∞·ª£c lu√¥n ki·ªÉu gi√° tr·ªã</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span>noYes<span class=\"token operator\">:</span> NoYes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token string\">'abc'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">func</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Yes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"tr∆∞·ªùng-h·ª£p-s·ª≠-d·ª•ng-enum\"><a href=\"#tr%C6%B0%E1%BB%9Dng-h%E1%BB%A3p-s%E1%BB%AD-d%E1%BB%A5ng-enum\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng enum</h2>\n<h3 id=\"h·∫±ng-s·ªë-nhi·ªÅu-gi√°-tr·ªã\"><a href=\"#h%E1%BA%B1ng-s%E1%BB%91-nhi%E1%BB%81u-gi%C3%A1-tr%E1%BB%8B\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>h·∫±ng s·ªë nhi·ªÅu gi√° tr·ªã</h3>\n<p>N·∫øu ch√∫ng ta c√≥ m·ªôt <em>m·ªõ</em> c√°c h·∫±ng s·ªë, c√≥ quan h·ªá h·ªç h√†ng g·∫ßn v·ªõi nhau</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> fatal <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fatal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> error <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> warn <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token string\">'warn'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> info <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token string\">'info'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> debug <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token string\">'debug'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> trace <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token string\">'trace'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>C√≥ th·ªÉ d√πng enum</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> LogLevel <span class=\"token punctuation\">{</span>\n  fatal <span class=\"token operator\">=</span> <span class=\"token string\">'fatal'</span><span class=\"token punctuation\">,</span>\n  error <span class=\"token operator\">=</span> <span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span>\n  warn <span class=\"token operator\">=</span> <span class=\"token string\">'warn'</span><span class=\"token punctuation\">,</span>\n  info <span class=\"token operator\">=</span> <span class=\"token string\">'info'</span><span class=\"token punctuation\">,</span>\n  debug <span class=\"token operator\">=</span> <span class=\"token string\">'debug'</span><span class=\"token punctuation\">,</span>\n  trace <span class=\"token operator\">=</span> <span class=\"token string\">'trace'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>L·ª£i √≠ch mang l·∫°i: nh√≥m l·∫°i v·ªõi nhau m·ªôt c·ª•c, TypeScript d·ªÖ ƒë√†ng ki·ªÉm tra gi√∫p ch√∫ng ta</p>\n<h3 id=\"t∆∞·ªùng-minh-h∆°n-boolean\"><a href=\"#t%C6%B0%E1%BB%9Dng-minh-h%C6%A1n-boolean\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T∆∞·ªùng minh h∆°n boolean</h3>\n<p>Ch√∫ng ta hay d√πng boolean ƒë·ªÉ l√†m <em>c·ªù</em> b·∫≠t t·∫Øt ho·∫∑c ƒë·∫£o ng∆∞·ª£c gi√° tr·ªã</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">List1</span> <span class=\"token punctuation\">{</span> isOrdered<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>N·∫øu d√πng enum, n√≥ s·∫Ω r√µ nghƒ©a h∆°n, nhi·ªÅu l·ª±a ch·ªçn h∆°n</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> ListKind <span class=\"token punctuation\">{</span> ordered<span class=\"token punctuation\">,</span> unordered <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">List2</span> <span class=\"token punctuation\">{</span>\n  listKind<span class=\"token operator\">:</span> ListKind<span class=\"token punctuation\">;</span>\n  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"string-l√†-m·ªôt-h·∫±ng-s·ªë-ƒë√∫ng-nghƒ©a-an-to√†n-h∆°n-v√¨-kh√¥ng-th·ªÉ-thay-ƒë·ªïi-ƒë∆∞·ª£c-gi√°-tr·ªã\"><a href=\"#string-l%C3%A0-m%E1%BB%99t-h%E1%BA%B1ng-s%E1%BB%91-%C4%91%C3%BAng-ngh%C4%A9a-an-to%C3%A0n-h%C6%A1n-v%C3%AC-kh%C3%B4ng-th%E1%BB%83-thay-%C4%91%E1%BB%95i-%C4%91%C6%B0%E1%BB%A3c-gi%C3%A1-tr%E1%BB%8B\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>String l√† m·ªôt h·∫±ng s·ªë ƒë√∫ng nghƒ©a, an to√†n h∆°n v√¨ kh√¥ng th·ªÉ thay ƒë·ªïi ƒë∆∞·ª£c gi√° tr·ªã</h3>\n<p>V√≠ d·ª• h√†m b√™n d∆∞·ªõi d√πng <code class=\"language-inline-text\">const</code></p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token constant\">GLOBAL</span> <span class=\"token operator\">=</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">NOT_GLOBAL</span> <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Globalness</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> <span class=\"token constant\">GLOBAL</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">typeof</span> <span class=\"token constant\">NOT_GLOBAL</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">createRegExp</span><span class=\"token punctuation\">(</span>source<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\n  globalness<span class=\"token operator\">:</span> Globalness <span class=\"token operator\">=</span> <span class=\"token constant\">NOT_GLOBAL</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">,</span> <span class=\"token string\">'u'</span> <span class=\"token operator\">+</span> globalness<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\nassert<span class=\"token punctuation\">.</span><span class=\"token function\">deepEqual</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">createRegExp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'abc'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">GLOBAL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">abc</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">ug</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>d√πng enum ti·ªán h∆°n</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> Globalness <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">GLOBAL</span> <span class=\"token operator\">=</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">NOT_GLOBAL</span> <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">createRegExp</span><span class=\"token punctuation\">(</span>source<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> globalness <span class=\"token operator\">=</span> Globalness<span class=\"token punctuation\">.</span><span class=\"token constant\">NOT_GLOBAL</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">,</span> <span class=\"token string\">'u'</span> <span class=\"token operator\">+</span> globalness<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nassert<span class=\"token punctuation\">.</span><span class=\"token function\">deepEqual</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">createRegExp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'abc'</span><span class=\"token punctuation\">,</span> Globalness<span class=\"token punctuation\">.</span><span class=\"token constant\">GLOBAL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">abc</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">ug</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"enum-l√∫c-ch·∫°y-th√¨-s·∫Ω-tr·ªü-th√†nh-g√¨\"><a href=\"#enum-l%C3%BAc-ch%E1%BA%A1y-th%C3%AC-s%E1%BA%BD-tr%E1%BB%9F-th%C3%A0nh-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Enum l√∫c ch·∫°y th√¨ s·∫Ω tr·ªü th√†nh g√¨?</h2>\n<p>Sau khi TypeScript ƒë√£ compile, enum s·∫Ω ƒë∆∞·ª£c ƒë∆∞·ª£c chuy·ªÉn th√†nh javascript object</p>\n<div class=\"gridsome-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> NoYes <span class=\"token punctuation\">{</span>\n  No<span class=\"token punctuation\">,</span>\n  Yes<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> NoYes<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">NoYes</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  NoYes<span class=\"token punctuation\">[</span>NoYes<span class=\"token punctuation\">[</span><span class=\"token string\">\"No\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"No\"</span><span class=\"token punctuation\">;</span>\n  NoYes<span class=\"token punctuation\">[</span>NoYes<span class=\"token punctuation\">[</span><span class=\"token string\">\"Yes\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Yes\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>NoYes <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>NoYes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><a href=\"https://2ality.com/2020/01/typescript-enums.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TypeScript enums: How do they work? What can they be used for?</a></p>\n","cover_image":""}},{"node":{"id":"8f789cc3ef4f44d6a5dae61c71e8bc64","title":"Kim ch·ªâ nam m√† Vue 3 ƒë√£ √°p d·ª•ng khi thi·∫øt k·∫ø","path":"/2020-01-29-nguyen-tac-thiet-ke-cua-vue-3/","date":"2020-01-29","timeToRead":10,"desc":"Kim ch·ªâ nam (principle) ƒë∆∞·ª£c √°p d·ª•ng khi c·∫ßn ƒë∆∞a ra m·ªôt quy·∫øt ƒë·ªãnh k·ªπ thu·∫≠t tr∆∞·ªõc v√¥ v√†ng c√°c l·ª±a ch·ªçn. N·∫øu b·∫°n ƒë√£ bi·∫øt ƒë∆∞·ª£c m·ªçi th·ª© v·∫≠n h√†nh nh∆∞ th·∫ø n√†o, th√¨ ƒë√£ ƒë·∫øn l√∫c b·∫°n ti·∫øn m·ªôt b∆∞·ªõc xa h∆°n, tr·∫£ l·ªùi cho c√¢u h·ªèi t·∫°i sao","content":"<p><em>M·ªôt ph√∫t qu·∫£ng c√°o</em></p>\n<p>Th·ªùi ƒëi·ªÉm hi·ªán c√≥ kho·∫£ng <strong>1 tri·ªáu ng∆∞·ªùi ƒëang s·ª≠ d·ª•ng</strong> <a href=\"https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">add-on Vue.js devtools</a> c·ªßa Chrome, ƒë√¢y l√† con s·ªë ph·∫£n √°nh c√≥ bao nhi√™u l·∫≠p tr√¨nh vi√™n ƒëang <em>th·ª±c s·ª±</em> s·ª≠ d·ª•ng Vue, m·ªôt con s·ªë kh√¥ng h·ªÅ nh·ªè. C√≤n tr√™n Github, <strong>Vue ƒë√£ v∆∞·ª£t m·∫∑t React</strong> ƒë·ªÉ tr·ªü th√†nh b·ªô <a href=\"https://risingstars.js.org/2019/en/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">c√¥ng c·ª• ph·ªï bi·∫øn nh·∫•t c·ªßa Frontend</a>, +31.4k l∆∞·ª£t th√≠ch so v·ªõi +22.9k c·ªßa React, ri√™ng b·ªô Vue Element Admin c≈©ng c√≥ t·ªõi +22.7k l∆∞·ª£t th√≠ch.</p>\n<p>Nhi·ªÅu th∆∞∆°ng hi·ªáu v√† t√™n tu·ªïi l·ªõn tin t∆∞·ªüng s·ª≠ d·ª•ng Vue, trong ƒë√≥ c√≥ Lois Vuitton (Vue + Nuxt), m·ªôt ph·∫ßn newsfeed c·ªßa Facebook, Netflix, Adobe, Grammarly, GitLab, Behance <a href=\"https://www.netguru.com/blog/13-top-companies-that-have-trusted-vue.js-examples-of-applications\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Danh s√°ch 13 c√¥ng ty s·ª≠ d·ª•ng Vue.js</a></p>\n<h2 id=\"bi·∫øt-ng∆∞·ªùi-bi·∫øt-ta-trƒÉm-tr·∫≠n-trƒÉm-th·∫Øng\"><a href=\"#bi%E1%BA%BFt-ng%C6%B0%E1%BB%9Di-bi%E1%BA%BFt-ta-tr%C4%83m-tr%E1%BA%ADn-tr%C4%83m-th%E1%BA%AFng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Bi·∫øt ng∆∞·ªùi, bi·∫øt ta, trƒÉm tr·∫≠n trƒÉm th·∫Øng</h2>\n<p>Ng√†y ƒë·∫ßu ra ƒë·ªùi, Vue l√† m·ªôt d·ª± √°n <em>ngo√†i c√¥ng ty</em>, l√†m bu·ªïi t·ªëi c·ªßa t√°c gi·∫£, kh√¥ng h·ªÅ c·∫ßn c√¢n nh·∫Øc l·ª±a ch·ªçn n√†o m·ªõi ƒë√∫ng v·ªõi y√™u c·∫ßu th·ª±c t·∫ø, t·∫•t c·∫£ ƒë∆∞·ª£c d·ª±a tr√™n nh·ªØng g√¨ t√¥i mu·ªën, c√°c nh√¢n t√¥i th√≠ch nh∆∞ v·∫≠y (t√¥i ·ªü ƒë√¢y l√† Evan You). Khi b·∫Øt ƒë·∫ßu ƒë∆∞·ª£c s·ª± ƒë√≥n nh·∫≠n t·ª´ c·ªông ƒë·ªìng, c√†ng nhi·ªÅu ng∆∞·ªùi s·ª≠ d·ª•ng, b·∫Øt ƒë·∫ßu c√≥ nh·ªØng nhu c·∫ßu kh√°c nhau ƒë·∫øn t·ª´ nh·ªØng ƒë·ªëi t∆∞·ª£ng ng∆∞·ªùi s·ª≠ d·ª•ng kh√°c nhau. V·ªõi ng∆∞·ªùi thi·∫øt k·∫ø ra framework nh∆∞ t√¥i v√† ƒë·ªôi ng≈©, tr√°ch nhi·ªám ƒë√°p ·ª©ng nhu c·∫ßu n√†y c·ªßa ng∆∞·ªùi s·ª≠ d·ª•ng l√† ƒëi·ªÅu r·∫•t quan tr·ªçng, kh√¥ng nh∆∞ nh·ªØng d·ª± √°n m√† ph√≠a sau l√† c√°c t·∫≠p ƒëo√†n c√¥ng ty l·ªõn, ƒë·∫ßu ti√™n h·ªç s·∫Ω t√¨m v√† gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ c·ªßa c√¥ng ty tr∆∞·ªõc, sau ƒë√≥ ƒë∆∞a m·ªôt ph·∫ßn source code ra b√™n ngo√†i cho c·ªông ƒë·ªìng s·ª≠ d·ª•ng (open source), v·ªõi Vue, m·ª•c ti√™u cao nh·∫•t l√† hi·ªÉu ƒë∆∞·ª£c <strong>ai l√† ng∆∞·ªùi d√πng Vue, h·ªç d√πng n√≥ ƒë·ªÉ l√†m g√¨, trong tr∆∞·ªùng h·ª£p n√†o</strong>.</p>\n<p><strong>Ch√∫ng t√¥i li·ªát k√™ ra nh·ªØng ƒë·ªëi t∆∞·ª£ng ng∆∞·ªùi s·ª≠ d·ª•ng Vue bao g·ªìm:</strong></p>\n<ul>\n<li>Ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu, bi·∫øt cƒÉn b·∫£n HTML/CSS    </li>\n<li>D√¢n <em>chuy√™n nghi·ªáp</em> chuy·ªÉn qua t·ª´ jQuery    </li>\n<li>Nh·ªØng ng∆∞·ªùi ƒë√£ t·ª´ng s·ª≠ d·ª•ng m·ªôt framework kh√°c nh∆∞ React, Angular v√† mu·ªën chuy·ªÉn sang d√πng Vue, ƒë·ªÉ xem n√≥ l√† g√¨, c√≥ ngon l√†nh kh√¥ng</li>\n<li>L·∫≠p tr√¨nh vi√™n backend, c√≥ chuy√™n m√¥n ·ªü nh·ªØng ng√¥n ng·ªØ kh√°c, mu·ªën t√¨m m·ªôt framework frontend g·ªçn nh·∫π, c√≥ th·ªÉ d·ªÖ d√†ng ti·∫øp c·∫≠n</li>\n<li>Nh·ªØng ng∆∞·ªùi ch·ªãu tr√°ch nhi·ªám k·ªπ thu·∫≠t ·ªü m·ªôt c√¥ng ty (TA, CTO, Lead), t√¨m ki·∫øm m·ªôt gi·∫£i ph√°p n·ªÅn t·∫£ng frontend cho c√¥ng ty</li>\n</ul>\n<p><strong>C√°c d·ª± √°n ƒë∆∞·ª£c c√¢n nh·∫Øc khi s·ª≠ d·ª•ng Vue g·ªìm c√≥</strong></p>\n<ul>\n<li>ƒê∆∞a m·ªôt v√†i t∆∞∆°ng t√°c v√†o trong m·ªôt <strong>·ª©ng d·ª•ng ƒë√£ l√¢u ƒë·ªùi</strong> n√†o ƒë√≥, n·∫øu vi·∫øt l·∫°i t·ª´ ƒë·∫ßu l√† ƒëi·ªÅu kh√¥ng th·ªÉ    </li>\n<li>D·ª± √°n c√≥ <strong>v√≤ng ƒë·ªùi ng·∫Øn</strong>, kh√¥ng c·∫ßn c√¢n nh·∫Øc ƒë·∫øn v·∫•n ƒë·ªÅ b·∫£o tr√¨ n√¢ng c·∫•p sau n√†y, coi nh∆∞ vi·∫øt m·ªôt l·∫ßn, ƒë·ªÉ ƒë√≥ x√†i lu√¥n, mu·ªën ƒë∆∞a n√≥ ra th·ªã tr∆∞·ªùng c√†ng s·ªõm c√†ng t·ªët (landing page)    </li>\n<li>D·ª± √°n <strong>t∆∞∆°ng ƒë·ªëi v·ª´a ph·∫£i, kh√¥ng qu√° l·ªõn, kh√¥ng qu√° nh·ªè, ƒë·ªô ph·ª©c t·∫°p c√≥ th·ªÉ ƒëo√°n tr∆∞·ªõc ƒë∆∞·ª£c</strong>, c√≥ th·ªÉ ƒë√¢u ƒë√≥ trong d·ª± √°n s·∫Ω c√≥ ch√∫t h∆°i r·ªëi r·∫Øm, nh∆∞ng kh√¥ng ·∫£nh h∆∞·ªüng v√† b·∫°n c√≥ th·ªÉ ch·∫•p nh·∫≠n n√≥.    </li>\n<li>D·ª± √°n l·ªõn, b·∫°n s·∫Ω <strong>l√†m vi·ªác tr√™n source code c·∫£ nƒÉm, v·ªõi nhi·ªÅu ng∆∞·ªùi c√πng l√†m chung, nhi·ªÅu ng∆∞·ªùi ra v√†o nh√≥m.</strong></li>\n</ul>\n<p><em>B√†i to√°n v·ªõi Vue l√† l√†m sao ƒë√°p ·ª©ng ƒë∆∞·ª£c t·∫•t c·∫£ nh·ªØng nhu c·∫ßu n√†y</em></p>\n<p>Khi thi·∫øt k·∫ø m·ªôt framework l·ªõn, ƒë√°p ·ª©ng ƒë∆∞·ª£c nhi·ªÅu ƒë·ªëi t∆∞·ª£ng s·ª≠ d·ª•ng kh√°c nhau, nhi·ªÅu m·ª•c ƒë√≠ch kh√°c nhau, ƒë∆∞∆°ng nhi√™n ch√∫ng t√¥i <strong>ch·∫•p nh·∫≠n ƒë√°nh ƒë·ªïi</strong></p>\n<p>ƒê√¢y l√† nh·ªØng th·ª© ch√∫ng t√¥i c√≥ th·ªÉ <strong>cho qua</strong>, nh∆∞ m·ªôt ph·∫ßn ph·∫£i ƒë√°nh ƒë·ªïi ƒë·ªÉ th·ªèa m√£n ƒë∆∞·ª£c qu√° nhi·ªÅu y√™u c·∫ßu</p>\n<ul>\n<li>API ƒë∆∞·ª£c t·ªëi ∆∞u ƒë·ªÉ d·ªÖ s·ª≠ d·ª•ng nh·∫•t c√≥ th·ªÉ d·∫´n ƒë·∫øn <strong>c√°c v·∫•n ƒë·ªÅ khi b·∫£o tr√¨ v√† m·ªü r·ªông</strong></li>\n<li>Qu√° nhi·ªÅu c√¥ng c·ª• ƒë∆∞·ª£c d·ª±ng s·∫µn, ƒë√¥i khi nh∆∞ m·ªôt h√†ng r√†o gi·ªõi h·∫°n c√°c t√¨nh hu·ªëng s·ª≠ d·ª•ng    </li>\n<li>C√†ng nhi·ªÅu y√™u c·∫ßu b·ªï sung c√°c t√≠nh nƒÉng c√≤n thi·∫øu, v√¥ s·ªë c√°c t√≠nh nƒÉng l·∫°i kh√¥ng ƒë∆∞·ª£c ƒë·ª•ng ƒë·∫øn. Nh·ªØng ng∆∞·ªùi kh√¥ng c√≥ nhu c·∫ßu cho c√°c t√≠nh nƒÉng ƒë√≥ l·∫°i ch·ªãu chung c·ª•c bundle nh∆∞ m·ªçi ng∆∞·ªùi kh√°c.    </li>\n</ul>\n<p><img src=\"https://i.imgur.com/vDBDdv3.jpg\" alt=\"Imgur\"></p>\n<h2 id=\"th·ª≠-th√°ch\"><a href=\"#th%E1%BB%AD-th%C3%A1ch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th·ª≠ th√°ch</h2>\n<h3 id=\"kh·∫£-nƒÉng-ti·∫øp-c·∫≠n-v√†-m·ªü-r·ªông\"><a href=\"#kh%E1%BA%A3-n%C4%83ng-ti%E1%BA%BFp-c%E1%BA%ADn-v%C3%A0-m%E1%BB%9F-r%E1%BB%99ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kh·∫£ nƒÉng ti·∫øp c·∫≠n v√† m·ªü r·ªông</h3>\n<p>ƒê∆°n gi·∫£n ch∆∞a ƒë∆∞·ª£c ƒë√°nh gi√° ƒë√∫ng. Kh√¥ng th·ªÉ l√†m cho m·ªçi th·ª© th·ª±c s·ª± ƒë∆°n gi·∫£n m√† kh√¥ng ph·∫£i hy sinh b·∫•t c·ª© ƒëi·ªÅu g√¨. ƒê∆°n gi·∫£n s·∫Ω gi√∫p nhi·ªÅu ng∆∞·ªùi d·ªÖ ti·∫øp c·∫≠n Vue h∆°n, khi b·∫°n trong m·ªôt t·ªï ch·ª©c, b·∫°n c√≥ mu·ªën ngu·ªìn l·ª±c gi·ªõi h·∫°n v·ªÅ con ng∆∞·ªùi, kh√¥ng ph·∫£i c√¥ng ty n√†o c≈©ng c√≥ th·ªÉ b·ªè ra nhi·ªÅu ti·ªÅn ƒë·ªÉ thu√™ m·ªôt ƒë·ªôi ng≈© k·ªπ thu·∫≠t c·∫•p cao, tr√¨nh ƒë·ªô javascript th∆∞·ª£ng th·ª´a, kh√¥ng c√≥ chi ph√≠ ƒë√†o t·∫°o v√† h∆∞·ªõng d·∫´n ng∆∞·ªùi m·ªõi. Ch√∫ng t√¥i kh√¥ng mu·ªën b·ªè qua t√≠nh ƒë∆°n gi·∫£n ƒëang c√≥ trong Vue, c≈©ng c√≥ th·ªùi ƒëi·ªÉm ch√∫ng t√¥i c≈©ng mu·ªën ƒë∆∞a nh·ªØng t√≠nh nƒÉng cao c·∫•p, ph·ª©c t·∫°p, kh·∫£ nƒÉng m·ªü r·ªông cho c√°c d·ª± √°n l·ªõn. Theo th·ªùi gian nhi·ªÅu API ch√∫ng t√¥i cung c·∫•p cho th·∫•y nh·ªØng ƒëi·ªÉm khi·∫øm khuy·∫øt, nh∆∞ng l·∫°i kh√¥ng mu·ªën b·ªè ƒëi t√≠nh ƒë∆°n gi·∫£n.</p>\n<p>L√†m sao ch√∫ng t√¥i th·ªèa m√£n ƒë∆∞·ª£c c·∫£ 2: v·ª´a d·ªÖ d√πng, v·ª´a t√¢n ti·∫øn? M·ªôt trong nh·ªØng v√≠ d·ª• l√† vi·ªác h·ªó tr·ª£ c·∫£ <strong>CDN build v√† Vue CLI</strong></p>\n<p>B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Vue nh∆∞ c√°ch b·∫°n d√πng jQuery, d√πng tr·ª±c ti·∫øp t·ª´ CDN, kh√¥ng c·∫ßn c√†i ƒë·∫∑t hay c·∫•u h√¨nh. N·∫øu mu·ªën, React b·∫°n c≈©ng th·∫ø l√†m ƒë∆∞·ª£c nh∆∞ng s·∫Ω kh√¥ng th·ª±c s·ª± ƒë∆°n gi·∫£n nh∆∞ v·ªõi Vue, b·∫°n v·∫´n th√™m m·ªôt s·ªë th∆∞ vi·ªán nh∆∞ babel ƒë·ªÉ vi·∫øt JSX. N·∫øu b·∫°n c·∫ßn can thi·ªáp ph·ª©c t·∫°p h∆°n, s·ª≠ d·ª•ng Vue CLI  </p>\n<p>C√¢u h·ªèi ti·∫øp theo: <strong>Options API vs. Composition API</strong></p>\n<p>Khi b·∫Øt ƒë·∫ßu, ch√∫ng t√¥i nghe r·∫•t nhi·ªÅu ph√†n n√†n, t·∫°i sao l·∫°i gi·ªõi thi·ªáu th√™m m·ªôt c√°ch kh√°c ƒë·ªÉ l√†m c√πng m·ªôt vi·ªác? Ch√∫ng t√¥i gi·ªõi thi·ªáu th√™m composition API trong Vue 3 l√† c√≥ l√Ω do c·ªßa n√≥.</p>\n<p>V·∫•n ƒë·ªÅ c·ªßa Option API</p>\n<ul>\n<li>R·∫•t tr·ª±c quan, d·ªÖ ti·∫øp c·∫≠n    </li>\n<li>Khi b·∫Øt ƒë·∫ßu c√≥ nh·ªØng component th·ª±c s·ª± l·ªõn, m·ªçi th·ª© tr·ªü n√™n kh√≥ ki·ªÉm so√°t. Trong l√∫c vi·∫øt c√°c ·ª©ng d·ª•ng l·ªõn, component l·ªõn, b·∫°n bu·ªôc ph·∫£i chia c√°c t√≠nh nƒÉng c·ªßa component ra ·ªü nhi·ªÅu ch·ªó kh√°c nhau, m·ªôt component c√≥ th·ªÉ c√≥ r·∫•t r·∫•t nhi·ªÅu logic b√™n trong</li>\n</ul>\n<p>V·ªõi Composition API</p>\n<ul>\n<li>Kh√¥ng c·∫ßn ph·∫£i vi·∫øt l·∫°i to√†n b·ªô ·ª©ng d·ª•ng, b·∫°n c√≥ th·ªÉ ti·∫øp t·ª•c s·ª≠ d·ª•ng b·ªô codebase ƒëang ch·∫°y. N√≥ c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng c√πng v·ªõi option API</li>\n<li>Cung c·∫•p kh·∫£ nƒÉng linh ho·∫°t trong vi·ªác qu·∫£n l√Ω code v√† t√°i s·ª≠ d·ª•ng logic, k·∫øt h·ª£p c√°c API v·ªõi nhau</li>\n<li>H·ªó tr·ª£ t·ªët v·ªõi TypeScript</li>\n</ul>\n<h3 id=\"typescript-vs-javascript\"><a href=\"#typescript-vs-javascript\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Typescript vs Javascript</h3>\n<p><strong>T·∫°i sao TypeScript?</strong></p>\n<p>TypeScript c√≥ th·∫≠t s·ª± c·∫ßn thi·∫øt kh√¥ng? B·∫°n c√≥ c·∫ßn h·ªçc TypeScript kh√¥ng? C√¢u tr·∫£ l·ªùi l√† b·∫°n kh√¥ng c·∫ßn h·ªçc TypeScript ƒë·ªÉ c√≥ th·ªÉ vi·∫øt Vue. B·∫£n th√¢n Vue 3 c≈©ng ƒë∆∞·ª£c vi·∫øt tr√™n JavaScript. Ch√∫ng t√¥i c√≥ h·ªó tr·ª£ b·ªô type ƒë·ªÉ thi·∫øt ƒë·∫∑t l√†m vi·ªác chung v·ªõi TypeScript</p>\n<p><strong>L·ª£i √≠ch mang l·∫°i</strong></p>\n<ul>\n<li>C√°c IDE h·ªó tr·ª£ xu·∫•t s·∫Øc tr·ªçng vi·ªác t·ª± ƒë·ªông nh·∫Øc l·ªánh v√† cung c·∫•p th√¥ng tin v·ªÅ type. M·ªôt function c·∫ßn b·∫°n truy·ªÅn v√†o nh·ªØng g√¨, n√≥ s·∫Ω tr·∫£ v·ªÅ nh·ªØng g√¨, t·∫•t c·∫£ ƒëi·ªÅu minh b·∫°ch    </li>\n<li>T·ª± tin khi c·∫ßn refactor code c≈© trong m·ªôt d·ª± √°n l·ªõn. N·∫øu nh∆∞ b·∫°n bi·∫øt d·ª± √°n ƒë√≥ s·∫Ω ti·∫øp t·ª•c k√©o d√†i qu√° tr√¨nh ph√°t tri·ªÉn trong v√≤ng 2, 3 nƒÉm t·ªõi, b·∫°n s·∫Ω t·ª± tin h∆°n khi nh√¨n l·∫°i code c·ªßa ch√≠nh m√¨nh vi·∫øt c√°ch ƒë√¢y m·ªôt nƒÉm v·ªÅ tr∆∞·ªõc. B·∫°n s·∫Ω bi·∫øt ƒë∆∞·ª£c m√¨nh ƒë√£ l√†m c√°i kh·ªâ kh√¥ g√¨ tr∆∞·ªõc ƒë√¢y v·∫≠y.</li>\n</ul>\n<p><strong>ƒê√°nh ƒë·ªïi</strong></p>\n<ul>\n<li>T·ªën th·ªùi gian h·ªçc. ƒê·ªÉ th·ª±c s·ª± tr·ªü th√†nh developer th√†nh th·∫°o TypeScript hay b·∫•t c·ª© ng√¥n ng·ªØ n√†o kh√°c, b·∫°n c·∫ßn th·ªùi gian h·ªçc n√≥ m·ªôt c√°ch b√†i b·∫£n. V√≠ d·ª• khi b·∫°n s·ª≠ d·ª•ng c√°c API c·ªßa Vue, b·∫°n s·∫Ω th·∫•y r·∫•t t∆∞·ªùng minh d·ªÖ hi·ªÉu, nh∆∞ng khi nh√¨n v√†o code b√™n trong c·ªßa c√°c API n√†y, b·∫°n s·∫Ω kh√¥ng d·ªÖ g√¨ hi·ªÉu ƒë∆∞·ª£c nh·ªØng g√¨ ƒëang x·∫£y ra.</li>\n<li>Th·ªùi gian ch·∫°y d·ª± √°n l√¢u. Khi vi·∫øt TypeScript, b·∫°n b·∫Øt bu·ªôc ph·∫£i nghƒ© b·∫°n s·∫Ω d√πng ki·ªÉu g√¨ ngay t·ª´ ƒë·∫ßu, b·∫°n s·∫Ω t·ªën th·ªùi gian ƒë·ªÉ <em>nghƒ©</em> nh·ªØng g√¨ m√¨nh vi·∫øt h∆°i l√¢u m·ªôt ch√∫t</li>\n</ul>\n<p>B·∫°n ƒë·ª´ng ƒëi v√†o k·∫øt lu·∫≠n d√πng TypeScript l√† ƒë√∫ng hay sai, n√≥ l√† ki·ªÉu l·ª±a ch·ªçn sao cho ph√π h·ª£p v·ªõi d·ª± √°n ƒëang th·ª±c hi·ªán</p>\n<h3 id=\"template-vs-jsx\"><a href=\"#template-vs-jsx\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Template vs JSX</h3>\n<p><strong>T·∫°i sao ch√∫ng t√¥i l·∫°i cung c·∫•p c·∫£ 2?</strong></p>\n<p><em>C√≥ nhi·ªÅu ng∆∞·ªùi s·∫Ω s·ª≠ b·∫£o th√≠ch ki·ªÉu template, v√† c≈©ng c√≥ ng∆∞·ªùi s·∫Ω b·∫£o JSX m·ªõi l√† ƒë·ªânh cao.</em></p>\n<p>L√Ω do ch√∫ng t√¥i cung c·∫•p c·∫£ 2 l·ª±a ch·ªçn l√† v√¨ mu·ªën ƒë√°p ·ª©ng cho nhi·ªÅu ƒë·ªëi t∆∞·ª£ng ng∆∞·ªùi s·ª≠ d·ª•ng kh√°c nhau, nh·ªØng ng∆∞·ªùi quen v·ªõi HTML, CSS s·∫Ω th√≠ch template, thay v√¨ ph·∫£i l·∫≠p tr√¨nh l·∫°i suy nghƒ© theo h∆∞·ªõng javascript nh∆∞ JSX. V·ªõi template ch√∫ng t√¥i c√≥ th·ªÉ t·ªëi ∆∞u hi·ªáu nƒÉng ·ªü m·ª©c t·ªët nh·∫•t. Trong khi JSX l·∫°i cho ph√©p linh ƒë·ªông h∆°n trong l√∫c vi·∫øt.</p>\n<p>Xem th√™m b√†i <a href=\"http://vuilaptrinh.com/2019-11-24-huong-dan-chon-framework-frontend#c%C6%A1-ch%E1%BA%BF-render\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">L·ª±a ch·ªçn framework frontend n√†o trong th·ªùi ƒëi·ªÉm hi·ªán t·∫°i</a> c√≥ gi·∫£i th√≠ch ∆∞u v√† nh∆∞·ª£c c·ªßa template v√† JSX</p>\n<blockquote>\n<p>Ch√∫ng t√¥i mu·ªën l√† m·ªôt framework v·ªõi t·∫•t c·∫£ c√°c l·ª±a ch·ªçn kh√°c nhi·ªÅu ƒëi·ªÅu c√≥, ƒë·ªÉ ti·∫øp c·∫≠n ƒë∆∞·ª£c nh·ªØng ng∆∞·ªùi s·ª≠ d·ª•ng t·ª´ nhi·ªÅu background kh√°c nhau.</p>\n</blockquote>\n<h3 id=\"s·ª©c-m·∫°nh-v√†-k√≠ch-th∆∞·ªõc\"><a href=\"#s%E1%BB%A9c-m%E1%BA%A1nh-v%C3%A0-k%C3%ADch-th%C6%B0%E1%BB%9Bc\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·ª©c m·∫°nh v√† K√≠ch th∆∞·ªõc</h3>\n<p>V·∫•n ƒë·ªÅ kinh ƒëi·ªÉn c·ªßa Vue 2, khi b·ªï sung m·ªôt t√≠nh nƒÉng m·ªõi, k√≠ch th∆∞·ªõc bundle tƒÉng l√™n cho t·∫•t c·∫£ ng∆∞·ªùi s·ª≠ d·ª•ng, d√π b·∫°n c√≥ d√πng n√≥ hay kh√¥ng. V√≠ d·ª• n·∫øu ch√∫ng t√¥i mu·ªën b·ªï sung <code class=\"language-inline-text\">&lt;Fragment/></code> cho Vue, nghƒ©a l√† k√≠ch th∆∞·ªõc bundle s·∫Ω tƒÉng l√™n. Kh√¥ng ai th√≠ch <strong>tr·∫£ th√™m ti·ªÅn</strong> cho th·ª© m√¨nh kh√¥ng d√πng ƒë·∫øn</p>\n<p>V·ªõi Vue 3</p>\n<ul>\n<li>Ph·∫ßn l·ªõn c√°c Global APIs v√† helper ƒë∆∞·ª£c cung c·∫•p d∆∞·ªõi d·∫°ng ES module export (tree-shakable). Th√≠ d·ª• nh∆∞ <code class=\"language-inline-text\">keep-alive</code>, <code class=\"language-inline-text\">transition</code>, <code class=\"language-inline-text\">v-model</code>, <code class=\"language-inline-text\">suspense</code> n·∫øu kh√¥ng s·ª≠ d·ª•ng n√≥ s·∫Ω kh√¥ng ƒë∆∞·ª£c <code class=\"language-inline-text\">import</code></li>\n<li>B·ªô compiler generate c≈©ng ƒë∆∞·ª£c t√≠ch h·ª£p tree-shakable cho template c·ªßa b·∫°n</li>\n</ul>\n<p><img src=\"https://i.imgur.com/n2pNkX6.jpg\" alt=\"Imgur\"></p>\n<h2 id=\"t√†i-li·ªáu-tham-kh·∫£o\"><a href=\"#t%C3%A0i-li%E1%BB%87u-tham-kh%E1%BA%A3o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T√†i li·ªáu tham kh·∫£o</h2>\n<p><a href=\"https://www.youtube.com/watch?v=WLpLYhnGqPA&#x26;list=WL&#x26;index=2&#x26;t=0s\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Design Principles of Vue 3.0 by Evan You</a></p>\n<p><a href=\"https://docs.google.com/presentation/d/1r0HcS4baHy2c106DsZ4jA7Zt0R9u2MnRmmKIvAVuf1o/edit#slide=id.p\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Slide</a></p>\n","cover_image":""}},{"node":{"id":"1c7b17cad2209ba0e4e9538f8e2a3fac","title":"Vi·∫øt React Higher-Order Component b·∫±ng TypeScript","path":"/2020-01-19-viet-type-cho-hoc-voi-typescript/","date":"2020-01-19","timeToRead":6,"desc":"Cu·ªôc s·ªëng ƒë∆∞a ƒë·∫©y b·∫°n ph·∫£i vi·∫øt TypeScript, th√¨ b√†i n√†y s·∫Ω gi√∫p b·∫°n ch√∫t √≠t khi vi·∫øt type v·ªõi HOC","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#enhancer\">Enhancer</a></li>\n<li><a href=\"#injector\">Injector</a></li>\n<li><a href=\"#enhance--inject\">Enhance + Inject</a></li>\n</ul>\n<!-- /TOC -->\n<blockquote>\n<p>T·ª´ React 16.8.0, ch√∫ng ta c√≥ React Hook, n√≥ gi·∫£i quy·∫øt to√†n b·ªô nh·ªØng tr∆∞·ªùng h·ª£p ch√∫ng ta ph·∫£i s·ª≠ d·ª•ng higher-order component v√† gi·∫£m ƒë√°ng k·ªÉ ƒë·ªô ph·ª©c t·∫°p c·ªßa vi·ªác set type so v·ªõi HOC. B·∫°n s·ª≠ d·ª•ng hook trong m·ªçi t√¨nh hu·ªëng c√≥ th·ªÉ. N·∫øu g∆°i c·∫£nh <em>ng·∫∑t ngh√®o</em>, anh lead c·ªßa b·∫°n <em>ko r√µ l√Ω do g√¨</em> b·∫Øt x√†i HOC v·ªõi TypeScript. Th√¨ b√†i vi·∫øt n√†y ƒë·ªÉ gi√∫p bi·∫øt bi·∫øt c√°ch set type cho HOC.</p>\n</blockquote>\n<p>HOC trong React l√† <em>c√¥ng c·ª•</em> ƒë·ªÉ ch√∫ng ta s·ª≠ d·ª•ng nhi·ªÅu ƒëo·∫°n code gi·ªëng nhau tr√™n c√°c component kh√°c nhau. Tuy nhi√™n khi d√πng chung v·ªõi TypeScript th√¨ <strong>tri·ªáu tri·ªáu</strong> developer g·∫∑p kh√¥ng √≠t kh√≥ khƒÉn khi set type cho n√≥. Bao g·ªìm lu√¥n m√¨nh trong ƒë√≥.</p>\n<p>Trong ph·∫°m vi b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω chi ra 2 lo·∫°i HOC, 2 c√°ch l√†m HOC ph·ªï bi·∫øn hi·ªán nay, t·∫°m g·ªçi l√† <strong>enhancer</strong> v√† <strong>injector</strong></p>\n<ul>\n<li><strong>Enhancer</strong>: b·ªçc m·ªôt component, b·ªï sung th√™m c√°c h√†m ho·∫∑c prop</li>\n<li><strong>Injector</strong>: <em>b∆°m/ch√≠ch</em> th√™m prop v√†o m·ªôt component</li>\n</ul>\n<p>ƒê·ªÉ ph√¢n bi·ªát r√µ h∆°n, b·∫°n xem ti·∫øp v√≠ d·ª• b√™n d∆∞·ªõi.</p>\n<h2 id=\"enhancer\"><a href=\"#enhancer\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Enhancer</h2>\n<p>Ch√∫ng ta b·∫Øt ƒë·∫ßu v·ªõi Enhancer v√¨ n√≥ d·ªÖ vi·∫øt <code class=\"language-inline-text\">type</code> nh·∫•t. V√≠ d·ª• c∆° b·∫£n nh·∫•t, b·ªï sung th√™m prop <code class=\"language-inline-text\">loading</code> v√†o component.</p>\n<p>Kh√¥ng bao g·ªìm <code class=\"language-inline-text\">type</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">withLoading</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">Component</span> <span class=\"token operator\">=></span>\n  <span class=\"token keyword\">class</span> <span class=\"token class-name\">WithLoading</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> loading<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> loading <span class=\"token operator\">?</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LoadingSpinner</span></span> <span class=\"token punctuation\">/></span></span> <span class=\"token operator\">:</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>... v√† v·ªõi <code class=\"language-inline-text\">type</code></p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">WithLoadingProps</span> <span class=\"token punctuation\">{</span>\n  loading<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> withLoading <span class=\"token operator\">=</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">P</span></span> <span class=\"token attr-name\">extends</span> <span class=\"token attr-name\">object</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">(Component: React.ComponentType&lt;P>) => </span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">class</span> <span class=\"token class-name\">WithLoading</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React</span><span class=\"token punctuation\">.</span>Component<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span> <span class=\"token operator\">&amp;</span> WithLoadingProps<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> loading<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> loading <span class=\"token operator\">?</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LoadingSpinner</span></span> <span class=\"token punctuation\">/></span></span> <span class=\"token operator\">:</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">(</span>props <span class=\"token keyword\">as</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token plain-text\">;</span></code></pre></div>\n<p>C√≥ v√†i th·ª© c·∫ßn gi·∫£i th√≠ch ·ªü ƒëo·∫°n tr√™n, t·ª´ng b∆∞·ªõc m·ªôt nh√©</p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">WithLoadingProps</span> <span class=\"token punctuation\">{</span>\n  loading<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒê√¢y l√† <code class=\"language-inline-text\">interface</code> khai b√°o c√°c prop v√† <code class=\"language-inline-text\">type</code> s·∫Ω ƒë∆∞·ª£c th√™m v√†o (<strong>enhance</strong>)</p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">P</span></span> <span class=\"token attr-name\">extends</span> <span class=\"token attr-name\">object</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">(Component: React.ComponentType&lt;P>)</span></code></pre></div>\n<p>Ch√∫ng ta ƒëang s·ª≠ d·ª•ng m·ªôt <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-inline-text\">generic</code></a>, <code class=\"language-inline-text\">P</code> l√† k√Ω t·ª± d√πng ƒë·ªÉ ƒë·∫°i di·ªán cho to√†n b·ªô prop c·ªßa component khi truy·ªÅn cho HOC. <code class=\"language-inline-text\">React.ComponentType&lt;P></code> l√† m·ªôt type vi·∫øt t·∫Øt cho c·∫£ hai <code class=\"language-inline-text\">React.FC&lt;P></code> v√† <code class=\"language-inline-text\">React.ClassComponent&lt;P></code>, nghƒ©a l√† m·ªôt component truy·ªÅn v√†o cho HOC n√†y c√≥ th·ªÉ l√† function c≈©ng ƒë∆∞·ª£c, class component c≈©ng ƒë∆∞·ª£c.</p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">WithLoading</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React</span><span class=\"token punctuation\">.</span>Component<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span> <span class=\"token operator\">&amp;</span> WithLoadingProps<span class=\"token operator\">></span></code></pre></div>\n<p>ƒê√¢y l√† ƒëo·∫°n ch√∫ng ta component s·∫Ω <code class=\"language-inline-text\">return</code> t·ª´ HOC, n√≥ ch·ªâ ƒë·ªãnh l√† component n√†y s·∫Ω bao g·ªìm to√†n b·ªô prop t·ª´ component (<code class=\"language-inline-text\">P</code>) v√† prop c·ªßa ch√≠nh th·∫±ng HOC (<code class=\"language-inline-text\">WithLoadingProps</code>), n√≥ ƒë∆∞·ª£c <em>c·ªông d·ªìn</em> b·∫±ng to√°n t·ª≠ <code class=\"language-inline-text\">&amp;</code></p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> loading<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>V·ªõi phi√™n b·∫£n c≈© c·ªßa TypeScript, c√≥ th·ªÉ ch√∫ng ta ph·∫£i <em>√©p ki·ªÉu</em> <code class=\"language-inline-text\">this.props</code> nh∆∞ th·∫ø n√†y <code class=\"language-inline-text\">this.props as WithLoadingProps</code></p>\n</blockquote>\n<p>Cu·ªëi c√πng ch√∫ng ta s·ª≠ d·ª•ng prop <code class=\"language-inline-text\">loading</code> ƒë·ªÉ ƒë·∫∑t ƒëi·ªÅu ki·ªán hi·ªÉn th·ªã c√°i <em>Spinner</em></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">return</span> loading <span class=\"token operator\">?</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LoadingSpinner</span></span> <span class=\"token punctuation\">/></span></span> <span class=\"token operator\">:</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>props <span class=\"token keyword\">as</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>√©p ki·ªÉu <code class=\"language-inline-text\">props as P</code> l√† b·∫Øt bu·ªôc t·ª´ TypeScript 3.2, ƒë√¢y l√† bug c·ªßa TypeScript</p>\n</blockquote>\n<p>V·ªõi HOC <code class=\"language-inline-text\">withLoading</code> c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c vi·∫øt ƒë·ªÉ return m·ªôt function component thay v√¨ class</p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> withLoading <span class=\"token operator\">=</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">P</span></span> <span class=\"token attr-name\">extends</span> <span class=\"token attr-name\">object</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">(\n  Component: React.ComponentType&lt;P>\n): React.FC&lt;P &amp; WithLoadingProps> => ({\n  loading,\n  ...props\n}: WithLoadingProps) =>\n  loading ? </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LoadingSpinner</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"> : </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">(</span>props <span class=\"token keyword\">as</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">;</span></code></pre></div>\n<p>Ch√∫ng ta g·∫∑p v·∫•n ƒë·ªÅ t∆∞∆°ng t·ª± khi s·ª≠ d·ª•ng rest/spread object, ch√∫ng ta ch·ªâ ƒë·ªãnh ki·ªÉu return l√† <code class=\"language-inline-text\">React.FC&lt;P &amp; WithLoadingProps></code>, nh∆∞ng ch·ªâ s·ª≠ d·ª•ng <code class=\"language-inline-text\">WithLoadingProps</code> b√™n trong function component</p>\n<h2 id=\"injector\"><a href=\"#injector\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Injector</h2>\n<p>Ki·ªÉu <em>injector</em> HOC s·∫Ω hay g·∫∑p h∆°n, nh∆∞ng c≈©ng kh√≥ set type h∆°n, b√™n c·∫°nh vi·ªác <em>ch√≠ch</em> th√™m m·ªôt s·ªë prop v√†o cho component, trong ƒëa s·ªë c√°c tr∆∞·ªùng h·ª£p n√≥ c√≤n x√≥a nh·ªØng prop ƒë√£ <em>ch√≠ch</em> v√†o khi n√≥ b·ªçc l·∫°i, nh∆∞ v·∫≠y nh·ªØng th·∫±ng t·ª´ b√™n ngo√†i kh√¥ng th·ªÉ ghi ƒë√® l√™n. <code class=\"language-inline-text\">connect</code> c·ªßa react-redux l√† m·ªôt v√≠ d·ª• cho injector HOC. Ch√∫ng ta kh√¥ng s·ª≠ d·ª•ng n√≥, v√¨ qu√° ph·ª©c t·∫°p, d√πng m·ªôt v√≠ d·ª• ƒë∆°n gi·∫£n h∆°n, HOC ch√≠ch th√™m gi√° tr·ªã <code class=\"language-inline-text\">counter</code> v√† <code class=\"language-inline-text\">callback</code> ƒë·ªÉ tƒÉng gi·∫£m gi√° tr·ªã.</p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Subtract <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"utility-types\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">InjectedCounterProps</span> <span class=\"token punctuation\">{</span>\n  value<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">onIncrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">onDecrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">MakeCounterState</span> <span class=\"token punctuation\">{</span>\n  value<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> makeCounter <span class=\"token operator\">=</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">P</span></span> <span class=\"token attr-name\">extends</span> <span class=\"token attr-name\">InjectedCounterProps</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">(\n  Component: React.ComponentType&lt;P>\n) =>\n  class MakeCounter extends React.Component&lt;\n    Subtract&lt;P, InjectedCounterProps>,\n    MakeCounterState\n  > </span><span class=\"token punctuation\">{</span>\n    state<span class=\"token operator\">:</span> MakeCounterState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      value<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">increment</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prevState</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        value<span class=\"token operator\">:</span> prevState<span class=\"token punctuation\">.</span>value <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">decrement</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prevState</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        value<span class=\"token operator\">:</span> prevState<span class=\"token punctuation\">.</span>value <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span>\n          <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token keyword\">as</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">onIncrement</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>increment<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">onDecrement</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>decrement<span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token plain-text\">;</span></code></pre></div>\n<p>M·ªôt v√†i ƒëi·ªÉm kh√°c nhau</p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">InjectedCounterProps</span> <span class=\"token punctuation\">{</span>\n  value<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">onIncrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">onDecrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Khai b√°o m·ªôt interface ƒë·ªÉ ch·ªâ ƒë·ªãnh nh·ªØng prop n√†o s·∫Ω ƒë∆∞·ª£c <em>ch√≠ch</em>, ƒë·ªìng th·ªùi export lu√¥n ƒë·ªÉ component n√†o d√πng HOC c√≥ th·ªÉ l·∫•y x√†i.</p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> makeCounter<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> InjectedCounterProps <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./makeCounter\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">CounterProps</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">InjectedCounterProps</span> <span class=\"token punctuation\">{</span>\n  style<span class=\"token operator\">?</span><span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>CSSProperties<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Counter</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token operator\">:</span> CounterProps</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>onDecrement<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> - </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>onIncrement<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> + </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">makeCounter</span><span class=\"token punctuation\">(</span>Counter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">P</span></span> <span class=\"token attr-name\">extends</span> <span class=\"token attr-name\">InjectedCounterProps</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">(Component: React.ComponentType&lt;P>)</span></code></pre></div>\n<p>M·ªôt l·∫ßn n·ªØa ch√∫ng ta d√πng m·ªôt <code class=\"language-inline-text\">generic</code>, nh∆∞ng l·∫ßn n√†y ƒë·ªÉ ƒë·∫£m b·∫£o component s·ª≠ d·ª•ng HOC c√≥ bao g·ªìm c√°c prop ƒë√£ ƒë∆∞·ª£c ch√≠ch, n·∫øu kh√¥ng th√¨ b√°o l·ªói.</p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MakeCounter</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React</span><span class=\"token punctuation\">.</span>Component<span class=\"token operator\">&lt;</span>\n  Subtract<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span><span class=\"token punctuation\">,</span> InjectedCounterProps<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  MakeCounterState\n<span class=\"token operator\">></span></code></pre></div>\n<p>Component ƒë∆∞·ª£c tr·∫£ v·ªÅ t·ª´ HOC s·∫Ω s·ª≠ d·ª•ng <a href=\"https://github.com/piotrwitek/utility-types\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-inline-text\">Subtract</code></a>, n√≥ s·∫Ω t√°ch h·∫øt nh·ªØng prop ƒë√£ ch√≠ch th√™m, nghƒ©a l√† n·∫øu ai ƒë√≥ set l·∫°i t·ª´ k·∫øt qu·∫£ tr·∫£ v·ªÅ t·ª´ HOC, n√≥ s·∫Ω l·ªói</p>\n<p><img src=\"https://miro.medium.com/max/451/1*xTKe3DWJdC7nAVQnM4bvbg.png\"></p>\n<h2 id=\"enhance--inject\"><a href=\"#enhance--inject\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Enhance + Inject</h2>\n<p>K·∫øt h·ª£p c·∫£ 2 c√°ch l√†m n√†y l·∫°i, ch√∫ng ta s·∫Ω c√≥ m·ªôt component counter cho ph√©p ƒë∆∞a gi√° tr·ªã minimum v√† maximum</p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">InjectedCounterProps</span> <span class=\"token punctuation\">{</span>\n  value<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">onIncrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">onDecrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">MakeCounterProps</span> <span class=\"token punctuation\">{</span>\n  minValue<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  maxValue<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">MakeCounterState</span> <span class=\"token punctuation\">{</span>\n  value<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> makeCounter <span class=\"token operator\">=</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">P</span></span> <span class=\"token attr-name\">extends</span> <span class=\"token attr-name\">InjectedCounterProps</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">(\n  Component: React.ComponentType&lt;P>\n) =>\n  class MakeCounter extends React.Component&lt;\n    Subtract&lt;P, InjectedCounterProps> &amp; MakeCounterProps,\n    MakeCounterState\n  > </span><span class=\"token punctuation\">{</span>\n    state<span class=\"token operator\">:</span> MakeCounterState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      value<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">increment</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prevState</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        value<span class=\"token operator\">:</span>\n          prevState<span class=\"token punctuation\">.</span>value <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>maxValue\n            <span class=\"token operator\">?</span> prevState<span class=\"token punctuation\">.</span>value\n            <span class=\"token operator\">:</span> prevState<span class=\"token punctuation\">.</span>value <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">decrement</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prevState</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        value<span class=\"token operator\">:</span>\n          prevState<span class=\"token punctuation\">.</span>value <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>minValue\n            <span class=\"token operator\">?</span> prevState<span class=\"token punctuation\">.</span>value\n            <span class=\"token operator\">:</span> prevState<span class=\"token punctuation\">.</span>value <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> minValue<span class=\"token punctuation\">,</span> maxValue<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span>\n          <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">(</span>props <span class=\"token keyword\">as</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">onIncrement</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>increment<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">onDecrement</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>decrement<span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token plain-text\">;</span></code></pre></div>\n<p><code class=\"language-inline-text\">Subtract</code> ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ k·∫øt h·ª£p c·∫£ nh·ªØng prop c·ªßa ch√≠nh component v√† prop c·ªßa HOC</p>\n<div class=\"gridsome-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">Subtract<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span><span class=\"token punctuation\">,</span> InjectedCounterProps<span class=\"token operator\">></span> <span class=\"token operator\">&amp;</span> MakeCounterProps</code></pre></div>\n<p>Ngo√†i ra kh√¥ng c√≤n g√¨ th·∫≠t s·ª± kh√°c nhau gi·ªØa 2 c√°ch l√†m n√†y c·∫ßn ph·∫£i n√≥i th√™m.</p>\n<p><a href=\"https://medium.com/@jrwebdev/react-higher-order-component-patterns-in-typescript-42278f7590fb\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://medium.com/@jrwebdev/react-higher-order-component-patterns-in-typescript-42278f7590fb</a></p>\n","cover_image":""}},{"node":{"id":"a1364f5619accd5fccc571ac43e797e6","title":"Ph∆∞∆°ng ph√°p test React Component","path":"/2020-01-09-phuong-phap-test-react-component/","date":"2020-01-09","timeToRead":12,"desc":"B√†i vi·∫øt ƒë∆∞·ª£c d·ªãch t·ª´ t√†i li·ªáu ch√≠nh th·ª©c c·ªßa React","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#c%C3%A0i-%C4%91%E1%BA%B7t-c%E1%BB%A5-th%E1%BB%83-setup--teardown\">C√†i ƒë·∫∑t c·ª• th·ªÉ {#setup--teardown}</a></li>\n<li><a href=\"#act-act\"><code class=\"language-inline-text\">act()</code> {#act}</a></li>\n<li><a href=\"#rendering-rendering\">Rendering {#rendering}</a></li>\n<li><a href=\"#fetch-d%E1%BB%AF-li%E1%BB%87u-data-fetching\">Fetch d·ªØ li·ªáu {#data-fetching}</a></li>\n<li><a href=\"#gi%E1%BA%A3-l%E1%BA%ADp-c%C3%A1c-module-mocking-modules\">Gi·∫£ l·∫≠p c√°c module {#mocking-modules}</a></li>\n<li><a href=\"#event-events\">Event {#events}</a></li>\n<li><a href=\"#timer-timers\">Timer {#timers}</a></li>\n<li><a href=\"#snapshot-test-snapshot-testing\">Snapshot Test {#snapshot-testing}</a></li>\n<li><a href=\"#multiple-renderer-multiple-renderers\">Multiple Renderer {#multiple-renderers}</a></li>\n<li><a href=\"#c%C3%B2n-thi%E1%BA%BFu-g%C3%AC-%C4%91%C3%B3-something-missing\">C√≤n thi·∫øu g√¨ ƒë√≥? {#something-missing}</a></li>\n</ul>\n<!-- /TOC -->\n<p>M·ªôt v√†i c√°ch vi·∫øt test ph·ªï bi·∫øn cho component React.</p>\n<blockquote>\n<p>L∆∞u √Ω:</p>\n<p>Trang n√†y m·∫∑c ƒë·ªãnh b·∫°n ƒëang d√πng <a href=\"https://jestjs.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Jest</a> l√†m test runner. N·∫øu d√πng m·ªôt test runner kh√°c, b·∫°n c·∫ßn thay ƒë·ªïi API cho ph√π h·ª£p, gi·∫£i ph√°p s·∫Ω g·∫ßn nh∆∞ nhau. ƒê·ªçc th√™m chi ti·∫øt c√°ch c√†i ƒë·∫∑t m√¥i tr∆∞·ªùng test ·ªü <a href=\"/docs/testing-environments.html\">M√¥i tr∆∞·ªùng Test</a>.</p>\n</blockquote>\n<p>Tr√™n trang n√†y, ch√∫ng t√¥i s·∫Ω t·∫≠p chung v√†o function component. Tuy nhi√™n, c√°ch ƒë·ªÉ ti·∫øp c·∫≠n test kh√¥ng ph·ª• thu·ªôc v√†o ph·∫ßn hi·ªán th·ª±c c·ª• th·ªÉ, n√≥ c≈©ng s·∫Ω l√†m vi·ªác t·ªët v·ªõi class component.</p>\n<ul>\n<li><a href=\"#setup--teardown\">C√†i ƒë·∫∑t c·ª• th·ªÉ</a></li>\n<li><a href=\"#act\"><code class=\"language-inline-text\">act()</code></a></li>\n<li><a href=\"#rendering\">Rendering</a></li>\n<li><a href=\"#data-fetching\">Data Fetching</a></li>\n<li><a href=\"#mocking-modules\">Mocking Modules</a></li>\n<li><a href=\"#events\">Events</a></li>\n<li><a href=\"#timers\">Timers</a></li>\n<li><a href=\"#snapshot-testing\">Snapshot Testing</a></li>\n<li><a href=\"#multiple-renderers\">Multiple Renderers</a></li>\n<li><a href=\"#something-missing\">Something Missing?</a></li>\n</ul>\n<hr>\n<h3 id=\"c√†i-ƒë·∫∑t-c·ª•-th·ªÉ-setup--teardown\"><a href=\"#c%C3%A0i-%C4%91%E1%BA%B7t-c%E1%BB%A5-th%E1%BB%83-setup--teardown\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√†i ƒë·∫∑t c·ª• th·ªÉ {#setup--teardown}</h3>\n<p>Tr√™n m·ªói test, ch√∫ng ta th∆∞·ªùng mu·ªën render React tree c·ªßa ch√∫ng ta th√†nh DOM element v√† ch√®n n√≥ v√†o <code class=\"language-inline-text\">document</code>. Ch·ªâ nh∆∞ th·∫ø ch√∫ng ta m·ªõi nh·∫≠n ƒë∆∞·ª£c c√°c s·ª± ki·ªán tr√™n DOM. Khi k·∫øt th√∫c m·ªôt test, ch√∫ng ta mu·ªën \"d·ªçn d·∫πp\" v√† <em>g·ª° b·ªè</em> c√¢y n√†y kh·ªèi DOM.</p>\n<p>M·ªôt c√°ch ph·ªï bi·∫øn ƒë·ªÉ l√†m n√≥ l√† s·ª≠ d·ª•ng b·ªô ƒë√¥i <code class=\"language-inline-text\">beforeEach</code> v√† <code class=\"language-inline-text\">afterEach</code>, ƒë·ªÉ ch√∫ng lu√¥n ch·∫°y m·ªôt c√°ch ƒë·ªôc l·∫≠p v√† kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn test kh√°c:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> unmountComponentAtNode <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// c√†i ƒë·∫∑t m·ªôt DOM element nh∆∞ l√† target cho render</span>\n  container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">afterEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// d·ªçn d·∫πp l√∫c tho√°t</span>\n  <span class=\"token function\">unmountComponentAtNode</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng m·ªôt c√°ch kh√°c, nh∆∞ng h√£y nh·ªõ ch√∫ng ta mu·ªën ch·∫°y vi·ªác d·ªçn d·∫πp ngay c·∫£ khi test <em>fail</em>. N·∫øu kh√¥ng, test c√≥ th·ªÉ tr·ªü n√™n \"b·∫•t ·ªïn\", v√† m·ªôt test c√≥ th·ªÉ ·∫£nh h∆∞·ªüng ƒë·∫øn ho·∫°t ƒë·ªông c·ªßa test kh√°c. Nh∆∞ v·∫≠y s·∫Ω r·∫•t kh√≥ ƒë·ªÉ debug.</p>\n<hr>\n<h3 id=\"act-act\"><a href=\"#act-act\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-inline-text\">act()</code> {#act}</h3>\n<p>Khi vi·∫øt UI test, c√¥ng vi·ªác nh∆∞ render, s·ª± ki·ªán t·ª´ user, ho·∫∑c fetch d·ªØ li·ªáu c√≥ th·ªÉ ƒë∆∞·ª£c xem nh∆∞ m·ªôt \"ƒë∆°n v·ªã\" t∆∞∆°ng t√°c v·ªõi giao di·ªán ng∆∞·ªùi d√πng. React cung c·∫•p m·ªôt h√†m tr·ª£ gi√∫p <code class=\"language-inline-text\">act()</code> ƒë·ªÉ ƒë·∫£m b·∫£o t·∫•t c·∫£ m·ªçi c·∫≠p nh·∫≠p li√™n quan ƒë·∫øn \"ƒë∆°n v·ªã\" ƒë√£ ƒë∆∞·ª£c th·ª±c thi v√† √°p d·ª•ng ƒë·∫øn DOM tr∆∞·ªõc khi ch√∫ng ta x√°c nh·∫≠n k·∫øt qu·∫£:</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// render component</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// x√°c nh·∫≠n k·∫øt qu·∫£</span></code></pre></div>\n<p>N√≥ gi√∫p test ch·∫°y gi·ªëng nh·∫•t v·ªõi nh·ªØng g√¨ user nh·∫≠n ƒë∆∞·ª£c khi s·ª≠ d·ª•ng ·ª©ng d·ª•ng. T·∫•t c·∫£ nh·ªØng v√≠ d·ª• b√™n d∆∞·ªõi s·ª≠ d·ª•ng <code class=\"language-inline-text\">act()</code> ƒë·ªÉ ƒë·∫£m b·∫£o ƒëi·ªÅu n√†y.</p>\n<p>B·∫°n c√≥ th·ªÉ th·∫•y s·ª≠ d·ª•ng <code class=\"language-inline-text\">act()</code> tr·ª±c ti·∫øp r·∫•t r∆∞·ªùm r√†. ƒê·ªÉ tr√°nh r∆∞·ªùm r√†, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng m·ªôt th∆∞ vi·ªán nh∆∞ <a href=\"https://testing-library.com/react\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">React Testing Library</a>, c√°c h√†m h·ªó tr·ª£ ƒë√£ ƒë∆∞·ª£c wrap l·∫°i s·∫µn trong <code class=\"language-inline-text\">act()</code>.</p>\n<blockquote>\n<p>L∆∞u √Ω:</p>\n<p>T√™n <code class=\"language-inline-text\">act</code> c√≥ ngu·ªìn g·ªëc t·ª´ c√°ch l√†m <a href=\"http://wiki.c2.com/?ArrangeActAssert\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Arrange-Act-Assert</a>.</p>\n</blockquote>\n<hr>\n<h3 id=\"rendering-rendering\"><a href=\"#rendering-rendering\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Rendering {#rendering}</h3>\n<p>Th∆∞·ªùng th√¨, ch√∫ng ta mu·ªën test xem m·ªôt component render ƒë√∫ng hay kh√¥ng v·ªõi c√°c prop nh·∫≠n ƒë∆∞·ª£c. Xem x√©t m·ªôt component ƒë∆°n gi·∫£n s·∫Ω render m·ªôt th√¥ng tin d·ª±a v√†o prop:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// hello.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello, </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token plain-text\">!</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hey, stranger</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ch√∫ng ta c√≥ th·ªÉ vi·∫øt test cho component:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// hello.test.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render<span class=\"token punctuation\">,</span> unmountComponentAtNode <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> act <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/test-utils\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> Hello <span class=\"token keyword\">from</span> <span class=\"token string\">\"./hello\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// c√†i ƒë·∫∑t m·ªôt DOM element nh∆∞ l√† target cho render</span>\n  container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">afterEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// d·ªçn d·∫πp l√∫c tho√°t</span>\n  <span class=\"token function\">unmountComponentAtNode</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders with or without a name\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hello</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">.</span>textContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hey, stranger\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hello</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Jenny<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">.</span>textContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, Jenny!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hello</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Margaret<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">.</span>textContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, Margaret!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h3 id=\"fetch-d·ªØ-li·ªáu-data-fetching\"><a href=\"#fetch-d%E1%BB%AF-li%E1%BB%87u-data-fetching\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Fetch d·ªØ li·ªáu {#data-fetching}</h3>\n<p>Thay v√¨ g·ªçi APIs th·∫≠t trong test, ch√∫ng ta c√≥ th·ªÉ gi·∫£ l·∫≠p c√°c request n√†y b·∫±ng d·ªØ li·ªáu gi·∫£. Gi·∫£ l·∫≠p d·ªØ li·ªáu v·ªõi d·ªØ li·ªáu \"fake\" ƒë·ªÉ tr√°nh ·∫£nh h∆∞·ªüng ƒë·∫øn test khi backend kh√¥ng s·ª≠ d·ª•ng ƒë∆∞·ª£c, v√† ƒë·ªÉ n√≥ ch·∫°y nhanh h∆°n. L∆∞u √Ω: b·∫°n c√≥ th·ªÉ mu·ªën n√≥ ch·∫°y danh s√°ch c√°c test con s·ª≠ d·ª•ng framework <a href=\"/docs/testing-environments.html#end-to-end-tests-aka-e2e-tests\">\"end-to-end\"</a> ƒë·ªÉ xem to√†n b·ªô ·ª©ng d·ª•ng c√≥ l√†m vi·ªác v·ªõi nhau kh√¥ng.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// user.js</span>\n\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">User</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">,</span> setUser<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fetchUserData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">+</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setUser</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">fetchUserData</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"loading...\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> years old\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      lives in </span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>address<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>B·∫°n c√≥ th·ªÉ vi·∫øt test cho n√≥:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// user.test.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render<span class=\"token punctuation\">,</span> unmountComponentAtNode <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> act <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/test-utils\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> User <span class=\"token keyword\">from</span> <span class=\"token string\">\"./user\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// c√†i ƒë·∫∑t m·ªôt DOM element nh∆∞ l√† target cho render</span>\n  container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">afterEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// d·ªçn d·∫πp l√∫c tho√°t</span>\n  <span class=\"token function\">unmountComponentAtNode</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders user data\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> fakeUser <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"Joni Baez\"</span><span class=\"token punctuation\">,</span>\n    age<span class=\"token operator\">:</span> <span class=\"token string\">\"32\"</span><span class=\"token punctuation\">,</span>\n    address<span class=\"token operator\">:</span> <span class=\"token string\">\"123, Charming Avenue\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  jest<span class=\"token punctuation\">.</span><span class=\"token function\">spyOn</span><span class=\"token punctuation\">(</span>global<span class=\"token punctuation\">,</span> <span class=\"token string\">\"fetch\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mockImplementation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token function-variable function\">json</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>fakeUser<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// s·ª≠ d·ª•ng m·ªôt phi√™n b·∫£n async ƒë·ªÉ √°p d·ª•ng resolved promise</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>123<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"summary\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span>fakeUser<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"strong\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span>fakeUser<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">.</span>textContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toContain</span><span class=\"token punctuation\">(</span>fakeUser<span class=\"token punctuation\">.</span>address<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// x√≥a gi·∫£ l·∫≠p ƒë·ªÉ ƒë·∫£m b·∫£o test ch·∫°y t√°ch bi·ªát</span>\n  global<span class=\"token punctuation\">.</span>fetch<span class=\"token punctuation\">.</span><span class=\"token function\">mockRestore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h3 id=\"gi·∫£-l·∫≠p-c√°c-module-mocking-modules\"><a href=\"#gi%E1%BA%A3-l%E1%BA%ADp-c%C3%A1c-module-mocking-modules\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·∫£ l·∫≠p c√°c module {#mocking-modules}</h3>\n<p>M·ªôt v√†i module kh√¥ng l√†m vi·ªác t·ªët trong m√¥i tr∆∞·ªùng test, ho·∫∑c kh√¥ng c·∫ßn thi·∫øt cho test ƒë√≥. Gi·∫£ l·∫≠p c√°c module n√†y b·∫±ng dummy ƒë·ªÉ d·ªÖ d√†ng test h∆°n ph·∫ßn code c·ªßa ch√∫ng ta.</p>\n<p>Component <code class=\"language-inline-text\">Contact</code> c√≥ nh√∫ng m·ªôt component third-party <code class=\"language-inline-text\">GoogleMap</code>:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// map.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> LoadScript<span class=\"token punctuation\">,</span> GoogleMap <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-google-maps\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">LoadScript</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>script-loader<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">googleMapsApiKey</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>YOUR_API_KEY<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">GoogleMap</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>example-map<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">center</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>center<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">LoadScript</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// contact.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Map <span class=\"token keyword\">from</span> <span class=\"token string\">\"./map\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Contact</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>address</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        Contact </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> via</span><span class=\"token punctuation\">{</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">data-testid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>email<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"mailto:\"</span> <span class=\"token operator\">+</span> props<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          email\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        or on their </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">data-testid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>site<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>site<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          website\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">.\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>address</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Map</span></span> <span class=\"token attr-name\">center</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>center<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>N·∫øu kh√¥ng mu·ªën load component <code class=\"language-inline-text\">GoogleMap</code> trong test c·ªßa ch√∫ng ta, gi·∫£ l·∫≠p b·∫±ng m·ªôt dummy component v√† ch·∫°y test:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// contact.test.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render<span class=\"token punctuation\">,</span> unmountComponentAtNode <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> act <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/test-utils\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> Contact <span class=\"token keyword\">from</span> <span class=\"token string\">\"./contact\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> MockedMap <span class=\"token keyword\">from</span> <span class=\"token string\">\"./map\"</span><span class=\"token punctuation\">;</span>\n\njest<span class=\"token punctuation\">.</span><span class=\"token function\">mock</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./map\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">DummyMap</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">data-testid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>map<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>center<span class=\"token punctuation\">.</span>lat<span class=\"token punctuation\">}</span><span class=\"token plain-text\">:</span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>center<span class=\"token punctuation\">.</span>long<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// c√†i ƒë·∫∑t m·ªôt DOM element nh∆∞ l√† target cho render</span>\n  container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">afterEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// d·ªçn d·∫πp l√∫c tho√°t</span>\n  <span class=\"token function\">unmountComponentAtNode</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"should render contact information\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> center <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> lat<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> long<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Contact</span></span>\n        <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Joni Baez<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">email</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>test@example.com<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">site</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://test.com<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">center</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>center<span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span>\n      container\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\n    container<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[data-testid='email']\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"href\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mailto:test@example.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\n    container<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[data-testid=\"site\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"href\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://test.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[data-testid=\"map\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"0:0\"</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h3 id=\"event-events\"><a href=\"#event-events\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Event {#events}</h3>\n<p>Ch√∫ng t√¥i khuy·∫øn ngh·ªã dispatch m·ªôt event DOM th·∫≠t tr√™n DOM element, v√† ƒë·∫∑t ph·∫ßn x√°c nh·∫≠n k·∫øt qu·∫£. Xem m·ªôt component <code class=\"language-inline-text\">Toggle</code>:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// toggle.js</span>\n\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Toggle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> setState<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n      <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">previousState</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>previousState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        props<span class=\"token punctuation\">.</span><span class=\"token function\">onChange</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">data-testid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toggle<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>state <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"Turn off\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Turn on\"</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ch√∫ng ta c√≥ th·ªÉ vi·∫øt test cho n√≥:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// toggle.test.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render<span class=\"token punctuation\">,</span> unmountComponentAtNode <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> act <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/test-utils\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> Toggle <span class=\"token keyword\">from</span> <span class=\"token string\">\"./toggle\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// c√†i ƒë·∫∑t m·ªôt DOM element nh∆∞ l√† target cho render</span>\n  container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// container *ph·∫£i* ƒë∆∞·ª£c ch√®n v√†o document ƒë·ªÉ event ch·∫°y ƒë√∫ng.</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">afterEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// d·ªçn d·∫πp l√∫c tho√°t</span>\n  <span class=\"token function\">unmountComponentAtNode</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"changes value when clicked\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> onChange <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Toggle</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onChange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// l·∫•y to√†n b·ªô c√°c element, v√† trigger m·ªôt v√†i s·ª± ki·ªán click</span>\n  <span class=\"token keyword\">const</span> button <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[data-testid=toggle]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>button<span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Turn on\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    button<span class=\"token punctuation\">.</span><span class=\"token function\">dispatchEvent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">MouseEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> bubbles<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>onChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenCalledTimes</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>button<span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Turn off\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      button<span class=\"token punctuation\">.</span><span class=\"token function\">dispatchEvent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">MouseEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> bubbles<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>onChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenCalledTimes</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>button<span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Turn on\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>C√°c event DOM v√† thu·ªôc t√≠nh ƒë∆∞·ª£c m√¥ t·∫£ trong <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MDN</a>. L∆∞u √Ω b·∫°n ph·∫£i truy·ªÅn v√†o <code class=\"language-inline-text\">{ bubbles: true }</code> tr√™n t·ª´ng event b·∫°n t·∫°o cho n√≥ ƒë·ªÉ ƒë·∫øn React listener v√¨ React t·ª± ƒë·ªông truy·ªÅn c√°c event n√†y ƒë·∫øn document.</p>\n<blockquote>\n<p>L∆∞u √Ω:</p>\n<p>React Testing Library cung c·∫•p <a href=\"https://testing-library.com/docs/dom-testing-library/api-events\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">m·ªôt s·ªë h√†m h·ªó tr·ª£</a> cho vi·ªác b·∫Øn s·ª± ki·ªán.</p>\n</blockquote>\n<hr>\n<h3 id=\"timer-timers\"><a href=\"#timer-timers\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Timer {#timers}</h3>\n<p>Code c√≥ th·ªÉ s·ª≠ d·ª•ng h√†m li√™n quan th·ªùi gian nh∆∞ <code class=\"language-inline-text\">setTimeout</code> ƒë·ªÉ l√™n l·ªãch c√°c c√¥ng vi·ªác s·∫Ω th·ª±c hi·ªán trong t∆∞∆°ng lai. Trong v√≠ d·ª•, m·ªôt c·ª≠a s·ªï nhi·ªÅu l·ª±a ch·ªçn ƒë·ª£i cho ƒë·∫øn khi c√≥ l·ª±a ch·ªçn, n·∫øu sau 5 gi√¢y s·∫Ω kh√¥ng th·ªÉ ch·ªçn:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// card.js</span>\n\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Card</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> timeoutID <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      props<span class=\"token punctuation\">.</span><span class=\"token function\">onSelect</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timeoutID<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>props<span class=\"token punctuation\">.</span>onSelect<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">choice</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n      <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>choice<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">data-testid</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>choice<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> props<span class=\"token punctuation\">.</span><span class=\"token function\">onSelect</span><span class=\"token punctuation\">(</span>choice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>choice<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ch√∫ng ta c√≥ th·ªÉ vi·∫øt test cho component b·∫±ng c√°ch d√πng <a href=\"https://jestjs.io/docs/en/timer-mocks\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Jest's timer mocks</a> v√† test s·ª± kh√°c nhau c·ªßa state.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// card.test.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render<span class=\"token punctuation\">,</span> unmountComponentAtNode <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> act <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/test-utils\"</span><span class=\"token punctuation\">;</span>\n\njest<span class=\"token punctuation\">.</span><span class=\"token function\">useFakeTimers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// c√†i ƒë·∫∑t m·ªôt DOM element nh∆∞ l√† target cho render</span>\n  container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">afterEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// d·ªçn d·∫πp l√∫c tho√°t</span>\n  <span class=\"token function\">unmountComponentAtNode</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"should select null after timing out\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> onSelect <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Card</span></span> <span class=\"token attr-name\">onSelect</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onSelect<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// ch·∫°y ƒë·∫øn l√∫c 100ms</span>\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    jest<span class=\"token punctuation\">.</span><span class=\"token function\">advanceTimersByTime</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>onSelect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>not<span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenCalled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// v√† ch·∫°y ƒë·∫øn l√∫c 5 gi√¢y</span>\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    jest<span class=\"token punctuation\">.</span><span class=\"token function\">advanceTimersByTime</span><span class=\"token punctuation\">(</span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>onSelect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"should cleanup on being removed\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> onSelect <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Card</span></span> <span class=\"token attr-name\">onSelect</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onSelect<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    jest<span class=\"token punctuation\">.</span><span class=\"token function\">advanceTimersByTime</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>onSelect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>not<span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenCalled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// unmount app</span>\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    jest<span class=\"token punctuation\">.</span><span class=\"token function\">advanceTimersByTime</span><span class=\"token punctuation\">(</span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>onSelect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>not<span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenCalled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"should accept selections\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> onSelect <span class=\"token operator\">=</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Card</span></span> <span class=\"token attr-name\">onSelect</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>onSelect<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    container\n      <span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[data-testid='2']\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">dispatchEvent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">MouseEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> bubbles<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>onSelect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>B·∫°n c√≥ th·ªÉ gi·∫£ l·∫≠p th·ªùi gian trong m·ªôt test. ·ªû tr√™n, ch√∫ng ta b·∫≠t l√™n b·∫±ng c√°ch g·ªçi <code class=\"language-inline-text\">jest.useFakeTimers()</code>. ∆Øu ƒëi·ªÉm ch√≠nh c·ªßa ch√∫ng cho ta l√† test kh√¥ng c·∫ßn th·ª±c s·ª± ƒë·ª£i ƒë·∫øn 5 gi√¢y ƒë·ªÉ ch·∫°y, v√† b·∫°n c≈©ng kh√¥ng c·∫ßn thay ƒë·ªïi component ƒë·ªÉ ph·ª•c v·ª• vi·ªác test.</p>\n<hr>\n<h3 id=\"snapshot-test-snapshot-testing\"><a href=\"#snapshot-test-snapshot-testing\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Snapshot Test {#snapshot-testing}</h3>\n<p>Framework nh∆∞ Jest cho ch√∫ng ta l∆∞u \"·∫£nh\" v·ªõi <a href=\"https://jestjs.io/docs/en/snapshot-testing\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-inline-text\">toMatchSnapshot</code> / <code class=\"language-inline-text\">toMatchInlineSnapshot</code></a>. V·ªõi ch√∫ng, b·∫°n c√≥ th·ªÉ \"l∆∞u\" m·ªôt k·∫øt qu·∫£ render v√† ƒë·∫£m b·∫£o m·ªôt thay ƒë·ªïi c√≥ th·ªÉ l√†m thay ƒë·ªïi c·ªßa k·∫øt qu·∫£ snapshot.</p>\n<p>Trong v√≠ d·ª•, ch√∫ng ta render m·ªôt component v√† ƒë·ªãnh d·∫°ng HTML ƒë√£ render v·ªõi th∆∞ vi·ªán <a href=\"https://www.npmjs.com/package/pretty\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-inline-text\">pretty</code></a>, tr∆∞·ªõc khi l∆∞u n√≥ nh∆∞ m·ªôt snapshot inline:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// hello.test.js, again</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render<span class=\"token punctuation\">,</span> unmountComponentAtNode <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> act <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/test-utils\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> pretty <span class=\"token keyword\">from</span> <span class=\"token string\">\"pretty\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> Hello <span class=\"token keyword\">from</span> <span class=\"token string\">\"./hello\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// c√†i ƒë·∫∑t m·ªôt DOM element nh∆∞ l√† target cho render</span>\n  container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">afterEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// d·ªçn d·∫πp l√∫c tho√°t</span>\n  <span class=\"token function\">unmountComponentAtNode</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  container <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"should render a greeting\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hello</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">pretty</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toMatchInlineSnapshot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* ... ƒë∆∞·ª£c t·ª± ƒë·ªông ƒëi·ªÅn b·ªüi jest ... */</span>\n\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hello</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Jenny<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">pretty</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toMatchInlineSnapshot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* ... ƒë∆∞·ª£c t·ª± ƒë·ªông ƒëi·ªÅn b·ªüi jest ... */</span>\n\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hello</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Margaret<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">pretty</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toMatchInlineSnapshot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* ... ƒë∆∞·ª£c t·ª± ƒë·ªông ƒëi·ªÅn b·ªüi jest ... */</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Th∆∞·ªùng s·∫Ω t·ªët h∆°n n·∫øu ch·ªâ r√µ k·∫øt qu·∫£ mu·ªën nh·∫≠n ƒë∆∞·ª£c thay v√¨ snapshot. Nh·ªØng ki·ªÉu test n√†y bao g·ªìm ph·∫ßn hi·ªán th·ª±c chi ti·∫øt ƒë·ªÉ ch√∫ng d·ªÖ d√†ng b·ªã fail. Ch·ªçn <a href=\"#mocking-modules\">gi·∫£ l·∫≠p m·ªôt v√†i component con</a> c√≥ th·ªÉ gi√∫p gi·∫£m k√≠ch th∆∞·ªõc snapshot v√† gi·ªØ ch√∫ng d·ªÖ ƒë·ªôc l√∫c review code.</p>\n<hr>\n<h3 id=\"multiple-renderer-multiple-renderers\"><a href=\"#multiple-renderer-multiple-renderers\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Multiple Renderer {#multiple-renderers}</h3>\n<p>Trong nh·ªØng t√¨nh hu·ªëng hi·∫øm, b·∫°n c√≥ th·ªÉ ch·∫°y m·ªôt test tr√™n m·ªôt component s·ª≠ d·ª•ng multiple renderer. L·∫•y v√≠ d·ª•, b·∫°n c√≥ th·ªÉ ch·∫°y snapshot test tr√™n m·ªôt component v·ªõi <code class=\"language-inline-text\">react-test-renderer</code>, b√™n trong ƒë√≥ n√≥ d√πng <code class=\"language-inline-text\">ReactDOM.render</code>trong m·ªôt child component ƒë·ªÉ render m·ªôt v√†i n·ªôi dung. T√¨nh hu·ªëng ƒë√≥, b·∫°n c√≥ th·ªÉ wrap ph·∫ßn c·∫≠p nh·∫≠p v·ªõi <code class=\"language-inline-text\">act()</code> ·ª©ng v·ªõi t·ª´ng renderer</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> act <span class=\"token keyword\">as</span> domAct <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/test-utils\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> act <span class=\"token keyword\">as</span> testAct<span class=\"token punctuation\">,</span> create <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-test-renderer\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ...</span>\n<span class=\"token keyword\">let</span> root<span class=\"token punctuation\">;</span>\n<span class=\"token function\">domAct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">testAct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    root <span class=\"token operator\">=</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toMatchSnapshot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h3 id=\"c√≤n-thi·∫øu-g√¨-ƒë√≥-something-missing\"><a href=\"#c%C3%B2n-thi%E1%BA%BFu-g%C3%AC-%C4%91%C3%B3-something-missing\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√≤n thi·∫øu g√¨ ƒë√≥? {#something-missing}</h3>\n<p>N·∫øu c√°c t√¨nh hu·ªëng hay g·∫∑p kh√¥ng ƒë∆∞·ª£c ƒë·ªÅ c·∫≠p ·ªü ƒë√¢y, c√≥ th·ªÉ li√™n h·ªá v·ªõi ch√∫ng t√¥i qua <a href=\"https://github.com/reactjs/reactjs.org/issues\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">issue tracker</a> cho to√†n b·ªô t√†i li·ªáu c·ªßa website</p>\n","cover_image":""}},{"node":{"id":"c3b0c1585f2bb1dbf4887da537c56854","title":"Ch·ªâ d·∫´n vi·∫øt Redux sao cho chu·∫©n","path":"/2020-01-01-chi-dan-viet-redux-sao-cho-chuan/","date":"2020-01-01","timeToRead":15,"desc":"ƒê√¢y kh√¥ng ph·∫£i l√† quan ƒëi·ªÉm c√° nh√¢n, b√†i vi·∫øt ƒë∆∞·ª£c d·ªãch thu·∫≠t t·ª´ t√†i li·ªáu ch√≠nh th·ª©c c·ªßa Redux","content":"<!-- TOC -->\n<ul>\n<li>\n<p><a href=\"#a-b%E1%BA%AFt-bu%E1%BB%99c\">A. B·∫Øt bu·ªôc</a></p>\n<ul>\n<li><a href=\"#ko-mutate-state\">Ko mutate state</a></li>\n<li><a href=\"#reducer-ko-%C4%91%C6%B0%E1%BB%A3c-c%C3%B3-side-effect\">Reducer ko ƒë∆∞·ª£c c√≥ side effect</a></li>\n<li><a href=\"#kh%C3%B4ng-%C4%91%C6%B0a-c%C3%A1c-gi%C3%A1-tr%E1%BB%8B-non-serialize-v%C3%A0o-trong-action-v%C3%A0-state\">Kh√¥ng ƒë∆∞a c√°c gi√° tr·ªã Non-Serialize v√†o trong action v√† state</a></li>\n<li><a href=\"#ch%E1%BB%89-m%E1%BB%99t-redux-store-cho-app\">Ch·ªâ m·ªôt Redux store cho app</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#b-c%E1%BB%B1c-k%E1%BB%B3-khuy%E1%BA%BFn-kh%C3%ADch\">B. C·ª±c k·ª≥ khuy·∫øn kh√≠ch</a></p>\n<ul>\n<li><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-redux-toolkit-%C4%91%E1%BB%83-vi%E1%BA%BFt-redux-logic\">S·ª≠ d·ª•ng Redux Toolkit ƒë·ªÉ vi·∫øt Redux logic</a></li>\n<li><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-immer-%C4%91%E1%BB%83-c%E1%BA%ADp-nh%E1%BA%ADp-gi%C3%A1-tr%E1%BB%8B-store\">S·ª≠ d·ª•ng Immer ƒë·ªÉ c·∫≠p nh·∫≠p gi√° tr·ªã store</a></li>\n<li><a href=\"#c%E1%BA%A5u-tr%C3%BAc-file-v%C3%A0-th%C6%B0-m%E1%BB%A5c\">C·∫•u tr√∫c file v√† th∆∞ m·ª•c</a></li>\n<li><a href=\"#%C4%91%C6%B0a-c%C3%A0ng-nhi%E1%BB%81u-logic-v%C3%A0-trong-reducer-c%C3%A0ng-t%E1%BB%91t\">ƒê∆∞a c√†ng nhi·ªÅu logic v√† trong reducer c√†ng t·ªët</a></li>\n<li><a href=\"#reducer-c%E1%BA%A7n-n%E1%BA%AFm-r%C3%B5-c%E1%BA%A5u-tr%C3%BAc-c%E1%BB%A7a-state\">Reducer c·∫ßn n·∫Øm r√µ c·∫•u tr√∫c c·ªßa state</a></li>\n<li><a href=\"#%C4%91%E1%BA%B7t-t%C3%AAn-state-d%E1%BB%B1a-tr%C3%AAn-d%E1%BB%AF-li%E1%BB%87u-s%E1%BA%BD-l%C6%B0u\">ƒê·∫∑t t√™n state d·ª±a tr√™n d·ªØ li·ªáu s·∫Ω l∆∞u</a></li>\n<li><a href=\"#xem-reducer-nh%C6%B0-m%E1%BB%99t-c%E1%BB%97-m%C3%A1y-ch%E1%BB%A9a-v%C3%A0-v%E1%BA%ADn-h%C3%A0nh-state\">Xem reducer nh∆∞ m·ªôt c·ªó m√°y ch·ª©a v√† v·∫≠n h√†nh state</a></li>\n<li><a href=\"#%C4%91%C6%A1n-gi%E1%BA%A3n-h%C3%B3a-c%C3%A1c-state-ch%E1%BB%93ng-ch%C3%A9oc%C3%B3-quan-h%E1%BB%87-v%E1%BB%9Bi-nhau\">ƒê∆°n gi·∫£n h√≥a c√°c state ch·ªìng ch√©o/c√≥ quan h·ªá v·ªõi nhau</a></li>\n<li><a href=\"#c%C3%A1c-action-n%C3%AAn-t%E1%BB%95-ch%E1%BB%A9c-nh%C6%B0-event-kh%C3%B4ng-ph%E1%BA%A3i-setter\">C√°c action n√™n t·ªï ch·ª©c nh∆∞ event, kh√¥ng ph·∫£i setter</a></li>\n<li><a href=\"#vi%E1%BA%BFt-t%C3%AAn-action-c%C3%B3-ngh%C4%A9a\">Vi·∫øt t√™n action c√≥ nghƒ©a</a></li>\n<li><a href=\"#tr%C3%A1nh-dispatch-c%C3%A1c-action-m%E1%BB%99t-c%C3%A1ch-tu%E1%BA%A7n-t%E1%BB%B1\">Tr√°nh dispatch c√°c action m·ªôt c√°ch tu·∫ßn t·ª±</a></li>\n<li><a href=\"#k%E1%BA%BFt-n%E1%BB%91i-c%C3%A0ng-nhi%E1%BB%81u-component-%C4%91%E1%BB%83-%C4%91%E1%BB%8Dc-d%E1%BB%AF-li%E1%BB%87u-trong-store\">K·∫øt n·ªëi c√†ng nhi·ªÅu component ƒë·ªÉ ƒë·ªçc d·ªØ li·ªáu trong store</a></li>\n<li><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-c%C3%A1ch-vi%E1%BA%BFt-t%E1%BA%AFt-cho-mapdispatch-khi-d%C3%B9ng-connect\">S·ª≠ d·ª•ng c√°ch vi·∫øt t·∫Øt cho <code class=\"language-inline-text\">mapDispatch</code> khi d√πng <code class=\"language-inline-text\">connect</code></a></li>\n<li><a href=\"#g%E1%BB%8Di-useselector-nhi%E1%BB%81u-l%E1%BA%A7n-trong-function-component\">G·ªçi <code class=\"language-inline-text\">useSelector</code> nhi·ªÅu l·∫ßn trong function component</a></li>\n<li><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-redux-devtools\">S·ª≠ d·ª•ng Redux DevTools</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#khuy%E1%BA%BFn-kh%C3%ADch\">Khuy·∫øn kh√≠ch</a></p>\n<ul>\n<li><a href=\"#gi%C3%A1-tr%E1%BB%8B-type-c%E1%BB%A7a-action-n%C3%AAn-l%C3%A0-domaineventname\">Gi√° tr·ªã type c·ªßa action n√™n l√† <code class=\"language-inline-text\">domain/eventName</code></a></li>\n<li><a href=\"#vi%E1%BA%BFt-action-s%E1%BB%AD-d%E1%BB%A5ng-c%C3%A1ch-%C4%91%E1%BA%B7t-t%C3%AAn-chu%E1%BA%A9n-c%E1%BB%A7a-flux\">Vi·∫øt action s·ª≠ d·ª•ng c√°ch ƒë·∫∑t t√™n chu·∫©n c·ªßa Flux</a></li>\n<li><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-action-creator\">S·ª≠ d·ª•ng action creator</a></li>\n<li><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-thunk-cho-c%C3%A1c-logic-async\">S·ª≠ d·ª•ng Thunk cho c√°c logic async</a></li>\n<li><a href=\"#t%C3%A1ch-c%C3%A1c-logic-ph%E1%BB%A9c-t%E1%BA%A1p-ra-kh%E1%BB%8Fi-component\">T√°ch c√°c logic ph·ª©c t·∫°p ra kh·ªèi component</a></li>\n<li><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-selector-function-%C4%91%E1%BB%83-%C4%91%E1%BB%8Dc-d%E1%BB%AF-li%E1%BB%87u-trong-store\">S·ª≠ d·ª•ng selector function ƒë·ªÉ ƒë·ªçc d·ªØ li·ªáu trong store</a></li>\n<li><a href=\"#tr%C3%A1nh-%C4%91%C6%B0a-state-c%E1%BB%A7a-form-v%C3%A0o-trong-redux\">Tr√°nh ƒë∆∞a state c·ªßa form v√†o trong redux</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<p>T√†i li·ªáu ch√≠nh th·ª©c h∆∞·ªõng d·∫´n vi·∫øt redux sao cho ngon-s·∫°ch, bao g·ªìm nh·ªØng c√°ch l√†m ƒë∆∞·ª£c ƒë·ªÅ ngh·ªã, kinh nghi·ªám th·ª±c t·∫ø v√† nh·ªØng c√°ch ti·∫øp c·∫≠n ƒë∆∞·ª£c khuy·∫øn kh√≠ch.</p>\n<p>C·∫£ ph·∫ßn core c·ªßa Redux v√† c√°c t√†i li·ªáu c·ªßa Redux kh√¥ng h·ªÅ l√† chu·∫©n m·ª±c b·∫Øt bu·ªôc m·ªçi ng∆∞·ªùi tu√¢n th·ªß, c√≥ r·∫•t nhi·ªÅu c√°ch ƒë·ªÉ s·ª≠ d·ª•ng Redux, c≈©ng nh∆∞ c√≥ r·∫•t nhi·ªÅu c√°ch l√†m <em>ƒë√∫ng</em> ƒë·ªÉ gi·∫£i quy·∫øt m·ªôt v·∫•n ƒë·ªÅ.</p>\n<h2 id=\"a-b·∫Øt-bu·ªôc\"><a href=\"#a-b%E1%BA%AFt-bu%E1%BB%99c\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>A. B·∫Øt bu·ªôc</h2>\n<h3 id=\"ko-mutate-state\"><a href=\"#ko-mutate-state\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ko mutate state</h3>\n<p>Ch·ªânh s·ª≠a state l√† nguy√™n nh√¢n g√¢y bug th∆∞·ªùng th·∫•y trong Redux, nh∆∞ kh√¥ng re-render, time-travel trong Redux DevTools ko ho·∫°t ƒë·ªông. Tuy·ªát ƒë·ªëi <strong>KO t·ª± ch·ªânh s·ª≠a gi√° tr·ªã c·ªßa state</strong>, bao g·ªìm c·∫£ trong reducer v√† b·∫•t k·ª≥ ch·ªó n√†o trong source code, ch·ªâ ƒë∆∞·ª£c ph√©p <strong>thay th·∫ø gi√° tr·ªã c·ªßa state</strong></p>\n<p>C√≥ th·ªÉ s·ª≠ d·ª•ng nh·ªØng c√¥ng c·ª• nh∆∞ <a href=\"https://github.com/leoasis/redux-immutable-state-invariant\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">redux-immutable-state-invariant</a>, <a href=\"https://immerjs.github.io/immer/docs/introduction\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">immer</a> ƒë·ªÉ tr√°nh vi·ªác v√¥ t√¨nh ch·ªânh s·ª≠a state ngo√†i √Ω mu·ªën.</p>\n<h3 id=\"reducer-ko-ƒë∆∞·ª£c-c√≥-side-effect\"><a href=\"#reducer-ko-%C4%91%C6%B0%E1%BB%A3c-c%C3%B3-side-effect\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Reducer ko ƒë∆∞·ª£c c√≥ side effect</h3>\n<p>C√°c h√†m Reducer ch·ªâ ph·ª• thu·ªôc v√†o <code class=\"language-inline-text\">state</code> v√† <code class=\"language-inline-text\">action</code>, ch·ªâ t√≠nh to√°n v√† tr·∫£ v·ªÅ gi√° tr·ªã m·ªõi d·ª±a v√†o nh·ªØng tham s·ªë n√†y. <strong>Kh√¥ng ch·∫°y b·∫•t k·ª≥ logic b·∫•t ƒë·ªìng b·ªô n√†o (AJAX, timeout, promise), c√°c gi√° tr·ªã kh·ªüi t·∫°o m·ªôt c√°ch ng·∫´u nhi√™n Date.now, Math.random, thay ƒë·ªïi nh·ªØng gi√° tr·ªã b√™n ngo√†i reducer</strong></p>\n<h3 id=\"kh√¥ng-ƒë∆∞a-c√°c-gi√°-tr·ªã-non-serialize-v√†o-trong-action-v√†-state\"><a href=\"#kh%C3%B4ng-%C4%91%C6%B0a-c%C3%A1c-gi%C3%A1-tr%E1%BB%8B-non-serialize-v%C3%A0o-trong-action-v%C3%A0-state\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kh√¥ng ƒë∆∞a c√°c gi√° tr·ªã Non-Serialize v√†o trong action v√† state</h3>\n<p><strong>Tr√°nh d√πng c√°c gi√° tr·ªã non-serialize nh∆∞ Promise, Symbol, function, class instance v√†o trong state ho·∫∑c dispatch action.</strong> ƒêi·ªÅu n√†y c√≤n nh·∫±m ƒë·∫£m b·∫£o c√°c c√¥ng nh∆∞ Redux DevTool ch·∫°y ƒë√∫ng</p>\n<h3 id=\"ch·ªâ-m·ªôt-redux-store-cho-app\"><a href=\"#ch%E1%BB%89-m%E1%BB%99t-redux-store-cho-app\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ch·ªâ m·ªôt Redux store cho app</h3>\n<p>V·ªõi m·ªôt ·ª©ng d·ª•ng, <strong>ch·ªâ ƒë∆∞·ª£c s·ª≠ d·ª•ng m·ªôt Redux store, s·ª≠ d·ª•ng b·ªüi to√†n b·ªô ·ª©ng d·ª•ng</strong>, khai b√°o trong file <code class=\"language-inline-text\">store.js</code></p>\n<p>C≈©ng kh√¥ng c√≥ m·ªôt ch·ªó n√†o trong source ƒë∆∞·ª£c import store tr·ª±c ti·∫øp. N√≥ ph·∫£i ƒë∆∞·ª£c truy·ªÅn v√†o <code class=\"language-inline-text\">&lt;Provider/></code>, ho·∫∑c tham chi·∫øu th√¥ng qua middleware nh∆∞ Thunk.</p>\n<h2 id=\"b-c·ª±c-k·ª≥-khuy·∫øn-kh√≠ch\"><a href=\"#b-c%E1%BB%B1c-k%E1%BB%B3-khuy%E1%BA%BFn-kh%C3%ADch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B. C·ª±c k·ª≥ khuy·∫øn kh√≠ch</h2>\n<h3 id=\"s·ª≠-d·ª•ng-redux-toolkit-ƒë·ªÉ-vi·∫øt-redux-logic\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-redux-toolkit-%C4%91%E1%BB%83-vi%E1%BA%BFt-redux-logic\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·ª≠ d·ª•ng Redux Toolkit ƒë·ªÉ vi·∫øt Redux logic</h3>\n<p><a href=\"https://redux.js.org/redux-toolkit/overview/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Redux Toolkit</a> l√† b·ªô c√¥ng c·ª• ch√≠nh th·ª©c c·ªßa ch√∫ng t√¥i (Redux team) ƒë·ªÉ ph√°t tri·ªÉn redux m·ªôt c√°ch hi·ªáu qu·∫£, chu·∫©n ƒë·ªÉ vi·∫øt logic redux c·ªßa ch√∫ng t√¥i.</p>\n<p>N√≥ bao g·ªìm c√°c h√†m ƒë·ªÉ l√†m vi·ªác v·ªõi c√°c tr∆∞·ªùng h·ª£p ph·ªï bi·∫øn nh·∫•t c·ªßa Redux, bao g·ªìm c√†i ƒë·∫∑t store, khai b√°o reducer, c√°c th∆∞ vi·ªán ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªông r√£i trong Redux nh∆∞ Redux Thunk, Reselect ƒë·ªÉ vi·∫øt c√°c selector function.</p>\n<h3 id=\"s·ª≠-d·ª•ng-immer-ƒë·ªÉ-c·∫≠p-nh·∫≠p-gi√°-tr·ªã-store\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-immer-%C4%91%E1%BB%83-c%E1%BA%ADp-nh%E1%BA%ADp-gi%C3%A1-tr%E1%BB%8B-store\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·ª≠ d·ª•ng Immer ƒë·ªÉ c·∫≠p nh·∫≠p gi√° tr·ªã store</h3>\n<p>Vi·∫øt update cho store ƒë√¥i khi r·∫•t m·ªát m·ªèi, c√≥ th·ªÉ s·ª≠ d·ª•ng th√™m c√¥ng c·ª• h·ªó tr·ª£ <a href=\"https://immerjs.github.io/immer/docs/introduction\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">immerjs</a>.</p>\n<h3 id=\"c·∫•u-tr√∫c-file-v√†-th∆∞-m·ª•c\"><a href=\"#c%E1%BA%A5u-tr%C3%BAc-file-v%C3%A0-th%C6%B0-m%E1%BB%A5c\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C·∫•u tr√∫c file v√† th∆∞ m·ª•c</h3>\n<p>V·ªÅ c∆° b·∫£n Redux <em>kh√¥ng quan t√¢m c√°ch b·∫°n t·ªï ch·ª©c file v√† th∆∞ m·ª•c</em>. Tuy nhi√™n, trong th·ª±c t·∫ø vi·ªác ƒë·∫∑t c√°c logic g·∫ßn nhau gi√∫p vi·ªác c·∫≠p nh·∫≠p code nhanh h∆°n.</p>\n<p>Khuy·∫øn kh√≠ch s·ª≠ d·ª•ng c√°ch ti·∫øp c·∫≠n \"feature folder\" ho·∫∑c <a href=\"https://github.com/erikras/ducks-modular-redux\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">c√°ch l√†m ducks</a> (t·∫•t c·∫£ nh·ªØng logic cho feature n·∫±m trong m·ªôt file duy nh·∫•t)</p>\n<p>M·ªôt c·∫•u tr√∫c th∆∞ m·ª•c c∆° b·∫£n s·∫Ω g·ªìm</p>\n<div class=\"gridsome-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">-/src\n--/index.tsx\n--/app\n---/store.ts\n---/rootReducer.ts\n---/App.tsx\n--/common\n--/features\n---/todos\n----/todosSlice.ts\n----/Todos.tsx</code></pre></div>\n<h3 id=\"ƒë∆∞a-c√†ng-nhi·ªÅu-logic-v√†-trong-reducer-c√†ng-t·ªët\"><a href=\"#%C4%91%C6%B0a-c%C3%A0ng-nhi%E1%BB%81u-logic-v%C3%A0-trong-reducer-c%C3%A0ng-t%E1%BB%91t\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ƒê∆∞a c√†ng nhi·ªÅu logic v√† trong reducer c√†ng t·ªët</h3>\n<p>N·∫øu c√≥ th·ªÉ, c·ªë g·∫Øng ƒë∆∞a c√†ng nhi·ªÅu logic ho·∫∑c t√≠nh to√°n ƒë·ªÉ c√≥ m·ªôt state m·ªõi v√†o trong reducer c√†ng t·ªët, kh√¥ng n√™n ƒë∆∞a v√†o ch·ªó x·ª≠ l√Ω ti·ªÅn d·ªØ li·ªáu nh∆∞ c√°c function handler click. Vi·ªác n√†y gi√∫p logic d·ªÖ test h∆°n, tr√°nh l·ªói.</p>\n<p>Redux kh√¥ng th·ª±c s·ª± quan t√¢m gi√° tr·ªã m·ªõi c·ªßa state ƒë∆∞·ª£c t√≠nh to√°n b√™n trong reducer hay trong action creation. V√≠ d·ª• nh∆∞ Todo App, vi·ªác <em>toggle todo</em> s·∫Ω c·∫≠p nh·∫≠p l·∫°i m·∫£ng <code class=\"language-inline-text\">todos</code> trong store. C√≥ th·ªÉ t√≠nh to√°n m·∫£ng <code class=\"language-inline-text\">todos</code> m·ªõi ·ªü c·∫£ action v√† reducer</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Click handler:</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onTodoClicked</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>type<span class=\"token operator\">:</span> <span class=\"token string\">\"todos/toggleTodo\"</span><span class=\"token punctuation\">,</span> payload<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// t√≠nh to√°n ·ªü Reducer:</span>\n<span class=\"token keyword\">case</span> <span class=\"token string\">\"todos/toggleTodo\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">todo</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>todo<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> action<span class=\"token punctuation\">.</span>payload<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> todo<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>todo<span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>payload<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// T√≠nh to√°n ·ªü action creation:</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onTodoClicked</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">id</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> newTodos <span class=\"token operator\">=</span> todos<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">todo</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>todo<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> todo\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>todo<span class=\"token punctuation\">,</span> id <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'todos/toggleTodo'</span><span class=\"token punctuation\">,</span> payload<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> todos<span class=\"token operator\">:</span> newTodos <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Reducer:</span>\n<span class=\"token keyword\">case</span> <span class=\"token string\">\"todos/toggleTodo\"</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">return</span> action<span class=\"token punctuation\">.</span>payload<span class=\"token punctuation\">.</span>todos<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Khuy·∫øn kh√≠ch l√†m vi·ªác n√†y ·ªü reducer v√¨ nh·ªØng nguy√™n nh√¢n sau</p>\n<ul>\n<li>Test ·ªü Reducer s·∫Ω d·ªÖ h∆°n v√¨ n√≥ l√† pure function, ch·ªâ c·∫ßn g·ªçi <code class=\"language-inline-text\">const result = reducer(testState, action)</code> v√† ƒë∆∞a v√†o k·∫øt qu·∫£ b·∫°n expect.</li>\n<li>Thay ƒë·ªïi gi√° tr·ªã state lu√¥n tu√¢n theo quy ƒë·ªãnh, kh√¥ng ch·ªânh s·ª≠a-ch·ªâ thay th·∫ø. R√µ r√†ng l√† vi·ªác n√†y s·∫Ω tr·ª±c quan h∆°n trong reducer, nh·ªØng n·∫øu ngo√†i reducer, ch√∫ng ta d·ªÖ v√¥ t√¨nh ch·ªânh s·ª≠a ngo√†i √Ω mu·ªën</li>\n<li>Time-travel debug cho ph√©p ch√∫ng ta <strong>undo</strong> m·ªôt dispatch action, r·ªìi <strong>redo</strong> th·∫≠m ch√≠ thay th·∫ø b·∫±ng m·ªôt action kh√°c. Debug s·∫Ω d·ªÖ h∆°n n·∫øu ch√∫ng ta ƒë∆∞a logic ƒë√≥ v√†o reducer</li>\n<li>Khi √°p d·ª•ng nguy√™n t·∫Øc n√†y, ch√∫ng bi·∫øt ƒë∆∞·ª£c khi c·∫ßn thay ƒë·ªïi, v√† n∆°i state b·ªã thay ƒë·ªïi ch·∫Øc ch·∫Øn l√† trong reducer ch·ª© kh√¥ng ƒë√¢u kh√°c.</li>\n</ul>\n<p>C√≥ nh·ªØng ngo·∫°i l·ªá c√≥ th·ªÉ t√≠nh to√°n tr∆∞·ªõc, nh∆∞ kh·ªüi t·∫°o m·ªôt ID, nh∆∞ng n√™n tr√°nh l√† t·ªët nh·∫•t.</p>\n<h3 id=\"reducer-c·∫ßn-n·∫Øm-r√µ-c·∫•u-tr√∫c-c·ªßa-state\"><a href=\"#reducer-c%E1%BA%A7n-n%E1%BA%AFm-r%C3%B5-c%E1%BA%A5u-tr%C3%BAc-c%E1%BB%A7a-state\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Reducer c·∫ßn n·∫Øm r√µ c·∫•u tr√∫c c·ªßa state</h3>\n<p>C√°c reducer do b·∫°n vi·∫øt, khi tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã ƒë√£ t√≠nh to√°n c·ªßa state, ph·∫£i vi·∫øt c·ª• th·ªÉ l√† tr·∫£ v·ªÅ gi√° tr·ªã g√¨, tr√°nh s·ª≠ d·ª•ng <em>spread/blind return</em> nh∆∞ sau <code class=\"language-inline-text\">return action.payload</code> (blind return), <code class=\"language-inline-text\">return {...state, ...action.payload}</code> (spread return). V√¨ nh∆∞ v·∫≠y, n√≥ s·∫Ω ph·ª• thu·ªôc gi√° tr·ªã truy·ªÅn v√†o l√∫c dispatch action ph·∫£i ƒë√∫ng v·ªõi c·∫•u tr√∫c ban ƒë·∫ßu. N·∫øu v√¥ t√¨nh d·ªØ li·ªáu n√†y kh√¥ng ƒë√∫ng c·∫•u tr√∫c s·∫Ω c√≥ bug.</p>\n<h3 id=\"ƒë·∫∑t-t√™n-state-d·ª±a-tr√™n-d·ªØ-li·ªáu-s·∫Ω-l∆∞u\"><a href=\"#%C4%91%E1%BA%B7t-t%C3%AAn-state-d%E1%BB%B1a-tr%C3%AAn-d%E1%BB%AF-li%E1%BB%87u-s%E1%BA%BD-l%C6%B0u\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ƒê·∫∑t t√™n state d·ª±a tr√™n d·ªØ li·ªáu s·∫Ω l∆∞u</h3>\n<p>Object truy·ªÅn v√†o cho <code class=\"language-inline-text\">combineReducers</code> s·∫Ω l√† t√™n key tr·∫£ v·ªÅ trong state. Tr√°nh s·ª≠ d·ª•ng t·ª´ <code class=\"language-inline-text\">reducer</code> ,</p>\n<p>Ko n√™n c√≥ m·ªôt object state nh∆∞ th·∫ø n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>usersReducer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> postsReducer<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>N√™n</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>users<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> posts<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"xem-reducer-nh∆∞-m·ªôt-c·ªó-m√°y-ch·ª©a-v√†-v·∫≠n-h√†nh-state\"><a href=\"#xem-reducer-nh%C6%B0-m%E1%BB%99t-c%E1%BB%97-m%C3%A1y-ch%E1%BB%A9a-v%C3%A0-v%E1%BA%ADn-h%C3%A0nh-state\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Xem reducer nh∆∞ m·ªôt c·ªó m√°y ch·ª©a v√† v·∫≠n h√†nh state</h3>\n<p>R·∫•t nhi·ªÅu reducer c·ªßa redux ƒë∆∞·ª£c vi·∫øt m·ªôt c√°ch kh√¥ng r√†ng bu·ªôc nh∆∞ th·∫ø n√†y, ki·ªÉm tra action, t√≠nh to√°n gi√° tr·ªã state m·ªõi m√† kh√¥ng h·ªÅ ph·ª• thu·ªôc t·ªõi state hi·ªán t·∫°i. C√≥ nh·ªØng tr∆∞·ªùng h·ª£p gi√° tr·ªã c·ªßa m·ªôt state ph·ª• thu·ªôc v√†o gi√° tr·ªã state kh√°c, n·∫øu kh√¥ng ki·ªÉm tra tr∆∞·ªõc khi c·∫≠p nh·∫≠p, c√≥ th·ªÉ d·∫´n ƒë·∫øn bug</p>\n<h3 id=\"ƒë∆°n-gi·∫£n-h√≥a-c√°c-state-ch·ªìng-ch√©oc√≥-quan-h·ªá-v·ªõi-nhau\"><a href=\"#%C4%91%C6%A1n-gi%E1%BA%A3n-h%C3%B3a-c%C3%A1c-state-ch%E1%BB%93ng-ch%C3%A9oc%C3%B3-quan-h%E1%BB%87-v%E1%BB%9Bi-nhau\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ƒê∆°n gi·∫£n h√≥a c√°c state ch·ªìng ch√©o/c√≥ quan h·ªá v·ªõi nhau</h3>\n<p>R·∫•t nhi·ªÅu ·ª©ng d·ª•ng c·∫ßn cache c√°c d·ªØ li·ªáu ph·ª©c t·∫°p trong store, d·ªØ li·ªáu th∆∞·ªùng c√≥ quan h·ªá ch·ªìng ch√©o trong API v√† ph·ª• thu·ªôc v√†o nhi·ªÅu entities kh√°c nhau (nh∆∞ quan h·ªá gi·ªØa d·ªØ li·ªáu Users, Posts, Comments)</p>\n<p>Khuy·∫øn kh√≠ch n√™n l∆∞u d·ªØ li·ªáu trong store ·ªü d·∫°ng <a href=\"https://redux.js.org/recipes/structuring-reducers/normalizing-state-shape/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">cƒÉn b·∫£n nh·∫•t</a>. Nh∆∞ v·∫≠y khi nh√¨n v√†o c√≥ th·ªÉ d·ªÖ d√†ng bi·∫øt ƒë∆∞·ª£c d·ª±a v√†o ID c·ªßa ch√∫ng</p>\n<h3 id=\"c√°c-action-n√™n-t·ªï-ch·ª©c-nh∆∞-event-kh√¥ng-ph·∫£i-setter\"><a href=\"#c%C3%A1c-action-n%C3%AAn-t%E1%BB%95-ch%E1%BB%A9c-nh%C6%B0-event-kh%C3%B4ng-ph%E1%BA%A3i-setter\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°c action n√™n t·ªï ch·ª©c nh∆∞ event, kh√¥ng ph·∫£i setter</h3>\n<p>Ch√∫ng ta c√≥ th·ªÉ truy·ªÅn b·∫•t c·ª© gi√° tr·ªã g√¨ cho <code class=\"language-inline-text\">action.type</code>, th√≠ d·ª• nh∆∞ <code class=\"language-inline-text\">\"users/update\"</code>, <code class=\"language-inline-text\">\"users/updated\"</code>, <code class=\"language-inline-text\">\"upload/progress\"</code>, <code class=\"language-inline-text\">\"users/setUserName\"</code>. Kh√¥ng sai nh∆∞ng khuy·∫øn kh√≠ch n√™n di·ªÖn t·∫£ c√°c <code class=\"language-inline-text\">action.type</code> n√†y nh∆∞ m·ªôt event, h∆°n l√† c√°c <code class=\"language-inline-text\">setter</code> nh∆∞ v·∫≠y. N·∫øu di·ªÖn ƒë·∫°t theo ki·ªÉu setter nh∆∞ v·∫≠y th∆∞·ªùng d·∫´n t·ªõi qu√° nhi·ªÅu action type, qu√° nhi·ªÅu dispatcher</p>\n<h3 id=\"vi·∫øt-t√™n-action-c√≥-nghƒ©a\"><a href=\"#vi%E1%BA%BFt-t%C3%AAn-action-c%C3%B3-ngh%C4%A9a\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Vi·∫øt t√™n action c√≥ nghƒ©a</h3>\n<p><code class=\"language-inline-text\">action.type</code> ph·ª•c v·ª• 2 m·ª•c ƒë√≠ch</p>\n<ul>\n<li>reducer s·∫Ω ki·ªÉm tra gi√° tr·ªã type ƒë·ªÉ t√≠nh to√°n</li>\n<li>hi·ªÉn th·ªã tr√™n c√¥ng c·ª• redux devtool ƒë·ªÉ ch√∫ng ta theo d√µi</li>\n</ul>\n<p>Ti·∫øp c·∫≠n action nh∆∞ c∆° ch·∫ø <strong>event</strong>, t√™n n√†y n√†y kh√¥ng c·∫ßn r√†ng bu·ªôc v·ªõi m·ªôt tr∆∞·ªùng c·ª• th·ªÉ n√†o trong store, ƒë·∫∑t t√™n sao ƒë·ªÉ khi ƒë·ªçc v√†o ch√∫ng ta c√≥ th·ªÉ hi·ªÉu ƒë∆∞·ª£c chuy·ªán g√¨ ƒëang di·ªÖn ra tr√™n ·ª©ng d·ª•ng (th√¥ng qua c√¥ng c·ª• redux devtool). Tr√°nh nh·ªØng c√°i t√™n qu√° chung chung nh∆∞ <code class=\"language-inline-text\">SET_DATA</code> hay <code class=\"language-inline-text\">UPDATE_STORE</code>.</p>\n<h3 id=\"tr√°nh-dispatch-c√°c-action-m·ªôt-c√°ch-tu·∫ßn-t·ª±\"><a href=\"#tr%C3%A1nh-dispatch-c%C3%A1c-action-m%E1%BB%99t-c%C3%A1ch-tu%E1%BA%A7n-t%E1%BB%B1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tr√°nh dispatch c√°c action m·ªôt c√°ch tu·∫ßn t·ª±</h3>\n<p>Tr√°nh <code class=\"language-inline-text\">dispatch</code> nhi·ªÅu action c√πng l√∫c ƒë·ªÉ th·ª±c hi·ªán m·ªôt t√°c v·ª• n√†o ƒë√≥. Kh√¥ng sai, nh∆∞ng k·∫øt qu·∫£ l√† vi·ªác update UI r·∫•t ti√™u t·ªën c√¥ng s·ª©c c·ªßa tr√¨nh duy·ªát, ƒë√¥i khi c√≥ nh·ªØng state kh√¥ng truy xu·∫•t ƒë∆∞·ª£c ·ªü m·ªôt v√†i logic.</p>\n<h3 id=\"k·∫øt-n·ªëi-c√†ng-nhi·ªÅu-component-ƒë·ªÉ-ƒë·ªçc-d·ªØ-li·ªáu-trong-store\"><a href=\"#k%E1%BA%BFt-n%E1%BB%91i-c%C3%A0ng-nhi%E1%BB%81u-component-%C4%91%E1%BB%83-%C4%91%E1%BB%8Dc-d%E1%BB%AF-li%E1%BB%87u-trong-store\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>K·∫øt n·ªëi c√†ng nhi·ªÅu component ƒë·ªÉ ƒë·ªçc d·ªØ li·ªáu trong store</h3>\n<p>C√†ng nhi·ªÅu component k·∫øt n·ªëi v√†o store s·∫Ω gi√∫p hi·ªáu nƒÉng update UI c·∫£i thi·ªán, do bi·∫øt ƒë∆∞·ª£c component n√†o c·∫ßn v√† kh√¥ng c·∫ßn update.</p>\n<p>C√≥ th·ªÉ k·∫øt n·ªëi b·∫±ng <code class=\"language-inline-text\">connect</code> ho·∫∑c <code class=\"language-inline-text\">useSelector</code></p>\n<h3 id=\"s·ª≠-d·ª•ng-c√°ch-vi·∫øt-t·∫Øt-cho-mapdispatch-khi-d√πng-connect\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-c%C3%A1ch-vi%E1%BA%BFt-t%E1%BA%AFt-cho-mapdispatch-khi-d%C3%B9ng-connect\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·ª≠ d·ª•ng c√°ch vi·∫øt t·∫Øt cho <code class=\"language-inline-text\">mapDispatch</code> khi d√πng <code class=\"language-inline-text\">connect</code></h3>\n<p><a href=\"https://react-redux.js.org/using-react-redux/connect-mapdispatch#defining-mapdispatchtoprops-as-an-object\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">S·ª≠ d·ª•ng c√°ch vi·∫øt t·∫Øt cho <code class=\"language-inline-text\">mapDispatch</code> khi d√πng <code class=\"language-inline-text\">connect</code></a> nh·∫±m ƒë∆°n gi·∫£n h√≥a code. G·∫ßn nh∆∞ ch∆∞a bao gi·ªù c·∫ßn ph·∫£i vi·∫øt <code class=\"language-inline-text\">mapDispatch</code> nh∆∞ m·ªôt function.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>increment<span class=\"token punctuation\">,</span> decrement<span class=\"token punctuation\">,</span> reset<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./counterActions\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Redux t·ª± ƒë·ªông d√πng dispatch</span>\n<span class=\"token comment\">// khi b·∫°n truy·ªÅn v√†o l√† m·ªôt object</span>\n<span class=\"token keyword\">const</span> actionCreators <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  increment<span class=\"token punctuation\">,</span>\n  decrement<span class=\"token punctuation\">,</span>\n  reset\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>mapState<span class=\"token punctuation\">,</span> actionCreators<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Counter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// or</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>\n  mapState<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> increment<span class=\"token punctuation\">,</span> decrement<span class=\"token punctuation\">,</span> reset <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Counter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"g·ªçi-useselector-nhi·ªÅu-l·∫ßn-trong-function-component\"><a href=\"#g%E1%BB%8Di-useselector-nhi%E1%BB%81u-l%E1%BA%A7n-trong-function-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>G·ªçi <code class=\"language-inline-text\">useSelector</code> nhi·ªÅu l·∫ßn trong function component</h3>\n<p>Khi s·ª≠ d·ª•ng hook <code class=\"language-inline-text\">useSelector</code>, khuy·∫øn kh√≠ch d√πng nhi·ªÅu l·∫ßn ƒë·ªÉ l·∫•y nhi·ªÅu ph·∫ßn d·ªØ li·ªáu kh√°c nhau, thay v√¨ l·∫•y m·ªôt c·ª•c d·ªØ li·ªáu l·ªõn ƒë√£ bao g·ªìm c√°c d·ªØ li·ªáu nh·ªè h∆°n b√™n trong. Kh√¥ng gi·ªëng v·ªõi <code class=\"language-inline-text\">mapState</code>, <code class=\"language-inline-text\">useSelector</code> kh√¥ng y√™u c·∫ßu tr·∫£ v·ªÅ object, s·ª≠ d·ª•ng selector ƒë·ªÉ l·∫•y nh·ªØng ƒë∆°n v·ªã d·ªØ li·ªáu nh·ªè h∆°n b√™n trong store s·∫Ω gi√∫p √≠t cho vi·ªác render nhi·ªÅu l·∫ßn.</p>\n<h3 id=\"s·ª≠-d·ª•ng-redux-devtools\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-redux-devtools\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·ª≠ d·ª•ng Redux DevTools</h3>\n<p>H·ªçc c√°ch c√†i ƒë·∫∑t v√† s·ª≠ d·ª•ng thu·∫ßn th·ª•c <a href=\"https://github.com/zalmoxisus/redux-devtools-extension\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Redux DevTool</a>, n√≥ s·∫Ω cho ph√©p ch√∫ng ta</p>\n<ul>\n<li>Xem l·ªãch s·ª≠ dispatch action</li>\n<li>N·ªôi dung c·ªßa t·ª´ng action</li>\n<li>State cu·ªëi c√πng sau khi action ƒë∆∞·ª£c dispatch</li>\n<li>S·ª± kh√°c nhau c·ªßa state tr∆∞·ªõc v√† sau m·ªôt action</li>\n<li>Action ƒë√£ ƒë∆∞·ª£c dispatch t·ª´ ƒë√¢u</li>\n</ul>\n<h2 id=\"khuy·∫øn-kh√≠ch\"><a href=\"#khuy%E1%BA%BFn-kh%C3%ADch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Khuy·∫øn kh√≠ch</h2>\n<h3 id=\"gi√°-tr·ªã-type-c·ªßa-action-n√™n-l√†-domaineventname\"><a href=\"#gi%C3%A1-tr%E1%BB%8B-type-c%E1%BB%A7a-action-n%C3%AAn-l%C3%A0-domaineventname\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi√° tr·ªã type c·ªßa action n√™n l√† <code class=\"language-inline-text\">domain/eventName</code></h3>\n<p>Tr∆∞·ªõc ƒë√¢y t√†i li·ªáu Redux c√≥ ƒë·ªÅ c·∫≠p v√† s·ª≠ d·ª•ng t√™n nh∆∞ th·∫ø n√†y <code class=\"language-inline-text\">SCREAMING_SNAKE_CASE</code> ƒë·ªÉ khai b√°o action type, v√≠ d·ª• nh∆∞ <code class=\"language-inline-text\">ADD_TODO</code> v√† <code class=\"language-inline-text\">INCREMENT</code>, c√°ch n√†y s·∫Ω kh·ªõp v·ªõi c√°ch ƒë·∫∑t bi·∫øn h·∫±ng s·ªë trong ƒëa s·ªë c√°c ng√¥n ng·ªØ l·∫≠p tr√¨nh. Tuy nhi√™n vi·∫øt hoa h·∫øt nh∆∞ v·∫≠y h∆°i kh√≥ ƒë·ªçc.</p>\n<p>C·ªông ƒë·ªìng l·∫≠p tr√¨nh vi√™n √°p d·ª•ng m·ªôt c√°ch ƒë·∫∑t t√™n kh√°c, b·∫Øt ƒë·∫ßu l√† <code class=\"language-inline-text\">feature</code> ho·∫∑c <code class=\"language-inline-text\">domain</code> n∆°i action n√†y thu·ªôc v·ªÅ v√† theo sau l√† t√™n c·ªßa ki·ªÉu action. Ngo√†i ra c√≤n c√≥ nhi·ªÅu c√°ch kh√°c nh∆∞ <code class=\"language-inline-text\">\"[Domain] Action Type\"</code> hay <code class=\"language-inline-text\">\"[Login Page] Login\"</code>, <code class=\"language-inline-text\">\"domain:action\"</code></p>\n<p>H√†m <code class=\"language-inline-text\">createSlice</code> trong Redux Toolkit t·∫°o ra m·ªôt action type nh∆∞ sau <code class=\"language-inline-text\">\"domain/action\"</code>, v√≠ d·ª• <code class=\"language-inline-text\">todos/addTodo</code>. Ch√∫ng t√¥i khuy·∫øn kh√≠ch s·ª≠ d·ª•ng <code class=\"language-inline-text\">domain/action</code> cho d·ªÖ ƒë·ªçc.</p>\n<h3 id=\"vi·∫øt-action-s·ª≠-d·ª•ng-c√°ch-ƒë·∫∑t-t√™n-chu·∫©n-c·ªßa-flux\"><a href=\"#vi%E1%BA%BFt-action-s%E1%BB%AD-d%E1%BB%A5ng-c%C3%A1ch-%C4%91%E1%BA%B7t-t%C3%AAn-chu%E1%BA%A9n-c%E1%BB%A7a-flux\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Vi·∫øt action s·ª≠ d·ª•ng c√°ch ƒë·∫∑t t√™n chu·∫©n c·ªßa Flux</h3>\n<p><em>Flux Architechure</em> ch·ªâ y√™u c·∫ßu m·ªói action object ph·∫£i c√≥ tr∆∞·ªùng <code class=\"language-inline-text\">type</code> v√† kh√¥ng c√≥ b·∫•t c·ª© r√†ng bu·ªôc n√†o kh√°c, t·ª´ c√°ch ƒë·∫∑t t√™n c≈©ng nh∆∞ tr∆∞·ªùng n√†o n√™n ƒë∆∞a v√†o. ƒê·ªÉ ƒë·∫£m b·∫£o nh·∫•t qu√°n, Andrew Clark vi·∫øt ra m·ªôt b·ªô <a href=\"https://github.com/redux-utilities/flux-standard-action\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Flux Standard Actions</a> ƒë·ªÉ chu·∫©n h√≥a. T√≥m t·∫Øt l·∫°i b·ªô n·ªôi dung n√†y, action n√™n l√†</p>\n<ul>\n<li>Lu√¥n ƒë·∫∑t d·ªØ li·ªáu trong tr∆∞·ªùng <code class=\"language-inline-text\">payload</code></li>\n<li>Th√™m tr∆∞·ªùng <code class=\"language-inline-text\">meta</code> cho c√°c th√¥ng tin kh√°c</li>\n<li>Th√™m tr∆∞·ªùng <code class=\"language-inline-text\">error</code> cho c√°c action b√°o l·ªói</li>\n</ul>\n<h3 id=\"s·ª≠-d·ª•ng-action-creator\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-action-creator\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·ª≠ d·ª•ng action creator</h3>\n<p>Thu·∫≠t ng·ªØ <strong>Action creator</strong> c√≥ ngu·ªìn g·ªëc t·ª´ c√°ch ti·∫øp c·∫≠n c·ªßa <em>Flux Architechure</em>, action creator <strong>kh√¥ng b·∫Øt bu·ªôc</strong>, c√°c component v√† logic c√≥ th·ªÉ g·ªçi tr·ª±c ti·∫øp <code class=\"language-inline-text\">dispatch({ type: \"some/action\"})</code> (action object ƒë∆∞·ª£c truy·ªÅn d·∫°ng inline).</p>\n<p>Tuy nhi√™n, s·ª≠ d·ª•ng action creator ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n, ƒë·∫∑c bi·ªát ph√π h·ª£p khi c·∫ßn chu·∫©n b·ªã m·ªôt d·ªØ li·ªáu ho·∫∑c logic cho action (th√≠ d·ª• nh∆∞ kh·ªüi t·∫°o m·ªôt gi√° tr·ªã ID kh√¥ng tr√πng l·∫∑p).</p>\n<p><strong>Khuy·∫øn kh√≠ch s·ª≠ d·ª•ng action creator</strong>. Tuy nhi√™n, thay v√¨ vi·∫øt tay, b·∫°n n√™n s·ª≠ d·ª•ng h√†m <code class=\"language-inline-text\">createSlice</code> trong b·ªô Redux Toolkit, n√≥ s·∫Ω gi√∫p t·∫°o m·ªôt action creator v√† action type t·ª± ƒë·ªông</p>\n<h3 id=\"s·ª≠-d·ª•ng-thunk-cho-c√°c-logic-async\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-thunk-cho-c%C3%A1c-logic-async\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·ª≠ d·ª•ng Thunk cho c√°c logic async</h3>\n<p>Redux ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ c√≥ th·ªÉ m·ªü r·ªông v√† middleware API ƒë∆∞·ª£c t·∫°o ra cho ph√©p c√°c d·∫°ng async logic kh√°c khau c√≥ th·ªÉ c√†i c·∫Øm v√†o trong Redux store. B·∫±ng c√°ch ƒë√≥, b·∫°n kh√¥ng c·∫ßn b·∫Øt bu·ªôc ph·∫£i h·ªçc c√°c th∆∞ vi·ªán c·ª• th·ªÉ n√†o ƒë√≥ nh∆∞ RxJS n·∫øu kh√¥ng ph√π h·ª£p v·ªõi nhu c·∫ßu th·ª±c t·∫ø.</p>\n<p>K·∫øt qu·∫£ c·∫£ kh√° nhi·ªÅu middleware addon ƒë∆∞·ª£c t·∫°o ra cho Redux v√† t·∫°o ra kh√¥ng √≠t b·ªëi r·ªëi c≈©ng nh∆∞ c√¢u h·ªèi v·ªÅ n√™n s·ª≠ d·ª•ng middleware n√†o.</p>\n<p>Ch√∫ng t√¥i th·ª±c s·ª± khuy·∫øn kh√≠ch s·ª≠ d·ª•ng <a href=\"https://github.com/reduxjs/redux-thunk\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Redux Thunk</a> nh∆∞ m·∫∑c ƒë·ªãnh, n√≥ c√≥ th·ªÉ gi·∫£i quy·∫øt h·∫ßu h·∫øt c√°c tr∆∞·ªùng h·ª£p. ƒê·ªìng th·ªùi s·ª≠ d·ª•ng c√∫ ph√°p <code class=\"language-inline-text\">async/await</code> trong thunk r·∫•t d·ªÖ ƒë·ªçc.</p>\n<p>N·∫øu b·∫°n c√≥ nh∆∞ c·∫ßu s·ª≠ d·ª•ng m·ªôt workflow async th·ª±c s·ª± ph·ª©c t·∫°p nh∆∞ cancel, debouncing, ch·∫°y logic khau khi action ƒë∆∞·ª£c dispatch, <strong>thread ch·∫°y ng·∫ßm</strong> c√≥ th·ªÉ c√¢n nh·∫Øc s·ª≠ d·ª•ng c√°c middleware nh∆∞ Redux-Saga v√† Redux-Observable</p>\n<h3 id=\"t√°ch-c√°c-logic-ph·ª©c-t·∫°p-ra-kh·ªèi-component\"><a href=\"#t%C3%A1ch-c%C3%A1c-logic-ph%E1%BB%A9c-t%E1%BA%A1p-ra-kh%E1%BB%8Fi-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T√°ch c√°c logic ph·ª©c t·∫°p ra kh·ªèi component</h3>\n<p>Ch√∫ng t√¥i khuy·∫øn ngh·ªã n√™n ƒë∆∞a c√°c logic ph·ª©c t·∫°p ra kh·ªèi component, theo t∆∞ t∆∞·ªüng c·ªßa c√°ch l√†m <em>container/presentational</em>, c√†ng nhi·ªÅu component ch·ªâ nh·∫≠n prop v√† hi·ªÉn th·ªã UI c√†ng t·ªët, ƒë·ªìng th·ªùi khi ph·∫£i l√†m vi·ªác v·ªõi c√°c logic b·∫•t tu·∫ßn t·ª± (async) b√™n trong component r·∫•t kh√≥ ƒë·ªÉ b·∫£o tr√¨ sau n√†y.</p>\n<p>Tuy nhi√™n, s·ª≠ d·ª•ng React hook c√≥ v·∫ª nh∆∞ d·ªÖ d√†ng h∆°n trong vi·ªác qu·∫£n l√Ω c√°c logic ki·ªÉu nh∆∞ fetch d·ªØ li·ªáu tr·ª±c ti·∫øp trong component v√† c√≥ th·ªÉ thay th·∫ø b·∫±ng thunk trong v√†i tr∆∞·ªùng h·ª£p</p>\n<h3 id=\"s·ª≠-d·ª•ng-selector-function-ƒë·ªÉ-ƒë·ªçc-d·ªØ-li·ªáu-trong-store\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-selector-function-%C4%91%E1%BB%83-%C4%91%E1%BB%8Dc-d%E1%BB%AF-li%E1%BB%87u-trong-store\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·ª≠ d·ª•ng selector function ƒë·ªÉ ƒë·ªçc d·ªØ li·ªáu trong store</h3>\n<p>Selector function l√† c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÅ ƒë·ªçc c√°c gi√° tr·ªã trong store. Nh·ªØng th∆∞ vi·ªán nh∆∞ Reselect cho t·∫°o v√† l∆∞u tr·ªØ c√°c selector function, ch·ªâ t√≠nh to√°n l·∫°i k·∫øt qu·∫£ n·∫øu c·∫ßn thi·∫øt, l√† m·ªôt ƒë·∫∑c t√≠nh quan tr·ªçng ƒë·ªÉ c·∫£i thi·ªán hi·ªáu nƒÉng.</p>\n<p>Khuy·∫øn kh√≠ch s·ª≠ d·ª•ng c√°c selector function v√† l∆∞u l·∫°i k·∫øt qu·∫£ ƒë·ªçc ƒë∆∞·ª£c t·ª´ store b·∫•t c·ª© khi n√†o c√≥ th·ªÉ, t·∫°o c√°c selector function n√†y b·∫±ng Reselect</p>\n<p>Tuy nhi√™n, c≈©ng kh√¥ng nh·∫•t thi·∫øt <strong>b·∫Øt bu·ªôc ph·∫£i</strong> vi·∫øt selector function cho t·∫•t c·∫£ c√°c gi√° tr·ªã trong state. C√¢n nh·∫Øc c√°c tr∆∞·ªùng hay c·∫ßn truy xu·∫•t v√† c·∫≠p nh·∫≠p c≈©ng nh∆∞ l·ª£i √≠ch mang l·∫°i khi s·ª≠ d·ª•ng c√°c selector function</p>\n<h3 id=\"tr√°nh-ƒë∆∞a-state-c·ªßa-form-v√†o-trong-redux\"><a href=\"#tr%C3%A1nh-%C4%91%C6%B0a-state-c%E1%BB%A7a-form-v%C3%A0o-trong-redux\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tr√°nh ƒë∆∞a state c·ªßa form v√†o trong redux</h3>\n<p>H·∫ßu nh∆∞ nh∆∞ state c·ªßa form ko n√™n n·∫±m trong Redux. D·ªØ li·ªáu n√†y kh√¥ng th·ª±c s·ª± ph·∫£i <em>global</em>, ko c·∫ßn ƒë∆∞·ª£c cache, kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi nhi·ªÅu component c√πng l√∫c. Connect form v√†o redux c≈©ng d·∫´n ƒë·∫øn chuy·ªán dispatch action tr√™n t·∫•t c·∫£ c√°c s·ª± ki·ªán thay ƒë·ªïi trong form, n√≥ s·∫Ω l√†m hi·ªáu nƒÉng gi·∫£m tr·∫ßm tr·ªçng v√† kh√¥ng mang l·∫°i nhi·ªÅu hi·ªáu qu·∫£.</p>\n<p>Ch·ªâ n√™n d·ªØ state c·ªßa form trong component v√† ƒë∆∞a to√†n b·ªô gi√° tr·ªã l√™n store sau khi user submit form.</p>\n<p>Ch·ªâ duy nh·∫•t tr∆∞·ªùng h·ª£p ƒë∆∞a form state v√†o redux l√† h·ª£p l√Ω khi vi·∫øt component nh∆∞ WYSIWYG v·ªõi t√≠nh nƒÉng live preview tr√™n c√°c thu·ªôc t√≠nh. C√≤n l·∫°i ƒëa ph·∫ßn kh√¥ng c·∫ßn thi·∫øt.</p>\n<p><a href=\"https://redux.js.org/style-guide/style-guide/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://redux.js.org/style-guide/style-guide/</a></p>\n","cover_image":""}},{"node":{"id":"0b73c5d779773c72939b08d650b2f722","title":"Gi·∫£i b√†i to√°n c·ªông 2 s·ªë b·∫±ng javascript","path":"/2019-11-29-giai-bai-toan-cong-so-trong-javascript/","date":"2019-11-29","timeToRead":4,"desc":"M·ªôt ƒë·ªÅ b√†i c≈©ng kh√¥ng m·ªõi, th√¥ng qua ƒë√≥ ch√∫ng ta s·∫Ω bi·∫øt th√™m t√≠ v·ªÅ c√°ch s·ª≠ d·ª•ng object sao cho hi·ªáu qu·∫£","content":"<p>ƒê·ªÅ b√†i: vi·∫øt m·ªôt h√†m, nh·∫≠n 2 tham s·ªë ƒë·∫ßu v√†o, tham s·ªë th·ª© nh·∫•t l√† m·ªôt m·∫£ng s·ªë, tham s·ªë th·ª© 2 l√† m·ªôt s·ªë b·∫•t k·ª≥. Y√™u c·∫ßu tr·∫£ v·ªÅ m·ªôt m·∫£ng g·ªìm 2 ph·∫ßn t·ª≠ trong m·∫£ng ban ƒë·∫ßu v√† 2 ph·∫ßn t·ª≠ n√†y c·ªông l·∫°i b·∫±ng tham s·ªë th·ª© 2.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * @param {number[]} nums\n * @param {number} total\n * @return {number[]}\n */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">twoSum</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> total</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Solution here</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>V√≠ d·ª• s·ª≠ d·ª•ng h√†m n√†y b·∫±ng c√°c input nh∆∞ b√™n d∆∞·ªõi</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">input: nums = [1, 2, 3], total = 4\noutput: [1, 3]\n\ninput: nums = [3, 9, 12, 20], total = 21\noutput: [9, 12]</code></pre></div>\n<p>Ch√∫ng ta coi nh∆∞ m·∫£ng <code class=\"language-inline-text\">nums</code> truy·ªÅn v√†o lu√¥n l√† m·∫£ng s·ªë, ko c·∫ßn ki·ªÉm tr·∫£ ki·ªÉu gi√° tr·ªã c·ªßa ph·∫ßn t·ª≠ trong m·∫£ng, <code class=\"language-inline-text\">total</code> lu√¥n l√† m·ªôt con s·ªë m√† 2 ph·∫ßn t·ª≠ trong c√≥ th·ªÉ c·ªông l·∫°i b·∫±ng. T·∫•t l√† kh√¥ng c√≥ tr∆∞·ªùng h·ª£p ko t√¨m th·∫•y c·∫∑p ph·∫ßn t·ª≠ n√†o th·ªèa y√™u c·∫ßu</p>\n<h2 id=\"ph∆∞∆°ng-ph√°p-v√©t-c·∫°n-kh√¥ng-b·ªè-s√≥t-em-n√†o\"><a href=\"#ph%C6%B0%C6%A1ng-ph%C3%A1p-v%C3%A9t-c%E1%BA%A1n-kh%C3%B4ng-b%E1%BB%8F-s%C3%B3t-em-n%C3%A0o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ph∆∞∆°ng ph√°p: V√©t c·∫°n, kh√¥ng b·ªè s√≥t em n√†o</h2>\n<p>L·∫•y ph·∫ßn t·ª≠ ƒë·∫ßu ti√™n c·ªßa <code class=\"language-inline-text\">nums</code>, duy·ªát qua to√†n b·ªô c√°c ph·∫ßn t·ª≠ c√≤n l·∫°i, xem c√≥ th·∫±ng n√†o c·ªông l·∫°i b·∫±ng <code class=\"language-inline-text\">total</code> kh√¥ng. C·ª© l√†m ƒëi·ªÅu t∆∞∆°ng t·ª± v·ªõi t·ª´ng ph·∫ßn t·ª≠ m·ªôt trong m·∫£ng. </p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * @param {number[]} nums\n * @param {number} total\n * @return {number[]}\n */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">twoSum</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">nums<span class=\"token punctuation\">,</span> total</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> nums<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> total<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">twoSum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [1, 3]</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">twoSum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [9, 12]</span></code></pre></div>\n<p>C√≥ 2 ch·ªó ƒë√°ng quan t√¢m n·∫øu ch·ªçn c√°ch n√†y</p>\n<ol>\n<li>T·∫°i sao v√≤ng l·∫∑p <strong>ph·∫£i</strong> k·∫øt th√∫c ·ªü <code class=\"language-inline-text\">i &lt; nums.length - 1</code> ?</li>\n<li>T·∫°i sao v√≤ng l·∫∑p b√™n trong n·ªØa b·∫Øt ƒë·∫ßu ·ªü v·ªã tr√≠ <code class=\"language-inline-text\">j = i +1</code> ?</li>\n</ol>\n<p>C≈©ng nh∆∞ c√°i t√™n c·ªßa n√≥ <strong>V√©t c·∫°n</strong>, ch√∫ng ta kh√¥ng b·ªè s√≥t tr∆∞·ªùng h·ª£p n√†o c·∫£, ngay c·∫£ nh·ªØng tr∆∞·ªùng h·ª£p <strong>c√≥ th·ªÉ b·ªè qua</strong>. ƒê·ªô kh√≥ c·ªßa 2 v√≤ng l·∫∑p l·ªìng nhau nh∆∞ v·∫≠y l√† n m≈© n<sub>2</sub>, n√≥i c√°ch kh√°c, th·ªùi gian ch·∫°y c·ªßa v√≤ng l·∫∑p n√†y t·ªâ l·ªá v·ªõi b√¨nh ph∆∞∆°ng s·ªë l∆∞·ª£ng c√°c ph·∫ßn t·ª≠</p>\n<p>Gi·∫£ d·ª• b·∫°n c√≥ 100000 ph·∫ßn t·ª≠, th√¨ s·ªë l·∫ßn ch·∫°y c·ªßa v√≤ng l·∫∑p l√† 4999950000</p>\n<p>N·∫øu th√≠ch th√¨ m·∫•y b·∫°n copy ƒëo·∫°n code n√†y ch·∫°y th·ª≠</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> len <span class=\"token operator\">=</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> bigArr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nbigArr<span class=\"token punctuation\">[</span>len <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">9</span><span class=\"token punctuation\">;</span>\nbigArr<span class=\"token punctuation\">[</span>len <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> <span class=\"token number\">19</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">twoSum</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">nums<span class=\"token punctuation\">,</span> total</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> iterations <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> startTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      iterations<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> nums<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> total<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\n          <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Iterations: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>iterations<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Time: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> startTime<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">ms</span><span class=\"token template-punctuation string\">`</span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">twoSum</span><span class=\"token punctuation\">(</span>bigArr<span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>5 tri·ªáu l·∫ßn ch·∫°y n√†y s·∫Ω t·ªën kho·∫£ng 20 gi√¢y tr√™n m√°y m√¨nh</p>\n<h2 id=\"ph∆∞∆°ng-ph√°p-b·∫£ng-bƒÉm-s·ª≠-d·ª•ng-object-c·ªßa-javascript\"><a href=\"#ph%C6%B0%C6%A1ng-ph%C3%A1p-b%E1%BA%A3ng-b%C4%83m-s%E1%BB%AD-d%E1%BB%A5ng-object-c%E1%BB%A7a-javascript\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ph∆∞∆°ng ph√°p b·∫£ng bƒÉm: s·ª≠ d·ª•ng Object c·ªßa javascript</h2>\n<p>Ch√∫ng ta c√≥ th·ªÉ l√†m t·ªët h∆°n c√°ch tr√™n. Thay v√¨ ƒë·∫∑t v√≤ng l·∫∑p l·ªìng nhau, ch·∫°y qua c√°c ph·∫ßn t·ª≠ c·ªßa <code class=\"language-inline-text\">nums</code> m·ªôt l∆∞·ª£t, ƒë√°nh d·∫•u c√°c ph·∫ßn t·ª≠ ƒë√£ ki·ªÉm tra, b·ªè v√†o l√†m key cho m·ªôt object, ki·ªÉm tra ph·∫ßn t·ª≠ trong <code class=\"language-inline-text\">nums</code> c√≥ t·ªìn t·∫°i trong object hay ch∆∞a</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">twoSum</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">nums<span class=\"token punctuation\">,</span> total</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// object ch·ª©a nh·ªØng gi√° tr·ªã ƒë√£ duy·ªát qua</span>\n  <span class=\"token keyword\">const</span> previousValues <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// gi√° tr·ªã c·∫ßn t√¨m</span>\n    <span class=\"token keyword\">const</span> complement <span class=\"token operator\">=</span> total <span class=\"token operator\">-</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">// gi√° tr·ªã c·∫ßn t√¨m c√≥ n·∫±m ·ªü l·∫ßn duy·ªát tr∆∞·ªõc ƒë√≥</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>previousValues<span class=\"token punctuation\">[</span>complement<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>complement<span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// l∆∞u l·∫°i gi√° tr·ªã n√†y v√†o object ƒë√£ duy·ªát</span>\n    previousValues<span class=\"token punctuation\">[</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">twoSum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [1, 3]</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">twoSum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [9, 12]</span></code></pre></div>\n<p>Ch√∫ng ta ch·ªâ c√≤n m·ªôt v√≤ng l·∫∑p, v√≤ng l·∫∑p th·ª© 2 b·ªã thay th·∫ø b·ªüi <code class=\"language-inline-text\">previousValues[complement]</code></p>\n<p>ƒêo l·∫°i t·ªëc ƒë·ªô v·ªõi c√°ch l√†m n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> len <span class=\"token operator\">=</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> bigArr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>len<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nbigArr<span class=\"token punctuation\">[</span>len <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">9</span><span class=\"token punctuation\">;</span>\nbigArr<span class=\"token punctuation\">[</span>len <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> <span class=\"token number\">19</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">twoSum</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">nums<span class=\"token punctuation\">,</span> total</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> iterations <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> startTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> previousValues <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    iterations<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> complement <span class=\"token operator\">=</span> total <span class=\"token operator\">-</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>previousValues<span class=\"token punctuation\">[</span>complement<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Iterations: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>iterations<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Time: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> startTime<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">ms</span><span class=\"token template-punctuation string\">`</span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>complement<span class=\"token punctuation\">,</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    previousValues<span class=\"token punctuation\">[</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">twoSum</span><span class=\"token punctuation\">(</span>bigArr<span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Iterations: 100000 Time: 4ms</span></code></pre></div>\n<p>Kh√¥ng c√≥ chi l√† mi·ªÖn ph√≠, ch√∫ng ta ti·∫øt ki·ªám ƒë∆∞·ª£c th·ªùi gian ch·∫°y, nh∆∞ng ph·∫£i b·ªè ra m·ªôt v√πng nh·ªõ ƒë·ªÉ l∆∞u object <code class=\"language-inline-text\">previousValues</code>, n·∫øu l∆∞u kho·∫£ng 1 tri·ªáu ph·∫ßn t·ª≠, dung l∆∞·ª£ng n√†y c≈©ng kh√¥ng nh·ªè, kho·∫£n ƒë√¢u ƒë√≥ 10MB RAM</p>\n<p><a href=\"https://nick.scialli.me/exploring-the-two-sum-interview-question-in-javascript/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://nick.scialli.me/exploring-the-two-sum-interview-question-in-javascript/</a></p>\n","cover_image":""}},{"node":{"id":"8cd9d8c2dba06fb83a1f7d2ff11853f6","title":"C√°ch vi·∫øt React render props","path":"/2019-11-27-huong-dan-pattern-react-render-prop/","date":"2019-11-27","timeToRead":5,"desc":"M·ªôt trong nh·ªØng pattern ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng l·∫°i logic","content":"<p>C√≥ 2 ƒëi·ªÅu quan tr·ªçng c·∫ßn n√≥i tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu. M·ªôt l√†, ch√∫ng ta ƒëang n√≥i ƒë·∫øn m·ªôt <strong>c√°ch l√†m</strong> (pattern) trong l·∫≠p tr√¨nh, ko ph·∫£i ƒë·∫∑c s·∫£n c·ªßa React. Th·ª© 2, ƒë√¢y kh√¥ng ph·∫£i l√† ki·∫øn th·ª©c b·∫Øt bu·ªôc ƒë·ªÉ vi·∫øt m·ªôt ·ª©ng d·ª•ng React. B·∫°n c√≥ th·ªÉ kh√¥ng c·∫ßn ƒë·ªçc b√†i n√†y, v·∫´n c√≥ th·ªÉ v·ªó ng·ª±c x∆∞ng t√™n l√† m·ªôt React developer v√† vi·∫øt React nh∆∞ th∆∞·ªùng. C√≤n n·∫øu b·∫°n t√≤ m√≤ mu·ªën bi·∫øt th√™m m√≥n <em>ƒë·ªì ch∆°i</em> th√¨ ƒë·ªçc ti·∫øp.</p>\n<p>Nh·ªØng l·∫≠p tr√¨nh vi√™n m·ªõi v√†o ngh·ªÅ c≈©ng bi·∫øt ƒë·∫øn c√¢u th·∫ßn ch√∫ \"D.R.Y\" (ƒë·ª´ng t·ª± l·∫≠p l·∫°i ch√≠nh m√¨nh). C√¢u th·∫ßn ch√∫ r·∫•t ƒë√°ng ƒë·ªÉ trong t√¢m ni·ªám. C√°i c√°ch l√†m Render Props n√†y c≈©ng l√† ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c c√°i g·ªçi l√† DRY, gi·ªëng nh∆∞ Higher-Order-Components.</p>\n<p>Tr∆∞·ªõc khi xem ƒë·∫øn gi·∫£i ph√°p, ch√∫ng ta c·∫ßn bi·∫øt v·∫•n ƒë·ªÅ c·∫ßn gi·∫£i quy·∫øt l√† g√¨. V√≠ d·ª• ch√∫ng ta mu·ªën l√†m l·∫°i c√°i dashboard nh∆∞ b√™n d∆∞·ªõi</p>\n<p><img src=\"https://tylermcginnis.com/images/posts/react-fundamentals/tool-tips.gif\"></p>\n<p>B·∫°n s·∫Ω c·∫ßn hi·ªÉn th·ªã m·ªôt ƒë·ªëng c√°i ki·ªÉu tooltip kh√°c nhau khi m·ªôt element ƒë∆∞·ª£c hover l√™n</p>\n<p>C√≥ v√†i c√°ch ƒë·ªÉ ti·∫øp c·∫≠n v·∫•n ƒë·ªÅ n√†y, m·ªôt l√† b·∫°n ki·ªÉm tra m·ªôt component c·ª• th·ªÉ n√†o ƒë√≥ c√≥ ƒëang hover kh√¥ng, r·ªìi hi·ªÉn th·ªã ho·∫∑c ·∫©n tooltip. C√≥ 3 component b·∫°n c·∫ßn ki·ªÉm tra, b·∫°n ƒë∆∞a h√†m ki·ªÉm tra v√†o c·∫£ 3 component <code class=\"language-inline-text\">Info</code>, <code class=\"language-inline-text\">TrendChart</code>, <code class=\"language-inline-text\">DailyChart</code></p>\n<p>Component Info</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Info</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span>\n        <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Icon-svg Icon--hoverable-svg<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">height</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 16 16<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>16<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M9 8a1 1 0 0 0-1-1H5.5a1 1 0 1 0 0 2H7v4a1 1 0 0 0 2 0zM4 0h8a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4zm4 5.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng <code class=\"language-inline-text\">onMouseOver</code> v√† <code class=\"language-inline-text\">onMouseOut</code>, d√πng th√™m state <code class=\"language-inline-text\">hovering</code> ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ k√™u n√≥ <code class=\"language-inline-text\">re-render</code> khi c·∫ßn thi·∫øt</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Info</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> hovering<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token function-variable function\">mouseOver</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hovering<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function-variable function\">mouseOut</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hovering<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>hovering <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span>\n          <span class=\"token operator\">?</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tooltip</span></span> <span class=\"token attr-name\">id</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n          <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span>\n          <span class=\"token attr-name\">onMouseOver</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mouseOver<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">onMouseOut</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mouseOut<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Icon-svg Icon--hoverable-svg<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">height</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 16 16<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>16<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M9 8a1 1 0 0 0-1-1H5.5a1 1 0 1 0 0 2H7v4a1 1 0 0 0 2 0zM4 0h8a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4zm4 5.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Gi·ªù ch√∫ng ta c·∫ßn <em>copy</em> t√≠nh nƒÉng n√†y cho 2 component c√≤n l·∫°i. Vi·ªác <em>copy</em> n√†y vi ph·∫°m nghi√™m tr·ªçng c√¢u th·∫ßn ch√∫ DRY. Ch√∫ng ta ph·∫£i l√†m sao ƒë·ªÉ s·ª≠ d·ª•ng l·∫°i nh·ªØng logic gi·ªëng nhau m√† ko ph·∫£i copy-paste</p>\n<p>Trong h·∫ßu h·∫øt c√°c tr∆∞·ªùng h·ª£p khi ch√∫ng ta d·ª±ng m·ªôt component trong React, k·∫øt qu·∫£ output cu·ªëi c√πng l√† m·ªôt c√°i UI g√¨ ƒë√≥</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">View <span class=\"token operator\">=</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Tuy nhi√™n ch·ªâ l√† h·∫ßu h·∫øt, ch·ª© ko ph·∫£i to√†n b·ªô, c√≥ nh∆∞ng component nh∆∞ l√† <em>wrapper</em> c·ªßa m·ªôt component kh√°c, n√≥ ch·ªâ mang nhi·ªám v·ª• qu·∫£n l√Ω logic.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Users</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    users<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">getUsers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">users</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> users <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Grid</span></span> <span class=\"token attr-name\">data</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>users<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nh∆∞ component <code class=\"language-inline-text\">Users</code> ·ªü tr√™n, kh√¥ng ch·ªãu tr√°ch nhi·ªám qu·∫£n l√Ω UI, chuy·ªán ƒë√≥ l√† vi·ªác c·ªßa <code class=\"language-inline-text\">Grid</code></p>\n<p>Trong React, ch√∫ng ta c√≥ th·ªÉ truy·ªÅn function v√†o nh∆∞ prop cho component</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> props<span class=\"token punctuation\">.</span><span class=\"token function\">id</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// vuilaptrinh.com</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span></span> <span class=\"token attr-name\">id</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">isAuthed</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> isAuthed <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span> <span class=\"token operator\">?</span> <span class=\"token string\">'vuilaptrinh.com'</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>V·ªõi √Ω t∆∞·ªüng n√†y, ch√∫ng ta gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ tr√™n nh∆∞ th·∫ø n√†o?</p>\n<p>Tr∆∞·ªõc ti√™n ch√∫ng ta t·∫°o ra m·ªôt component <em>wrapper</em> ch·ªãu tr√°ch nhi·ªám qu·∫£n l√Ω logic c·ªßa hover</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Hover</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> hovering<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token function-variable function\">mouseOver</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hovering<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function-variable function\">mouseOut</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hovering<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">onMouseOver</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mouseOver<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">onMouseOut</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mouseOut<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>C√¢u h·ªèi ti·∫øp theo, component <code class=\"language-inline-text\">Hover</code> th√¨ render c√°i g√¨. V·∫≠n d·ª•ng √Ω t∆∞·ªüng truy·ªÅn prop l√† m·ªôt function, ch√∫ng ta cho <code class=\"language-inline-text\">Hover</code> nh·∫≠n v√†o m·ªôt prop function c√≥ t√™n <code class=\"language-inline-text\">render</code>, ch√∫ng ta s·∫Ω nh√©t v√†o trong c√°i function <code class=\"language-inline-text\">render</code> gi√° tr·ªã <code class=\"language-inline-text\">hovering</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Hover</span></span> <span class=\"token attr-name\">render</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">hovering</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    Is hovering? </span><span class=\"token punctuation\">{</span>hovering <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span> <span class=\"token operator\">?</span> <span class=\"token string\">'Yes'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'No'</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n}</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>Vi·ªác c√≤n l·∫°i l√† c·∫≠p nh·∫≠p l·∫°i component <code class=\"language-inline-text\">Hover</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Hover</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> hovering<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token function-variable function\">mouseOver</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hovering<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function-variable function\">mouseOut</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hovering<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">onMouseOver</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mouseOver<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">onMouseOut</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mouseOut<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>hovering<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>V·∫•n ƒë·ªÅ ƒë√£ ƒë∆∞·ª£c gi·∫£i quy·∫øt. B·∫•t k·ªÉ khi n√†o c·∫ßn d√πng logic <code class=\"language-inline-text\">hover</code> ch√∫ng ta s·∫Ω g·ªçi l·∫°i component <code class=\"language-inline-text\">Hover</code>. C√°ch l√†m n√†y ƒë∆∞·ª£c g·ªçi v·ªõi c√°i t√™n ƒë√∫ng nh∆∞ nh·ªØng g√¨ ƒë√£ di·ªÖn ra (truy·ªÅn prop render l√† m·ªôt function) <strong>Render Props</strong></p>\n<p>M·ªôt c√°ch vi·∫øt kh√°c kh√¥ng d√πng prop t√™n <code class=\"language-inline-text\">render</code>, x√†i lu√¥n prop t√™n <code class=\"language-inline-text\">children</code> c√≥ s·∫µn, ch√∫ng ta s·∫Ω vi·∫øt m·ªôt c√°ch g·ªçn h∆°n</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">User</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> This is props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">User</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>So v·ªõi c√°ch l√†m c·ªßa Higher-Order-Component, Render Props s·∫Ω kh√¥ng v∆∞·ªõng ph·∫£i v·∫•n ƒë·ªÅ ƒë·ª•ng t√™n props, kh√¥ng m·∫•t quy·ªÅn ki·ªÉm so√°t v√†o <em>tay</em> component ƒë∆∞·ª£c wrap l·∫°i, v√† wrapper hell.</p>\n<p><a href=\"https://tylermcginnis.com/react-render-props/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://tylermcginnis.com/react-render-props/</a></p>\n","cover_image":""}},{"node":{"id":"89de1c757498a4b9f6dfef7a689dd2a6","title":"L·ª±a ch·ªçn framework frontend n√†o trong th·ªùi ƒëi·ªÉm hi·ªán t·∫°i","path":"/2019-11-24-huong-dan-chon-framework-frontend/","date":"2019-11-24","timeToRead":12,"desc":"ƒê√¢y kh√¥ng ph·∫£i l√† m·ªôt b√†i so s√°nh ƒë√¢u m·ªõi l√† framework ch·∫°y nhanh nh·∫•t","content":"<p>Th·ªùi ƒëi·ªÉm hi·ªán t·∫°i n·∫øu b·∫°n ƒëang l√†m Frontend th√¨ ch·∫Øc h·∫≥n ƒëang s·ª≠ d·ª•ng m·ªôt framework n√†o ƒë√≥ trong 3 th·∫±ng n√†y, Vue, React, v√† Angular. N·∫øu tr∆∞·ªõc ƒë√¢y tr√™n c·∫£ t√° framework, v√† c·∫£ t√° v√≠ d·ª• v·ªÅ l√†m m·ªôt ·ª©ng d·ª•ng web ToDoMVC tr√™n github, th√¨ cu·ªôc ch∆°i gi·ªù ƒë√¢y ƒë√£ ƒë·ª° h∆°n r·∫•t nhi·ªÅu, khi ch√∫ng ta ch·ªâ c√≤n 3 l·ª±a ch·ªçn s√°ng gi√°.</p>\n<p>ƒê·ªÉ vi·∫øt m·ªôt ·ª©ng d·ª•ng ph·ª©c t·∫°p, ch√∫ng ta b·∫Øt bu·ªôc ph·∫£i s·ª≠ d·ª•ng framework, v√¨ n·∫øu kh√¥ng c√≥ nh·ªØng framework nh∆∞ v·∫≠y, ch√∫ng ta s·∫Ω t·ªën kh√¥ng bi·∫øt bao nhi√™u th·ªùi gian ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c k·∫øt qu·∫£ cu·ªëi c√πng.</p>\n<p>Ch·∫Øc c√°c b·∫°n c≈©ng nh∆∞ m√¨nh ƒë√£ qu√° m·ªát m·ªèi v·ªõi nh·ªØng b√†i vi·∫øt so s√°nh 3 framework tr√™n, ai ngon h∆°n ai, c√°c b·∫°n c≈©ng n√™n d·ª´ng t√¨m ki·∫øm c√¢u tr·∫£ l·ªùi cho c√¢u h·ªèi \"Top 10 framework n√™n x√†i trong nƒÉm 2019\". T·∫°i sao? V√¨ nh·ªØng b√†i vi·∫øt n√†y ƒëa ph·∫ßn s·∫Ω t·∫≠p trung v√†o  ƒë·∫øm s·ªë l∆∞·ª£ng <em>sao</em> tr√™n Github, s·ªë l∆∞·ª£ng t·∫£i v·ªÅ t·ª´ NPM, s·ªë c√¢u h·ªèi li√™n quan tr√™n Stack Overflow. Nh·ªØng con s·ªë th·ªëng k√™ v√¥ h·ªìn n√†y ch·ªâ c√≥ t√°c d·ª•ng trong nh·ªØng tr∆∞·ªùng h·ª£p c·ª• th·ªÉ, nh∆∞ ƒëi qu·∫£ng b√° v·ªÅ m·ª©c ƒë·ªô ph·ªß r·ªông c·ªßa nh·ªØng framework n√†y. N·∫øu b·∫°n l√† d√¢n k·ªπ thu·∫≠t v√† nh√¨n nh·∫≠n ·ªü g√≥c ƒë·ªô k·ªπ thu·∫≠t, ph√°n x√©t nh·ªØng framework n√†y ·ªü g√≥c ƒë·ªô k·ªπ thu·∫≠t ch·ª© kh√¥ng th·ªÉ cƒÉn c·ª© tr√™n s·ªë l∆∞·ª£t <em>view</em> v√† <em>download</em></p>\n<blockquote>\n<p>K·ªπ thu·∫≠t quy·∫øt ƒë·ªãnh b√™n trong c·ªßa t·ª´ng framework l√† g√¨, ƒë√¢u l√† s·ª± kh√°c nhau th·ª±c s·ª± c·ªßa t·ª´ng framework</p>\n</blockquote>\n<p>M·ª•c ti√™u cu·ªëi c√πng c·ªßa c√°c framework ƒë·ªÅu l√† ƒë·ªÉ gi√∫p ch√∫ng ta vi·∫øt ·ª©ng d·ª•ng web hi·ªáu qu·∫£ nh·∫•t c√≥ th·ªÉ, vi·ªác c·∫°nh tranh gi·ªØa c√°c framework v·ªõi nhau l√† √Ω t∆∞·ªüng t·ªët hay kh√¥ng? M·ªói framework s·∫Ω c√≥ m·ªôt s·ªë l∆∞·ª£ng ng∆∞·ªùi s·ª≠ d·ª•ng nh·∫•t ƒë·ªãnh, nh∆∞ React-Angular-Vue hi·ªán t·∫°i c√≥ kho·∫£n h∆°n n·ª≠a tri·ªáu developer ƒëang <em>ƒÉn n·∫±m</em> v·ªõi n√≥ h·∫±ng ng√†y.</p>\n<p>Kh√¥ng c√≥ kh√°i ni·ªám \"ƒëi·ªÉm t·ªët\" v√† \"ƒëi·ªÉm ch∆∞a t·ªët\" cho c√°c framework. Ng∆∞·ªùi ta th∆∞·ªùng hay h·ªèi m·∫•y c√¢u, framework n√†o x√†i ngon nh·∫•t. M·ªôt d·∫°ng c√¢u h·ªèi b·∫°n n√™n ng·ª´ng l√†m kh√≥ nhau v√¨ kh√¥ng th·ªÉ n√†o so s√°nh nh∆∞ to√°n h·ªçc 3 > 2 > 1</p>\n<p>Vi·ªác thi·∫øt k·∫ø ph·∫ßn m·ªÅm lu√¥n ƒë√≤i h·ªèi m·ªôt s·ª± ƒë√°nh ƒë·ªïi, ƒë·∫∑c bi·ªát l√† v·ªõi web, ch·∫Øc c√≥ l·∫Ω v√¨ c√≥ qu√° nhi·ªÅu th·ª© ng∆∞·ªùi ta mu·ªën l√†m th√¥ng qua web, t·ª´ m·ªôt trang web ƒë∆°n gi·∫£n ch·ªâ l√† HTML tƒ©nh ƒë·∫øn c·∫£ m·ªôt h·ªá th·ªëng ph·ª©c t·∫°p nh·∫•t b·∫°n c√≥ th·ªÉ nghƒ© ra, ƒë·ªÉ ƒë√°p ·ª©ng to√†n b·ªô nh·ªØng nhu c·∫ßu kh√°c nhau ƒë√≥, c√°c framework ph·∫£i ch·∫•p nh·∫≠n ƒë√°nh ƒë·ªïi m·ªôt s·ªë th·ª©, ch·ª© ko th·ªÉ ƒë√°p ·ª©ng to√†n b·ªô v·ªõi m·ªôt gi·∫£i ph√°p to√†n di·ªán ƒë∆∞·ª£c</p>\n<h2 id=\"scope\"><a href=\"#scope\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Scope</h2>\n<blockquote>\n<p>Framework cung c·∫•p bao nhi√™u ƒë·ªì ch∆°i cho b·∫°n</p>\n</blockquote>\n<p>M·ªôt trong nh·ªØng v√≠ d·ª• kinh ƒëi·ªÉn gi·ªØa <strong>th∆∞ vi·ªán</strong> v√† <strong>framework</strong> l√† React v√† Angular. React ƒë∆∞·ª£c xem l√† th∆∞ vi·ªán trong khi Angular s·∫Ω l√† framework</p>\n<p>L√† m·ªôt th∆∞ vi·ªán, React ch·ªâ mu·ªën t·∫≠p trung cung c·∫•p m√¥ h√¨nh ƒë·ªÉ ph√°t tri·ªÉn UI. ƒê·ªÉ h√¨nh dung d·ªÖ h∆°n, li√™n t∆∞·ªüng t·ªõi c√°c nh√† m√°y s·∫£n xu·∫•t b√∫n, scope r·∫•t c·ª• th·ªÉ, t√¥i s·∫Ω t·∫≠p trung v√†o vi·ªác s·∫£n xu·∫•t ra b√∫n, vi·ªác c√°c b·∫°n ƒëem b√∫n n√†y v·ªÅ n·∫•u th√†nh m√≥n g√¨ l√† do b·∫°n, l√Ω do t·∫°i sao ecosystem c·ªßa React lu√¥n lu√¥n s√¥i ƒë·ªông, r·∫•t nhi·ªÅu dev ƒë√£ ch·∫ø bi·∫øn th√†nh c√°c m√≥n kh√°c nhau, nh∆∞ v·ªõi m√≥n b√∫n ch√∫ng ta c√≥ b√∫n ri√™u, canh b√∫n, b√∫n ƒë·∫≠u m·∫Øm t√¥m, b√∫n c√° ch√¢u ƒë·ªëc, b√∫n m·∫Øm, v√¢ng v√¢ng.</p>\n<p>Trong khi ƒë√≥, Angular v·ªõi t∆∞ c√°ch l√† m·ªôt framework th·ª±c th·ª•, n√≥ s·∫Ω ti·∫øp c·∫≠n v·∫•n ƒë·ªÅ theo h∆∞·ªõng t·ª´ tr√™n xu·ªëng. H√¨nh dung nh∆∞ m√¨ g√≥i nu√¥i nh√¢n t√†i ·ªü Vi·ªát Nam, v·ªõi m·ªçi th·ª© ƒë√≥ng g√≥i ƒë·∫ßy ƒë·ªß ƒë·ªÉ b·∫°n c√≥ m·ªôt m√≥n c·ª©u ƒë√≥i t·∫°m th·ªùi, b·ªôt n√™m, d·∫ßu, h√†nh. Angular cung c·∫•p h·ªá th·ªëng form validation, animation,... r·∫•t nhi·ªÅu t√≠nh nƒÉng kh√°c m√† ch√∫ng ta r·∫•t c·∫ßn thi·∫øt ƒë·ªÉ d·ª±ng n√™n m·ªôt ·ª©ng d·ª•ng ho√†n ch·ªânh. V·ªõi scope l·ªõn nh∆∞ v·∫≠y, m·ªçi t√≠nh nƒÉng khi thi·∫øt k·∫ø ƒë√£ ƒë∆∞·ª£c nghƒ© ƒë·∫øn l√†m th·∫ø n√†o ƒë·ªÉ ch√∫ng <em>s·ªëng chung</em> v·ªõi nhau m·ªôt c√°ch m∆∞·ª£t m√†</p>\n<p><strong>L·ª£i √≠ch khi c√≥ scope nh·ªè v√† c·ª• th·ªÉ</strong></p>\n<ul>\n<li>√çt kh√°i ni·ªám, d·ªÖ ti·∫øp c·∫≠n ngay t·ª´ ƒë·∫ßu. Trong React b·∫°n s·∫Ω c√≥ m√¥ h√¨nh l√†m component, prop, state, virtual DOM, hook, bao nhi√™u ki·∫øn th·ª©c th√¥i l√† b·∫°n ƒë√£ c√≥ th·ªÉ b·∫Øt ƒë·∫ßu l√†m quen React.</li>\n<li>Linh ƒë·ªông, m√≥n b√∫n c√≥ th·ªÉ k·∫øt h·ª£p v·ªõi r·∫•t nhi·ªÅu th·ª© gia v·ªã, c√°ch n·∫•u kh√°c nhau ƒë·ªÉ cho ra c√°c m√≥n ƒÉn kh√°c nhau.</li>\n<li>Team duy tr√¨ React <em>r·∫£nh</em> h∆°n, nh·ªØng chuy·ªán kh√°c ƒë√£ c√≥ c·ªông ƒë·ªìng g√°nh v√°c, nh∆∞ ƒëi l√†m React Router, React Redux, React Form, h·ªç s·∫Ω c√≥ th·ªùi gian nhi·ªÅu h∆°n ƒë·ªÉ t·∫≠p trung v√†o c√°c √Ω t∆∞·ªüng m·ªõi cho b·∫£n th√¢n React</li>\n</ul>\n<p><strong>H·∫°n ch·∫ø khi scope nh·ªè v√† c·ª• th·ªÉ</strong></p>\n<ul>\n<li>Khi b·∫°n ph·∫£i x√¢y d·ª±ng m·ªôt ·ª©ng d·ª•ng ph·ª©c t·∫°p, m·ªôt v√†i concept c∆° b·∫£n l√† kh√¥ng ƒë·ªß x√†i, b·∫°n ph·∫£i t·ª± vi·∫øt kh√° nhi·ªÅu. Gi·ªëng nh∆∞ b·∫Øt b·∫°n di·ªÖn t·∫£ t·∫•t c·∫£ nh·ªØng c√¢u n√≥i h·∫±ng ng√†y b·∫±ng c√°ch ch·ªâ s·ª≠ d·ª•ng 10 t·ª´, th√¨ b·∫°n di·ªÖn ƒë·∫°t √Ω nh∆∞ th·∫ø n√†o?</li>\n<li>C√°ch l√†m (<em>pattern</em>) m·ªõi ng√†y c√†ng nhi·ªÅu. N√≥i h·ªçc React r·∫•t d·ªÖ l√† b·∫°n th·ª±c s·ª± ch∆∞a bi·∫øt ƒë·∫øn ngo√†i React ra, b·∫°n c√≥ ph·∫£i h·ªçc v√¥ s·ªë c√°c c√°ch l√†m (pattern) kh√°c, nh∆∞ Redux, m·∫∑c d√π kh√¥ng c√≥ trong t√†i li·ªáu ch√≠nh th·ª©c tr√™n React, nh∆∞ng l·∫°i l√† th·ª© b·∫°n kh√¥ng th·ªÉ b·ªè qua n·∫øu mu·ªën d√πng React nh∆∞ m·ªôt React Developer ch√¢n ch√≠nh. N√†o l√† Higher Other Component, Render Props, React hook, r·ªìi qu√° tr·ªùi c√°ch ƒë·ªÉ s·ª≠ d·ª•ng CSS trong JS, t√†i li·ªáu ch√≠nh th·ª©c c·ªßa React s·∫Ω kh√¥ng n√≥i b·∫°n n√™n d√πng g√¨, b·∫°n ph·∫£i t·ª± t√¨m hi·ªÉu v√† ch·ªçn c√°i n√†o m√¨nh th√≠ch. Nh·ªØng ki·∫øn th·ª©c n√†y b·∫°n ph·∫£i n·∫°p t·ª´ t·ª´ nh∆∞ l√† m·ªôt ki·∫øn th·ª©c ch√≠nh quy ƒë·ªÉ b·∫°n c√≥ th·ªÉ v·ªó ng·ª±c x∆∞ng t√™n <em>tao l√† React Developer</em>.</li>\n<li>Ecosystem ph√°t tri·ªÉn qu√° nhanh kh√¥ng ƒë·ªìng nghƒ©a v·ªõi ch·∫•t l∆∞·ª£ng c√°c th∆∞ vi·ªán d√†nh cho React c√°i n√†o c≈©ng ngon, r·∫•t nhi·ªÅu th∆∞ vi·ªán n·ªïi l√™n m·ªôt th·ªùi r·ªìi ra ƒëi m√£i m√£i, nh∆∞ Flux, r·ªìi bao nhi√™u l√† c√°ch vi·∫øt CSS trong JS. Trong ta lu√¥n trong c·∫£m gi√°c lo s·ª£ <strong>l·ª° m·∫•t kh√¥ng x√†i th·∫±ng ngon nh·∫•t r·ªìi</strong></li>\n</ul>\n<p><strong>L·ª£i √≠ch khi c√≥ scope bao la b√°t ng√°t</strong></p>\n<ul>\n<li>C√°c v·∫•n ƒë·ªÅ th∆∞·ªùng g·∫∑p ƒë√£ ƒë∆∞·ª£c gi·∫£i quy·∫øt h·∫øt, b·∫°n c√≥ ngay t√¥ m√¨ ƒë·ªÉ ƒÉn trong 5 ph√∫t m√† kh√¥ng c·∫ßn suy nghƒ© nhi·ªÅu, c·ª© l√™n trang ch·ªß, ƒë·ªçc t√†i li·ªáu, h·ªçc c√°i framework xong l√† x√†i, ƒë·ªÉ nghi√™n c·ª©u gi√¢y m∆° r·ªÖ m√° c√≥ th·ªÉ ƒë·ªÉ sau. ƒê√¢u ai c·∫•m b·∫°n ƒÉn m√¨ g√≥i b·ªè th√™m th·ªãt b√≤, tr·ª©ng hay t√¥m c√†ng.</li>\n<li>C√°c t√≠nh nƒÉng b√™n trong ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ l√†m vi·ªác m∆∞·ª£t m√† ƒë·∫£m b·∫£o t√≠nh th·ªëng nh·∫•t c·ªßa to√†n b·ªô h·ªá th·ªëng, kh√¥ng c·∫ßn ch·∫°y ƒëi ƒë√¢u ƒë·ªÉ ki·∫øm gi·∫£i ph√°p cho m·ªôt v·∫•n ƒë·ªÅ qu√° cƒÉn b·∫£n, b·∫°n c·ª© l√™n trang ch√≠nh th·ª©c c·ªßa n√≥ xem ng∆∞·ªùi ta gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ ƒë√≥ nh∆∞ th·∫ø n√†o, kh√¥ng c√≤n ph·∫£i suy nghƒ© l·ª±a ch·ªçn ƒë√¢u l√† c√°ch t·ªët nh·∫•t trong h∆°n ch·ª•c c√°i gi·∫£i ph√°p ƒë∆∞·ª£c ƒë∆∞a ra.</li>\n</ul>\n<p><strong>H·∫°n ch·∫ø c·ªßa scope bao qu√°t b√°t ng√°t h·∫øt v∆∞·ªùn hoa</strong></p>\n<ul>\n<li>H·ªçc l√† m·ªôt qu√° tr√¨nh d√†i, nhi·ªÅu khi ƒë·ªÉ t·ªõi ƒë∆∞·ª£c b∆∞·ªõc c√≥ m·ªôt c√°i g√¨ ƒë√≥ hi·ªÉn th·ªã tr√™n m√†n h√¨nh, b·∫°n ph·∫£i tr·∫£i qua c·∫£ kh√≥a h·ªçc b√†i b·∫£ng. Nh·ªØng ng∆∞·ªùi kh√¥ng c√≥ ki·∫øn th·ª©c v·ªÅ m·ªôt ng√¥n ng·ªØ Backend n√†o c·∫£, ch·ªâ bi·∫øt HTML, CSS, javascript m√† ƒë·ªçc t√†i li·ªáu c·ªßa Angular th√¨ ph·∫£i n√≥i l√† m·ªôt tr√£i nghi·ªám v√¥ c√πng ƒëau th∆∞∆°ng</li>\n<li>ƒê√¥i khi m·ªôt gi·∫£i ph√°p ƒë∆∞·ª£c cung c·∫•p s·∫µn l·∫°i kh√¥ng ph√π h·ª£p v·ªõi t√≠nh hu·ªëng g·∫∑p ph·∫£i, ch√∫ng ta ∆∞·ªõc g√¨ c√≥ th·ªÉ l√†m c√°ch kh√°c, nh∆∞ng ƒëi·ªÅu ƒë√≥ l√† kh√¥ng th·ªÉ.</li>\n<li>H·ªá th·ªëng l·ªõn ƒë√≤i h·ªèi chi ph√≠ r·∫•t l·ªõn ƒë·ªÉ duy tr√¨ c≈©ng nh∆∞ ƒë∆∞a ra c√°c √Ω t∆∞·ªüng m·ªõi, r·∫•t nhi·ªÅu th√†nh ph·∫ßn ph·∫£i t√≠ch h·ª£p ƒë·ªÉ c·∫£ h·ªá th·ªëng c√≥ th·ªÉ k·∫øt n·ªëi ho·∫°t ƒë·ªông tr∆°n tru</li>\n</ul>\n<h2 id=\"c∆°-ch·∫ø-render\"><a href=\"#c%C6%A1-ch%E1%BA%BF-render\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C∆° ch·∫ø render</h2>\n<blockquote>\n<p>C√°ch structure, c√°ch qu·∫£n l√Ω code c·ªßa framework</p>\n</blockquote>\n<p>ƒê·ªÉ ƒë∆°n gi·∫£n ch√∫ng ta so s√°nh JSX v√† Templates</p>\n<p><strong>ƒêi·ªÉm c·ªông c·ªßa JSX/Virtual DOM</strong></p>\n<ul>\n<li>T·∫•t c·∫£ ƒëi·ªÅu l√† javascript, ai c≈©ng th√≠ch, b·∫°n kh√¥ng c·∫ßn bi·∫øt nh·ªØng syntax m·ªõi ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a b·ªüi framework, nh·ªØng ki·∫øn th·ª©c b·∫°n n·∫°p v√†o l√† ki·∫øn th·ª©c n·ªÅn t·∫£ng c·ªßa javascript, m·ªôt khi b·∫°n ƒë√£ c·ª©ng tay, b·∫°n c√≥ th·ªÉ thi√™n bi·∫øn v·∫°n h√≥a theo s·ªü th√≠ch.</li>\n<li>Xem <em>view</em> nh∆∞ m·ªôt d·∫°ng <em>data </em>, m·ªôt component s·∫Ω return m·ªôt th·ª© g√¨ ƒë√≥ d·ª±a v√†o nh·ªØng gi√° tr·ªã input kh√°c nhau, b·∫°n c√≥ th·ªÉ l√†m nh·ªØng th·ª© nh∆∞ ch·ª•p m·ªôt c√°i snapshot d·ª±a tr√™n virtual DOM, render n√≥ tr√™n nh·ªØng target kh√°c nh∆∞ terminal, PDF, Canvas, WebGL</li>\n</ul>\n<p><strong>ƒêi·ªÉm tr·ª´ c·ªßa JSX/Virtual DOM</strong></p>\n<ul>\n<li>V·ªën dƒ© s·∫Ω ti√™u t·ªën t√†i nguy√™n. Khi React m·ªõi ra ƒë·ªùi, h·ªç c≈©ng ƒë√£ tr·∫£ l·ªùi cho c√¢u h·ªèi <em>l√†m nh∆∞ v·∫≠y c√≥ ch·∫≠m kh√¥ng?</em>, <em>v√¢ng n√≥ ch·∫≠m nh∆∞ng v·∫´n nhanh ƒë·ªß ƒë·ªÉ d√πng</em>. N·∫øu nh√¨n nh·∫≠n v·ªÅ m·∫∑c k·ªπ thu·∫≠t, ph·∫£i l√†m r·∫•t nhi·ªÅu thao t√°c x·ª≠ l√Ω tr√™n virtual DOM. K√≠ch th∆∞·ªõc c·ªßa m·ªôt VDom chu·∫©n s·∫Ω li√™n quan t·ªõi k√≠ch th∆∞·ªõc c·ªßa view ch·ª© kh√¥ng ph·∫£i s·ªë l∆∞·ª£ng node s·∫Ω thay ƒë·ªïi.</li>\n<li>H√†m render c∆° b·∫£n r·∫•t linh ƒë·ªông, v√¨ linh ƒë·ªông n√™n n√≥ c≈©ng r·∫•t kh√≥ optimize, linh ƒë·ªông ·ªü ƒë√¢y mu·ªën n√≥i ƒë·∫øn m·ªôt h√†m render nh∆∞ th·∫ø n√†y</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> children <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        children<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token function\">h</span><span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">class</span><span class=\"token operator\">:</span> <span class=\"token string\">'text'</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> i <span class=\"token operator\">===</span> <span class=\"token number\">2</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>message<span class=\"token operator\">:</span> <span class=\"token string\">\"vuilaptrinh.com\"</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">h</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token string\">'content'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> children<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ch√∫ng ta c√≥ th·ªÉ t·∫°o parent node tr∆∞·ªõc, r·ªìi sau ƒë√≥ nh√©t th√™m c√°c node con, ho·∫∑c b·∫•t c·ª© th·ª© g√¨ b·∫°n c√≥ th·ªÉ nghƒ© ra ƒë∆∞·ª£c, javascript r·∫•t linh ƒë·ªông, c√≥ nhi·ªÅu t√¨nh hu·ªëng ƒë·∫∑c bi·ªát ch√∫ng ta kh√≥ c√≥ th·ªÉ ƒë·∫£m b·∫£o optimize ƒë∆∞·ª£c cho t·∫•t c·∫£.</p>\n<ul>\n<li>Gi·∫£i ph√°p c·ªßa React cho t√¨nh hu·ªëng n√†y kh√¥ng t·∫≠p trung v√†o vi·ªác l√†m cho virtual DOM nhanh h∆°n, m√† l√†m cho ch√∫ng ta <em>c·∫£m gi√°c</em> performance t·ªët h∆°n (gi·ªëng nh∆∞ vi·ªác g·ª≠i tin nh·∫Øn tr√™n facebook lu√¥n c·∫£m gi√°c nh∆∞ g·ª≠i ƒë∆∞·ª£c li·ªÅn ch·ª© kh√¥ng c·∫ßn ƒë·ª£i), vi·ªác ƒë√≥ ƒë∆∞·ª£c th·ª±c hi·ªán b·∫±ng c√°c k·ªπ thu·∫≠t runtime scheduling, concurrent mode, time slicing. Nh·ªØng gi·∫£i ph√°p n√†y bu·ªôc h·ªç ph·∫£i t·ª± t·∫°o v√† qu·∫£n l√Ω m·ªôt <em>stack</em> ri√™ng, m·ªôt c√¥ng vi·ªác r·∫•t t·ªën k√©m</li>\n</ul>\n<p><strong>ƒêi·ªÉm c·ªông c·ªßa Template</strong></p>\n<ul>\n<li>V·ªõi c√°ch ti·∫øp c·∫≠n tr·ª±c ti·∫øp h∆°n cho vi·ªác render, performance ƒë∆∞∆°ng nhi√™n s·∫Ω <em>g·∫ßn</em> h∆°n render performance c·ªßa tr√¨nh duy·ªát, v·ªõi c√°ch vi·∫øt template nh∆∞ th·∫ø n√†y s·∫Ω kh√¥ng th·ªÉ n√†o thay ƒë·ªïi ƒë∆∞·ª£c th·ª© t·ª© c·ªßa nh·ªØng element ƒë√£ khai b√°o</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Lorem ipsum<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Lorem ipsum<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ message }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Lorem ipsum<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Vi·ªác ƒëo√°n tr∆∞·ªõc ƒë∆∞·ª£c nh·ªØng g√¨ c√≥ th·ªÉ thay ƒë·ªïi, gi√∫p vi·ªác c·∫£i thi·ªán hi·ªáu nƒÉng c≈©ng s·∫Ω d·ªÖ ti·∫øp c·∫≠n h∆°n </p>\n<ul>\n<li>T√πy v√†o t√¨nh hu·ªëng, c√≥ th·ªÉ gi√° tr·ªã baseline runtime s·∫Ω th·∫•p h∆°n</li>\n</ul>\n<p><strong>ƒêi·ªÉm tr·ª´ c·ªßa Template</strong></p>\n<ul>\n<li>D√≠nh ch·∫∑t v√†o c√∫ ph√°p c·ªßa Template, b·∫°n s·∫Ω m·∫•t ƒëi m·ªôt √≠t t·ª± do bay nh·∫£y b·∫±ng javascript th√¥ng th∆∞·ªùng. S·ª± s√°ng t·∫°o c·ªßa ch√∫ng ta b·ªã gi·ªõi h·∫°n trong nh·ªØng th·ª© m√† framework cung c·∫•p. L·ª° ƒë√¢u b·∫°n ƒë√£ l√† m·ªôt master javascript v√† b·∫°n th·∫•y c√°ch l√†m c·ªßa framework n√†y <em>chu·ªëi</em> c·∫£ n·∫£i v√† mu·ªën l√†m kh√°c h∆°n.</li>\n<li>C√°i gi√° ph·∫£i tr·∫£ cho gi√° tr·ªã baseline runtime th·∫•p s·∫Ω l√† k·∫øt qu·∫£ tr·∫£ v·ªÅ c·ªßa m·ªói template s·∫Ω d√†i d√≤ng h∆°n. ƒê√¥i khi ƒë·ªÉ code ch·∫°y nhanh nh·∫•t c√≥ th·ªÉ, ch√∫ng ta ph·∫£i nh√©t c·ª©ng m·ªôt s·ªë th√¥ng tin b√™n trong output</li>\n</ul>\n<h2 id=\"c∆°-ch·∫ø-state\"><a href=\"#c%C6%A1-ch%E1%BA%BF-state\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C∆° ch·∫ø State</h2>\n<blockquote>\n<p>mutable vs immutable, dirty checking vs dependency tracking, reactivity vs simulated reactivity</p>\n</blockquote>\n<p>R·∫•t ti·∫øc, Evan You kh√¥ng c√≥ th·ªùi gian tr√¨nh b√†i ph·∫ßn n√†y trong b√†i thuy·∫øt tr√¨nh c·ªßa m√¨nh.</p>\n<h2 id=\"t·ªïng-k·∫øt\"><a href=\"#t%E1%BB%95ng-k%E1%BA%BFt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·ªïng k·∫øt</h2>\n<p>N·∫øu b·∫°n ƒëang mu·ªën ch·ªçn m·ªôt framework m·ªôt c√°ch h·ª£p l√Ω, b·∫°n ph·∫£i hi·ªÉu ƒë∆∞·ª£c nh·ªØng g√¨ m√† framework ƒë√≥ ƒëang ƒë√°nh ƒë·ªïi, bi·∫øt h∆∞·ªõng ƒëi c·ªßa framework ƒë√≥ c√≥ kh·ªõp v·ªõi nh·ªØng g√¨ b·∫°n ∆∞u ti√™n h√†ng ƒë·∫ßu cho d·ª± √°n m√¨nh l√†m.</p>\n<p>C√°c b·∫°n c√≥ th·ªÉ xem Video b√†i thuy·∫øt tr√¨nh c·ªßa Evan You <a href=\"https://www.youtube.com/watch?v=ANtSWq-zI0s\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">·ªü ƒë√¢y</a></p>\n","cover_image":""}},{"node":{"id":"77a81e0c87ac4c028e3855b09ed9acca","title":"L√†m sao ƒë·ªÉ fetch d·ªØ li·ªáu b·∫±ng React Hook","path":"/2019-11-18-huong-dan-goi-fetch-api-bang-react-hook/","date":"2019-11-18","timeToRead":13,"desc":"Trong b√†i n√†y ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng React.useState, React.useEffect, React.useReducer ƒë·ªÉ fetch d·ªØ li·ªáu t·ª´ API, ƒë·ªìng th·ªùi c≈©ng vi·∫øt m·ªôt custom hook ƒë·ªÉ c√≥ th·ªÉ s·ª≠ d·ª•ng ·ªü b·∫•t k·ª≥ ƒë√¢u","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#g%E1%BB%8Di-hook-th%E1%BB%A7-c%C3%B4ngb%E1%BA%B1ng-code\">G·ªçi hook th·ªß c√¥ng/b·∫±ng code</a></li>\n<li><a href=\"#loading-indicator\">Loading indicator</a></li>\n<li><a href=\"#handle-error\">Handle Error</a></li>\n<li><a href=\"#fetch-data-v%E1%BB%9Bi-form\">Fetch data v·ªõi Form</a></li>\n<li><a href=\"#custom-hook-%C4%91%E1%BB%83-fetch-data\">Custom hook ƒë·ªÉ Fetch data</a></li>\n<li><a href=\"#reducer-hook\">Reducer hook</a></li>\n<li><a href=\"#b%E1%BB%8F-qua-vi%E1%BB%87c-fetch-data\">B·ªè qua vi·ªác fetch data</a></li>\n</ul>\n<!-- /TOC -->\n<p>Ch√∫ng ta c√≥ m·ªôt component, d·ªØ li·ªáu c·ªßa component n√†y s·∫Ω ƒë∆∞·ª£c l·∫•y t·ª´ API</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>objectID<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng axios ƒë·ªÉ fetch d·ªØ li·ªáu, b·∫°n th√≠ch x√†i c√°i kh√°c th√¨ c·ª© v√¥ t∆∞</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">'https://hn.algolia.com/api/v1/search?query=redux'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>objectID<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<p>B√™n trong <code class=\"language-inline-text\">React.useEffect</code> ch√∫ng ta s·∫Ω th·ª±c hi·ªán vi·ªác fetch data t·ª´ API, sau khi nh·∫≠n ƒë∆∞·ª£c d·ªØ li·ªáu g√°n gi√° tr·ªã nh·∫≠n ƒë∆∞·ª£c cho gi√° tr·ªã c·ªßa state <code class=\"language-inline-text\">data</code></p>\n<p>N·∫øu d·ª´ng ·ªü ƒë√¢y, khi ch·∫°y b·∫°n s·∫Ω th·∫•y m·ªôt v√≤ng l·∫∑p v√¥ t·∫≠n c·ªßa vi·ªác g·ªçi fetch data. Effect s·∫Ω ch·∫°y kh√¥ng ch·ªâ ·ªü l√∫c component mount m√† c√≤n ·ªü c√°c l·∫ßn update ti·∫øp theo. B·ªüi v√¨ ch√∫ng ta g√°n gi√° tr·ªã state tr√™n m·ªói l·∫ßn fetch, component l·∫°i ƒë∆∞·ª£c update v√† effect l·∫°i ƒë∆∞·ª£c g·ªçi l·∫°i ƒë·ªÉ ch·∫°y. Ch√∫ng ta ch·ªâ mu·ªën <strong>fetch data khi component mount l·∫ßn ƒë·∫ßu ti√™n</strong>. ƒê√≥ l√† l√Ω do ch√∫ng ta ph·∫£i th√™m m·ªôt m·∫£ng r·ªóng v√†o tham s·ªë th·ª© hai c·ªßa effect, nh∆∞ v·∫≠y c√°c l·∫ßn update ti·∫øp theo n√≥ s·∫Ω kh√¥ng ƒë∆∞·ª£c g·ªçi.</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">'https://hn.algolia.com/api/v1/search?query=redux'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>objectID<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Tham s·ªë th·ª© 2 truy·ªÅn v√†o cho effect n√†y l√† danh s√°ch nh·ªØng gi√° tr·ªã n√†o m√† hook ph·ª• thu·ªôc, t·ª©c n·∫øu c√°c gi√° tr·ªã n√†y thay ƒë·ªïi th√¨ effect ƒë∆∞·ª£c g·ªçi l·∫°i. B·ªè array tr·ªëng s·∫Ω kh√¥ng c√≤n chuy·ªán ch·∫°y ·ªü l·∫ßn update.</p>\n<p>Trong ƒëo·∫°n code tr√™n v·∫´n c√≤n m·ªôt ch·ªó ph·∫£i ch·ªânh s·ª≠a, ch√∫ng ta s·ª≠ d·ª•ng <code class=\"language-inline-text\">async/await</code>, <em>theo nh∆∞ ƒë·ªãnh nghƒ©a</em>, t·∫•t c·∫£ nh·ªØng h√†m n√†o l√† <code class=\"language-inline-text\">async</code> s·∫Ω ƒë∆∞·ª£c ng·∫ßm hi·ªÉu l√† tr·∫£ v·ªÅ m·ªôt <code class=\"language-inline-text\">Promise</code>. Tuy nhi√™n, c≈©ng <em>theo nh∆∞ ƒë·ªãnh nghƒ©a</em> effect hook kh√¥ng ƒë∆∞·ª£c tr·∫£ v·ªÅ g√¨ c·∫£, ho·∫∑c m·ªôt function ƒë·ªÉ clean up (xem l·∫°i b√†i n√≥i v·ªÅ Hook Effect, c√≥ gi·∫£i th√≠ch 2 lo·∫°i Effect Hook).</p>\n<p>N√™n b·∫°n m√† copy ƒëo·∫°n tr√™n m√† ch·∫°y th√¨ s·∫Ω nh·∫≠n th√¥ng b√°o b√™n d∆∞·ªõi console. Kh√¥ng th·ªÉ s·ª≠ d·ª•ng async function b√™n trong <code class=\"language-inline-text\">React.useEffect</code>, ch√∫ng ta s·ª≠a l·∫°i</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">'https://hn.algolia.com/api/v1/search?query=redux'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ƒê·ªÉ fetch d·ªØ li·ªáu b·∫±ng <code class=\"language-inline-text\">React.useEffect</code> c√≥ th·ªÉ t√≥m g·ªçn nh∆∞ ·ªü tr√™n. Ch√∫ng ta s·∫Ω ti·∫øp t·ª•c xem c√°ch handle error, loading indicator, g·ªçi fetch t·ª´ form v√† l√†m th·∫ø n√†o t√°i s·ª≠ d·ª•ng hook ƒë·ªÉ fetch</p>\n<h2 id=\"g·ªçi-hook-th·ªß-c√¥ngb·∫±ng-code\"><a href=\"#g%E1%BB%8Di-hook-th%E1%BB%A7-c%C3%B4ngb%E1%BA%B1ng-code\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>G·ªçi hook th·ªß c√¥ng/b·∫±ng code</h2>\n<p>Ch√∫ng ta ƒë√£ xong ph·∫ßn fetch d·ªØ li·ªáu m·ªôt l·∫ßn l√∫c component mount. Nh∆∞ng l√†m th·∫ø n√†o ƒë·ªÉ fetch d·ªØ li·ªáu khi c√≥ s·ª± ki·ªán t·ª´ user, v√≠ d·ª• √¥ search, khi user nh·∫≠p l·∫•y danh s√°ch k·∫øt qu·∫£ t√¨m ki·∫øm. V√≠ d·ª• b√™n d∆∞·ªõi m·∫∑c ƒë·ªãnh s·∫Ω hi·ªÉn th·ªã k·∫øt qu·∫£ cho t·ª´ kh√≥a <code class=\"language-inline-text\">redux</code>, n·∫øu user nh·∫≠p v√†o m·ªôt gi√° tr·ªã kh√°c, ch√∫ng ta c·∫ßn l√†m sao ƒë·ªÉ ch·∫°y <code class=\"language-inline-text\">useEffect</code> m·ªôt l·∫ßn n·ªØa</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Fragment<span class=\"token punctuation\">,</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">,</span> setQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'redux'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string\">'https://hn.algolia.com/api/v1/search?query=redux'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token function\">setQuery</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>objectID<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<p>V·ªõi nhu c·∫ßu nh∆∞ tr√™n, ch√∫ng ta c·∫ßn c·∫≠p nh·∫≠p l·∫°i <code class=\"language-inline-text\">useEffect</code></p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>\n<span class=\"gridsome-highlight-code-line\">      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://hn.algolia.com/api/v1/search?query=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span></span>    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Tuy nhi√™n, n·∫øu ch·ªâ nh∆∞ v·∫≠y, h√†m <code class=\"language-inline-text\">fetchData</code> s·∫Ω kh√¥ng ƒë∆∞·ª£c g·ªçi khi user input m·ªôt gi√° tr·ªã m·ªõi v√†o √¥ t√¨m ki·∫øm. V√¨ ch√∫ng ta ƒë√£ truy·ªÅn v√†o m·ªôt m·∫£ng r·ªóng v√†o cho gi√° tr·ªã <code class=\"language-inline-text\">depend</code> c·ªßa effect, n√™n n√≥ ch·ªâ ch·∫°y l·∫ßn ƒë·∫ßu mount</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>\n      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://hn.algolia.com/api/v1/search?query=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gridsome-highlight-code-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre></div>\n<p>C√≥ m·ªôt v·∫•n ƒë·ªÅ kh√°c, user c·ª© nh·∫≠p m·ªôt k√Ω t·ª±, c√¢u <code class=\"language-inline-text\">fetchData</code> l·∫°i ƒë∆∞·ª£c g·ªçi, g·ªçi li√™n t·ª•c nh∆∞ v·∫≠y kh√¥ng hay, th√™m v√†o m·ªôt n√∫t ƒë·ªÉ user click v√†o m·ªõi th·ª±c hi·ªán search th√¨ sao</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">,</span> setQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'redux'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>search<span class=\"token punctuation\">,</span> setSearch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://hn.algolia.com/api/v1/search?query=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token function\">setQuery</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setSearch</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        Search\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>objectID<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Gi·ªù effect ph·∫£i ph·ª• thu·ªôc v√†o <code class=\"language-inline-text\">search</code>, kh√¥ng ch·∫°y khi user nh·∫≠p v√†o input</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">,</span> setQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'redux'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>search<span class=\"token punctuation\">,</span> setSearch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'redux'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>\n<span class=\"gridsome-highlight-code-line\">        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://hn.algolia.com/api/v1/search?query=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>search<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span></span>      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>search<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nh∆∞ng n·∫øu s·ª≠a nh∆∞ v·∫≠y, tr∆∞·ªùng h·ª£p component ƒë∆∞·ª£c mount l·∫ßn ƒë·∫ßu, n√≥ s·∫Ω kh√¥ng c√≥ hi·ªÉn th·ªã k·∫øt qu·∫£ cho t·ª´ kh√≥a <code class=\"language-inline-text\">redux</code> n·ªØa. N·∫øu d√πng th·ªÅm m·ªôt <code class=\"language-inline-text\">useEffect</code> kh√°c cho tr∆∞·ªùng h·ª£p ch·∫°y l√∫c ƒë·∫ßu s·∫Ω g√¢y nh·∫ßm l·∫´n, kh√¥ng r√µ r√†ng, thay v√†o ƒë√≥ n·∫øu ch√∫ng ta xem search state l√† nguy√™n c√°i <code class=\"language-inline-text\">url</code> s·∫Ω ƒë∆°n gi·∫£n h∆°n</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">,</span> setQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'redux'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'https://hn.algolia.com/api/v1/search?query=redux'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      \n      <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token function\">setQuery</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n          <span class=\"token function\">setUrl</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://hn.algolia.com/api/v1/search?query=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        Search\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>objectID<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"loading-indicator\"><a href=\"#loading-indicator\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Loading indicator</h2>\n<p>M·ªôt nhu c·∫ßu kh√°c c≈©ng hay g·∫∑p l√† trong l√∫c fetch data t·ª´ API, ch√∫ng ta c·∫ßn bi·∫øt tr·∫°ng th√°i loading t·ªõi ƒë√¢u r·ªìi, ch√∫ng ta s·∫Ω b·ªï sung th√™m state <code class=\"language-inline-text\">isLoading</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">,</span> setQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'redux'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'https://hn.algolia.com/api/v1/search?query=redux'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isLoading<span class=\"token punctuation\">,</span> setIsLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      \n      <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      \n      <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token function\">setQuery</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n          <span class=\"token function\">setUrl</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://hn.algolia.com/api/v1/search?query=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        Search\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>isLoading <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Loading ...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>objectID<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"handle-error\"><a href=\"#handle-error\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Handle Error</h2>\n<p>C≈©ng t∆∞∆°ng t·ª± nh∆∞ loading, ch√∫ng ta s·∫Ω b·ªï sung th√™m state <code class=\"language-inline-text\">isError</code> ƒë·ªÉ x√°c ƒë·ªãnh vi·ªác fetch d·ªØ li·ªáu c√≥ b·ªã l·ªói kh√¥ng</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">,</span> setQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'redux'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'https://hn.algolia.com/api/v1/search?query=redux'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isLoading<span class=\"token punctuation\">,</span> setIsLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isError<span class=\"token punctuation\">,</span> setIsError<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setIsError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      \n      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setIsError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      \n      <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span>\n        <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token function\">setQuery</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n          <span class=\"token function\">setUrl</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://hn.algolia.com/api/v1/search?query=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        Search\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>isError <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Something went wrong ...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>isLoading <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Loading ...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>objectID<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"fetch-data-v·ªõi-form\"><a href=\"#fetch-data-v%E1%BB%9Bi-form\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Fetch data v·ªõi Form</h2>\n<p>N√£y gi·ªù ch√∫ng ta ch·ªâ fetch data v·ªõi b·∫±ng input v√† button. Khi c√≥ nhi·ªÅu element h∆°n, ch√∫ng ta s·∫Ω ƒë∆∞a n√≥ v√†o <code class=\"language-inline-text\">form</code> ƒë·ªÉ c√≥ th·ªÉ trigger form submit b·∫±ng c√°ch nh·∫•n Enter</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span>\n        <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span>\n          <span class=\"token function\">setUrl</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://hn.algolia.com/api/v1/search?query=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n          event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n          <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token function\">setQuery</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Search</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>isError <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Something went wrong ...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      ...\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"custom-hook-ƒë·ªÉ-fetch-data\"><a href=\"#custom-hook-%C4%91%E1%BB%83-fetch-data\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Custom hook ƒë·ªÉ Fetch data</h2>\n<p>ƒê·ªÉ t√°i s·ª≠ d·ª•ng ƒë∆∞·ª£c c√°c ƒëo·∫°n code li√™n quan ƒë·∫øn vi·ªác fetch data, ch√∫ng ta s·∫Ω ƒë∆∞a n√≥ ra th√†nh m·ªôt custom hook, c√°c gi√° tr·ªã li√™n quan tr·ª±c ti·∫øp ƒë·∫øn vi·ªác fetch data, c·ª• th·ªÉ l√† loading, error ch√∫ng ta c≈©ng ƒë∆∞a v√†o trong custom hook</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"gridsome-highlight-code-line\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useHackerNewsApi</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span>  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'https://hn.algolia.com/api/v1/search?query=redux'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isLoading<span class=\"token punctuation\">,</span> setIsLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isError<span class=\"token punctuation\">,</span> setIsError<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setIsError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setIsError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gridsome-highlight-code-line\">  </span>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> isLoading<span class=\"token punctuation\">,</span> isError <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>S·ª≠ d·ª•ng b√™n trong App Component</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">,</span> setQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'redux'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> isLoading<span class=\"token punctuation\">,</span> isError <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> doFetch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useHackerNewsApi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">doFetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://hn.algolia.com/api/v1/search?query=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n          <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token function\">setQuery</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Search</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      ...\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Gi√° tr·ªã state l√∫c kh·ªüi t·∫°o c·ªßa th·ªÉ ƒë∆∞a v√†o nh∆∞ m·ªôt tham s·ªë truy·ªÅn v√†o cho custom hook lu√¥n</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Fragment<span class=\"token punctuation\">,</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useDataApi</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">initialUrl<span class=\"token punctuation\">,</span> initialData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> setData<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>initialData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>initialUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isLoading<span class=\"token punctuation\">,</span> setIsLoading<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isError<span class=\"token punctuation\">,</span> setIsError<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setIsError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setData</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setIsError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token function\">setIsLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> isLoading<span class=\"token punctuation\">,</span> isError <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>query<span class=\"token punctuation\">,</span> setQuery<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'redux'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> isLoading<span class=\"token punctuation\">,</span> isError <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> doFetch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useDataApi</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'https://hn.algolia.com/api/v1/search?query=redux'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> hits<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span>\n        <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">doFetch</span><span class=\"token punctuation\">(</span>\n            <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://hn.algolia.com/api/v1/search?query=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>query<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n          <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>query<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token function\">setQuery</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Search</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>isError <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Something went wrong ...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>isLoading <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Loading ...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>objectID<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Fragment</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"reducer-hook\"><a href=\"#reducer-hook\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Reducer hook</h2>\n<p>V·ªõi c√°i custom hook ƒë·ªÉ fetch data nh∆∞ ·ªü tr√™n, ch√∫ng ta th·∫•y c√≥ 2 state <code class=\"language-inline-text\">isLoading</code>, <code class=\"language-inline-text\">isError</code> quan h·ªá kh√° <em>m·∫≠t thi·∫øt</em> v·ªõi nhau, c√≥ th·ªÉ h·ª£p nh·∫•t 2 ƒë·ª©a n√≥ l·∫°i b·∫±ng <code class=\"language-inline-text\">React.useReducer</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  Fragment<span class=\"token punctuation\">,</span>\n  useState<span class=\"token punctuation\">,</span>\n  useEffect<span class=\"token punctuation\">,</span>\n  useReducer<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dataFetchReducer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useDataApi</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">initialUrl<span class=\"token punctuation\">,</span> initialData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>initialUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>dataFetchReducer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    isLoading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    isError<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> initialData<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-inline-text\">React.useReducer</code> s·∫Ω nh·∫≠n v√†o m·ªôt h√†m reducer (c√¥ng d·ª•ng t∆∞∆°ng t·ª± nh∆∞ h√†m reducer c·ªßa redux ·∫•y) v√† c√°c gi√° tr·ªã kh·ªüi t·∫°o c·ªßa state, trong tr∆∞·ªùng h·ª£p c·ªßa ch√∫ng ta l√† <code class=\"language-inline-text\">isLoading</code> v√† <code class=\"language-inline-text\">isError</code>. Vi·ªác n√†y ch·∫≥ng qua l√† gom t·∫•t c·∫£ state li√™n quan v√†o m·ªôt object cho n√≥ <em>tinh t·∫ø</em> th√¥i, thay v√¨ t·ª´ng state ri√™ng bi·ªát nh∆∞ s·ª≠ d·ª•ng <code class=\"language-inline-text\">useState</code></p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dataFetchReducer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useDataApi</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">initialUrl<span class=\"token punctuation\">,</span> initialData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>initialUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>dataFetchReducer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    isLoading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    isError<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> initialData<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"gridsome-highlight-code-line\">      <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'FETCH_INIT'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gridsome-highlight-code-line\">        <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'FETCH_SUCCESS'</span><span class=\"token punctuation\">,</span> payload<span class=\"token operator\">:</span> result<span class=\"token punctuation\">.</span>data <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gridsome-highlight-code-line\">        <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'FETCH_FAILURE'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>M√¨nh ƒë√£ b·∫£o r·ªìi, n√≥ s·∫Ω gi·ªëng nh∆∞ c√°i reducer trong redux th√¥i, ch√∫ng ta <code class=\"language-inline-text\">dispatch</code> m·ªôt object g·ªìm <code class=\"language-inline-text\">type</code> v√† <code class=\"language-inline-text\">payload</code>, cƒÉn c·ª© v√†o payload m√† ch√∫ng ta x·ª≠ l√Ω, c·∫≠p nh·∫≠p state</p>\n<p>Cu·ªëi c√πng ch√∫ng ta c·∫≠p nh·∫≠p l·∫°i gi√° tr·ªã tr·∫£ v·ªÅ c·ªßa custom hook n·ªØa</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useDataApi</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">initialUrl<span class=\"token punctuation\">,</span> initialData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>initialUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>dataFetchReducer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    isLoading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    isError<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> initialData<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token operator\">...</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Cu·ªëi c√πng, kh√¥ng k√©m ph·∫ßn quan tr·ªçng, ph·∫ßn code th·ª±c hi·ªán b√™n trong <code class=\"language-inline-text\">dataFetchReducer</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dataFetchReducer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'FETCH_INIT'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span>\n        isLoading<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        isError<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'FETCH_SUCCESS'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span>\n        isLoading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        isError<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        data<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>payload<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'FETCH_FAILURE'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span>\n        isLoading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        isError<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"b·ªè-qua-vi·ªác-fetch-data\"><a href=\"#b%E1%BB%8F-qua-vi%E1%BB%87c-fetch-data\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B·ªè qua vi·ªác fetch data</h2>\n<p>T√¨nh hu·ªëng l√† khi user chuy·ªÉn qua m·ªôt route kh√°c, khi ƒëang fetch data, vi·ªác g·ªçi fetch ko c·∫ßn thi·∫øt v√† c√≥ th·ªÉ b·ªè qua</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useDataApi</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">initialUrl<span class=\"token punctuation\">,</span> initialData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>initialUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>dataFetchReducer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    isLoading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    isError<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> initialData<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> didCancel <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'FETCH_INIT'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>didCancel<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'FETCH_SUCCESS'</span><span class=\"token punctuation\">,</span> payload<span class=\"token operator\">:</span> result<span class=\"token punctuation\">.</span>data <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>didCancel<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'FETCH_FAILURE'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      didCancel <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    \n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> setUrl<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>V·ªõi vi·ªác return m·ªôt function ·ªü cu·ªëi c·ªßa <code class=\"language-inline-text\">React.useEffect</code>, t√™n g·ªçi c√°c b·∫°n React ƒë·∫∑t l√† clean up function, n·∫±m trong ki·ªÉu effect c·∫ßn clean up - n√≥i th·∫≠t m√¨nh ph√°t m·ªát v·ªõi vi·ªác c√°c b·∫°n trong team React c·ª© th√≠ch <em>ch·∫ø</em> th√™m li√™n t·ª•c nh∆∞ v·∫≠y.</p>\n<blockquote>\n<p>N√≥i theo c√°ch c·ªßa m√¨nh ƒëi, n·∫øu b·∫°n return m·ªôt function ·ªü cu·ªëi c·ªßa <code class=\"language-inline-text\">React.useEffect</code> n√≥ s·∫Ω ch·∫°y khi component b·ªã unmount.</p>\n</blockquote>\n<p>Source code c√≥ th·ªÉ tham kh·∫£o ƒë·∫ßy ƒë·ªß <a href=\"https://github.com/the-road-to-learn-react/use-data-api/blob/master/src/index.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">·ªü ƒë√¢y</a></p>\n<p><a href=\"https://www.robinwieruch.de/react-hooks-fetch-data\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.robinwieruch.de/react-hooks-fetch-data</a></p>\n","cover_image":""}},{"node":{"id":"60f676e05ffae4b7f782d83aa26725a8","title":"T·∫°i sao l·∫°i sinh ra React hook","path":"/2019-11-17-giai-thich-tai-sao-ban-can-react-hook/","date":"2019-11-17","timeToRead":10,"desc":"T·∫°i sao v√† l·ª£i √≠ch m√† react hook ƒëem l·∫°i l√† g√¨, m√† thi√™n h·∫° c·ª© r·∫ßn r·∫ßn l√™n v·∫≠y?","content":"<!-- TOC -->\n<ul>\n<li>\n<p><a href=\"#l%e1%bb%8bch-s%e1%bb%ad\">L·ªãch s·ª≠</a></p>\n<ul>\n<li><a href=\"#th%c3%a1ng-5-2013\">Th√°ng 5, 2013</a></li>\n<li><a href=\"#th%c3%a1ng-gi%c3%aang-2015\">Th√°ng gi√™ng, 2015</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#v%e1%ba%a5n-%c4%91%e1%bb%81-t%e1%bb%93n-%c4%91%e1%bb%8dng\">V·∫•n ƒë·ªÅ t·ªìn ƒë·ªçng</a></p>\n<ul>\n<li><a href=\"#logic-tr%c3%b9ng-l%e1%ba%b7p\">Logic tr√πng l·∫∑p</a></li>\n<li><a href=\"#chia-s%e1%ba%bd-logic\">Chia s·∫Ω logic</a></li>\n</ul>\n</li>\n<li><a href=\"#gi%e1%ba%a3i-quy%e1%ba%bft\">Gi·∫£i quy·∫øt</a></li>\n</ul>\n<!-- /TOC -->\n<p>Qua b√†i vi·∫øt n√†y ch√∫ng ta s·∫Ω c√πng tr·∫£ l·ªùi 2 c√¢u h·ªèi b·∫°n c·∫ßn ƒë·∫∑t ra khi ti·∫øp c·∫≠n m·ªôt <strong>ƒë·ªì ch∆°i m·ªõi</strong> nh∆∞ React Hook</p>\n<ol>\n<li>T·∫°i sao n√≥ l·∫°i t·ªìn t·∫°i tr√™n tr√°i ƒë·∫•t n√†y?</li>\n<li>N√≥ t·ªìn t·∫°i tr√™n tr√°i ƒë·∫•t n√†y c√≥ l·ª£i √≠ch g√¨ kh√¥ng?</li>\n</ol>\n<h2 id=\"l·ªãch-s·ª≠\"><a href=\"#l%E1%BB%8Bch-s%E1%BB%AD\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L·ªãch s·ª≠</h2>\n<h3 id=\"th√°ng-5-2013\"><a href=\"#th%C3%A1ng-5-2013\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th√°ng 5, 2013</h3>\n<p>N·∫øu b·∫°n c√≤n nh·ªõ v·ªÅ c√°ch vi·∫øt m·ªôt component trong React b·∫±ng <code class=\"language-inline-text\">React.createClass</code>, ch·ª©ng t·ªè b·∫°n ƒë√£ l√† gi√† l√†ng trong React, ng√†y m·ªõi ra ƒë·ªùi khi javascript kh√¥ng h·ªÅ c√≥ khai b√°o <code class=\"language-inline-text\">class</code>, ch√∫ng ta s·∫Ω khai b√°o component nh∆∞ th·∫ø n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> ReposGrid <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getInitialState</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>      \n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">componentDidMount</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">componentDidUpdate</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">prevProps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>    \n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"th√°ng-gi√™ng-2015\"><a href=\"#th%C3%A1ng-gi%C3%AAng-2015\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th√°ng gi√™ng, 2015</h3>\n<p>T·ªï ch·ª©c <em>√Åc ma</em> th·∫ø gi·ªõi c√¥ng b·ªë chu·∫©n EcmaScript 2015, c√≤n g·ªçi v·ªõi t√™n th√¢n th∆∞∆°ng ES6. <strong>class</strong> ch√≠nh th·ª©c c√≥ m·∫∑t trong javascript. ƒê·ªôi ng≈© ph√°t tri·ªÉn c·ªßa React l√∫c ƒë√≥ k·∫øt lu·∫≠n, ch√∫ng ta <em>kh√¥ng c·∫ßn ph√°t minh l·∫°i c√°i b√°nh xe</em> (don't reinvent the wheel), c·ª© x√†i theo chu·∫©n ƒë√£ c√≥. Th·∫ø l√† t·ª´ ƒë√≥ ch√∫ng ta khai b√°o component b·∫±ng <code class=\"language-inline-text\">class extends</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ReposGrid</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      repos<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      loading<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>updateRepos <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateRepos</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">componentDidMount</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">componentDidUpdate</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">prevProps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Khi khai b√°o component b·∫±ng <code class=\"language-inline-text\">class</code>, ch√∫ng ta kh·ªüi t·∫°o gi√° tr·ªã c·ªßa <code class=\"language-inline-text\">state</code> b√™n trong ph∆∞∆°ng th·ª©c <code class=\"language-inline-text\">constructor</code> v√† n√≥ s·∫Ω ƒë∆∞·ª£c nh√©t v√†o trong <code class=\"language-inline-text\">this</code>. Tuy nhi√™n, v·ªõi c√°ch khai b√°o ƒë√£ <em>qu·ªëc t·∫ø h√≥a</em> c·ªßa <code class=\"language-inline-text\">class</code>, n·∫øu ch√∫ng ta <code class=\"language-inline-text\">extends</code> t·ª´ m·ªôt <code class=\"language-inline-text\">class</code>, ch√∫ng ta ph·∫£i g·ªçi <code class=\"language-inline-text\">super()</code> tr∆∞·ªõc khi c√≥ th·ªÉ s·ª≠ d·ª•ng <code class=\"language-inline-text\">this</code>. V√† ri√™ng v·ªõi React, ch√∫ng ta c√≤n ph·∫£i truy·ªÅn th√™m <code class=\"language-inline-text\">props</code> v√†o trong <code class=\"language-inline-text\">super</code>. C√°c b·∫°n l·∫≠p tr√¨nh vi√™n <em>ph√°t b·ªánh</em> v√¨ c√°ch vi·∫øt ch∆∞·ªõng m·∫Øt n√†y.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span> <span class=\"token comment\">// ü§Æ</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ng√†y x∆∞a khi d√πng <code class=\"language-inline-text\">createClass</code> c·ªßa React, b√™n trong h√†m ƒë√≥ n√≥ s·∫Ω l√†m lu√¥n chuy·ªán binding to√†n b·ªô <code class=\"language-inline-text\">this</code> v√†o c√°c ph∆∞∆°ng th·ª©c cho m·ªôt instance c·ªßa component. Tuy nhi√™n khi vi·∫øt <code class=\"language-inline-text\">extends React.Component</code> chuy·ªán ƒë√≥ ko c√≤n t·ª± ƒë·ªông x·∫£y ra <em>nh∆∞ ph√©p m√†u</em> n·ªØa, ch√∫ng ta ph·∫£i ƒëi <code class=\"language-inline-text\">.bind</code> t·ª´ng ph∆∞∆°ng th·ª©c m·ªôt trong <code class=\"language-inline-text\">constructor</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>updateRepos <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateRepos</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// üò≠</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>N·∫øu nh√¨n v√†o c√°c b·∫°n s·∫Ω n√≥i, ·ªì c√°i n√†y ch·∫£ to t√°c g√¨ ƒë√¢u, ch·ªâ l√† ph·∫£i vi·∫øt th√™m m·∫•y d√≤ng ·∫•y m√†. C≈©ng v√¨ l·∫ßm ƒë∆∞·ªùng l·∫°c l·ªëi theo class <em>√Åc ma</em> m√† React b·ªã ko bi·∫øt bao nhi·ªÅu l·ªùi ph√†n n√†n t·ª´ nh·ªØng l·∫≠p tr√¨nh vi√™n kh·∫Øp m·ªçi n∆°i.</p>\n<p>H√™n sao, kh√¥ng l√¢u sau ƒë√≥ Class Field ƒë∆∞·ª£c th√™m v√†o trong <code class=\"language-inline-text\">class</code>, ch√∫ng ta c√≥ th·ªÉ khai b√°o m·ªôt bi·∫øn b√™n trong <code class=\"language-inline-text\">class</code> m√† kh√¥ng c·∫ßn d√πng <code class=\"language-inline-text\">constructor</code>, thay v√¨ <code class=\"language-inline-text\">.bind</code> ch√∫ng ta d√πng arrow function</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ReposGrid</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>  \n  <span class=\"token function-variable function\">updateRepos</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"v·∫•n-ƒë·ªÅ-t·ªìn-ƒë·ªçng\"><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81-t%E1%BB%93n-%C4%91%E1%BB%8Dng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V·∫•n ƒë·ªÅ t·ªìn ƒë·ªçng</h2>\n<p>V·∫•n ƒë·ªÅ ƒë√£ ƒë∆∞·ª£c gi·∫£i quy·∫øt t∆∞∆°ng ƒë·ªëi ·ªïn th·ªèa? Tuy nhi√™n v·∫´n c√≤n v·∫•n ƒë·ªÅ kh√°c React team c·∫£m th·∫•y ch∆∞a h√†i l√≤ng l·∫Øm phi√™n b·∫£n hi·ªán t·∫°i.</p>\n<p>√ù t∆∞·ªüng ch√≠nh c·ªßa React l√† ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ qu·∫£n l√Ω nh·ªØng ·ª©ng d·ª•ng ph·ª©c t·∫°p b·∫±ng c√°ch chia ra th√†nh t·ª´ng component nh·ªè r·ªìi <em>k·∫øt h·ª£p</em> (compose) l·∫°i v·ªõi nhau. ƒê√¢y l√† c√°ch l√†m t·∫°o ra <em>th∆∞∆°ng hi·ªáu</em> s√°ng ng·ªùi c·ªßa React. C√°ch ti·∫øp c·∫≠n theo ki·ªÉu component ch·∫£ c√≥ v·∫•n ƒë·ªÅ g√¨, c√°ch <strong>hi·ªán th·ª±c</strong> nh·ªØng component hi·ªán t·∫°i ƒëang c√≥ v·∫•n ƒë·ªÅ.</p>\n<h3 id=\"logic-tr√πng-l·∫∑p\"><a href=\"#logic-tr%C3%B9ng-l%E1%BA%B7p\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Logic tr√πng l·∫∑p</h3>\n<p>Tr∆∞·ªõc ƒë√¢y ch√∫ng ta thi·∫øt k·∫ø component d·ª±a r·∫•t nhi·ªÅu v√†o component lifecycle. Ch√∫ng ta ƒë·∫∑t ƒë·ªÉ logic v√†o trong c√°c t·ª´ng lifecycle n√†y, th√≠ d·ª• nh∆∞ ch√∫ng ta c·∫ßn ph·∫£i g·ªçi c√πng m·ªôt h√†m b√™n trong c·∫£ 2 ph∆∞∆°ng th·ª©c lifecycle <code class=\"language-inline-text\">componentDidMount</code>, <code class=\"language-inline-text\">componentDidUpdate</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">componentDidMount</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateRepos</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">componentDidUpdate</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">prevProps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prevProps<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateRepos</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function-variable function\">updateRepos</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> loading<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">fetchRepos</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">repos</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      repos<span class=\"token punctuation\">,</span>\n      loading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒê·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ side effect (h√†m <code class=\"language-inline-text\">fetchRepos</code> l√†m c√°i qu·∫ßn g√¨ ·ªü ngo√†i ƒë∆∞·ªùng ai m√† bi·∫øt, r√µ r√†ng n√≥ kh√¥ng thu·ªôc ph·∫°m vi qu·∫£n l√Ω c·ªßa component). Ch√∫ng ta <strong>c·∫ßn m·ªôt c√°ch ti·∫øp c·∫≠n kh√°c kh√¥ng th·ªÉ s·ª≠ d·ª•ng lifecycle n·ªØa</strong></p>\n<h3 id=\"chia-s·∫Ω-logic\"><a href=\"#chia-s%E1%BA%BD-logic\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Chia s·∫Ω logic</h3>\n<p>Khi nghƒ© v·ªÅ s·ª± k·∫øt h·ª£p gi·ªØa c√°c component trong React, ch√∫ng ta s·∫Ω nghƒ© v·ªÅ c√°ch c√°c ƒë·ªëi t∆∞·ª£ng UI k·∫øt h·ª£p v·ªõi nhau.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">view <span class=\"token operator\">=</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Trong th·ª±c t·∫ø, vi·∫øt m·ªôt ·ª©ng d·ª•ng kh√¥ng ph·∫£i ch·ªâ bao g·ªìm t·∫ßng UI, r·∫•t nhi·ªÅu tr∆∞·ªùng h·ª£p ch√∫ng ta c·∫ßn <strong>t√°i s·ª≠ d·ª•ng logic, k·∫øt h·ª£p c√°c logic l·∫°i v·ªõi nhau</strong>. Tr∆∞·ªõc ƒë√¢y React ch∆∞a h·ªÅ c√≥ c√°ch n√†o ƒë√°p ·ª©ng ƒë∆∞·ª£c nhu c·∫ßu n√†y.</p>\n<p>V√≠ d·ª• n·∫øu c√≥ m·ªôt component kh√°c, n√≥ c≈©ng c·∫ßn x√†i bi·∫øn state <code class=\"language-inline-text\">repos</code> v√† t·∫•t c·∫£ nh·ªØng logic li√™n quan, m√† nh·ªØng c√°i ƒë√≥ n√≥ ƒëang n·∫±m b√™n trong component <code class=\"language-inline-text\">ReposGrid</code>. L√†m sao ch√∫ng ta l·∫•y ra x√†i l·∫°i? C√°ch b√¨nh th∆∞·ªùng l√† ch√∫ng ta copy-paste to√†n b·ªô code b√™n trong qua m·ªôt component m·ªõi. C≈©ng nhi·ªÅu ng∆∞·ªùi l√†m v·∫≠y, ai c√≥ kinh nghi·ªám h∆°n th√¨ d√πng Higher-Order Component</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">withRepos</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">Component</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">WithRepos</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n    state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      repos<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      loading<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">componentDidMount</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateRepos</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">componentDidUpdate</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">prevProps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prevProps<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateRepos</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function-variable function\">updateRepos</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> loading<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token function\">fetchRepos</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">repos</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          repos<span class=\"token punctuation\">,</span>\n          loading<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">render</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Component</span></span>\n          <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">}</span></span>\n          <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span>\n      <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>R·ªìi gi·ªù c√≥ b·∫•t k·ª≥ component n√†o mu·ªën d√πng <code class=\"language-inline-text\">repos</code> th√¨ c·ª© m·∫π-b·ªìng-con th·∫ø n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// ReposGrid.js</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">ReposGrid</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> loading<span class=\"token punctuation\">,</span> repos <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withRepos</span><span class=\"token punctuation\">(</span>ReposGrid<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Profile.js</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Profile</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> loading<span class=\"token punctuation\">,</span> repos <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withRepos</span><span class=\"token punctuation\">(</span>Profile<span class=\"token punctuation\">)</span></code></pre></div>\n<p><em>H·ªìi x∆∞a</em> ch√∫ng ta hay l√†m v·∫≠y, ho·∫∑c l√† d√πng Render Props ƒë·ªÉ chia s·∫ª nh·ªØng logic d√πng t·ªõi d√πng lui. Tuy nhi√™n, ƒë√¢y l√† c√°ch ti·∫øp c·∫≠n kh√¥ng d√†nh cho d√¢n nghi·ªáp d∆∞, v√¨ kh√¥ng ph·∫£i d·ªÖ m√† hi·ªÉu ƒë∆∞·ª£c c√°ch t·ª•i HOC n√≥ ch·∫°y, th·ª© 2 n·∫øu b·∫°n cho ch·ª•c m·∫π b·ªìng m·ªôt ƒë·ª©a con th√¨ s·∫Ω sinh ra chuy·ªán <code class=\"language-inline-text\">wrapper hell</code> gi·ªëng nh∆∞ callback hell</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withHover</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">withTheme</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">withAuth</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">withRepos</span><span class=\"token punctuation\">(</span>Profile<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>V·∫≠n ƒë·ªông n√£o ƒë·ªÉ hi·ªÉu ƒëo·∫°n n√†y ch·∫°y k·∫øt qu·∫£ th·ªÉ n√†o</p>\n<div class=\"gridsome-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>WithHover</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>WithTheme</span> <span class=\"token attr-name\">hovering</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{false}</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>WithAuth</span> <span class=\"token attr-name\">hovering</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{false}</span> <span class=\"token attr-name\">theme</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>dark<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>WithRepos</span> <span class=\"token attr-name\">hovering</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{false}</span> <span class=\"token attr-name\">theme</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>dark<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">authed</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{true}</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Profile</span> \n          <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>JavaScript<span class=\"token punctuation\">'</span></span>\n          <span class=\"token attr-name\">loading</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{true}</span> \n          <span class=\"token attr-name\">repos</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{[]}</span>\n          <span class=\"token attr-name\">authed</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{true}</span>\n          <span class=\"token attr-name\">theme</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>dark<span class=\"token punctuation\">'</span></span>\n          <span class=\"token attr-name\">hovering</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{false}</span>\n        <span class=\"token punctuation\">/></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>WithRepos</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>WithAuth</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>WithTheme</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>WithHover</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>T√≥m l·∫°i nh·ªØng v·∫•n ƒë·ªÅ tr∆∞·ªõc m·∫∑t c·∫ßn gi·∫£i quy·∫øt l√† g√¨</p>\n<ul>\n<li>g·ªçi <code class=\"language-inline-text\">super(props)</code> l√† qu√° x√†m x√≠ ƒë√∫</li>\n<li><code class=\"language-inline-text\">this</code> l√† th·ª© m∆° h·ªì m√† kh√¥ng d·ªÖ bi·∫øt c√°ch n√≥ ho·∫°t ƒë·ªông, b·∫°n c√≥ th·ªÉ l√† chuy√™n gia v√† bi·∫øt ƒë·∫•y, nh∆∞ng ch√∫ng ta tu√¢n th·ªß nguy√™n t·∫Øc khi code <strong>KISS</strong>, ngu ng·ªëc nh·∫•t c√≥ th·ªÉ, ƒë·ª´ng t·ªè ra th√¥ng minh</li>\n<li>T·ªï ch·ª©c logic theo c√°c ph∆∞∆°ng th·ª©c lifecycle kh√¥ng c√≤n h·ª£p l√Ω h·ª£p t√¨nh</li>\n<li>React ch∆∞a c√≥ c√¢u tr·∫£ l·ªùi ch√≠nh th·ª©c n√†o cho vi·ªác chia s·∫ª logic (HOC l√† t·ª´ pattern c·ªßa javascript, kh√¥ng ph·∫£i ƒë·∫∑c s·∫£n nh√† React, n√™n kh√¥ng t√≠nh)</li>\n</ul>\n<h2 id=\"gi·∫£i-quy·∫øt\"><a href=\"#gi%E1%BA%A3i-quy%E1%BA%BFt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·∫£i quy·∫øt</h2>\n<p>T·ª´ React 0.14 ch√∫ng ta c√≥ 2 c√°ch t·∫°o component, d√πng class ho·∫∑c d√πng function. N·∫øu c·∫ßn state v√† c√°c lifecycle th√¨ d√πng class, n·∫øu ch·ªâ nh·∫≠n props r·ªìi tr·∫£ v·ªÅ UI th√¨ d√πng function. ƒê√≥ l√† c√°ch ch√∫ng ta ƒë∆∞·ª£c d·∫°y.</p>\n<p>B√°c CTO John Carmack n√≥i, em xin l·ªói s·ª≠a c√¢u vƒÉn c·ªßa b√°c ch√∫t</p>\n<blockquote>\n<p>T·ª•i b√¢y d·∫πp ph∆∞∆°ng th·ª©c, class, framework h·∫øt d√πm tao c√°i, D√πng h·∫øt function ƒëi</p>\n</blockquote>\n<p>React team, ch√¢n l√Ω ƒë√¢y r·ªìi, ch√∫ng ta t√¨m c√°ch bi·∫øn function component ƒë√°p ·ª©ng ƒë∆∞·ª£c nh·ªØng g√¨ class component l√†m ƒë∆∞·ª£c ƒëi.</p>\n<p>V·ªõi function component, ch√∫ng ta ch·∫£ c·∫ßn quan t√¢m t·ªõi <code class=\"language-inline-text\">super(props)</code>, <code class=\"language-inline-text\">this</code> ch·∫°y th·∫ø n√†o. Ch√∫ng ta s·∫Ω b·ªï sung state, gi·∫£i quy·∫øt lifecycle, chia s·∫ª logic n·ªØa l√† xong.</p>\n<p>V√† th·∫ø l√† c√°c hook c·ªßa React ra ƒë·ªùi: <code class=\"language-inline-text\">useState</code>, <code class=\"language-inline-text\">useEffect</code>, custom hook</p>\n<p>ƒê·ªÉ s·ª≠ d·ª•ng state, ch√∫ng ta d√πng hook l√† <code class=\"language-inline-text\">React.useState</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">ReposGrid</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span> repos<span class=\"token punctuation\">,</span> setRepos <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span> loading<span class=\"token punctuation\">,</span> setLoading <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Lifecycle th√¨ c√≥ th·ªÉ b·∫°n s·∫Ω bu·ªìn (ho·∫∑c vui) khi nghe tin n√†y. N·∫øu b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng React hook, function component, d·∫πp h·∫øt nh·ªØng g√¨ b·∫°n ƒë√£ t·ª´ng bi·∫øt v·ªÅ lifecycle c·ªßa component ƒëi, qu√™n ƒëi nh·ªØng vi·ªác c·∫ßn l√†m ·ªü giai ƒëo·∫°n n√†y, giai ƒëo·∫°n kia c·ªßa component. B·∫°n hay ti·∫øp c·∫≠n <em>c√°ch t∆∞ duy kh√°c</em> ho√†n to√†n <strong>ƒê·ªìng b·ªô h√≥a</strong></p>\n<p>Th·ª≠ nghƒ© nh·ªØng g√¨ b·∫°n l√†m ·ªü m·ªôt s·ª± ki·ªán c·ªßa lifecycle, c√≥ th·ªÉ l√† ƒë·ªïi state, fetch d·ªØ li·ªáu, c·∫≠p nh·∫≠p DOM, t·∫•t c·∫£ ƒë·ªÅu gom v·ªÅ m·ªôt m·ª•c ƒë√≠ch duy nh·∫•t <strong>ƒê·ªìng b·ªô h√≥a</strong>. Nh·ªØng g√¨ ch√∫ng ta c·∫ßn ƒë·ªìng b·ªô th∆∞·ªùng l√† nh·ªØng th·ª© n·∫±m ngo√†i React (g·ªçi API, DOM, ƒë·∫°i lo·∫°i nh∆∞ th·∫ø) v·ªõi nh·ªØng th·ª© b√™n trong React (state) ho·∫∑c ng∆∞·ª£c l·∫°i</p>\n<p>Khi ti·∫øp c·∫≠n theo h∆∞·ªõng ƒë·ªìng b·ªô h√≥a thay v√¨ lifecycle event, n√≥ cho ph√©p ch√∫ng ta gom c√°c logic li√™n quan l·∫°i v·ªõi nhau. ƒê·ªÉ l√†m vi·ªác ƒë√≥ React cho ch√∫ng ta m·ªôt Hook g·ªçi l√† <code class=\"language-inline-text\">React.useEffect</code></p>\n<p>Theo ƒë·ªãnh nghƒ©a, <code class=\"language-inline-text\">useEffect</code> cho ph√©p ch√∫ng ta th·ª±c hi·ªán side effect b√™n trong function component. H√†m n√†y s·∫Ω d√πng ƒë·ªÉ <strong>re-sync</strong> (th·ª±c hi·ªán ƒë·ªìng b·ªô h√≥a c√°c gi√° tr·ªã)</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">React<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hello, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>username<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ƒêo·∫°n code tr√™n s·∫Ω ch·∫°y l·∫°i b·∫•t c·ª© khi n√†o gi√° tr·ªã state <code class=\"language-inline-text\">username</code> c√≥ thay ƒë·ªïi</p>\n<p>ƒê·ªÉ g·ªçi l·∫°i <code class=\"language-inline-text\">fetchRepos</code> khi c√≥ thay ƒë·ªïi t·ª´ state <code class=\"language-inline-text\">repos</code> ·ªü v√≠ d·ª• tr√™n</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">ReposGrid</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span> repos<span class=\"token punctuation\">,</span> setRepos <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span> loading<span class=\"token punctuation\">,</span> setLoading <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n\n  React<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">fetchRepos</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">repos</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setRepos</span><span class=\"token punctuation\">(</span>repos<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>loading <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Loading</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nh∆∞ v·∫≠y, ch√∫ng ta ƒë√£ c√≥ th·ªÉ n√≥i l·ªùi chia tay m√£i m√£i v·ªõi <code class=\"language-inline-text\">React.Component</code>, <code class=\"language-inline-text\">constructor</code>, <code class=\"language-inline-text\">super</code>, <code class=\"language-inline-text\">this</code>, lifecycle</p>\n<p>C√≤n l·∫°i v·ªõi cu·ªôc chi·∫øn ch·ªëng Higher-Order Component v√† Render Props. ƒê·ªÉ d√πng l·∫°i logic, ch√∫ng ta s·∫Ω v·∫´n d√πng Hook, nh∆∞ng kh√¥ng ph·∫£i do React l√†m s·∫µn cho <em>x∆°i</em>, ch√∫ng ta ph·∫£i t·ª± vi·∫øt nh·ªØng custom Hook</p>\n<p>Gi·ªù ch√∫ng ta s·∫Ω vi·∫øt m·ªôt custom hook <code class=\"language-inline-text\">useRepos</code>, n√≥ s·∫Ω nh·∫≠n m·ªôt <code class=\"language-inline-text\">id</code> l·∫•y d·ªØ li·ªáu t∆∞∆°ng ·ª©ng.</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">useRepos</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span> repos<span class=\"token punctuation\">,</span> setRepos <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span> loading<span class=\"token punctuation\">,</span> setLoading <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n\n  React<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">fetchRepos</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">repos</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setRepos</span><span class=\"token punctuation\">(</span>repos<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span> loading<span class=\"token punctuation\">,</span> repos <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒêi·ªÅu ngon l√†nh ·ªü ƒë√¢y l√† t·∫•t c·∫£ nh·ªØng g√¨ li√™n quan ƒë·∫øn <code class=\"language-inline-text\">repos</code> ƒëi·ªÅu g√≥i g·ªçn trong hook, ·ªü ƒë√¢y m√¨nh mu·ªën n√≥i ƒë·∫øn <code class=\"language-inline-text\">loading</code>, <code class=\"language-inline-text\">repos</code></p>\n<p>S·ª≠ d·ª•ng custom hook n√†y tr√™n c√°c component kh√°c nhau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">ReposGrid</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span> loading<span class=\"token punctuation\">,</span> repos <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useRepos</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Profile</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span> loading<span class=\"token punctuation\">,</span> repos <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useRepos</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Th·∫≠t kh√¥ng th·ªÉ tin ƒë∆∞·ª£c b·∫°n c√≥ th·ªÉ khai b√°o v√† setState b√™n trong m·ªôt function b√¨nh th∆∞·ªùng. Ch√∫ng ta ƒë√£ c√≥ m·ªôt React m·∫°nh m·∫Ω v·ªõi c√°c ƒë·∫∑c t√≠nh sau</p>\n<ul>\n<li>ƒê∆°n gi·∫£n h√≥a</li>\n<li>ƒê√≥ng g√≥i</li>\n<li>Linh ƒë·ªông</li>\n<li>M·ªü r·ªông</li>\n</ul>\n<p>Kh√¥ng nh·ªØng gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ ƒëang c√≥, nh∆∞ c√°ch m√† c√°c b·∫°n l√†m marketing cho React tuy√™n truy·ªÅn: s·ª≠ d·ª•ng Hook ƒë·ªÉ c√≥ <code class=\"language-inline-text\">state</code> b√™n trong function component. Th·∫≠t ra n√≥ c√≤n mang t·ªõi nh·ªØng gi√° tr·ªã to l·ªõn kh√°c l√† tƒÉng kh·∫£ nƒÉng t√°i s·ª≠ d·ª•ng v√† k·∫øt h·ª£p logic.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.youtube.com/watch?v=eX_L39UvZes\">üìú Why React Hooks?</a></p>\n","cover_image":""}},{"node":{"id":"b45d95c79e56de678f72394cf1129275","title":"B√†n lu·∫≠n v·ªÅ setTimeout v√† setInterval trong javascript","path":"/2019-11-16-ban-luan-settimout-va-setinterval-trong-javascript/","date":"2019-11-16","timeToRead":4,"desc":"M·ªôt s·ªë v·∫•n ƒë·ªÅ v·ªÅ setTimeout ƒë√°ng ƒë·ªÉ b·∫°n c√¢n nh·∫Øc tr∆∞·ªõc khi s·ª≠ d·ª•ng","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#setinterval\">setInterval</a></li>\n<li><a href=\"#settimeout\">setTimeout</a></li>\n</ul>\n<!-- /TOC -->\n<p>N·∫øu b·∫°n c·∫ßn g·ªçi m·ªôt h√†m <strong>l·∫∑p l·∫°i</strong> theo m·ªôt kho·∫£n th·ªùi gian nh·∫•t ƒë·ªãnh trong javascript b·∫°n s·∫Ω d√πng g√¨? M·ªôt l√† d√πng <code class=\"language-inline-text\">setInterval</code>  hay l√† ƒë·ªá quy <code class=\"language-inline-text\">setTimeout</code></p>\n<p>V√¨ sao b·∫°n n√™n c√¢n nh·∫Øc tr∆∞·ªõc khi s·ª≠ d·ª•ng <code class=\"language-inline-text\">setInterval</code>, n√≥ ƒë√£ g√¢y ra t·ªôi t√¨nh g√¨? V√¨ sao s·∫Ω t·ªët h∆°n n·∫øu ch√∫ng ta l·∫Øng nghe v√† ƒë·ª£i m·ªôt <em>t√≠n hi·ªáu</em> n√†o ƒë√≥ r·ªìi ch·∫°y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ƒë·ª£i t√≠nh hi·ªáu n√†o ƒë√≥ r·ªìi th·ª±c thi m·ªôt s·ªë vi·ªác</span>\n  <span class=\"token comment\">// s·∫Ω lu√¥n l√† l·ª±a ch·ªçn t·ªët nh·∫•t</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>N·∫øu √¥ng b√† c√≥ d·∫°y <em>ƒë·ª£i mua b√≤ m·ªõi ƒëi l√†m chu·ªìng th√¨ ƒë√£ mu·ªôn</em> kh√¥ng ƒë√∫ng trong tr∆∞·ªùng h·ª£p n√†y. <strong>C√ì</strong> tr∆∞·ªõc h·∫≥n l√†m g√¨ th√¨ l√†m.</p>\n<h3 id=\"setinterval\"><a href=\"#setinterval\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>setInterval</h3>\n<p>V·ªõi <code class=\"language-inline-text\">setInterval</code> n√≥ s·∫Ω ti·∫øp t·ª•c ch·∫°y cho t·ªõi khi ch√∫ng ta ra l·ªánh x√≥a n√≥ ho·∫∑c ƒë√≥ng lu√¥n tr√¨nh duy·ªát.</p>\n<p><code class=\"language-inline-text\">setInterval</code> cam k·∫øt ƒëo·∫°n code c·ªßa ch√∫ng ta n√≥ s·∫Ω ƒë∆∞·ª£c ƒë∆∞a v√†o <strong>STACK</strong> theo ƒë√∫ng m·ªôt chu k·ª≥ th·ªùi gian. <em>Tuy nhi√™n</em>, ƒëo·∫°n code n√†y c·ªßa b·∫°n <strong>kh√¥ng ƒë∆∞·ª£c cam k·∫øt</strong> s·∫Ω ch·∫°y theo ƒë√∫ng chu k·ª≥ th·ªùi gian, ph·ª• thu·ªôc v√†o c√°c y·∫øu t·ªë kh√°c n·ªØa, v√† ƒë√£ ph·∫ßn l√† c√≥ ƒë·ªô tr·ªÖ, theo m·ªôt c√°ch d√¢n gian ta g·ªçi n√≥ l√† <strong>H√äN XUI</strong></p>\n<p><img src=\"https://miro.medium.com/max/1837/1*A138JkWveIfKajztvhu60g.png\" alt=\"B√†n lu·∫≠n v·ªÅ setTimeout v√† setInterval trong javascript\"></p>\n<p>Th·ªùi gian ch·∫°y c·ªßa h√†m <code class=\"language-inline-text\">dummyMethod1</code> t·ªën nhi·ªÅu th·ªùi gian h∆°n d·ª± t√≠nh, <em>l√Ω do th√¨ kh√¥ng r√µ</em>.</p>\n<blockquote>\n<p>Javascript ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ch·∫°y single thread, n√≥ <strong>kh√¥ng</strong> th·ª±c hi·ªán hai c√¥ng vi·ªác c√πng m·ªôt l√∫c.</p>\n</blockquote>\n<p>ƒêi·ªÅu ƒë√≥ c√≥ nghƒ©a, c√°c ph∆∞∆°ng th·ª©c kh√°c ph√≠a tr√™n stack ph·∫£i <strong>ƒë·ª£i</strong> cho ƒë·∫øn khi <code class=\"language-inline-text\">dummyMethod1</code> l√†m xong c√¥ng chuy·ªán c·ªßa n√≥.</p>\n<p>Th√™m m·ªôt v√≠ d·ª• kh√°c, n·∫øu h√†m khai b√°o b√™n trong <code class=\"language-inline-text\">setInterval</code> c√≥ th·ªùi gian ch·∫°y l·ªõn h∆°n gi√° tr·ªã delay c·ªßa <code class=\"language-inline-text\">setInterval</code> (v√≠ d·ª• nh∆∞ h√†m g·ªçi ajax), ch√∫ng ta s·∫Ω c√≥ v·∫•n ƒë·ªÅ nh∆∞ th·∫ø n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">fakeCallToServer</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'returning from server'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleTimeString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">let</span> insideSetInterval <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleTimeString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'insideSetInterval'</span><span class=\"token punctuation\">,</span> insideSetInterval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token function\">fakeCallToServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//insideSetInterval 14:13:47</span>\n<span class=\"token comment\">//insideSetInterval 14:13:49</span>\n<span class=\"token comment\">//insideSetInterval 14:13:51</span>\n<span class=\"token comment\">//returning from server 14:13:51</span>\n<span class=\"token comment\">//insideSetInterval 14:13:53</span>\n<span class=\"token comment\">//returning from server 14:13:53</span>\n<span class=\"token comment\">//insideSetInterval 14:13:55</span>\n<span class=\"token comment\">//returning from server 14:13:55</span></code></pre></div>\n<p>Nh∆∞ k·∫øt qu·∫£ ·ªü tr√™n cho th·∫•y, c√¢u <code class=\"language-inline-text\">console.log(\"insideSetInterval\")</code> s·∫Ω li√™n t·ª•c g·ªçi ajax b·∫•t k·ªÉ tr∆∞·ªõc ƒë√≥ ƒë√£ g·ªçi th√†nh c√¥ng ch∆∞a. ƒê√°ng l·∫Ω ch√∫ng ta ph·∫£i k·∫øt th√∫c vi·ªác g·ªçi li√™n t·ª•c n√†y, ƒëa ph·∫ßn ch√∫ng ta qu√™n <code class=\"language-inline-text\">clearInterval</code>. N√≥ s·∫Ω t·∫°o ra m·ªôt h√†ng ƒë·ª£i <em>d√†i ngo·∫±n</em> trong stack.</p>\n<p>Gi·ªù th·ª≠ m·ªôt x·ª≠ l√Ω tu·∫ßn t·ª± trong <code class=\"language-inline-text\">setInterval</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> counter <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">fakeTimeIntensiveOperation</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;</span> <span class=\"token number\">50000000</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'random'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">let</span> insideTimeTakingFunction  <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleTimeString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'insideTimeTakingFunction'</span><span class=\"token punctuation\">,</span> insideTimeTakingFunction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> timer <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> insideSetInterval <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleTimeString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'insideSetInterval'</span><span class=\"token punctuation\">,</span> insideSetInterval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    counter<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>counter <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token function\">fakeTimeIntensiveOperation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>counter <span class=\"token operator\">>=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>timer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//insideSetInterval 13:50:53</span>\n<span class=\"token comment\">//insideTimeTakingFunction 13:50:55</span>\n<span class=\"token comment\">//insideSetInterval 13:50:55 &lt;---- m·∫•t ti√™u c√¢u g·ªçi l√∫c 54 gi√¢y</span>\n<span class=\"token comment\">//insideSetInterval 13:50:56</span>\n<span class=\"token comment\">//insideSetInterval 13:50:57</span>\n<span class=\"token comment\">//insideSetInterval 13:50:58</span></code></pre></div>\n<p>Nh·ªØng g√¨ ƒëang di·ªÖn ra ·ªü tr√™n, v·ªõi m·ªôt thao t√°c t·ªën <em>kha kh√°</em> th·ªùi gian x·ª≠ l√Ω, n√≥ m·∫•t h·∫≥n ƒëo·∫°n code <code class=\"language-inline-text\">console.log(\"insideSetInterval\")</code>, n√¥m na l√† n√≥ b·ªã <em>ƒë·ª©t m·ªôt nh·ªãp</em>, t√¨nh hu·ªëng n√†y x·∫£y ra v·ªõi Chrome, n√≥ t·∫°o ra m·ªôt <em>nh·ªãp</em> m·ªõi.</p>\n<p>Thay v√¨ d√πng <code class=\"language-inline-text\">setInterval</code>, ch√∫ng ta c√≥ th·ªÉ d√πng ƒë·ªá quy <code class=\"language-inline-text\">setTimeout</code></p>\n<h3 id=\"settimeout\"><a href=\"#settimeout\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>setTimeout</h3>\n<p>M·∫∑c d√π c≈©ng ch∆∞a h·∫≥n cam k·∫øt 100% ƒëo·∫°n code c·ªßa ch√∫ng ch·∫°y ƒë√∫ng theo m·ªôt chu k·ª≥ ƒë√£ ƒë·ªãnh v·ªõi ƒë·ªá quy <code class=\"language-inline-text\">setTimeout</code>. Ch√≠ √≠t n√≥ c≈©ng kh√¥ng g√¢y ra chuy·ªán ƒë∆∞a h√†ng ƒë·ªëng l·ªánh ch·ªù ch·∫°y v√†o trong stack</p>\n<p><img src=\"https://miro.medium.com/max/1920/1*A9gNYo3pOtnzuXi30NHjfA.png\" alt=\"B√†n lu·∫≠n v·ªÅ setTimeout v√† setInterval trong javascript\"></p>\n<p>Khi th·ª±c hi·ªán b·∫±ng <code class=\"language-inline-text\">setTimeout</code>, b√™n trong v√≤ng ƒë·ªá quy ch√∫ng ta ƒë√£ c√≥ b∆∞·ªõc ki·ªÉm tra <strong>c√≥ n√™n</strong> g·ªçi th√™m l·∫ßn n·ªØa kh√¥ng.</p>\n<p>L∆∞u √Ω khi b·∫°n d√πng setTimeout, ch·ªõ c√≥ <strong>th·ª±c thi</strong> h√†m ƒë√≥ lu√¥n (k√®m d·∫•u <code class=\"language-inline-text\">()</code>), ch√∫ng ta ch·ªâ truy·ªÅn h√†m ƒë√≥ th√¥i</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// ‚ò† L·ªói</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// üëç OK</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>sayHi<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>Ngu·ªìn tham kh·∫£o</strong></p>\n<p><a href=\"https://dev.to/akanksha_9560/why-not-to-use-setinterval--2na9\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Why not to use setInterval</a></p>\n<p><a href=\"https://develoger.com/settimeout-vs-setinterval-cff85142555b\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">setTimeout VS setInterval</a></p>\n<p><a href=\"https://javascript.info/settimeout-setinterval\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Scheduling: setTimeout and setInterval</a></p>\n","cover_image":""}},{"node":{"id":"64a39baff3128120749dac420db892d8","title":"T·∫°i sao l·∫°i vi·∫øt Super(props)","path":"/2019-11-10-tai-sao-lai-viet-super-props/","date":"2019-11-10","timeToRead":6,"desc":"B√†i c≈©, d·ªãch c≈©ng l√¢u r·ªìi, gi·ªù m·ªõi ƒëƒÉng l√™n trang c√° nh√¢n c·ªßa m√¨nh","content":"<p>Nghe n√≥i <a href=\"https://reactjs.org/docs/hooks-intro.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hook</a> ƒëang l√† trend. Tr·ªõ tr√™u thay, t√¥i mu·ªën vi·∫øt b√†i ƒë·∫ßu ti√™n cho blog n√†y ƒë·ªÉ n√≥i v·ªÅ ƒëi·ªÅu th√∫ v·ªã c·ªßa <em>class</em> component.</p>\n<p><strong>V·∫•n ƒë·ªÅ n√†y <em>kh√¥ng</em> li√™n quan t·ªõi vi·ªác s·ª≠ d·ª•ng React m·ªôt c√°ch hi·ªáu qu·∫£. Nh∆∞ng b·∫°n s·∫Ω c·∫£m th·∫•y ch√∫ng th√∫ v·ªã n·∫øu nh∆∞ b·∫°n mu·ªën t√¨m hi·ªÉu s√¢u h∆°n v·ªÅ c√°ch ho·∫°t ƒë·ªông.</strong></p>\n<p>ƒê√¢y l√† b√†i ƒë·∫ßu ti√™n.</p>\n<hr>\n<p>Ch√∫ng ta ƒë√£ vi·∫øt <code class=\"language-inline-text\">super(props)</code> kh√¥ng bi·∫øt bao nhi√™u l·∫ßn trong ƒë·ªùi:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Dƒ© nhi√™n, n·∫øu √°p d·ª•ng <a href=\"https://github.com/tc39/proposal-class-fields\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">class field proposal</a> th√¨ c√≥ th·ªÉ b·ªè qua <em>nghi th·ª©c</em> n√†y:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>C√∫ ph√°p n√†y <a href=\"https://reactjs.org/blog/2015/01/27/react-v0.13.0-beta-1.html#es7-property-initializers\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ƒë√£  ƒë∆∞·ª£c ho·∫°ch ƒë·ªãnh</a> khi React 0.13 ƒë√£ h·ªó tr·ª£ cho plain class nƒÉm 2015. KHai b√°o <code class=\"language-inline-text\">constructor</code> v√† g·ªçi <code class=\"language-inline-text\">super(props)</code> lu√¥n l√† k·∫ø ho·∫°ch t·∫°m th·ªùi cho ƒë·∫øn khi c√≥ m·ªôt c√°ch kh√°c t·ªët h∆°n.</p>\n<p>Quay v·ªÅ v√≠ d·ª•,  ch·ªâ s·ª≠ d·ª•ng c√°c t√≠nh nƒÉng c·ªßa ES2015:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>T·∫°i sao ch√∫ng ta l·∫°i g·ªçi <code class=\"language-inline-text\">super</code>? Ch√∫ng ta c√≥ th·ªÉ <em>kh√¥ng</em> g·ªçi ch√∫ng ƒë∆∞·ª£c kh√¥ng? N·∫øu ch√∫ng ta g·ªçi ch√∫ng, th√¨ chuy·ªán g√¨ s·∫Ω x·∫£y ra n·∫øu ch√∫ng ta kh√¥ng truy·ªÅn <code class=\"language-inline-text\">props</code>? Truy·ªÅn th√™m c√°c tham s·ªë kh√°c ƒë∆∞·ª£c kh√¥ng?</strong> C√πng t√¨m hi·ªÉu n√†o.</p>\n<hr>\n<p>Trong JavaScript, <code class=\"language-inline-text\">super</code> ƒë·ªÉ g·ªçi l·∫°i constructor c·ªßa class cha. (Trong v√≠ d·ª• c·ªßa ch√∫ng ta, n√≥ tr·ªè v·ªÅ <code class=\"language-inline-text\">React.Component</code>.)</p>\n<p>ƒêi·ªÅu quan tr·ªçng, b·∫°n <strong>kh√¥ng th·ªÉ s·ª≠ d·ª•ng <code class=\"language-inline-text\">this</code></strong> trong constructor n·∫øu ch∆∞a g·ªçi ƒë·∫øn constructor c·ªßa class cha. JavaScript s·∫Ω kh√¥ng ƒë·ªÉ b·∫°n l√†m vi·ªác n√†y:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Checkbox</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// üî¥  Kh√¥ng th·ªÉ d√πng `this` ƒë∆∞·ª£c</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ‚úÖ  Gi·ªù th√¨ d√πng ƒë∆∞·ª£c r·ªìi</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>C√≥ m·ªôt l√Ω do ch√≠nh ƒë√°ng gi·∫£i th√≠ch v√¨ sao JavaScript ph·∫£i th·ª±c hi·ªán constructor c·ªßa l·ªõp cha tr∆∞·ªõc khi ƒë·ª•ng v√†o <code class=\"language-inline-text\">this</code>. H√£y xem x√©t tr∆∞·ªùng h·ª£p sau:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">PolitePerson</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// üî¥  ƒêi·ªÅu n√†y kh√¥ng cho ph√©p, ƒë·ªçc l√Ω do ·ªü b√™n d∆∞·ªõi</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Ch√†o bu·ªïi s√°ng!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>H√£y t∆∞·ªüng t∆∞·ª£ng, khi b·∫°n c√≥ th·ªÉ d√πng <code class=\"language-inline-text\">this</code> tr∆∞·ªõc <code class=\"language-inline-text\">super</code>. M·ªôt th√°ng sau, ch√∫ng ta ƒë·ªïi <code class=\"language-inline-text\">greetColleagues</code>, th√™m <code class=\"language-inline-text\">this.name</code> khi alert:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token function\">greetColleagues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Ch√†o bu·ªïi s√°ng!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'T√™n t√¥i l√† '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">', r·∫•t vui ƒë∆∞·ª£c g·∫∑p b·∫°n!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nh∆∞ng ch√∫ng ta qu√™n r·∫±ng <code class=\"language-inline-text\">this.greetColleagues()</code> ƒë∆∞·ª£c g·ªçi tr∆∞·ªõc <code class=\"language-inline-text\">super()</code>, gi√° tr·ªã <code class=\"language-inline-text\">this.name</code> <strong>ch·ªâ c√≥ sau khi g·ªçi <code class=\"language-inline-text\">super()</code></strong>! L√∫c n√†y b·∫°n c√≥ th·ªÉ th·∫•y, code nh∆∞ th·∫ø n√†y kh√≥ ƒë·ªÉ bi·∫øt ƒë∆∞·ª£c l·ªói ·ªü ƒë√¢u.</p>\n<p>ƒê·ªÉ tr√°nh nh·ªØng ƒëi·ªÅu nh∆∞ v·∫≠y, <strong>JavaScript ch·ªâ ƒë·ªãnh r·∫±ng n·∫øu b·∫°n mu·ªën s·ª≠ d·ª•ng <code class=\"language-inline-text\">this</code> b√™n trong constructor, b·∫°n <em>ph·∫£i</em> g·ªçi <code class=\"language-inline-text\">super</code> tr∆∞·ªõc.</strong> ƒê·ªÉ cho th·∫±ng cha l√†m vi·ªác c·ªßa n√≥! V√† ƒëi·ªÅu n√†y c≈©ng √°p d·ª•ng v·ªõi c√°c l·ªõp React components:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ‚úÖ  Okay, d√πng `this` ƒë∆∞·ª£c r·ªìi</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOn<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ch√∫ng ta c√πng ƒë·∫øn v·ªõi c√¢u h·ªèi kh√°c: ph·∫£i sao ph·∫£i truy·ªÅn v√†o <code class=\"language-inline-text\">props</code>?</p>\n<hr>\n<p>B·∫°n h√£y nghƒ© ƒë∆°n gi·∫£n r·∫±ng khi truy·ªÅn <code class=\"language-inline-text\">props</code> v√†o <code class=\"language-inline-text\">super</code> l√† c·∫ßn thi·∫øt ƒë·ªÉ <code class=\"language-inline-text\">React.Component</code> constructor c√≥ th·ªÉ thi·∫øt l·∫≠p <code class=\"language-inline-text\">this.props</code>:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// B√™n trong React</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>N√≥ th·∫≠t s·ª± l√† <a href=\"https://github.com/facebook/react/blob/1d25aa5787d4e19704c049c3cfa985d3b5190e0d/packages/react/src/ReactBaseClasses.js#L22\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">c√°ch m√† ch√∫ng t√¥i th·ª±c hi·ªán b√™n trong React.Component</a>.</p>\n<p>B·∫±ng c√°ch n√†o ƒë√≥, n·∫øu b·∫°n g·ªçi <code class=\"language-inline-text\">super()</code> m√† kh√¥ng c√≥ tham s·ªë <code class=\"language-inline-text\">props</code>, b·∫°n v·∫´n c√≥ th·ªÉ s·ª≠ d·ª•ng <code class=\"language-inline-text\">this.props</code> trong ph∆∞∆°ng th·ª©c <code class=\"language-inline-text\">render</code> v√† c√°c ph∆∞∆°ng th·ª©c kh√°c. (N·∫øu kh√¥ng tin, h√£y t·ª± ki·ªÉm tra xem!)</p>\n<p>V·∫≠y <em>n√≥</em> ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o? H√≥a ra <strong>React ƒë√£ g√°n <code class=\"language-inline-text\">props</code> cho m·ªôt instance ngay sau constructor:</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">  <span class=\"token comment\">// B√™n trong React</span>\n  <span class=\"token keyword\">const</span> instance <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">YourComponent</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  instance<span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Th·∫ø n√™n khi b·∫°n qu√™n b·ªè th·∫±ng <code class=\"language-inline-text\">props</code> v√†o <code class=\"language-inline-text\">super()</code>, th√¨ trong React b·∫°n v·∫´n c√≥ th·ªÉ g·ªçi n√≥ sau ƒë√≥. C√≥ m·ªôt l√Ω do cho vi·ªác n√†y.</p>\n<p>Khi React h·ªó tr·ª£ th√™m class, n√≥ kh√¥ng ch·ªâ h·ªó tr·ª£ class cho m·ªói phi√™n b·∫£n ES6. M√† m·ª•c ti√™u ch√≠nh l√† h·ªó tr·ª£ nhi·ªÅu class abstract nh·∫•t c√≥ th·ªÉ. <a href=\"https://reactjs.org/blog/2015/01/27/react-v0.13.0-beta-1.html#other-languages\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Kh√¥ng r√µ</a> l√†m th·∫ø n√†o ClojureScript, CoffeeScript, ES6, Fable, Scala.js, TypeScript, ho·∫∑c c√°c gi·∫£i ph√°p kh√°c ƒë·ªãnh nghƒ©a component. V√¨ v·∫≠y, React s·ª≠ d·ª•ng <code class=\"language-inline-text\">super()</code> kh√¥ng h·ªÅ l√† quan ƒëi·ªÉm c√° nh√¢n.</p>\n<p>V·∫≠y c√≥ nghƒ©a l√† b·∫°n c√≥ th·ªÉ g·ªçi <code class=\"language-inline-text\">super()</code> thay v√¨ <code class=\"language-inline-text\">super(props)</code>?</p>\n<p><strong>Kh√¥ng. Nh∆∞ v·∫≠y r·∫•t kh√≥ hi·ªÉu.</strong> Ch·∫Øc ch·∫Øn, React s·∫Ω g√°n <code class=\"language-inline-text\">this.props</code> <em>sau khi</em>  constructor ch·∫°y. Nh∆∞ng <code class=\"language-inline-text\">this.props</code> v·∫´n  l√† <code class=\"language-inline-text\">undefined</code> <em>gi·ªØa</em> l√∫c g·ªçi <code class=\"language-inline-text\">super</code> v√† k·∫øt th√∫c constructor:</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// B√™n trong React</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// B√™n trong code c·ªßa b·∫°n</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// üò¨ Ch√∫ng ta kh√¥ng truy·ªÅn v√†o props</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// ‚úÖ {}</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// üò¨ undefined - ch∆∞a ƒë·ªãnh nghƒ©a </span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Vi·ªác debug s·∫Ω tr·ªü n√™n kh√≥ khƒÉn n·∫øu nh∆∞ m·ªôt v√†i ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c g·ªçi <em>t·ª´</em> constructor. <strong>ƒê√≥ l√† l√Ω do v√¨ sao lu√¥n khuy·∫øn kh√≠ch b·∫°n s·ª≠ d·ª•ng <code class=\"language-inline-text\">super(props)</code>, m·∫∑c d√π n√≥ kh√¥ng ph·∫£i quy ƒë·ªãnh b·∫Øt bu·ªôc:</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚úÖ Ch√∫ng ta truy·ªÅn props v√†o </span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// ‚úÖ {}</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚úÖ {}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒêi·ªÅu n√†y ƒë·∫£m b·∫£o <code class=\"language-inline-text\">this.props</code> s·∫Ω ƒë∆∞·ª£c thi·∫øt l·∫≠p trong constructor.</p>\n<hr>\n<p>C√≥ m·ªôt ƒëi·ªÅu cu·ªëi m√† khi·∫øn cho c√°c fan l√¢u nƒÉm c·ªßa React t√≤ m√≤.</p>\n<p>B·∫°n c√≥ th·ªÉ th·∫•y r·∫±ng khi s·ª≠ d·ª•ng Context API b√™n trong class (ho·∫∑c v·ªõi <code class=\"language-inline-text\">contextTypes</code> c≈© ho·∫∑c v·ªõi <code class=\"language-inline-text\">contextType</code> API ƒë∆∞·ª£c th√™m v√†o ·ªü React 16.6), <code class=\"language-inline-text\">context</code> ƒë∆∞·ª£c ƒë·∫©y v√†o tham s·ªë th·ª© hai trong constructor.</p>\n<p>V·∫≠y t·∫°i sao ch√∫ng ta kh√¥ng vi·∫øt l√† <code class=\"language-inline-text\">super(props, context)</code>? C√≥ th·ªÉ ch·ª©, nh∆∞ng context √≠t khi s·ª≠ d·ª•ng n√™n vi·ªác ph√°t sinh l·ªói c≈©ng √≠t xu·∫•t hi·ªán.</p>\n<p><strong>V·ªõi <a href=\"https://github.com/tc39/proposal-class-fields\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">class fields proposal</a> th√¨ nh·ªØng v·∫•n ƒë·ªÅ n√†y h·∫ßu nh∆∞ bi·∫øn m·∫•t.</strong> Kh√¥ng c√≥ constructor, t·∫•t c·∫£ c√°c tham s·ªë ƒë·ªÅu ƒë∆∞·ª£c truy·ªÅn v√†o m·ªôt c√°ch t·ª± ƒë·ªông. ƒê√¢y l√† nh·ªØng l√Ω do cho ph√©p m·ªôt bi·ªÉu th·ª©c <code class=\"language-inline-text\">state = {}</code> bao g·ªìm c·∫£ c√°c tham chi·∫øu <code class=\"language-inline-text\">this.props</code> ho·∫∑c <code class=\"language-inline-text\">this.context</code> n·∫øu c·∫ßn thi·∫øt.</p>\n<p>V·ªõi Hooks, ch√∫ng ta th·∫≠m ch√≠ kh√¥ng c√≥ <code class=\"language-inline-text\">super</code> ho·∫∑c <code class=\"language-inline-text\">this</code>. Nh∆∞ng ch·ªß ƒë·ªÅ ƒë√≥ s·∫Ω gi√†nh cho m·ªôt ng√†y kh√°c.</p>\n<p><strong>B√†i vi·∫øt ƒë∆∞·ª£c d·ªãch t·ª´</strong> <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://overreacted.io/why-do-we-write-super-props/\">Why Do We Write super(props)?</a></p>\n","cover_image":""}},{"node":{"id":"6c9e83d801157396289a748804460b25","title":"Thu·∫≠t to√°n QuickSort","path":"/2019-11-02-gioi-thieu-thuat-toan-quicksort/","date":"2019-11-02","timeToRead":2,"desc":"M·ªôt thu·∫≠t to√°n r·∫•t ph·ªï bi·∫øn m√† ch√∫ng ta ph·∫£i n·∫Øm th·∫≠t ch·∫Øc v√† h√¨nh dung ƒë∆∞·ª£c c√°ch hi·ªán th·ª±c n√≥ ngay khi ƒë∆∞·ª£c nh·∫Øc t·ªõi.","content":"<h2 id=\"m·ªôt-ch√∫t-l·ªãch-s·ª≠\"><a href=\"#m%E1%BB%99t-ch%C3%BAt-l%E1%BB%8Bch-s%E1%BB%AD\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ªôt ch√∫t l·ªãch s·ª≠</h2>\n<p>Thu·∫≠t to√°n <em>chia ƒë·ªÉ tr·ªã</em> ph·ªï bi·∫øn nh·∫•t m√† t·∫•t c·∫£ anh em l·∫≠p tr√¨nh ƒë·ªÅu ƒë∆∞·ª£c h·ªçc qua th·ªùi m√†i ƒë√≠ch tr∆∞·ªùng ƒë·∫°i h·ªçc. ƒê∆∞·ª£c t·∫°o ra b·ªüi Tony Hoare nƒÉm 1959</p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--k1SblSX1--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.coderscat.com/wp-content/uploads/2019/10/2019_10_09_quick_sort.org_20191009_203646.png\" alt=\"Thu·∫≠t to√°n Quicksort\"></p>\n<p>Tr√™n l√† h√¨nh √¥ng Tony Hoare tr√¨nh l√†ng thu·∫≠t to√°n QuickSort nƒÉm 1960 t·∫°i Moscow.</p>\n<p>ƒê·ªÉ m√¥ t·∫£ thu·∫≠t to√°n n√†y, n√≥ bao g·ªìm c√°c b∆∞·ªõc ch√≠nh nh∆∞ sau:</p>\n<ol>\n<li>N·∫øu ch·ªâ c√≤n m·ªôt ph·∫ßn t·ª≠ ho·∫∑c kh√¥ng c√≤n ph·∫ßn t·ª≠ n√†o ƒë·ªÉ sort, nghƒ©a l√† <strong>K·∫æT TH√öC</strong></li>\n<li>M·ªói l·∫ßn g·ªçi sort ch√∫ng ta ch·ªçn m·ªôt ph·∫ßn t·ª≠ l√†m <strong>CH·ªêT ƒê·ªÇ SO S√ÅNH</strong></li>\n<li>So s√°nh t·∫•t c·∫£ c√°c ph·∫ßn t·ª≠ c√≤n l·∫°i v·ªõi <strong>CH·ªêT ƒê·ªÇ SO S√ÅNH</strong>, nh·ªè h∆°n ƒë∆∞a v√†o m·ªôt <strong>nh√≥m nh·ªè h∆°n</strong>, l·ªõn h∆°n ƒë∆∞a qua <strong>nh√≥m l·ªõn h∆°n</strong></li>\n<li>(ƒê·ªá quy) th·ª±c hi·ªán ƒë√∫ng nh·ªØng b∆∞·ªõc ƒë√£ l√†m v·ªõi c√°c ph·∫ßn t·ª≠ thu·ªôc 2 nh√≥m m·ªõi c√≥</li>\n</ol>\n<p>ƒê·ªô ph·ª©c t·∫°p c·ªßa n√≥ l√† O(NlogN), tr∆∞·ªùng h·ª£p x·∫•u nh·∫•t l√† O(N2). ƒê·∫°i kh√°i n√≥ l√† m·ªôt trong nh·ªØng ph∆∞∆°ng ph√°p sort m·∫£ng hi·ªáu qu·∫£ nh·∫•t.</p>\n<p>ƒê·ªÉ hi·ªÉu ƒë·ªô ph·ª©c t·∫°p c·ªßa thu·∫≠t to√°n, c√°c b·∫°n <a href=\"http://vuilaptrinh.com/2019-10-28-gioi-thieu-ve-do-phuc-tap-cua-thuat-toan\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ƒë·ªçc b√†i n√†y</a></p>\n<h2 id=\"hi·ªán-th·ª±c-b·∫±ng-javascript\"><a href=\"#hi%E1%BB%87n-th%E1%BB%B1c-b%E1%BA%B1ng-javascript\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Hi·ªán th·ª±c b·∫±ng Javascript</h2>\n<p>Trong javascript ƒë√£ c√≥ s·∫µn h√†m <code class=\"language-inline-text\">sort</code> v·∫≠y t·∫°i sao ch√∫ng ta l·∫°i quan t√¢m t·ªõi thu·∫≠t to√°n QuickSort?</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> items <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// [2, 3, 5, 6, 7, 9]</span></code></pre></div>\n<p>H√†m <code class=\"language-inline-text\">sort()</code> c·ªßa javascript s·∫Ω t√πy thu·ªôc v√†o engine tr√¨nh duy·ªát, <strong>insertion sort</strong> cho Chrome v√† <strong>merge sort</strong> cho Firefox v√† Safari</p>\n<p>N√≥ <strong>kh√¥ng ph√π h·ª£p khi ph·∫£i sort s·ªë l∆∞·ª£ng d·ªØ li·ªáu l·ªõn</strong>, hay l√† m·ªôt m·∫£ng object, d·∫°ng <code class=\"language-inline-text\">[{order: 1}, {order: 4}, {order: 2}]</code></p>\n<p>Hi·ªán th·ª±c cho m·∫£ng b√¨nh th∆∞·ªùng, ph·∫ßn m·∫£ng l√† object c√°c b·∫°n ch·ªâ c·∫ßn thay ƒëi·ªÅu ki·ªán so s√°nh</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">unsortedArray <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> smaller <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">let</span> larger <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>unsortedArray<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> unsortedArray<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> unsortedArray<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>unsortedArray<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> unsortedArray<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            smaller<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>unsortedArray<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>unsortedArray<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> unsortedArray<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> \n            larger<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>unsortedArray<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span>smaller<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>unsortedArray<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span>larger<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n","cover_image":""}},{"node":{"id":"a7e89d50840ffec4ea823cdb901cb72b","title":"JAMstack v√† ng√†nh c√¥ng nghi·ªáp h·ªß ti·∫øu g√µ Vi·ªát Nam","path":"/2019-10-30-gioi-thieu-jamstack/","date":"2019-10-30","timeToRead":7,"desc":"Sau khi ƒë·ªçc b√†i n√†y, b·∫°n s·∫Ω hi·ªÉu ƒë∆∞·ª£c JAMstack l√† g√¨, l·ª£i l·ªôc g√¨, ƒë·ªÉ hi·ªán th·ª©c h√≥a JAMstack b·∫°n c·∫ßn nghi√™n c·ª©u nh·ªØng c√¥ng c·ª• g√¨","content":"<p>N·∫øu b·∫°n ƒëang l√† developer, ch·∫Øc g·∫ßn ƒë√¢y c√≥ nghe t·ª´ <strong>JAMstack</strong>, c≈©ng c√≥ khi b·∫°n ƒëang l√†m JAMstack nh∆∞ng ch∆∞a ai ph·ªï bi·∫øn cho b·∫°n n√≥ l√† g√¨.</p>\n<p>Ch·ªØ <strong>JAM</strong> l√† vi·∫øt t·∫Øt cho <strong>JavaScript-APIs-Markup</strong>. C√≤n <em>stack</em> l√† ·ªï b√°nh m√¨ k·∫πp th·ªãt c·ªßa Vi·ªát Nam</p>\n<p><img src=\"https://monngonmoingay.com/wp-content/uploads/2015/08/9.banhmikepgakhia1.png\" alt=\"JAMstack v√† ng√†nh c√¥ng nghi·ªáp h·ªß ti·∫øu g√µ Vi·ªát Nam\"></p>\n<p>L·∫•y v√≠ von ·ªï b√°nh m√¨ Vi·ªát Nam l√† c√≥ l√Ω do. T√πy thu·ªôc v√†o c√¥ b√°n, h·ªç s·∫Ω b·ªè √≠t-hay-nhi·ªÅu <strong>l·ªõp</strong> th·ªãt m·ª° v√†o trong ƒë√≥ t√πy thu·ªôc v√†o gi√° ti·ªÅn b·∫°n b·ªè ra.</p>\n<p>B·ªè qua chuy·ªán ƒÉn u·ªëng, quay l·∫°i v·ªõi c√¥ng ngh·ªá, JAMstack l√† m·ªôt c√°ch ki·∫øn tr√∫c c√°c ·ª©ng d·ª•ng web v·ªõi m·ª•c ti√™u <strong>ti·∫øt ki·ªám h∆°n</strong>  trong tri·ªÉn khai, <strong>b·∫£o m·∫≠t h∆°n</strong>  trong l√∫c v·∫≠n h√†nh, <strong>ch·∫°y l·∫π h∆°n</strong> trong l√∫c ƒë√¥ng kh√°ch (user), <strong>d·ªÖ d√†ng nh√¢n r·ªông</strong> h∆°n khi s·ªë l∆∞·ª£ng kh√°ch h√†ng c√†ng tƒÉng d·∫ßn (<em>h·ª©a h·∫πn th·∫≠t nhi·ªÅu kh√¥ng bi·∫øt c√≥ th·∫•t h·ª©a nhi·ªÅu ko</em>)</p>\n<p>JAMstack kh√¥ng b·∫Øt bu·ªôc b·∫°n s·ª≠ d·ª•ng m·ªôt c√¥ng ngh·ªá n√†o c·ª• th·ªÉ, b·∫°n c√≥ th·ªÉ d√πng javascript thu·∫ßn, typescript, Elm, Clojure, WebAssembly ƒë·ªÅu ƒë∆∞·ª£c. B·∫°n d√πng javascript ƒë·ªÉ <code class=\"language-inline-text\">fetch</code> d·ªØ li·ªáu t·ª´ ngu·ªìn n√†o c≈©ng ƒë∆∞·ª£c, thirt-party APIs, API ·ªü server nh√† b·∫°n, c√°c Serverless function, ho·∫∑c g√¥m 2 ba √¥ng x√†i chung ƒë∆∞·ª£c lu√¥n. V·ªÅ m·∫∑t n·ªôi dung, b·∫°n c√≥ th·ªÉ ch·ªçn c√°c ki·ªÉu t·∫°o static site ƒëang c√≥, Hugo, GatsbyJS, Jekyll, Next.js, Nuxt.js, VuePress... N√≥i chung ƒë√¢y l√† m·ªôt ki·∫øn tr√∫c kh√¥ng quan tr·ªçng c√°ch b·∫°n l√†m n√≥ b·∫±ng g√¨, nh∆∞ th·∫ø n√†o, ch·ªâ ƒë·∫∑t y√™u c·∫ßu ƒë·∫ßu ra c·ªßa b·∫°n c·∫ßn ƒë·∫°t ƒë∆∞·ª£c.</p>\n<h2 id=\"v√¨-sao-l·∫°i-c√≥-s·ª±-xu·∫•t-hi·ªán-c·ªßa-m√¥-h√¨nh-ki·∫øn-tr√∫c-n√†y\"><a href=\"#v%C3%AC-sao-l%E1%BA%A1i-c%C3%B3-s%E1%BB%B1-xu%E1%BA%A5t-hi%E1%BB%87n-c%E1%BB%A7a-m%C3%B4-h%C3%ACnh-ki%E1%BA%BFn-tr%C3%BAc-n%C3%A0y\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V√¨ sao l·∫°i c√≥ s·ª± xu·∫•t hi·ªán c·ªßa m√¥ h√¨nh ki·∫øn tr√∫c n√†y</h2>\n<p><em>C√≥ th·ªÉ xem web truy·ªÅn th·ªëng l√† m√¥ h√¨nh b√°n h·ªß ti·∫øu gia truy·ªÅn, nh√† n√†o b√°n, nh√† ƒë√≥ l√†m h·∫øt t·∫•t c·∫£ c√°c kh√¢u, c√≥ m·ªôt c√¥ng th·ª©c n·∫•u n∆∞·ªõc l√®o ri√™ng, b·∫°n c·∫ßn ∆∞·ªõc l∆∞·ª£ng ƒë·ªÉ n·∫•u n·ªìi n∆∞·ªõc l√®o √≠t nh·∫•t m·ªôt 100 t√¥ th√¨ m·ªõi c√≥ l·ªùi. Khi b·∫°n m·ªü th√†nh c√¥ng m·ªôt chi nh√°nh, vi·ªác m·ªü th√†nh m·ªôt chu·ªói c·ª≠a h√†ng h·ªß ti·∫øu s·∫Ω ph·ª©c t·∫°p h∆°n v√¨ b·∫°n ch∆∞a c√≥ kinh nghi·ªám n·∫•u cho 10000 t√¥ n∆∞·ªõc l√®o m·ªôt ng√†y, v√† c√≤n v√¥ s·ªë th·ª© kh√°c b·∫°n c·∫ßn t√≠nh to√°n th·∫≠t k·ªπ.</em></p>\n<p>C√°c ·ª©ng d·ª•ng web truy·ªÅn th·ªëng v√† CMS ph·ª• thu·ªôc v√†o code server side ƒë·ªÉ render v√† return HTML tr√™n t·ª´ng request. ƒêa ph·∫ßn ch√∫ng ta c·∫ßn database ho·∫∑c c√°c lo·∫°i l∆∞u tr·ªØ d·ªØ li·ªáu ƒë·ªông kh√°c. V·ªõi h·ªá th·ªëng truy·ªÅn th·ªëng, c·∫ßn m·ªü r·ªông nghƒ©a l√† c·∫ßn nhi·ªÅu server h∆°n, c√°c k·ªπ thu·∫≠t caching ƒë·ªÉ khi d·ªØ l·ªõn c·ª±c l·ªõn, web v·∫´n ch·∫°y nhanh.</p>\n<p><em>JAMstack c√≥ th·ªÉ h√¨nh dung l√† m√¥ h√¨nh b√°n h·ªß ti·∫øu g√µ ·ªü Vi·ªát Nam, t·∫•t c·∫£ n∆∞·ªõc l√®o ƒë∆∞·ª£c s·∫£n xu·∫•t c√¥ng nghi·ªáp ·ªü m·ªôt nh√† m√°y, ng∆∞·ªùi b√°n c√≥ th·ªÉ b√°n h·ªß ti·∫øu, m√¨, b√°nh canh nui g√¨ c≈©ng ƒë∆∞·ª£c. Vi·ªác nh√¢n r·ªông m√¥ h√¨nh h·ªß ti·∫øu g√µ l√† v√¥ c√πng nhanh v√† d·ªÖ, ng∆∞·ªùi ta ch·ªâ c·∫ßn mua th·ª© n∆∞·ªõc ƒë√£ n·∫•u s·∫µn v·ªÅ l√† b√°n. Chi ph√≠ khi s·∫£n xu·∫•t c√¥ng nghi·ªáp bao gi·ªù c≈©ng xu·ªëng th·∫•p h∆°n v·ªõi nh√† t·ª± n·∫•u, v√† n·∫øu b·∫°n ƒÉn n√™n l√†m ra, vi·ªác m·ªü r·ªông th√†nh 10 qu√°n h·ªß ti·∫øu kh·∫Øp ph∆∞·ªùng 10 qu·∫≠n 8 s·∫Ω kh√¥ng qu√° nhi·ªÅu kh√≥ khƒÉn.</em></p>\n<p>Theo c√°ch ti·∫øp c·∫≠n c·ªßa JAMstack, m·ªói trang ƒë√£ ƒë∆∞·ª£c build s·∫µn khi ·ª©ng d·ª•ng deploy. To√†n b·ªô HTML, JavaScript, CSS, h√¨nh c·∫ßn thi·∫øt c·ªßa ·ª©ng d·ª•ng ƒë√£ ƒë∆∞·ª£c <em>n·∫•u ch√≠nh s·∫µn</em>. M·ª•c ti√™u l√† gi·∫£m s·ªë vi·ªác c·∫ßn l√†m ·ªü server xu·ªëng, vi·ªác truy·ªÅn t·∫•t c·∫£ file d·∫°ng tƒ©nh bao gi·ªù c≈©ng ƒë∆°n gi·∫£n v√† nhanh h∆°n ch·∫°y server code.</p>\n<p>M√† khi ƒë√£ l√† static file, c√≥ th·ªÉ ƒë∆∞·ª£c cache l·∫°i ·ªü t·∫•t c·∫£ CDN, ƒë∆∞a l√™n CDN l√†m gi·∫£m ƒë√°ng k·ªÉ chi ph√≠ duy tr√¨ h·ªá t·∫ßng server, kh√¥ng nh·ªØng v·∫≠y, v·ªõi h·ªá th·ªëng qu√°n h·ªß ti·∫øu g√µ r·ªông kh·∫Øp, user ch·ªâ c·∫ßn \"ra ƒë∆∞·ªùng l√† c√≥\", user s·∫Ω c√≥ ƒë∆∞·ª£c t√¥ h·ªß ti·∫øu ƒÉn li·ªÅn kh√¥ng m·∫•t th·ªùi gian ch·∫°y t·ª´ qu·∫≠n 8 ƒë·∫øn C·ªß Chi ƒë·ªÉ ƒÉn t√¥ h·ªß ti·∫øu b√≤.</p>\n<p><img src=\"https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/v1566357555/zhjcksws2p1n5jaux32k.png\" alt=\"Gi·ªõi thi·ªáu JAMstack\"></p>\n<p>Ch·∫•t l∆∞·ª£ng n·ªìi n∆∞·ªõc ƒë∆∞·ª£c n·∫•u s·∫µn ch·∫Øc ch·∫Øn s·∫Ω ·ªïn ƒë·ªãnh h∆°n nh√† t·ª± n·∫•u, v√¨ n√≥ ƒë√£ quy chu·∫©n th√†nh d·∫°ng c√¥ng nghi·ªáp. Kh√¥ng s·ª£ h√¥m nay ra ch·ª£ thi·∫øu x∆∞∆°ng, gi√° th·ªãt h√¥m nay tƒÉng v·ªçt.</p>\n<p>Gi·∫£m x·ª≠ l√Ω tr√™n server, tƒÉng c∆∞·ªùng cung c·∫•p file d·∫°ng static, r·ªßi ro c≈©ng s·∫Ω h·∫° th·∫•p xu·ªëng. Ph·∫ßn x·ª≠ l√Ω server ƒë∆∞·ª£c qu·∫£n l√Ω v√† v·∫≠n h√†nh b·ªüi nh·ªØng tai to m·∫∑t l·ªõn, kh·∫£ nƒÉng c√≥ l·ªó h·ªèng c≈©ng s·∫Ω th·∫•p h∆°n khi t·ª± v·∫≠n h√†nh.</p>\n<h2 id=\"m·ªôt-s·ªë-c·ªôt-m·ªëc\"><a href=\"#m%E1%BB%99t-s%E1%BB%91-c%E1%BB%99t-m%E1%BB%91c\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ªôt s·ªë c·ªôt m·ªëc</h2>\n<p><em>2015</em> - static site xu·∫•t hi·ªán tr·ªü l·∫°i, c√≥ s·ª± ph·∫£n b√°c nh·∫π c√°c h·ªá th·ªëng CMS ƒëang th·ªãnh h√†nh</p>\n<p><em>2016</em> - m·ªôt b∆∞·ªõc l√πi nh·∫π, ch∆∞a c√≥ nhi·ªÅu c√¥ng c·ª• ƒë·ªÉ l√†m static site <em>cool</em>, m·ªçi th·ª© c√≤n qu√° th√¥ s∆°. M·ªôt nh√≥m c√°c l·∫≠p tr√¨nh vi√™n <em>m√°u m·∫∑t</em> gi·ªõi thi·ªáu thu·∫≠t ng·ªØ JAMstack ƒë·∫øn c·ªông ƒë·ªìng v√† l√¥i k√©o v√†o nh√≥m ph√°t tri·ªÉn ƒë·ªÉ th√∫c ƒë·∫©y s·ª± ƒëi l√™n cho JAMstack.</p>\n<p><em>2017</em> - d·ª• d·ªó th√†nh c√¥ng, xu·∫•t hi·ªán c·ªông ƒë·ªìng l√†m static site, \"static\" kh√¥ng c√≤n l√† \"static\" ƒë√∫ng nghƒ©a n·ªØa, nhi·ªÅu ƒë·ªì ch∆°i ƒë·ªÉ build ra static xu·∫•t hi·ªán. M·ªôt v√†i c√¥ng ty t√™n tu·ªïi b·∫Øt ƒë·∫ßu √°p d·ª•ng JAMstack nh∆∞ <a href=\"https://www.sequoiacap.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Sequoia Capital</a>, <a href=\"https://mailchimp.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Mailchimp</a> &#x26; <a href=\"https://www.redbull.com/int-en/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Red Bull</a>.</p>\n<p><em>2018</em> - NƒÉm b√πng n·ªï c·ªßa JAMstack, nh√† nh√† ng∆∞·ªùi ng∆∞·ªùi n√≥i v·ªÅ n√≥, Gatsby, Netlify, Contentful nh·ªØng m√≥n ƒë·ªì ch∆°i x·ªãn s√≤ c√†ng ho√†n thi·ªán.</p>\n<p><em>2019</em> - Ki·∫øn tr√∫c web c≈© t·ªìn t·∫°i h∆°n ch·ª•c nƒÉm kh√¥ng c√≤n th·ªëng tr·ªã nh∆∞ tr∆∞·ªõc ƒë√¢y, JAMstack b∆∞·ªõc v√†o cu·ªôc ch∆°i tr·ªü th√†nh m·ªôt l·ª±a ch·ªçn kh√¥ng thua k√©m.</p>\n<p><img src=\"https://snipcart.com/media/204006/jamstack-vs-wordpress-1.png\" alt=\"jamstack-vs-wordpress\"></p>\n<h2 id=\"c√¥ng-c·ª•-ƒë·ªÉ-n·∫•u-jamstack\"><a href=\"#c%C3%B4ng-c%E1%BB%A5-%C4%91%E1%BB%83-n%E1%BA%A5u-jamstack\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√¥ng c·ª• ƒë·ªÉ \"n·∫•u\" JAMstack</h2>\n<p>C√≥ nhi·ªÅu c√¥ng c·ª• ƒë·ªÉ t·∫°o static site, t·∫•t c·∫£ ƒë∆∞·ª£c li·ªát k√™ tr√™n <a href=\"https://www.staticgen.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">StaticGen</a></p>\n<p><img src=\"https://snipcart.com/media/204009/static-site-generators.png\" alt=\"static-site-generators\"></p>\n<p>B·∫°n th√≠ch v√† quen c√°i n√†o th√¨ x√†i c√°i ƒë√≥, kh√¥ng c√≥ ai chi·∫øm ∆∞u th·∫ø tuy·ªát ƒë·ªëi.</p>\n<p>V·ªÅ ph√≠a backend, c≈©ng c√≥ nhi·ªÅu l·ª±a ch·ªçn <a href=\"https://headlesscms.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">HeadlessCMS ƒë·ªÉ s·ª≠ d·ª•ng</a> (nh√≥m c√°c ph·∫ßn m·ªÅm ƒë·ªÉ t∆∞∆°ng t√°c v·ªõi database trong JAMstack ƒë∆∞·ª£c g·ªçi l√† HeadlessCMS, d√¢n c√¥ng ngh·ªá l·∫Øm thu·∫≠t ng·ªØ l·∫Øm)</p>\n<p><img src=\"https://snipcart.com/media/204007/headless-cms.png\" alt=\"headless-cms\"></p>\n<p>Ph√≠a deploy, ch√∫ng ta c√≥ th·ªÉ ƒë·∫∑t code tr√™n <a href=\"https://github.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitHub pages</a>, <a href=\"https://www.netlify.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Netlify</a> ho·∫∑c <a href=\"https://github.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Zeit</a></p>\n<p>V·ªõi nh·ªØng t√≠nh nƒÉng ph√≠a backend c√≥ th·ªÉ ƒë∆∞·ª£c outsource cho c√°c d·ªãch v·ª• SaaS.</p>\n<ul>\n<li><a href=\"https://snipcart.com/blog/foxycart-vs-snipcart-review\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Foxy.io</a>, Snipcard, Moltin, n√∫t mua c·ªßa Shopify cho c√°c t√≠nh nƒÉng e-commerce</li>\n<li>FormKeep, <a href=\"https://www.typeform.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Typeform</a>, Formspree, <a href=\"https://www.netlify.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Netlify</a> ƒë·ªÉ l√†m vi·ªác v·ªõi form</li>\n<li>Algolia, Google Custom Search, Fuse.js, Lunr.js, List.js cho t√≠nh nƒÉng t√¨m ki·∫øm</li>\n<li>Disqus, <a href=\"https://staticman.net/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Staticman</a> cho ph·∫ßn b√¨nh lu·∫≠n</li>\n</ul>\n<p>Danh s√°ch <em>d√†i h∆°i</em> h∆°n xem tr√™n <a href=\"https://github.com/agarrharr/awesome-static-website-services\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Github</a></p>\n<h2 id=\"l·ª£i-√≠ch-cho-kh√°ch-h√†ng\"><a href=\"#l%E1%BB%A3i-%C3%ADch-cho-kh%C3%A1ch-h%C3%A0ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L·ª£i √≠ch cho kh√°ch h√†ng</h2>\n<p>V·ªÅ ph√≠a c·ªông ƒë·ªìng l·∫≠p tr√¨nh vi√™n, ch√∫ng ta ƒëa <strong>b·ªã d·ª• kh·ªã th√†nh c√¥ng</strong>. Ch√∫ng ta ai c≈©ng mu·ªën mua n∆∞·ªõc l√®o n·∫•u s·∫µn v·ªÅ m·ªü 100 qu√°n h·ªß ti·ªÅu g√µ. Gi·ªù ƒë√£ m·ªü 100 c·ª≠a h√†ng h·ªß ti·∫øu g√µ, l√†m sao ch√∫ng ta <em>k√™u g·ªçi</em> ƒë∆∞·ª£c m·ªçi ng∆∞·ªùi ƒÉn h·ªß ti·∫øu g√µ ngon-b·ªï-r·∫ª</p>\n<p><img src=\"https://snipcart.com/media/203996/jamstack-benefits-security-2.png\" alt=\"jamstack-benefits-security\"></p>\n<p>C√¢u tr·∫£ l·ªùi ƒëang ƒë·ª£i anh em ch√∫ng ta, nh·ªØng c√¢u kh√°ch h√†ng hay h·ªèi</p>\n<ul>\n<li>C≈©ng h·ª©a h·∫πn ƒë·∫•y, nh∆∞ng ch·ªã mu·ªën c√≥ m·∫•y t√≠nh nƒÉng <em>ƒë·ªông</em> cho web em ∆°i?</li>\n<li>Ch·ªã mu·ªën qu·∫£n l√Ω v√† ph·∫ßn quy·ªÅn user th√¨ sao em √†?</li>\n</ul>\n<p><strong>T√†i li·ªáu ƒë√£ s·ª≠ d·ª•ng tham kh·∫£o</strong></p>\n<p><a href=\"https://scotch.io/tutorials/secure-and-scalable-an-introduction-to-jamstack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://scotch.io/tutorials/secure-and-scalable-an-introduction-to-jamstack</a></p>\n<p><a href=\"https://snipcart.com/blog/jamstack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://snipcart.com/blog/jamstack</a></p>\n","cover_image":""}},{"node":{"id":"1919bceb9000f1bff00371b6a3dfd527","title":"ƒê·ªô ph·ª©c t·∫°p c·ªßa thu·∫≠t to√°n","path":"/2019-10-28-gioi-thieu-ve-do-phuc-tap-cua-thuat-toan/","date":"2019-10-28","timeToRead":5,"desc":"M·ªôt c√°ch chu·∫©n h√≥a trong ng√†nh l·∫≠p tr√¨nh ƒë·ªÉ ƒë√°nh gi√° ƒë·ªô ph·ª©c t·∫°p c·ªßa gi·∫£i thu·∫≠t","content":"<p>M·ªôt <strong>gi·∫£i thu·∫≠t</strong> s·∫Ω bao g·ªìm <strong>c√°c b∆∞·ªõc tu·∫ßn t·ª±</strong> ƒë·ªÉ gi·∫£i quy·∫øt m·ªôt v·∫•n ƒë·ªÅ, ƒë·ªÉ ƒëi qua c√°c b∆∞·ªõc tu·∫ßn t·ª± n√†y, s·∫Ω t·ªën m·ªôt <strong>kho·∫£n th·ªùi gian</strong> nh·∫•t ƒë·ªãnh ƒë·ªÉ ho√†n th√†nh. Th·ªùi gian ti√™u t·ªën c·ªßa m·ªôt gi·∫£i thu·∫≠t ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ ƒë∆∞·ª£c g·ªçi l√† <strong>ƒê·ªô ph·ª©c t·∫°p c·ªßa thu·∫≠t to√°n</strong></p>\n<p>Trong tr∆∞·ªùng h·ª£p x·∫•u nh·∫•t, <strong>th·ªùi gian ch·∫°y c·ªßa m·ªôt gi·∫£i thu·∫≠t t·ªâ l·ªá thu·∫≠n v·ªõi s·ªë l∆∞·ª£ng tham s·ªë ƒë·∫ßu v√†o</strong></p>\n<p>Gi·ªëng nh∆∞ gi·∫£i to√°n, chuy·ªán c√≥ nhi·ªÅu c√°ch kh√°c nhau ƒë·ªÉ gi·∫£i c√πng m·ªôt b√†i to√°n l√† b√¨nh th∆∞·ªùng. V√≠ d·ª• nh∆∞ nh√¢n 2 con s·ªë, c√≥ r·∫•t nhi·ªÅu c√°ch ƒë·ªÉ t√≠nh nh·∫©m ƒë∆∞·ª£c, ch·ª© kh√¥ng ph·∫£i ch·ªâ c√≥ ƒë√∫ng m·ªôt c√°ch m√† th·∫ßy c√¥ b·∫°n d·∫°y h·ªìi ti·ªÉu h·ªçc, c√°ch n√†o gi√∫p ta nh·∫©m nhanh h∆°n th√¨ ƒë∆∞·ª£c g·ªçi l√† √≠t ph·ª©c t·∫°p h∆°n.</p>\n<p>ƒê·ªô ph·ª©c t·∫°p c·ªßa thu·∫≠t to√°n ƒë∆∞·ª£c di·ªÖn ƒë·∫°t b·∫±ng k√Ω hi·ªáu <strong>ch·ªØ O vi·∫øt hoa</strong>. O cho bi·∫øt th·ªùi gian c·∫ßn ch·∫°y c·ªßa gi·∫£i thu·∫≠t <strong>t·ªâ l·ªá nh∆∞ th·∫ø n√†o</strong> v·ªõi s·ªë l∆∞·ª£ng tham s·ªë ƒë·∫ßu v√†o (nh∆∞ m·ªôt d·∫°ng ƒë∆°n v·ªã h√©)</p>\n<p><img src=\"https://i1.wp.com/www.jenniferbland.com/wp-content/uploads/big-o-complexity.png?w=783&#x26;ssl=1\"></p>\n<h2 id=\"o1---ƒë·ªô-ph·ª©c-t·∫°p-kh√¥ng-ƒë·ªïi\"><a href=\"#o1---%C4%91%E1%BB%99-ph%E1%BB%A9c-t%E1%BA%A1p-kh%C3%B4ng-%C4%91%E1%BB%95i\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>O(1) - ƒê·ªô ph·ª©c t·∫°p kh√¥ng ƒë·ªïi</h2>\n<p>Gi·∫£i thu·∫≠t n√†o c√≥ ƒë·ªô ph·ª©c t·∫°p b·∫±ng <strong>O(1)</strong> nghƒ©a l√† gi·∫£i thu·∫≠t ƒë√≥ kh√¥ng ph·ª• thu·ªôc gi√° tr·ªã input c√≥ <em>b·ª±</em> bao nhi√™u ƒëi n·ªØa, n√≥ lu√¥n c√≥ ƒë·ªô ph·ª©c t·∫°p kh√¥ng ƒë·ªïi.</p>\n<p>N·∫øu m·ªôt h√†m c√≥ ƒë·ªô ph·ª©c t·∫°p b·∫±ng O(1) nghƒ©a l√† tr∆∞·ªùng h·ª£p ƒë·∫πp nh·∫•t c·ªßa h√†m, t·ªëi ∆∞u nh·∫•t.</p>\n<p><img src=\"https://i0.wp.com/www.jenniferbland.com/wp-content/uploads/O1-constant-time-complexity.jpg?w=416&#x26;ssl=1\"></p>\n<p>V√≠ d·ª•, hash table</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/*1 tri·ªáu ph·∫ßn t·ª≠ ch·∫≥ng h·∫°n*/</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// C√¢u l·ªánh sau c√≥ O(1)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span><span class=\"token string\">\"m·ªôt key b·∫•t k·ª≥\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// h√†m l·∫•y gi√° tr·ªã cu·ªëi c√πng c·ªßa m·∫£ng</span>\n<span class=\"token comment\">// ƒë·ªô ph·ª©c t·∫°p l√† O(1), d√π m·∫£ng c√≥ bao nhi√™u ph·∫ßn t·ª≠ </span>\n<span class=\"token comment\">// c≈©ng ko ·∫£nh h∆∞·ªüng th·ªùi gian ch·∫°y</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getLast</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">items</span> <span class=\"token operator\">=></span> items<span class=\"token punctuation\">[</span>items<span class=\"token punctuation\">.</span>length<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"olog-n\"><a href=\"#olog-n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>O(log n)</h2>\n<p>Th·ªùi gian ch·∫°y c√†ng tƒÉng, m·ª©c ƒë·ªô ph·ª©c t·∫°p c√†ng gi·∫£m</p>\n<p>V√≠ d·ª• b·∫°n mu·ªën t√¨m s·ªë ƒëi·ªán tho·∫°i c·ªßa m·ªôt ng∆∞·ªùi trong cu·ªën danh b·∫° kho·∫£n m·ªôt tri·ªáu c√°i t√™n. ƒêi·ªÅu ƒë·∫ßu ti√™n ch√∫ng l√†m l√† t√¨m m·ªü ƒë·∫°i kho·∫£n gi·ªØa cu·ªën danh b·∫°, so sanh c√°i t√™n hi·ªán t·∫°i n·∫±m tr∆∞·ªõc hay n·∫±m sau trang ƒë√≥, l·∫∑p l·∫°i t∆∞∆°ng t·ª± v·ªõi nh√≥m m·ªõi t√¨m ƒë∆∞·ª£c.</p>\n<p>R√µ r√†ng khi c√†ng t√¨m, s·ªë l∆∞·ª£ng t√™n ph·∫£i ki·ªÉm tra c√†ng gi·∫£m ƒë√°ng k·ªÉ (m·ªói l·∫ßn b·ªè qua 1 n·ªØa). N·∫øu c√≥ 3 t√™n, ch√∫ng ta ch·ªâ t·ªën 2 b∆∞·ªõc l√† t√¨m ra. C√≥ 15 t√™n, ch√∫ng ta ch·ªâ c·∫ßn t·ªëi ƒëa 4 b∆∞·ªõc.</p>\n<p><img src=\"https://i1.wp.com/www.jenniferbland.com/wp-content/uploads/Olog-n-logarithmic-complexity.jpg?w=472&#x26;ssl=1\"></p>\n<p>Th·ªùi gian th·ª±c hi·ªán thu·∫≠t to√°n gi·∫£m ƒë√°ng k·ªÉ khi s·ªë l∆∞·ª£ng input gi·∫£m.</p>\n<p>V√≠ d·ª• nh∆∞ thu·∫≠t to√°n t√¨m ki·∫øm QuickSort</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">quickSort</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">list</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> \n    <span class=\"token keyword\">return</span> list<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> pivot <span class=\"token operator\">=</span> list<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> left  <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> \n  <span class=\"token keyword\">let</span> right <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> total <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> total<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> pivot<span class=\"token punctuation\">)</span>\n      left<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">else</span>\n      right<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token operator\">...</span><span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n    pivot<span class=\"token punctuation\">,</span> \n    <span class=\"token operator\">...</span><span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span>right<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'q'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'z'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'w'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'s'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'e'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'d'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'c'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'r'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"on---th·ªùi-gian-t·ªãnh-ti·∫øn-theo-s·ªë-l∆∞·ª£ng-input\"><a href=\"#on---th%E1%BB%9Di-gian-t%E1%BB%8Bnh-ti%E1%BA%BFn-theo-s%E1%BB%91-l%C6%B0%E1%BB%A3ng-input\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>O(n) - Th·ªùi gian t·ªãnh ti·∫øn theo s·ªë l∆∞·ª£ng input</h2>\n<p>ƒê√¢y l√† nh·ªØng thu·∫≠t to√°n c√≥ t·ªëc ƒë·ªô tƒÉng <strong>song h√†nh</strong> v·ªõi s·ªë l∆∞·ª£ng input tƒÉng, tr∆∞·ªùng h·ª£p x·∫•u nh·∫•t s·∫Ω r∆°i v√†o khi s·ªë l∆∞·ª£ng input nhi·ªÅu nh·∫•t</p>\n<p>V√≠ d·ª•, b·∫°n in ra gi√° tr·ªã c·ªßa m·ªôt m·∫£ng 10 ph·∫ßn t·ª≠, loop qua to√†n b·ªô c√°c ph·∫ßn t·ª≠ ƒë·ªÉ l√†m vi·ªác in n√†y. Khi s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ tƒÉng l√™n th√†nh 1000 l·∫ßn th√¨ b·∫°n c≈©ng ph·∫£i loop qua 1000 ph·∫ßn t·ª≠</p>\n<p><img src=\"https://i2.wp.com/www.jenniferbland.com/wp-content/uploads/On-Linear-Complexity.jpg?w=463&#x26;ssl=1\"></p>\n<p>V√≠ d·ª• c√°c v√≤ng l·∫∑p <code class=\"language-inline-text\">for</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">findIndex</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">items<span class=\"token punctuation\">,</span> match</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> total <span class=\"token operator\">=</span> items<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> total<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> match<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> i<span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> array<span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'d'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// loop 1 l·∫ßn, t·ªët nh·∫•t</span>\n<span class=\"token function\">findIndex</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 0</span>\n<span class=\"token comment\">// loop 4 l·∫ßn, x·∫•u nh·∫•t</span>\n<span class=\"token function\">findIndex</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">,</span> <span class=\"token string\">'d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3</span>\n<span class=\"token comment\">// loop 4 l·∫ßn, x·∫•u nh·∫•t</span>\n<span class=\"token function\">findIndex</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">,</span> <span class=\"token string\">'e'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// -1 </span></code></pre></div>\n<h2 id=\"on2----th·ªùi-gian-ch·∫°y-tƒÉng-theo-n-m≈©-2\"><a href=\"#on2----th%E1%BB%9Di-gian-ch%E1%BA%A1y-t%C4%83ng-theo-n-m%C5%A9-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>O(n^2)  - Th·ªùi gian ch·∫°y tƒÉng theo n m≈© 2</h2>\n<p>Ng∆∞·ª£c l·∫°i v·ªõi <strong>O(log n)</strong>, th·ªùi gian ch·∫°y c·ªßa thu·∫≠t to√°n n√†o c√≥ gi√° tr·ªã n√†y s·∫Ω tƒÉng theo **s·ªë l∆∞·ª£ng input m≈© 2)</p>\n<p><img src=\"https://i1.wp.com/www.jenniferbland.com/wp-content/uploads/On2-quadratic-time-complexity.jpg?w=382&#x26;ssl=1\"></p>\n<p>Trong l·∫≠p tr√¨nh ch√∫ng ta s·∫Ω tr√°nh ƒë·ªÉ c√°c ƒëo·∫°n code n√†o b·ªã r∆°i v√†o ƒë·ªô ph·ª©c t·∫°p O(n^2)</p>\n<p>V√≠ d·ª•, 2 v√≤ng l·∫∑p for l·ªìng nhau, bubble sort.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">findMatch</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> string<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span> <span class=\"token keyword\">var</span> j <span class=\"token operator\">=</span> i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> string<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n         <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>string<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> string<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n         <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span>\n   <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://www.freecodecamp.org/news/time-is-complex-but-priceless-f0abd015063c/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.freecodecamp.org/news/time-is-complex-but-priceless-f0abd015063c/</a></p>\n<p><a href=\"http://www.bradoncode.com/blog/2012/04/big-o-algorithm-examples-in-javascript.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.bradoncode.com/blog/2012/04/big-o-algorithm-examples-in-javascript.html</a></p>\n<p><a href=\"https://medium.com/@gmedina229/big-o-in-javascript-36ff67766051\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://medium.com/@gmedina229/big-o-in-javascript-36ff67766051</a></p>\n<p><a href=\"https://medium.com/javascript-scene/time-complexity-big-o-notation-1a4310c3ee4b\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://medium.com/javascript-scene/time-complexity-big-o-notation-1a4310c3ee4b</a></p>\n<p><a href=\"https://medium.com/cesars-tech-insights/big-o-notation-javascript-25c79f50b19b\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://medium.com/cesars-tech-insights/big-o-notation-javascript-25c79f50b19b</a></p>\n<p><a href=\"https://www.jenniferbland.com/time-complexity-analysis-in-javascript/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.jenniferbland.com/time-complexity-analysis-in-javascript/</a></p>\n","cover_image":""}},{"node":{"id":"460e9534f3d5ad0264e84a16d55b6eab","title":"Authentication b·∫±ng Token - B√†i 2: Gi·ªõi thi·ªáu JWT","path":"/2019-10-02-giai-thich-jwt-la-gi/","date":"2019-10-02","timeToRead":2,"desc":"Ph·∫ßn m·ªÅm ng√†y nay ƒë∆∞·ª£c ph√°t tri·ªÉn theo h∆∞·ªõng s·ª≠ d·ª•ng token ƒë·ªÉ l√†m authentication, ƒë·ªÉ c√≥ th·ªÉ t√°ch ch·ª©c nƒÉng n√†y ra nh∆∞ m·ªôt ph·∫ßn ƒë·ªôc l·∫≠p, cho ph√©p ph·∫ßn m·ªÅm c√≥ th·ªÉ scale ·ªü m·ª©c cao nh·∫•t","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#jwt-l%c3%a0-g%c3%ac\">JWT l√† g√¨</a></li>\n<li><a href=\"#c%c6%a1-ch%e1%ba%bf-c%e1%bb%a7a-jwt\">C∆° ch·∫ø c·ªßa JWT</a></li>\n</ul>\n<!-- /TOC -->\n<p>Tr∆∞·ªõc khi ƒë·ªçc b√†i n√†y, c√°c b·∫°n h√£y ƒë·ªçc b√†i <a href=\"/2019-10-01-giai-thich-authentication-bang-token\">V√≠ d·ª• th·ª±c t·∫ø ƒë·ªÉ hi·ªÉu r√µ h∆°n c√°ch authentication b·∫±ng token</a>, ƒë·ªÉ hi·ªÉu ƒë∆∞·ª£c c∆° ch·∫ø authentication b·∫±ng token, ti·∫øng Vi·ªát m√¨nh c√≥ th·ªÉ d·ªãch ra l√† X√°c th·ª±c t√†i kho·∫£n b·∫±ng m·ªôt string ƒë·∫∑c bi·ªát (token l√† m·ªôt d·∫°ng string ƒë∆∞·ª£c t·∫°o ra theo m·ªôt c∆° ch·∫ø ƒë·∫∑c bi·ªát <em>b√≠ hi·ªÉm</em>)</p>\n<h2 id=\"jwt-l√†-g√¨\"><a href=\"#jwt-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>JWT l√† g√¨</h2>\n<blockquote>\n<p>TOKEN = m·ªôt d·∫°ng string ƒë∆∞·ª£c t·∫°o ra theo m·ªôt c∆° ch·∫ø</p>\n</blockquote>\n<p>JWT ch√≠nh l√† t√™n 1 c∆° ch·∫ø ƒë·ªÉ t·∫°o ra token (t·ª©c, c√≥ nhi·ªÅu c∆° ch·∫ø kh√°c n·ªØa kh√¥ng ch·ªâ ri√™ng JWT)</p>\n<p>JWT vi·∫øt t·∫Øt c·ªßa JSON Web Token</p>\n<p>C√°i c∆° ch·∫ø JWT n√†y, n√≥ ƒë√£ nh√©t c√°i g√¨ v√†o trong string, m·ªùi b·∫°n ƒë·ªçc ti·∫øp l√† r√µ</p>\n<h2 id=\"c∆°-ch·∫ø-c·ªßa-jwt\"><a href=\"#c%C6%A1-ch%E1%BA%BF-c%E1%BB%A7a-jwt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C∆° ch·∫ø c·ªßa JWT</h2>\n<p>M·ªôt request s·ª≠ d·ª•ng JWT s·∫Ω g·ª≠i k√®m trong header</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">Authorization<span class=\"token operator\">:</span> Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.XbPfbIHMI6arZ3Y922BhjWgQzWXcXNrz0ogtVhfEd2o</code></pre></div>\n<p>Kh√¥ng c·∫ßn quan t√¢m c√°i <strong>Bearer</strong>, n√≥ l√† quy ƒë·ªãnh th√¥i, c√°i c·∫ßn quan t√¢m l√† ƒëo·∫°n h·∫ßm b√† l·∫±ng ph√≠a sau n√≥</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.XbPfbIHMI6arZ3Y922BhjWgQzWXcXNrz0ogtVhfEd2o</code></pre></div>\n<p>D√≤m k·ªπ m·ªôt t√≠ b·∫°n s·∫Ω th·∫•y n√≥ c√≥ 2 d·∫•u <code class=\"language-inline-text\">.</code>, t√°ch c√°i string n√†y ra l√†m 3 ph·∫ßn <code class=\"language-inline-text\">header.payload.signature</code></p>\n<ul>\n<li><strong>Header</strong>: ch·ª©a ki·ªÉu d·ªØ li·ªáu, thu·∫≠t to√°n m√£ h√≥a ch·ªØ k√Ω</li>\n<li><strong>Payload</strong>: m·ªôt s·ªë th√¥ng tin nh∆∞ th·ªùi gian expire, th√¥ng tin user,... t√πy thu·ªôc server mu·ªën ƒë∆∞a v·ªÅ c√°i g√¨.</li>\n<li><strong>Signature</strong>: ch·ªØ k√Ω ƒëi·ªán t·ª≠, ch·ª©a th√¥ng tin ƒë·ªÉ server c√≥ th·ªÉ verify c√°i JWT n√†y</li>\n</ul>\n<p>Ch·ªØ k√Ω s·∫Ω ƒë∆∞·ª£c t·∫°o ra ·ªü server, c√≥ th·ªÉ l√† nh∆∞ th·∫ø n√†y (c√≥ nhi·ªÅu c√°ch kh√°c)</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> signature <span class=\"token operator\">=</span> <span class=\"token function\">RS256Algorithm</span><span class=\"token punctuation\">(</span><span class=\"token function\">encode64</span><span class=\"token punctuation\">(</span>header<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".\"</span> <span class=\"token operator\">+</span> <span class=\"token function\">encode64</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> secret<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// secret l√† m·ªôt ch√¨a kh√≥a (nh∆∞ password ·∫•y m√†) ch·ªâ c√≥ server m·ªõi bi·∫øt</span></code></pre></div>\n<p>C√≤n c√°i JWT s·∫Ω ƒë∆∞·ª£c c·∫•p b·∫±ng thu·∫≠t to√°n cao si√™u nh·∫•t v≈© tr·ª• <strong>n·ªëi chu·ªói</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> jwt <span class=\"token operator\">=</span> <span class=\"token function\">encode64</span><span class=\"token punctuation\">(</span>header<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".\"</span> <span class=\"token operator\">+</span> <span class=\"token function\">encode64</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".\"</span> <span class=\"token operator\">+</span> signature<span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"https://blog.hasura.io/content/images/2019/08/Group.png\" alt=\"Authentication b·∫±ng Token - B√†i 2: Gi·ªõi thi·ªáu JWT\"></p>\n<p>ƒê·ªçc ti·∫øp</p>\n<ul>\n<li><a href=\"/2019-10-01-giai-thich-authentication-bang-token\">Authentication b·∫±ng Token - B√†i 1: c∆° ch·∫ø authentication b·∫±ng token</a></li>\n<li><a href=\"/2019-10-02-giai-thich-jwt-la-gi\">Authentication b·∫±ng Token - B√†i 2: Gi·ªõi thi·ªáu JWT</a></li>\n<li>[Authentication b·∫±ng Token - B√†i 3: H∆∞·ªõng d·∫´n authentication v·ªõi React]</li>\n<li><a href=\"/2018-11-18-mot-so-van-de-can-quan-tam-de-bao-mat-web\">B·∫£o m·∫≠t web - M·ªôt s·ªë ki·ªÉu t·∫•n c√¥ng</a></li>\n</ul>\n","cover_image":""}},{"node":{"id":"75909cd840de49c2190e4b04efc6e25c","title":"Authentication b·∫±ng Token - B√†i 1: C∆° ch·∫ø authentication b·∫±ng token","path":"/2019-10-01-giai-thich-authentication-bang-token/","date":"2019-10-01","timeToRead":4,"desc":"Ph·∫ßn m·ªÅm ng√†y nay ƒë∆∞·ª£c ph√°t tri·ªÉn theo h∆∞·ªõng s·ª≠ d·ª•ng token ƒë·ªÉ l√†m authentication, ƒë·ªÉ c√≥ th·ªÉ t√°ch ch·ª©c nƒÉng n√†y ra nh∆∞ m·ªôt ph·∫ßn ƒë·ªôc l·∫≠p, cho ph√©p ph·∫ßn m·ªÅm c√≥ th·ªÉ scale ·ªü m·ª©c cao nh·∫•t","content":"<p>Trong b√†i 1 n√†y s·∫Ω gi·∫£i th√≠ch c√°c thu·∫≠t ng·ªØ v√† h∆∞·ªõng gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ x√°c th·ª±c user b·∫±ng token</p>\n<p>Tham kh·∫£o b√†i <a href=\"/2019-08-30-lam-quen-voi-kien-truc-serverless\">L√†m quen v·ªõi ki·∫øn tr√∫c Serverless</a> ƒë·ªÉ bi·∫øt t·∫°i sao l·∫°i c√≥ nhu c·∫ßu t√°ch ph·∫ßn authentication ra th√†nh m·ªôt service ri√™ng.</p>\n<p>V√≠ d·ª• th·ª±c t·∫ø ƒë·ªÉ hi·ªÉu r√µ h∆°n c√°ch authentication b·∫±ng token, ƒë·ªÉ c√°c b·∫°n d·ªÖ nh·ªõ c∆° ch·∫ø authentication token v·∫≠n h√†nh, ch√∫ng ta d√πng m·ªôt quy tr√¨nh c√≥ th·∫≠t trong cu·ªôc s·ªëng</p>\n<ul>\n<li><strong>·ª©ng d·ª•ng</strong> = <strong>kh√°ch s·∫°n</strong></li>\n<li><strong>authentication service</strong> = <strong>ti·∫øp t√¢n kh√°ch s·∫°n</strong></li>\n<li><strong>resource c·ªßa ·ª©ng d·ª•ng</strong> = <strong>ph√≤ng kh√°ch s·∫°n</strong></li>\n<li><strong>access token</strong> = <strong>th·∫ª t·ª´ kh√°ch s·∫°n</strong></li>\n<li><strong>th√¥ng tin x√°c th·ª±c</strong> = <strong>ch·ª©ng minh nh√¢n d√¢n/ ho·∫∑c passport</strong></li>\n</ul>\n<p>Ch√∫ng ta s·∫Ω nh·ªõ c∆° ch·∫ø token authentication n√†y ƒë·∫øn h·∫øt ph·∫ßn ƒë·ªùi c√≤n l·∫°i!</p>\n<p>Khi ch√∫ng ta b∆∞·ªõc v√†o m·ªôt kh√°ch s·∫°n, ch√∫ng ta ƒë∆∞·ª£c ph√©p ƒëi ƒë·∫øn nh·ªØng khu v·ª±c <em>mi·ªÖn ph√≠</em>, nh∆∞ s·∫£nh ch·ªù, nh√† v·ªá sinh chung</p>\n<blockquote>\n<p>M·ªü m·ªôt ·ª©ng d·ª•ng, ch√∫ng ta c√≥ th·ªÉ truy c·∫≠p c√°c trang public nh∆∞ homepage</p>\n</blockquote>\n<p>Tuy nhi√™n ƒë·ªÉ c√≥ th·ªÉ v√†o ph√≤ng, h·ªì b∆°i, ch√∫ng ta c·∫ßn th·∫ª t·ª´ c·ªßa kh√°ch s·∫°n</p>\n<blockquote>\n<p>ƒê·ªÉ truy c·∫≠p v√†o trang account, l·∫•y c√°c th√¥ng tin private, ch√∫ng ta c·∫ßn token</p>\n</blockquote>\n<p>Ch√∫ng ta b∆∞·ªõc t·ªõi ch·ªó qu·∫ßy l·ªÖ t√¢n, ƒë∆∞a CMND, b·ªô ph·∫≠n ti·∫øp t√¢n s·∫Ω x√°c th·ª±c th√¥ng tin n√†y tr∆∞·ªõc khi ƒë∆∞a cho ch√∫ng ta m·ªôt th·∫ª t·ª´</p>\n<blockquote>\n<p>User ƒëi t·ªõi trang ƒëƒÉng k√Ω/ƒëƒÉng nh·∫≠p ƒë·ªÉ x√°c th·ª±c th√¥ng tin. Authentication service ki·ªÉm tra th√¥ng tin v√† tr·∫£ v·ªÅ m·ªôt token</p>\n</blockquote>\n<p>V·ªõi th·∫ª t·ª´ ƒë∆∞·ª£c c·∫•p, ch√∫ng ta ƒë∆∞·ª£c ph√©p v√†o ph√≤ng, h·ªì b∆°i v√† m·ªôt s·ªë d·ªãch v·ª• ƒë∆∞·ª£c quy ƒë·ªãnh trong th·∫ª t·ª´</p>\n<blockquote>\n<p>Khi c√≥ token, ch√∫ng ta g·ª≠i token n√†y l√™n API n·∫øu c·∫ßn l·∫•y m·ªôt th√¥ng tin private</p>\n</blockquote>\n<p>B√™n kh√°ch s·∫°n s·∫Ω hi·ªÉu l√†, b·∫•t k·ªÉ ch·ªó n√†o b·∫°n qu√©t c√°i th·∫ª t·ª´ ƒë√≥, th√¨ b·∫°n l√† ng∆∞·ªùi ƒëang n·∫Øm gi·ªØ th·∫ª, nghƒ©a l√† n√≥ s·∫Ω kh√¥ng c·∫ßn bi·∫øt b·∫°n c√≥ ƒë∆∞a th·∫ª ƒë√≥ cho ai m∆∞·ª£n kh√¥ng</p>\n<blockquote>\n<p>V·ªõi token nh·∫≠n ƒë∆∞·ª£c, API s·∫Ω bi·∫øt ƒë∆∞·ª£c ai l√† ng∆∞·ªùi gi·ªØ token n√†y. D√π ƒë·ª©a n√†o ƒë√≥ ch√¥m ƒë∆∞·ª£c c√°i token n√†y, n√≥ c≈©ng s·∫Ω cho r·∫±ng ƒë√≥ l√† b·∫°n</p>\n</blockquote>\n<p>Khi l·ª° l√†m m·∫•t kh√°ch th·∫ª t·ª´, ch√∫ng ta bao v·ªõi qu·∫ßy l·ªÖ t√¢n, h·ªç th·ª±c hi·ªán kh√≥a th·∫ª t·ª´ b·ªã m·∫•t, ƒë√≥ng c·ª≠a ph√≤ng</p>\n<blockquote>\n<p>C∆° ch·∫ø deactive m·ªôt token sau khi ƒë√£ c·∫•p ph√°t, t·ª± ƒë·ªông \"ƒë√°\" user n√†o d√πng token ƒë√£ deactive ra kh·ªèi c√°c trang private</p>\n</blockquote>\n<p>Ch√∫ng ta kh√¥ng th·ªÉ x√†i c√°i th·∫ª n√†y ho√†i ƒë∆∞·ª£c, ph·ª• thu·ªôc v√†o kh√°ch s·∫°n, h·ªç c√≥ cho th·ªùi gian h·∫øt h·∫°n c√°i th·∫ª ƒë√≥ kh√¥ng</p>\n<blockquote>\n<p>Authentication service s·∫Ω c√≥ quy·ªÅn thi·∫øt l·∫≠p th·ªùi gian h·∫øt h·∫°n c·ªßa m·ªôt token</p>\n</blockquote>\n<p>N·∫øu b·∫°n <strong>ch√¥m</strong> lu√¥n c√°i th·∫ª t·ª´ v·ªÅ nh√†, l·∫ßn sau v√†o kh√°ch s·∫°n b·∫°n kh√¥ng s·ª≠ d·ª•ng ƒë∆∞·ª£c n√≥ n·ªØa</p>\n<blockquote>\n<p>D√π cho b·∫°n v·∫´n gi·ªØ token (c≈©), nh∆∞ng khi ƒë√£ h·∫øt h·∫°n, b·∫°n c≈©ng kh√¥ng l·∫•y ƒë∆∞·ª£c d·ªØ li·ªáu t·ª´ API</p>\n</blockquote>\n<p>Kh√°ch s·∫°n c√≥ th·ªÉ cung c·∫•p nhi·ªÅu lo·∫°i th·∫ª t·ª´ kh√°c nhau, b·∫°n ch·ªâ c√≥ th·∫ª v√†o ph√≤ng m√¨nh, nh∆∞ng b√™n v·ªá sinh h·ªç s·∫Ω c√≥ th·∫ª ƒë·ªÉ m·ªü t·∫•t c·∫£ c√°c ph√≤ng</p>\n<blockquote>\n<p>Admin c√≥ nh·ªØng token ri√™ng, ƒë∆∞·ª£c ph√©p truy xu·∫•t ƒë·∫øn m·ªçi th√¥ng tin tr√™n ·ª©ng d·ª•ng</p>\n</blockquote>\n<p>ƒê·ªÉ th·∫ª t·ª´ kh√¥ng gi·∫£ m·∫°o ƒë∆∞·ª£c, n√≥ s·∫Ω ƒëi k√®m m·ªôt ch·ªØ k√Ω ƒëi·ªán t·ª≠ (c·ªßa t·ª´ng kh√°ch s·∫°n) trong ƒë√≥, n·∫øu kh√¥ng x√°c th·ª±c ƒë∆∞·ª£c ch·ªØ k√Ω n√†y, b·∫°n s·∫Ω kh√¥ng th·ªÉ s·ª≠ d·ª•ng</p>\n<blockquote>\n<p>Token c√≥ ch·ªØ k√Ω ƒëi·ªán t·ª≠ ƒë·ªÉ ƒë·∫£m b·∫£o kh√¥ng b·ªã l√†m gi·∫£</p>\n</blockquote>\n<p>Hy v·ªçng qua b√†i vi·∫øt n√†y, c√°c b·∫°n c√≥ th·ªÉ thu·ªôc l√†u v√† gi·∫£i th√≠ch ƒë∆∞·ª£c c∆° ch·∫ø token cho nh·ªØng ng∆∞·ªùi ngo·∫°i ƒë·∫°o bi·∫øt n√≥ l√† g√¨, v·∫≠n h√†nh ra l√†m sao.</p>\n<p>ƒê·ªçc ti·∫øp</p>\n<ul>\n<li><a href=\"/2019-10-01-giai-thich-authentication-bang-token\">Authentication b·∫±ng Token - B√†i 1: c∆° ch·∫ø authentication b·∫±ng token</a></li>\n<li><a href=\"/2019-10-02-giai-thich-jwt-la-gi\">Authentication b·∫±ng Token - B√†i 2: Gi·ªõi thi·ªáu JWT</a></li>\n<li>[Authentication b·∫±ng Token - B√†i 3: H∆∞·ªõng d·∫´n authentication v·ªõi React]</li>\n<li><a href=\"/2018-11-18-mot-so-van-de-can-quan-tam-de-bao-mat-web\">B·∫£o m·∫≠t web - M·ªôt s·ªë ki·ªÉu t·∫•n c√¥ng</a></li>\n</ul>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.jvandemo.com/simple-metaphor-to-understand-and-remember-how-token-based-authentication-works/\">üìú Simple metaphor to easily understand and remember how token-based authentication works</a></p>\n","cover_image":""}},{"node":{"id":"279a88e44a33e49f28daacde42d9d2c6","title":"CƒÉn b·∫£n c√°ch s·ª≠ d·ª•ng media query","path":"/2019-09-27-huong-dan-su-dung-media-query/","date":"2019-09-27","timeToRead":2,"desc":"Nh·ªØng ki·∫øn th·ª©c cƒÉn b·∫£n b·∫Øt bu·ªôc nh·∫•t ƒë·ªÉ b·∫°n l√†m responsive","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#media-type\">Media type</a></li>\n<li><a href=\"#to%c3%a1n-t%e1%bb%ad-logic\">To√°n t·ª≠ logic</a></li>\n<li><a href=\"#n%c3%a2ng-c%e1%ba%a5p-t%e1%bb%ab-level-4-%c4%91%e1%ba%a1i-kh%c3%a1i-l%c3%a0-s%e1%bb%ad-d%e1%bb%a5ng-tr%c3%aan-tr%c3%acnh-duy%e1%bb%87t-c%c5%a9-kh%c3%b4ng-%c4%91%e1%ba%a3m-b%e1%ba%a3o-%c4%91%c3%b3\">N√¢ng c·∫•p t·ª´ level 4 (ƒë·∫°i kh√°i l√† s·ª≠ d·ª•ng tr√™n tr√¨nh duy·ªát c≈© kh√¥ng ƒë·∫£m b·∫£o ƒë√≥)</a></li>\n<li><a href=\"#pattern-hay-s%e1%bb%ad-d%e1%bb%a5ng\">Pattern hay s·ª≠ d·ª•ng</a></li>\n</ul>\n<!-- /TOC -->\n<p>Query media l√† ki·∫øn th·ª©c b·∫Øt bu·ªôc ph·∫£i n·∫Øm n·∫øu mu·ªën l√†m t·ªët responsive, n√≥ s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c tr∆∞·ªùng h·ª£p sau </p>\n<ul>\n<li>ƒê·∫∑t ƒëi·ªÅu ki·ªán ƒë·ªÉ apply css qua <code class=\"language-inline-text\">@media</code> ho·∫∑c <code class=\"language-inline-text\">@import</code></li>\n<li>Ch·ªâ ƒë·ªãnh c·ª• th·ªÉ tr√™n m·ªôt s·ªë HTML element v√† c√°c file resource cho <code class=\"language-inline-text\">&lt;link/></code> v√† <code class=\"language-inline-text\">&lt;source /></code></li>\n<li>Ki·ªÉm tra s·ª± thay ƒë·ªïi k√≠ch th∆∞·ªõc c·ªßa window trong h√†m <code class=\"language-inline-text\">Window.matchMedia</code> v√† <code class=\"language-inline-text\">MediaQueryList.addListener</code> </li>\n</ul>\n<p>B√†i n√†y ch·ªâ d√πng CSS <code class=\"language-inline-text\">@media</code> ƒë·ªÉ l√†m v√≠ d·ª•, s·ª≠ d·ª•ng tr√™n c√°c c√°ch kh√°c c≈©ng t∆∞∆°ng t·ª±  </p>\n<h2 id=\"media-type\"><a href=\"#media-type\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Media type</h2>\n<p>Ch·ªâ ƒë·ªãnh ki·ªÉu device s·∫Ω c√≥ hi·ªáu l·ª±c, n·∫øu kh√¥ng truy·ªÅn v√†o th√¨ m·∫∑c ƒë·ªãnh l√† <code class=\"language-inline-text\">all</code>  </p>\n<ul>\n<li><code class=\"language-inline-text\">all</code> t·∫•t c·∫£ c√°c lo·∫°i device</li>\n<li><code class=\"language-inline-text\">print</code> ƒëang xem tr√™n m√†n h√¨nh ·ªü ch·∫ø ƒë·ªô preview, ho·∫∑c l√∫c in</li>\n<li><code class=\"language-inline-text\">screen</code> ch·ªâ √°p d·ª•ng tr√™n m√†n h√¨nh</li>\n<li><code class=\"language-inline-text\">speech</code> c√°c thi·∫øt b·ªã ƒë·ªçc vƒÉn b·∫£n  </li>\n</ul>\n<p>C√°c th·∫±ng kh√°c ƒë√£ b·ªè r·ªìi, n√™n c√°c b·∫°n kh√¥ng c·∫ßn nh·ªõ chi cho nhi·ªÅu, th·∫•y m·ªôt s·ªë b√†i vi·∫øt tr√™n m·∫°ng c√≤n li·ªát k√™ chi kh√¥ng bi·∫øt.  </p>\n<p>C≈©ng kh√¥ng s·ª≠ d·ª•ng nhi·ªÅu ƒë·∫øn c√°ch n√†y, ƒëa ph·∫ßn khi thi·∫øt k·∫ø th√¨ ng∆∞·ªùi ta l√†m tr√™n t·ª´ng k√≠ch th∆∞·ªõc ƒë·ªô r·ªông m√†n h√¨nh, ch·ª© kh√¥ng nghƒ© c·ª• th·ªÉ cho t·ª´ng lo·∫°i thi·∫øt b·ªã nh∆∞ ƒë·ªÉ in, xem tr√™n m√†n h√¨nh  </p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> print</span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> screen</span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> speech</span><span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"to√°n-t·ª≠-logic\"><a href=\"#to%C3%A1n-t%E1%BB%AD-logic\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>To√°n t·ª≠ logic</h2>\n<p>C√≥ m·ªôt s·ªë to√°n t·ª≠ c√≥ th·ªÉ s·ª≠ d·ª•ng trong c√¢u media l√† <code class=\"language-inline-text\">not</code>, <code class=\"language-inline-text\">and</code>, <code class=\"language-inline-text\">only</code>, <code class=\"language-inline-text\">,</code> - c√°i n√†y th√¨ gi·ªëng nh∆∞ to√°n t·ª≠ <code class=\"language-inline-text\">or</code> v·∫≠y ƒë√≥</p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> 680px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">orientation</span><span class=\"token punctuation\">:</span> portrait<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span> \n<span class=\"token atrule\"><span class=\"token rule\">@media</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 30em<span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">orientation</span><span class=\"token punctuation\">:</span> landscape<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"n√¢ng-c·∫•p-t·ª´-level-4-ƒë·∫°i-kh√°i-l√†-s·ª≠-d·ª•ng-tr√™n-tr√¨nh-duy·ªát-c≈©-kh√¥ng-ƒë·∫£m-b·∫£o-ƒë√≥\"><a href=\"#n%C3%A2ng-c%E1%BA%A5p-t%E1%BB%AB-level-4-%C4%91%E1%BA%A1i-kh%C3%A1i-l%C3%A0-s%E1%BB%AD-d%E1%BB%A5ng-tr%C3%AAn-tr%C3%ACnh-duy%E1%BB%87t-c%C5%A9-kh%C3%B4ng-%C4%91%E1%BA%A3m-b%E1%BA%A3o-%C4%91%C3%B3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>N√¢ng c·∫•p t·ª´ level 4 (ƒë·∫°i kh√°i l√† s·ª≠ d·ª•ng tr√™n tr√¨nh duy·ªát c≈© kh√¥ng ƒë·∫£m b·∫£o ƒë√≥)</h2>\n<p>Tr∆∞·ªõc ƒë√¢y ƒë·ªÉ √°p d·ª•ng ƒëi·ªÅu ki·ªán <strong>n·∫±m trong kho·∫£n m√†n h√¨nh</strong> n√†o ƒë√≥, ch√∫ng ta d√πng ki·ªÉu <code class=\"language-inline-text\">max-width:</code> hay <code class=\"language-inline-text\">min-width</code></p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 30em<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 30em<span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 50em<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Gi·ªù c√≥ th·ªÉ vi·∫øt theo ki·ªÉu</p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span>width &lt;= 30em<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span>30em &lt;= width &lt;= 50em<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"pattern-hay-s·ª≠-d·ª•ng\"><a href=\"#pattern-hay-s%E1%BB%AD-d%E1%BB%A5ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Pattern hay s·ª≠ d·ª•ng</h2>\n<p>T√†i li·ªáu th√¨ r∆∞·ªùm r√†, r·∫Øc r·ªëi v·∫≠y th√¥i, ch·ª© khi s·ª≠ d·ª•ng, m√¨nh ch·ªâ d√πng b·ªô media ƒë·ªãnh nghƒ©a trong bootstrap l√† ƒë·ªß x√†i</p>\n<div class=\"gridsome-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\">// m√†n h√¨nh ƒëi·ªán tho·∫°i\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 576px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n// m√†n h√¨nh ipad ƒë·ª©ng\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 768px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n// m√†n h√¨nh b·ª± h∆°n ipad\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 992px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n// m√†n h√¨nh laptop tr·ªü l√™n\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 1200px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span></code></pre></div>\n","cover_image":""}},{"node":{"id":"653878c8c9a36e771ec9639b86b6f979","title":"9 VSCode extension hay ho","path":"/2019-09-25-vscode-extension-hay-ho-thuong-su-dung/","date":"2019-09-25","timeToRead":2,"desc":"T·ªïng h·ª£p nh·ªØng VScode s·∫Ω gi√∫p anh em l·∫≠p tr√¨nh ch√∫ng ta l√†m vi·ªác hi·ªáu qu·∫£ h∆°n","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#settings-sync\">Settings Sync</a></li>\n<li><a href=\"#live-server\">Live Server</a></li>\n<li><a href=\"#bracket-pair-colorizer\">Bracket Pair Colorizer</a></li>\n<li><a href=\"#auto-rename-tag\">Auto Rename Tag</a></li>\n<li><a href=\"#css-peek\">CSS Peek</a></li>\n<li><a href=\"#code-spell-checker\">Code Spell Checker</a></li>\n<li><a href=\"#debugger-for-chrome\">Debugger for Chrome</a></li>\n<li><a href=\"#vscode-icons\">vscode-icons</a></li>\n<li><a href=\"#git-history\">Git History</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"settings-sync\"><a href=\"#settings-sync\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Settings Sync</h2>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--9RuFyc2c--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://res.cloudinary.com/dukp6c7f7/image/upload/f_auto%2Cfl_lossy%2Cq_auto/s3-ghost/2019/02/Settings-Sync.gif\"></p>\n<p>B·∫°n qu√° m·ªát m·ªèi vi·ªác m·ªói l·∫ßn c√†i l·∫°i m√°y m·ªõi, hay c√†i l·∫°i to√†n b·ªô extension tr√™n c√¥ng ty, m√°y ·ªü nh√†, c√†i ngay <a href=\"https://marketplace.visualstudio.com/items?itemName=Shan.code-settings-sync\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Settings Sync</a>, n√≥ s·∫Ω sync to√†n b·ªô nh·ªØng extension ch√∫ng ta hay x√†i l√™n Gist (ph·∫£i cho n√≥ access v√†o Github account)</p>\n<h2 id=\"live-server\"><a href=\"#live-server\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Live Server</h2>\n<p> <a href=\"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--bhb3nSVI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://res.cloudinary.com/dukp6c7f7/image/upload/f_auto%2Cfl_lossy%2Cq_auto/s3-ghost/2019/02/Live-Server.gif\"></p>\n<p>M·ªôt trong nh·ªØng extension si√™u ngon cho anh em frontend, t·∫°o server local v·ªõi live reload</p>\n<h2 id=\"bracket-pair-colorizer\"><a href=\"#bracket-pair-colorizer\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Bracket Pair Colorizer</h2>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=CoenraadS.bracket-pair-colorizer\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://marketplace.visualstudio.com/items?itemName=CoenraadS.bracket-pair-colorizer</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--gLmyHCgW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/dukp6c7f7/image/upload/f_auto%2Cfl_lossy%2Cq_auto/s3-ghost/2019/02/Bracket-Pair-Colorizer.png\"></p>\n<p>M·∫∑c d√π VSCode ƒë√£ c√≥ t√≠nh nƒÉng collapse cho t·ª´ng kh·ªëi code, nh∆∞ng t√¥ m√†u r√µ r√†ng cho d·ªÖ nh√¨n c≈©ng vui</p>\n<h2 id=\"auto-rename-tag\"><a href=\"#auto-rename-tag\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Auto Rename Tag</h2>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--jn8PcGux--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://res.cloudinary.com/dukp6c7f7/image/upload/f_auto%2Cfl_lossy%2Cq_auto/s3-ghost/2019/02/Auto-Rename-Tag.gif\"></p>\n<p>C√°i n√†y s·∫Ω t·ª± ƒë·ªông ƒëi·ªÅn ƒë·ªïi t√™n tag cho kh·ªõp v·ªõi tag ƒë√≥ng/m·ªü</p>\n<p>ƒê√¥i khi vi·∫øt React, Vue c≈©ng h∆°i ch√∫t phi·ªÅn ph·ª©c, nh∆∞ng c≈©ng ƒë√°ng ƒë·ªÉ th·ª≠</p>\n<h2 id=\"css-peek\"><a href=\"#css-peek\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CSS Peek</h2>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=pranaygp.vscode-css-peek\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://marketplace.visualstudio.com/items?itemName=pranaygp.vscode-css-peek</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--cVqIno3Y--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://res.cloudinary.com/dukp6c7f7/image/upload/f_auto%2Cfl_lossy%2Cq_auto/s3-ghost/2019/02/CSS-Peek.gif\"></p>\n<p>Xem ngay ph·∫ßn code css ƒë√£ vi·∫øt cho class/id. Ngo√†i ra c≈©ng nh·∫£y ƒë∆∞·ª£c ngay t·ªõi ph·∫ßn khai b√°o ƒë√≥ trong file css/scss/less</p>\n<h2 id=\"code-spell-checker\"><a href=\"#code-spell-checker\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Code Spell Checker</h2>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--Ij0NAjPP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://res.cloudinary.com/dukp6c7f7/image/upload/f_auto%2Cfl_lossy%2Cq_auto/s3-ghost/2019/02/Code-Spell-Checker.gif\"></p>\n<p>V·ªõi anh em kh√¥ng d√πng ti·∫øng anh nh∆∞ ti·∫øng m·∫π ƒë·∫ª ch√∫ng ta, m·ªôt c√°i tool t·ª± ƒë·ªông b√°o khi c√≥ t·ª´ sai ch√≠nh ta l√† v√¥ c√πng c·∫ßn thi·∫øt.</p>\n<h2 id=\"debugger-for-chrome\"><a href=\"#debugger-for-chrome\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Debugger for Chrome</h2>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=msjsdiag.debugger-for-chrome\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://marketplace.visualstudio.com/items?itemName=msjsdiag.debugger-for-chrome</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--XqJ04htP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://code.visualstudio.com/assets/blogs/2016/02/23/chrome-debugger-demo.gif\"></p>\n<p>ƒê∆∞·ª£c ph√°t tri·ªÉn b·ªüi Microsoft, cho ph√©p ch√∫ng ta debug JS ngay trong VSCode, so v·ªõi m·∫•y IDE kh√°c, th√¨ th·∫±ng n√†y ch·∫°y kh√° m∆∞·ª£t m√†</p>\n<h2 id=\"vscode-icons\"><a href=\"#vscode-icons\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>vscode-icons</h2>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=vscode-icons-team.vscode-icons\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://marketplace.visualstudio.com/items?itemName=vscode-icons-team.vscode-icons</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--nYvipWN3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://res.cloudinary.com/dukp6c7f7/image/upload/f_auto%2Cfl_lossy%2Cq_auto/s3-ghost/2019/02/vscode-icons.gif\"></p>\n<p>D√†nh cho m·∫•y ƒë·ª©a th√≠ch m√†u m√® nh∆∞ m√¨nh, ƒë·ªïi icon nh√¨n cho ph·∫•n ch·∫•n tinh th·∫ßn d·ªÖ l√†m vi·ªác</p>\n<h2 id=\"git-history\"><a href=\"#git-history\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Git History</h2>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=donjayamanne.githistory\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://marketplace.visualstudio.com/items?itemName=donjayamanne.githistory</a></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--u27x1LAs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://res.cloudinary.com/dukp6c7f7/image/upload/f_auto%2Cfl_lossy%2Cq_auto/s3-ghost/2019/02/Git-History.gif\"></p>\n<p>N·∫øu ƒëang l√†m vi·ªác v·ªõi Git (kh√¥ng bi·∫øt c√≤n dev n√†o th·ªùi n√†y ko d√πng Git kh√¥ng), xem history v√† ki·ªÉm tra nh·ªØng ch·ªó n√†o ƒë√£ b·ªã ƒë·ªïi tr√™n VSCode lu√¥n</p>\n","cover_image":""}},{"node":{"id":"dfcf87e23e402a6257c8eabba5c8d454","title":"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile","path":"/2019-09-23-thiet-ke-website-the-nao-la-chuan-ux-cho-mobile/","date":"2019-09-23","timeToRead":5,"desc":"Sau k·∫øt qu·∫£ nghi√™n c·ª©u h∆°n 199 gi·ªù, l·∫•y √Ω ki·∫øn tr√™n m·ªôt l∆∞·ª£ng l·ªõn user ·ªü M·ªπ, m·ªùi h·ªç v·ªÅ c√¥ng ty c·ªßa Google, g·ª≠i feedback r·ªìi nh·∫≠n ti·ªÅn, Google ƒë√£ t·ªïng h·ª£p m·ªôt danh s√°ch c√°c ƒëi·ªÅu m√† user cho l√† site n√†y ngon","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#call-to-action-%c4%91%e1%ba%b7t-ngay-gi%e1%bb%afa-tr%c3%aan-c%c3%b9ng\">Call-to-action: ƒë·∫∑t ngay gi·ªØa, tr√™n c√πng</a></li>\n<li><a href=\"#gi%e1%bb%af-menu-%c3%adt-m%c3%a0-ch%e1%ba%a5t\">Gi·ªØ menu √≠t m√† ch·∫•t</a></li>\n<li><a href=\"#l%c3%bac-n%c3%a0o-c%c5%a9ng-ch%e1%bb%aba-%c4%91%c6%b0%e1%bb%9dng-v%e1%bb%81-nh%c3%a0\">L√∫c n√†o c≈©ng ch·ª´a ƒë∆∞·ªùng v·ªÅ nh√†</a></li>\n<li><a href=\"#qu%e1%ba%a3ng-c%c3%a1o-d%e1%ba%a1ng-popup-%c4%91%e1%bb%abng-c%c6%b0%e1%bb%9bp-h%e1%ba%bft-s%c3%a0n-di%e1%bb%85n\">Qu·∫£ng c√°o d·∫°ng popup ƒë·ª´ng c∆∞·ªõp h·∫øt s√†n di·ªÖn</a></li>\n<li><a href=\"#t%c3%acm-ki%e1%ba%bfm\">T√¨m ki·∫øm</a></li>\n<li><a href=\"#k%e1%ba%bft-qu%e1%ba%a3-search\">K·∫øt qu·∫£ search</a></li>\n<li><a href=\"#b%e1%bb%99-l%e1%bb%8dc-t%c3%acm-ki%e1%ba%bfm\">B·ªô l·ªçc t√¨m ki·∫øm</a></li>\n<li><a href=\"#cho-user-x%c3%a0i-tr%c6%b0%e1%bb%9bc-khi-%c3%a9p-user-%c4%91%c4%83ng-k%c3%bd\">Cho user x√†i tr∆∞·ªõc khi √©p user ƒëƒÉng k√Ω</a></li>\n<li><a href=\"#mua-h%c3%a0ng-nh%c6%b0-kh%c3%a1ch-n%e1%ba%b7c-danh\">Mua h√†ng nh∆∞ kh√°ch n·∫∑c danh</a></li>\n<li><a href=\"#s%e1%bb%ad-d%e1%bb%a5ng-calendar-cho-th%c3%b4ng-tin-ng%c3%a0y-th%c3%a1ng\">S·ª≠ d·ª•ng calendar cho th√¥ng tin ng√†y th√°ng</a></li>\n<li><a href=\"#h%e1%ba%a1n-ch%e1%ba%bf-l%e1%bb%97i-b%e1%ba%aft-validation-ngay-khi-nh%e1%ba%adp\">H·∫°n ch·∫ø l·ªói, b·∫Øt validation ngay khi nh·∫≠p</a></li>\n<li><a href=\"#c%c3%b3-th%e1%bb%83-ph%c3%b3ng-to-%c4%91%e1%bb%83-xem-chi-ti%e1%ba%bft-%e1%ba%a3nh-s%e1%ba%a3n-ph%e1%ba%a9m\">C√≥ th·ªÉ ph√≥ng to ƒë·ªÉ xem chi ti·∫øt ·∫£nh s·∫£n ph·∫©m</a></li>\n<li><a href=\"#b%c3%a1o-user-bi%e1%ba%bft-xem-%e1%bb%9f-ch%e1%ba%bf-%c4%91%e1%bb%99-n%c3%a0o-l%c3%a0-t%e1%bb%91t-nh%e1%ba%a5t\">B√°o user bi·∫øt xem ·ªü ch·∫ø ƒë·ªô n√†o l√† t·ªët nh·∫•t</a></li>\n<li><a href=\"#%c4%90%e1%bb%abng-m%e1%bb%9f-nhi%e1%bb%81u-tab\">ƒê·ª´ng m·ªü nhi·ªÅu tab</a></li>\n<li><a href=\"#n%c3%b3i-r%c3%b5-t%e1%ba%a1i-sao-b%e1%ba%a1n-c%e1%ba%a7n-l%e1%ba%a5y-th%c3%b4ng-tin-v%e1%bb%8b-tr%c3%ad-c%e1%bb%a7a-user\">N√≥i r√µ t·∫°i sao b·∫°n c·∫ßn l·∫•y th√¥ng tin v·ªã tr√≠ c·ªßa user</a></li>\n</ul>\n<!-- /TOC -->\n<p><strong>UX t·ªët tr√™n mobile</strong> n√≥i m·ªôt c√°ch <em>qu·∫°ch t·∫πc</em> ra l√† tr·∫£i nghi·ªám c·ªßa ng∆∞·ªùi s·ª≠ d·ª•ng trang web, ƒë√°nh gi√° l√† site ch√∫ng ta <em>ngon</em>, d·ªÖ ƒë·ªõp nh∆∞ ƒÉn b√°nh.</p>\n<p><a href=\"https://www.thinkwithgoogle.com/marketing-resources/experience-design/speed-is-key-optimize-your-mobile-experience/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Download to√†n b·ªô k·∫øt qu√° ƒë√°nh gi√°</a></p>\n<h2 id=\"call-to-action-ƒë·∫∑t-ngay-gi·ªØa-tr√™n-c√πng\"><a href=\"#call-to-action-%C4%91%E1%BA%B7t-ngay-gi%E1%BB%AFa-tr%C3%AAn-c%C3%B9ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Call-to-action: ƒë·∫∑t ngay gi·ªØa, tr√™n c√πng</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/hpnav-cta-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ Nh·ªØng call-to-action (user v√†o ƒë√¢y ƒë·ªÉ l√†m c√°i g√¨ l√† ch√≠nh, t∆∞∆°ng t√°c hay s·ª≠ d·ª•ng nh·∫•t) n·∫±m ngay gi·ªØa, v·ª´a v√†o th·∫•y lu√¥n. C√°c thao t√°c k√©m quan tr·ªçng h∆°n c√≥ th·ªÉ ƒë∆∞a v√†o menu ho·∫∑c cu·ªôn xu·ªëng ƒë·ªÉ xem</p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/hpnav-cta-bad.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>ü§¨ Phung ph√≠ ph·∫ßn hi·ªÉn th·ªã ƒë·∫≠p v√†o m·∫∑t user ƒë·∫ßu ti√™n b·∫±ng c√°i h√¨nh v·ªõ v·∫©n, n√∫t \"Learn more\" ch·∫£ m·∫•y t√°c d·ª•ng</p>\n<h2 id=\"gi·ªØ-menu-√≠t-m√†-ch·∫•t\"><a href=\"#gi%E1%BB%AF-menu-%C3%ADt-m%C3%A0-ch%E1%BA%A5t\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·ªØ menu √≠t m√† ch·∫•t</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/hpnav-menus-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ B·ªçn user x√†i mobile r·∫•t l∆∞·ªùi cu·ªôn l√™n cu·ªôn xu·ªëng ƒë·ªÉ t√¨m c√°i menu n√†o ƒë√≥</p>\n<h2 id=\"l√∫c-n√†o-c≈©ng-ch·ª´a-ƒë∆∞·ªùng-v·ªÅ-nh√†\"><a href=\"#l%C3%BAc-n%C3%A0o-c%C5%A9ng-ch%E1%BB%ABa-%C4%91%C6%B0%E1%BB%9Dng-v%E1%BB%81-nh%C3%A0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L√∫c n√†o c≈©ng ch·ª´a ƒë∆∞·ªùng v·ªÅ nh√†</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/hpnav-hp-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ N·∫øu b·∫°n kh√¥ng cho click v√†o c√°i logo ƒë·ªÉ quay v·ªÅ trang ch·ªß, b·∫°n kh√¥ng ph·∫£i ng∆∞·ªùi ·ªü h√†nh tinh ch√∫ng t√¥i</p>\n<h2 id=\"qu·∫£ng-c√°o-d·∫°ng-popup-ƒë·ª´ng-c∆∞·ªõp-h·∫øt-s√†n-di·ªÖn\"><a href=\"#qu%E1%BA%A3ng-c%C3%A1o-d%E1%BA%A1ng-popup-%C4%91%E1%BB%ABng-c%C6%B0%E1%BB%9Bp-h%E1%BA%BFt-s%C3%A0n-di%E1%BB%85n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Qu·∫£ng c√°o d·∫°ng popup ƒë·ª´ng c∆∞·ªõp h·∫øt s√†n di·ªÖn</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/hpnav-promo-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ Qu·∫£ng c√°o th√¨ c≈©ng v·ª´a v·ª´a ch·ª© ƒë·ª´ng c∆∞·ªõp h·∫øt c·∫£ n·ªôi dung trang web</p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/hpnav-promo-bad.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>ü§¨ M·ªôt trong nh·ªØng t√≠nh nƒÉng y√™u th√≠ch c·ªßa b·ªçn marketing l√†m ƒëau l√≤ng user, popup, popup, popup</p>\n<h2 id=\"t√¨m-ki·∫øm\"><a href=\"#t%C3%ACm-ki%E1%BA%BFm\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T√¨m ki·∫øm</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/ss-search-good.jpg\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ √î search l·ªì l·ªô ngo√†i m·∫∑t ti·ªÅn</p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/ss-search-bad.jpg\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>ü§¨ √î search ·∫©n s√¢u trong menu collapse</p>\n<h2 id=\"k·∫øt-qu·∫£-search\"><a href=\"#k%E1%BA%BFt-qu%E1%BA%A3-search\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>K·∫øt qu·∫£ search</h2>\n<p>User kh√¥ng r·∫£nh ƒëi v√≤ng v√≤ng ƒë·ªÉ ki·ªÉm tra k·∫øt qu·∫£ t√¨m ki·∫øm c√≥ ƒë√∫ng kh√¥ng. T·ª± ƒë·ªìng ƒëi·ªÅn c√¢u t√¨m ki·∫øm, s·ª≠a l·ªói ch√≠nh t·∫£, g·ª£i √Ω nh·ªØng t√¨m ki·∫øm t∆∞∆°ng t·ª±. Kh√¥ng c·∫ßn ph√°t minh l·∫°i c√°i b√°nh xe m·ªõi, d√πng <a href=\"https://cse.google.com/cse/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Google custom search</a></p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/ss-relevant-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ Tr·∫£ k·∫øt qu·∫£ l√† c√°c s·∫£n ph·∫©m li√™n quan t·ªõi tr·∫ª em</p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/ss-relevant-bad.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>ü§¨ C√≥ ch·ªØ \"kid\" l√† tr·∫£ v·ªÅ h·∫øt</p>\n<h2 id=\"b·ªô-l·ªçc-t√¨m-ki·∫øm\"><a href=\"#b%E1%BB%99-l%E1%BB%8Dc-t%C3%ACm-ki%E1%BA%BFm\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B·ªô l·ªçc t√¨m ki·∫øm</h2>\n<p>User r·∫•t c·∫ßn b·ªô l·ªçc ƒë·ªÉ gi·ªõi h·∫°n l·∫°i k·∫øt qu·∫£ c·∫ßn t√¨m, filter ƒë·∫∑t d∆∞·ªõi ngay √¥ search v√† c√≥ bao nhi√™u k·∫øt qu·∫£ ·ª©ng v·ªõi filter ƒë√≥</p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/ss-filters-good.jpg\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ Lu√¥n hi·ªán filter</p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/ss-filters-bad.jpg\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>ü§¨ ·∫®n lu√¥n filter</p>\n<h2 id=\"cho-user-x√†i-tr∆∞·ªõc-khi-√©p-user-ƒëƒÉng-k√Ω\"><a href=\"#cho-user-x%C3%A0i-tr%C6%B0%E1%BB%9Bc-khi-%C3%A9p-user-%C4%91%C4%83ng-k%C3%BD\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cho user x√†i tr∆∞·ªõc khi √©p user ƒëƒÉng k√Ω</h2>\n<p>User r·∫•t kh√≥ ch·ªãu khi b·ªã bu·ªôc ph·∫£i ƒëƒÉng k√Ω ƒë·ªÉ s·ª≠ d·ª•ng m√† ch∆∞a h·ªÅ bi·∫øt b√™n trong site l√† c√°i g√¨, y√™u c·∫ßu cung c·∫•p c√°c th√¥ng tin c√° nh√¢n qu√° s·ªõm, khi trang b·∫°n ch∆∞a n·ªïi ti·∫øng nh∆∞ Facebook, th√¨ ch·∫£ ai ƒëƒÉng k√Ω ƒë√¢u</p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/cc-gates-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ  Cho user l∆∞·ª£n l·ªù website r·ªìi m·ªõi g·ª£i √Ω ƒëƒÉng k√Ω</p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/cc-gates-bad.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>ü§¨ √âp user ƒëƒÉng k√Ω m·ªõi cho ƒë·ªçc</p>\n<h2 id=\"mua-h√†ng-nh∆∞-kh√°ch-n·∫∑c-danh\"><a href=\"#mua-h%C3%A0ng-nh%C6%B0-kh%C3%A1ch-n%E1%BA%B7c-danh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mua h√†ng nh∆∞ kh√°ch n·∫∑c danh</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/cc-purchase-guest-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ  Ngo√†i ƒë·ªùi c√≥ ai b·∫Øt b·∫°n cung c·∫•p email m·ªõi cho mua h√†ng?</p>\n<p>User kho√°i nhanh nh·∫•t, ti·ªán nh·∫•t, b·ªõt ƒë√≤i h·ªèi nh·∫•t khi h·ªç mu·ªën mua h√†ng, cung c·∫•p email c√° nh√¢n m√† kh√¥ng r√µ r√†ng h·ªç ƒë∆∞·ª£c l·ª£i l·ªôc g√¨ t·ª´ ƒë√≥, h·ªç ko s·∫µn s√†ng ƒëƒÉng k√Ω mua h√†ng</p>\n<h2 id=\"s·ª≠-d·ª•ng-calendar-cho-th√¥ng-tin-ng√†y-th√°ng\"><a href=\"#s%E1%BB%AD-d%E1%BB%A5ng-calendar-cho-th%C3%B4ng-tin-ng%C3%A0y-th%C3%A1ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·ª≠ d·ª•ng calendar cho th√¥ng tin ng√†y th√°ng</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/forms-calendar-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ N·∫øu c·∫ßn user cung c·∫•p th√¥ng tin ng√†y th√°ng, cho user ch·ªçn t·ª´ l·ªãch, ƒë·ª´ng t√°ch ra th√†nh 3 text input ng√†y-th√°ng-nƒÉm</p>\n<h2 id=\"h·∫°n-ch·∫ø-l·ªói-b·∫Øt-validation-ngay-khi-nh·∫≠p\"><a href=\"#h%E1%BA%A1n-ch%E1%BA%BF-l%E1%BB%97i-b%E1%BA%AFt-validation-ngay-khi-nh%E1%BA%ADp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>H·∫°n ch·∫ø l·ªói, b·∫Øt validation ngay khi nh·∫≠p</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/forms-multipart-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ label r√µ r√†ng ƒë·ªÉ user bi·∫øt c·∫ßn nh·∫≠p th√¥ng tin g√¨, n·∫øu ƒë∆∞·ª£c b·∫Øt validation ngay khi user nh·∫≠p xong</p>\n<h2 id=\"c√≥-th·ªÉ-ph√≥ng-to-ƒë·ªÉ-xem-chi-ti·∫øt-·∫£nh-s·∫£n-ph·∫©m\"><a href=\"#c%C3%B3-th%E1%BB%83-ph%C3%B3ng-to-%C4%91%E1%BB%83-xem-chi-ti%E1%BA%BFt-%E1%BA%A3nh-s%E1%BA%A3n-ph%E1%BA%A9m\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√≥ th·ªÉ ph√≥ng to ƒë·ªÉ xem chi ti·∫øt ·∫£nh s·∫£n ph·∫©m</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/sw-make-images-expandable-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ Zoom v√†o ƒë·ªÉ soi chi ti·∫øt s·∫£n ph·∫©m lu√¥n l√† ƒëi·ªÅu kh√°ch h√†ng c·∫ßn</p>\n<h2 id=\"b√°o-user-bi·∫øt-xem-·ªü-ch·∫ø-ƒë·ªô-n√†o-l√†-t·ªët-nh·∫•t\"><a href=\"#b%C3%A1o-user-bi%E1%BA%BFt-xem-%E1%BB%9F-ch%E1%BA%BF-%C4%91%E1%BB%99-n%C3%A0o-l%C3%A0-t%E1%BB%91t-nh%E1%BA%A5t\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B√°o user bi·∫øt xem ·ªü ch·∫ø ƒë·ªô n√†o l√† t·ªët nh·∫•t</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/us-orientation.jpg\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ N·∫øu thi·∫øt k·∫ø hi·ªÉn th·ªã ƒë·∫πp nh·∫•t khi l·∫≠t ngang, t·∫°i sao kh√¥ng b√°o user ƒë·ªÉ h·ªç bi·∫øt n√™n xem ƒëi·ªán tho·∫°i ·ªü ch·∫ø ƒë·ªô n·∫±m ngang</p>\n<h2 id=\"ƒë·ª´ng-m·ªü-nhi·ªÅu-tab\"><a href=\"#%C4%91%E1%BB%ABng-m%E1%BB%9F-nhi%E1%BB%81u-tab\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ƒê·ª´ng m·ªü nhi·ªÅu tab</h2>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/sw-single-browser-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ N·∫øu l√† internal link, t·∫°i sao l·∫°i m·ªü tab m·ªõi tr√™n tr√¨nh duy·ªát?</p>\n<h2 id=\"n√≥i-r√µ-t·∫°i-sao-b·∫°n-c·∫ßn-l·∫•y-th√¥ng-tin-v·ªã-tr√≠-c·ªßa-user\"><a href=\"#n%C3%B3i-r%C3%B5-t%E1%BA%A1i-sao-b%E1%BA%A1n-c%E1%BA%A7n-l%E1%BA%A5y-th%C3%B4ng-tin-v%E1%BB%8B-tr%C3%AD-c%E1%BB%A7a-user\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>N√≥i r√µ t·∫°i sao b·∫°n c·∫ßn l·∫•y th√¥ng tin v·ªã tr√≠ c·ªßa user</h2>\n<p>User ƒë∆∞·ª£c quy·ªÅn bi·∫øt t·∫°i sao ch√∫ng ta mu·ªën l·∫•y th√¥ng tin v·ªã tr√≠ hi·ªán t·∫°i c·ªßa user, l√™n ƒë·∫∑t ph√≤ng kh√°ch s·∫°n cho m·ªôt chuy·∫øn ngh·ªâ m√°t ·ªü Campuchia, m√† b·∫Øt user cho ph√©p l·∫•y th√¥ng tin v·ªã tr√≠ hi·ªán t·∫°i l√†m g√¨? V·ªõi nh·ªØng d·ªãch v·ª• nh∆∞ t√¨m qu√°n ƒÉn g·∫ßn v·ªã tr√≠ user, c·ª© m·∫∑c ƒë·ªãnh b·ªè tr·ªëng v·ªã tr√≠ hi·ªán t·∫°i, cho ph√©p user ch·ªçn \"Find near me\"</p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/sw-navigation-good.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>‚úÖ Y√™u c·∫ßu l·∫•y th√¥ng tin v·ªã tr√≠ khi c·∫ßn thi·∫øt</p>\n<p><img src=\"https://developers.google.com/web/fundamentals/design-and-ux/principles/images/sw-navigation-bad.png\" alt=\"ƒêi·ªÅu g√¨ n√≥i m·ªôt trang web c√≥ UX t·ªët tr√™n mobile\"></p>\n<p>ü§¨ V·ª´a bay v√†o trang web ƒë√£ b·ªã ƒë√≤i th√¥ng tin v·ªã tr√≠ hi·ªán t·∫°i</p>\n<ul>\n<li>üìú <a href=\"https://developers.google.com/web/fundamentals/design-and-ux/principles\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">What Makes a Good Mobile Site? ‚Äï By Jenny Gove</a></li>\n</ul>\n","cover_image":""}},{"node":{"id":"c288e21d08d57a4cc39d7265faf2e95f","title":"IIFE trong javascript l√† c√°i g√¨ v·∫°i","path":"/2019-09-20-gioi-thieu-iife-cua-javascript/","date":"2019-09-20","timeToRead":3,"desc":"Gi·ªõi thi·ªáu v·ªÅ √çp-Phi trong javascript, tuy kh√¥ng c√≤n d√πng nhi·ªÅu n·ªØa, nh∆∞ng v·∫´n l√† m·ªôt ki·∫øn th·ª©c t·ªët c·∫ßn bi·∫øt","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#khai-b%c3%a1o-function\">Khai b√°o function</a></li>\n<li><a href=\"#iife\">IIFE</a></li>\n<li><a href=\"#es6-module\">ES6 Module</a></li>\n</ul>\n<!-- /TOC -->\n<p>M·ªôt trong nh·ªØng pattern c√≥ t√™n r·∫•t <em>ki√™u</em> trong javascript \"√≠p-phi\" - <strong>IIFE</strong></p>\n<p>Tr∆∞·ªõc khi t√¨m hi·ªÉu n√≥ l√† g√¨, t·∫°i sao ch√∫ng ta c·∫ßn n√≥, √¥n l·∫°i kh√°i ni·ªám function cƒÉn b·∫£n trong javascript</p>\n<h2 id=\"khai-b√°o-function\"><a href=\"#khai-b%C3%A1o-function\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Khai b√°o function</h2>\n<p>M·ªôt javascript developer ƒë·ªÅu bi·∫øt c√°ch khai b√°o ch√≠nh quy n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">sayHelloWorld</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>‚ÄúHello world‚Äù<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">sayHelloWorld</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>1 c√°ch kh√°c, g·ªçi l√† <strong>function expression</strong>, ƒë·∫∑t bi·∫øn v√† g√°n n√≥ v√†o function</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">sayHelloWorld</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">sayHelloWorld</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>C√°c callback ch√∫ng ta vi·∫øt ƒëi·ªÅu l√† function expression ki·ªÉu n√†y</p>\n<blockquote>\n<p>Function trong javascript c√≥ th·ªÉ xem nh∆∞ nh·ªØng gi√° tr·ªã kh√°c, c√≥ th·ªÉ truy·ªÅn v√†o nh∆∞ tham s·ªë cho function kh√°c</p>\n</blockquote>\n<h2 id=\"iife\"><a href=\"#iife\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>IIFE</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">!</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello IIFE\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>N·∫øu copy ƒëo·∫°n n√†y d√°n v√†o console c·ªßa tr√¨nh duy·ªát, c√¢u <code class=\"language-inline-text\">alert</code> s·∫Ω xu·∫•t hi·ªán, nh∆∞ng n√≥ s·∫Ω kh√¥ng bao gi·ªù c√≥ th·ªÉ hi·ªán l·∫°i l·∫ßn n·ªØa</p>\n<blockquote>\n<p>function n√†y sau khi ho√†n th√†nh nhi·ªám v·ª•, n√≥ ƒëi lu√¥n kh√¥ng quay l·∫°i</p>\n</blockquote>\n<p>N·∫øu b·∫°n tinh √Ω, b·∫°n s·∫Ω th·∫Øc m·∫Øc t·∫°i sao l·∫°i c√≥ <code class=\"language-inline-text\">!</code> ph√≠a tr∆∞·ªõc function v·∫≠y?</p>\n<p>Khi javascript th·∫•y keyword <strong>function</strong> n√≥ s·∫Ω xem kh√∫c sau l√† ph·∫ßn khai b√°o cho function. Nh∆∞ng khi ch√∫ng ta th√™m <strong>!</strong> ph√≠a tr∆∞·ªõc, ch√∫ng ta ƒëang √©p javascript xem n√≥ l√† m·ªôt <strong>expression</strong>, nghƒ©a l√† ph·∫£i tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã</p>\n<p>ƒêi·ªÅu th√∫ v·ªã l√† ·ªü ch·ªï <code class=\"language-inline-text\">{}()</code>, <strong>n√≥ ch·∫°y function n√†y lu√¥n</strong></p>\n<blockquote>\n<p>M·ªôt function g·ªçi lu√¥n sau khi t·∫°o, g·ªçi xong th√¨ h·∫øt g·ªçi l·∫°i ƒë∆∞·ª£c g·ªçi l√† IIFE</p>\n</blockquote>\n<p>Kh√¥ng nh·∫•t thi·∫øt ph·∫£i d√πng <code class=\"language-inline-text\">!</code>, b·∫°n c√≥ th·ªÉ d√πng <code class=\"language-inline-text\">+</code>, <code class=\"language-inline-text\">-</code>, <code class=\"language-inline-text\">~</code>, <code class=\"language-inline-text\">void</code> ƒë·ªÉ √©p n√≥ v·ªÅ <em>expression</em></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">void</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> ‚Ä¶ <span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>M·ªôt c√°ch kh√°c n·ªØa, c√°ch n√†y v·∫´n hay d√πng nh·∫•t</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ho·∫∑c</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Ch√∫ng ta v·∫´n s·ª≠ d·ª•ng IIFE nh∆∞ m·ªôt module trong javascript (tr∆∞·ªõc ƒë√¢y), v√¨ n√≥ cho ch√∫ng ta ƒë∆∞a bi·∫øn v√†o m·ªôt <em>ƒë·∫∑c khu kinh t·∫ø</em>, nh·ªØng th·∫±ng kh√°c s·∫Ω kh√¥ng truy c·∫≠p ƒë∆∞·ª£c bi·∫øn khai b√°o b√™n trong IIFE</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">initGame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// bi·∫øn private</span>\n\t<span class=\"token keyword\">var</span> live\n\t<span class=\"token keyword\">var</span> weapon\n\n\t<span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// function private</span>\n\t<span class=\"token keyword\">function</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\tlive <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n\t\tweapon <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>T·∫•t nhi√™n n·∫øu l√† module, th√¨ ph·∫£i c√≥ nh·ªØng th·ª© public ƒë·ªÉ th·∫±ng kh√°c g·ªçi t·ªõi, mu·ªën th·∫±ng n√†o public ch√∫ng ta return l√† ƒë∆∞·ª£c</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">initGame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// bi·∫øn private</span>\n\t<span class=\"token keyword\">var</span> live\n<span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// function private</span>\n\t<span class=\"token keyword\">function</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\tlive <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\tinit<span class=\"token operator\">:</span> init\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>N·∫øu mu·ªën truy·ªÅn v√†o tham s·ªë cho IIFE </p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token constant\">IIFE</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">msg<span class=\"token punctuation\">,</span> times</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> times<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello!\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"es6-module\"><a href=\"#es6-module\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ES6 Module</h2>\n<p>Khi ES6 ra ƒë·ªùi, c√°ch vi·∫øt IIFE kh√¥ng c√≤n ƒë∆∞·ª£c ‚Äúth·ªãnh h√†nh‚Äù nh∆∞ tr∆∞·ªõc</p>\n<p>Th√≠ d·ª•, tr∆∞·ªõc ƒë√¢y ƒë·ªÉ bi·∫øn private</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> scoped <span class=\"token operator\">=</span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>scoped<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ReferenceError</span></code></pre></div>\n<p>Gi·ªù c√≥ <code class=\"language-inline-text\">let</code> v√† <code class=\"language-inline-text\">const</code> ƒë·∫∑t n√≥ v√†o block l√† xem nh∆∞ private</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> scoped <span class=\"token operator\">=</span> <span class=\"token number\">42</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>scoped<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ReferenceError</span></code></pre></div>\n<p>C√°ch vi·∫øt n√†y g·ªçn g√†ng, nh√¨n v√†o ai c≈©ng hi·ªÉu, ko c·∫ßn gi·∫£i th√≠ch nhi·ªÅu nh∆∞ IIFE</p>\n<p>Module ƒë∆∞·ª£c hi·ªÉu l√† <strong>t·ª´ng file</strong> javascript, nh·ªØng g√¨ kh√¥ng <code class=\"language-inline-text\">export</code> l√† private h·∫øt</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// myModule.js</span>\n<span class=\"token keyword\">let</span> counter <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">increment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    counter<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>    \n\n<span class=\"token comment\">// logic.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> increment <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'myModule.js'</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">increment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>B√†i vi·∫øt ƒë√£ tham kh·∫£o</p>\n<ul>\n<li>üìú <a href=\"https://medium.com/@vvkchandra/essential-javascript-mastering-immediately-invoked-function-expressions-67791338ddc6\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Mastering Immediately-Invoked Function Expressions ‚Äï Chandra Gundamaraju</a></li>\n<li>üìú <a href=\"https://hashnode.com/post/do-es6-modules-make-the-case-of-iifes-obsolete-civ96wet80scqgc538un20es0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Do ES6 Modules make the case of IIFEs obsolete?</a></li>\n</ul>\n","cover_image":""}},{"node":{"id":"a2b3c4d412bbe4fb1e2bdc422ba648be","title":"B·ª©c ·∫£nh ch·∫ø th√∫ v·ªã v·ªÅ so s√°nh trong Javascript","path":"/2019-09-15-anh-che-javascript/","date":"2019-09-15","timeToRead":1,"desc":"Qua b·ª©c ·∫£nh ch·∫ø n√†y, ch√∫ng ta bi·∫øt ƒë∆∞·ª£c nhi·ªÅu ƒëi·ªÅu hay ho v·ªÅ so s√°nh trong javascript","content":"<p>B·ªô ·∫£nh th√∫ v·ªã m√¥ t·∫£ k·ªÉ chuy·ªán so s√°nh trong Javascript, v√¥ t√¨nh l·ª•m xem ƒë∆∞·ª£c c√°i h√¨nh n√†y tr√™n Reddit</p>\n<p><img src=\"https://miro.medium.com/max/500/0*kjcbVX8Y9TFoHGDO.png\" alt=\"Nguy√™n t·∫Øc b·∫Øt c·∫ßu javascript\"></p>\n<p>B·∫°n c√≥ th·ªÉ copy nguy√™n ƒëo·∫°n code n√†y paste v√†o tr√¨nh duy·ªát ƒë·ªÉ xem k·∫øt qu·∫£</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token number\">0</span> <span class=\"token operator\">==</span> <span class=\"token string\">'0'</span>\n<span class=\"token number\">0</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\">// Nguy√™n t·∫Øc b·∫Øt c·∫ßu c√≥ ƒë√∫ng?</span>\n\n<span class=\"token string\">'0'</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>Chuy·ªán g√¨ ƒë√£ x·∫£y ra v·∫≠y?</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token number\">0</span> <span class=\"token operator\">==</span> <span class=\"token string\">'0'</span> <span class=\"token comment\">// => true</span></code></pre></div>\n<p>V·ªõi c√°c ng√¥n ng·ªØ l·∫≠p tr√¨nh kh√°c th√¨ ch∆∞a bi·∫øt, nh∆∞ng v·ªõi javascript <code class=\"language-inline-text\">==</code> s·∫Ω t·ª± √Ω <strong>chuy·ªÉn 2 gi√° tr·ªã mu·ªën so s√°nh v·ªÅ c√πng m·ªôt ki·ªÉu</strong>, hay ng∆∞·ªùi ta v·∫´n g·ªçi l√† ko quan t√¢m ƒë·∫øn ki·ªÉu d·ªØ li·ªáu khi so s√°nh.</p>\n<p>Trong nhi·ªÅu tr∆∞·ªùng h·ª£p ch√∫ng ta c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng c√°ch so s√°nh <code class=\"language-inline-text\">==</code> ƒë·ªÉ ti·ªán, javascript t·ª± ƒë·ªông chuy·ªÉn v·ªÅ m·ªôt ki·ªÉu, tuy nhi√™n s·∫Ω ko khuy·∫øn kh√≠ch c√°ch n√†y</p>\n<p>Theo nh∆∞ <a href=\"https://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">specify</a></p>\n<blockquote>\n<p>N·∫øu x = Number, y = String, tr·∫£ v·ªÅ x == ToNumber(y),</p>\n</blockquote>\n<p>N√≥ ƒë∆∞a gi√° tr·ªã b√™n ph·∫£i v·ªÅ number m√† kh√¥ng b√°o cho ai bi·∫øt h·∫øt</p>\n<p><img src=\"https://miro.medium.com/max/581/0*njs7mQoUYjWG13Sm.jpeg\" alt=\"T·ª± ƒë·ªông convert string sang number\"></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token number\">0</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// => true</span></code></pre></div>\n<blockquote>\n<p>N·∫øu x l√† String ho·∫∑c Number, y l√† Object, tr·∫£ v·ªÅ x == ToPrimitive(y)</p>\n</blockquote>\n<p><img src=\"https://miro.medium.com/max/618/0*qN97ouGakJx0Gthb.jpg\" alt=\"Array l√† object\"></p>\n<p>ƒê√∫ng! Array trong javascript c≈©ng l√† object</p>\n<p>ToPrimitive(y) ·ªü ƒë√¢y, JS s·∫Ω g·ªçi v√†o h√†m <code class=\"language-inline-text\">.toString</code> ƒë·ªÉ convert v·ªÅ ki·ªÉu primitive, tr∆∞·ªùng h·ª£p l√† array n√≥ n·ªëi to√†n b·ªô gi√° tr·ªã trong array th√†nh chu·ªói</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// => \"1,2,3\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'hello'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'world'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// => \"hello,world\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// => \"\"</span></code></pre></div>\n<p>To√†n b·ªô nh·ªØng ƒëi·ªÅu v√¥ l√Ω n√†y ƒë√£ ƒë∆∞·ª£c ƒë∆∞a v√†o <a href=\"https://www.ecma-international.org/ecma-262/5.1/#sec-8.12.8\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">vƒÉn b·∫£n ch√≠nh quy!</a></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">'0'</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p><img src=\"https://miro.medium.com/max/500/0*69mYzhumogiPLSh6.png\" alt=\"So s√°nh string v√† array\"></p>\n<p>C·ª© theo nguy√™n t·∫Øc ƒë√£ quy ƒë·ªãnh m√† l√†m</p>\n<blockquote>\n<p>N·∫øu x l√† String ho·∫∑c Number, y l√† Object, tr·∫£ v·ªÅ x == ToPrimitive(y)</p>\n</blockquote>\n<p>B∆∞·ªõc m·ªôt <code class=\"language-inline-text\">ToPrimitive([])</code> => ch√∫ng ta s·∫Ω tr·ªü th√†nh so s√°nh <code class=\"language-inline-text\">'0' == \"\"</code>, kh√°c nhau r√µ r√†ng h√©.</p>\n","cover_image":""}},{"node":{"id":"a4a5c1691d4f9e7958491cdb2d8003c9","title":"L√†m quen kh√°i ni·ªám CORS c·ªßa Web","path":"/2019-09-06-gioi-thieu-can-ban-ve-cors/","date":"2019-09-06","timeToRead":3,"desc":"B√†i n√†y kh√° cƒÉn b·∫£n v√† c·∫ßn thi·∫øt cho b·∫°n n√†o ch∆∞a bi·∫øt g√¨ v·ªÅ CORS, nghe ai ƒë√≥ n√≥i v·ªÅ t·ª´ kh√≥a gh√™ g·ªõm n√†y m√† ko bi·∫øt n√≥ l√† g√¨, kh√¥ng ƒë·ªÉ c·∫≠p ƒë·∫øn v·∫•n ƒë·ªÅ setup l√†m sao ƒë·ªÉ ch·∫°y CORS tr√™n server - v√¨ m√¨nh ko bi·∫øt code ph√≠a server ƒë√¢u","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#access-control-allow-origin\">Access-Control-Allow-Origin</a></li>\n<li>\n<p><a href=\"#c%c3%a1c-ki%e1%bb%83u-request-cors\">C√°c ki·ªÉu request CORS</a></p>\n<ul>\n<li><a href=\"#request-%c4%91%c6%a1n-thu%e1%ba%a7n-nh%c6%b0-get-post-head\">Request ƒë∆°n thu·∫ßn nh∆∞ <code class=\"language-inline-text\">GET</code>, <code class=\"language-inline-text\">POST</code>, <code class=\"language-inline-text\">HEAD</code></a></li>\n<li><a href=\"#preflight-request\">Preflight request</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<p>Cross-Origin Resource Sharing (CORS) l√† m·ªôt c∆° ch·∫ø s·ª≠ d·ª•ng th√¥ng tin tr√™n HTTP header ƒë·ªÉ b√°o v·ªõi tr√¨nh duy·ªát, cho ph√©p ·ª©ng d·ª•ng web ch·∫°y t·ª´ <em>nh√†</em> n√†y, c√≥ quy·ªÅn truy xu·∫•t resource t·ª´ 1 <strong>nh√†</strong> kh√°c (2 th·∫±ng g·ªçi l√† kh√°c nh√† khi kh√°c t√™n mi·ªÅn, kh√°c port, kh√°c giao th·ª©c http v√† https)</p>\n<p>V√≠ d·ª• m·ªôt request cross-origin: nh√† b·∫°n ·ªü <a href=\"http://domain-a.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://domain-a.com</a> d√πng javascript g·ª≠i request b√™n nh√† <a href=\"http://api.domain-b.com/data.json\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://api.domain-b.com/data.json</a></p>\n<p>V√¨ l√Ω do b·∫£o m·∫≠t, tr√¨nh duy·ªát s·∫Ω kh√¥ng cho th·ª±c hi·ªán c√°c request cross-origin nh∆∞ v·∫≠y. Nghƒ©a l√† c√°c ·ª©ng d·ª•ng web g·ªçi API ch·ªâ c√≥ th·ªÉ s·ª≠ d·ª•ng resource t·ª´ c√πng <em>nh√†</em> (same-origin policy l√† t·ª´ chu·∫©n, n·∫øu b·∫°n c·∫ßn research th√™m), tr·ª´ khi response t·ª´ <em>nh√†</em> kh√°c ƒë√≥ cho ph√©p g·ªçi CORS (b·∫±ng c√°ch th√™m m·ªôt s·ªë th√¥ng tin tr√™n header)</p>\n<p>C√°c request c√≥ th·ªÉ d√πng CORS</p>\n<ul>\n<li>G·ª≠i m·ªôt network request b·∫±ng <code class=\"language-inline-text\">fetch</code></li>\n<li>Web font, ho·∫∑c load <code class=\"language-inline-text\">@font-face</code> trong CSS</li>\n<li>WebGL texture</li>\n<li>Image, video</li>\n</ul>\n<p>Khi config th√†nh c√¥ng tr√™n server, server s·∫Ω tr·∫£ th√™m m·ªôt s·ªë th√¥ng tin tr√™n header ƒë·ªÉ tr√¨nh duy·ªát bi·∫øt v√† c·∫•p ph√©p ch·∫°y</p>\n<h2 id=\"access-control-allow-origin\"><a href=\"#access-control-allow-origin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Access-Control-Allow-Origin</h2>\n<p>Ch·ªâ ƒë·ªãnh c√°c t√™n mi·ªÅn n√†o ƒë∆∞·ª£c ph√©p truy c·∫≠p,  v√≠ d·ª• ƒë·ªÉ cho ph√©p t·∫•t c·∫£ t√™n mi·ªÅn c√≥ th·ªÉ g·ªçi t·ªõi</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">Access-Control-Allow-Origin<span class=\"token operator\">:</span> *</code></pre></div>\n<p>Cho ph√©p 1 t√™n mi·ªÅn c·ª• th·ªÉ</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">Access-Control-Allow-Origin<span class=\"token operator\">:</span> https<span class=\"token operator\">:</span><span class=\"token comment\">//example.com</span></code></pre></div>\n<h2 id=\"c√°c-ki·ªÉu-request-cors\"><a href=\"#c%C3%A1c-ki%E1%BB%83u-request-cors\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°c ki·ªÉu request CORS</h2>\n<p>C√≥ 2 ki·ªÉu CORS request: c√°c request <em>ƒë∆°n thu·∫ßn</em>, v√† c√°c request <strong>preflight</strong>, 2 c√°i n√†y s·∫Ω do tr√¨nh duy·ªát x√°c ƒë·ªãnh s·ª≠ d·ª•ng c√°i n√†o, l√† m·ªôt developer ch√∫ng ta c≈©ng th·∫≠t s·ª± kh√¥ng c·∫ßn quan t√¢m.</p>\n<h3 id=\"request-ƒë∆°n-thu·∫ßn-nh∆∞-get-post-head\"><a href=\"#request-%C4%91%C6%A1n-thu%E1%BA%A7n-nh%C6%B0-get-post-head\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Request ƒë∆°n thu·∫ßn nh∆∞ <code class=\"language-inline-text\">GET</code>, <code class=\"language-inline-text\">POST</code>, <code class=\"language-inline-text\">HEAD</code></h3>\n<p>C√°c request ƒë∆∞·ª£c tr√¨nh duy·ªát x·∫øp lo·∫°i <em>ƒë∆°n thu·∫ßn</em> l√†\nGET, POST, HEAD\nS·ª≠ d·ª•ng <a href=\"https://fetch.spec.whatwg.org/#cors-safelisted-request-header\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CORS safe -listed header</a>\nKhi s·ª≠ d·ª•ng <code class=\"language-inline-text\">Content-Type</code>, ch·ªâ c√°c gi√° tr·ªã sau l√† ƒë∆∞·ª£c cho ph√©p <code class=\"language-inline-text\">application/x-www-form-urlencoded</code>, <code class=\"language-inline-text\">multipart/form-data</code>,  <code class=\"language-inline-text\">text/plain</code>\nKh√¥ng c√≥ c√°c listener n√†o ƒë∆∞·ª£c ƒëƒÉng k√Ω tr√™n <code class=\"language-inline-text\">XMLHttpRequestUpload</code>\nKh√¥ng s·ª≠ d·ª•ng <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ReadableStream</a></p>\n<h3 id=\"preflight-request\"><a href=\"#preflight-request\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Preflight request</h3>\n<p>ƒê∆°n gi·∫£n l√† ng∆∞·ª£c l·∫°i c√°c tr∆∞·ªùng h·ª£p ·ªü tr√™n th√¨ s·∫Ω l√† d·∫°ng preflight, tr√¨nh duy·ªát s·∫Ω g·ª≠i ƒëi m·ªôt request ·ªü ph∆∞∆°ng th·ª©c <code class=\"language-inline-text\">options</code> ƒë·ªÉ x√°c ƒë·ªãnh server c√≥ h·ªó tr·ª£ ko tr∆∞·ªõc khi th·ª±c s·ª± g·ª≠i ƒëi request ch√≠nh.</p>\n<p>ƒê·ªëi v·ªõi lo·∫°i preflight request, ngo√†i vi·ªác chuy·ªÉn ph∆∞∆°ng th·ª©c sang <code class=\"language-inline-text\">options</code>, n√≥ s·∫Ω set th√™m m·ªôt s·ªë thu·ªôc t√≠nh tr√™n header</p>\n<p><code class=\"language-inline-text\">Access-Control-Request-Method</code>:  ph∆∞∆°ng th·ª©c GET hay POST n√™n ƒë∆∞·ª£c s·ª≠ d·ª•ng\n<code class=\"language-inline-text\">Access-Control-Request-Headers</code>: ki·ªÉu header mu·ªën s·ª≠ d·ª•ng\n<code class=\"language-inline-text\">Origin</code>: n∆°i g·ª≠i request</p>\n<p>V√≠ d·ª•</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"># Request\ncurl -i -X OPTIONS localhost<span class=\"token operator\">:</span><span class=\"token number\">3001</span>/api/ping \\\n-H 'Access-Control-Request-Method<span class=\"token operator\">:</span> GET' \\\n-H 'Access-Control-Request-Headers<span class=\"token operator\">:</span> Content-Type<span class=\"token punctuation\">,</span> Accept' \\\n-H 'Origin<span class=\"token operator\">:</span> http<span class=\"token operator\">:</span><span class=\"token comment\">//localhost:3000'</span></code></pre></div>\n<p>Ch√∫ng ta c√≥ th·ªÉ t·∫°m d·ªãch n√≥ ra ng√¥n ng·ªØ t·ª± nhi√™n l√† ‚ÄúTao mu·ªën th·ª±c hi·ªán m·ªôt request d·∫°ng GET v·ªõi <code class=\"language-inline-text\">content-type</code> v√† <code class=\"language-inline-text\">Accept</code> header t·ª´ ƒë·ªãa ch·ªâ localhost:3000 c√≥ ƒë∆∞·ª£c ko?‚Äù</p>\n<p>K·∫øt qu·∫£ tr·∫£ v·ªÅ t·ª´ server s·∫Ω cho ph√©p tr√¨nh duy·ªát ti·∫øn h√†nh ti·∫øp, hay d·ª´ng l·∫°i ·ªü ƒë√≥. Response t·ª´ server s·∫Ω nh∆∞ th·∫ø n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">HTTP/<span class=\"token number\">1.1</span> <span class=\"token number\">204</span> No Content\nAccess-Control-Allow-Origin<span class=\"token operator\">:</span> *\nAccess-Control-Allow-Methods<span class=\"token operator\">:</span> GET<span class=\"token punctuation\">,</span>HEAD<span class=\"token punctuation\">,</span>PUT<span class=\"token punctuation\">,</span>PATCH<span class=\"token punctuation\">,</span>POST<span class=\"token punctuation\">,</span>DELETE\nVary<span class=\"token operator\">:</span> Access-Control-Request-Headers\nAccess-Control-Allow-Headers<span class=\"token operator\">:</span> Content-Type<span class=\"token punctuation\">,</span> Accept\nContent-Length<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\nDate<span class=\"token operator\">:</span> Fri<span class=\"token punctuation\">,</span> <span class=\"token number\">05</span> Apr <span class=\"token number\">2019</span> <span class=\"token number\">11</span><span class=\"token operator\">:</span><span class=\"token number\">41</span><span class=\"token operator\">:</span><span class=\"token number\">08</span> GMT\nConnection<span class=\"token operator\">:</span> keep-alive</code></pre></div>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://auth0.com/blog/cors-tutorial-a-guide-to-cross-origin-resource-sharing/\n\">üìú CORS Tutorial: A Guide to Cross-Origin Resource Sharing</a></p>\n","cover_image":""}},{"node":{"id":"95442f9784ed9952265cdb585404dc96","title":"L√†m quen v·ªõi ki·∫øn tr√∫c Serverless","path":"/2019-08-30-lam-quen-voi-kien-truc-serverless/","date":"2019-08-30","timeToRead":9,"desc":"M√¨nh kh√¥ng ph·∫£i chuy√™n gia trong lƒ©nh v·ª±c n√†y, nghi√™n c·ª©u ƒë·ªÉ bi·∫øt th√™m, th·∫•y c≈©ng hay, chia s·∫Ω cho m·ªçi ng∆∞·ªùi c√πng ƒë·ªçc","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#serverless-l%c3%a0-g%c3%ac\">Serverless l√† g√¨</a></li>\n<li><a href=\"#function-as-a-service\">Function as a Service</a></li>\n<li><a href=\"#case-study\">Case Study</a></li>\n</ul>\n<!-- /TOC -->\n<p>M∆∞·ªùi m·∫•y nƒÉm v·ªÅ tr∆∞·ªõc, ng√†y c√≤n ƒëang h·ªçc ƒë·∫°i h·ªçc, m·ªói l·∫ßn ƒë·∫øn ng√†y ƒëƒÉng k√Ω m√¥n h·ªçc l√† m√¨nh ƒë∆∞·ª£c nghe ƒëi·ªáp kh√∫c h√°t m√£i \"server qu√° t·∫£i, s·ªë l∆∞·ª£ng sinh vi√™n tranh nhau v√†o c√°c l·ªõp c√≥ nhi·ªÅu g√°i xinh qu√° ƒë√¥ng, qu√° nguy hi·ªÉm, m·∫•y em vui l√≤ng canh 12 gi·ªù ƒë√™m, khi ko c√≤n ai l√™n ƒëƒÉng k√Ω m√¥n h·ªçc, ch√∫ng t√¥i m·ªõi ƒë√°p ·ª©ng k·ªãp\"</p>\n<p>Ng√†y ƒë√≥ Server c·ªßa tr∆∞·ªùng n·∫±m ·ªü Nguy·ªÖn VƒÉn Tr√°ng, ph√≤ng server nh·ªè nh∆∞ hang th·ªè, m√† ch·ªâ x√†i ƒë√∫ng m·∫•y ng√†y ƒë·∫ßu h·ªçc k·ª≥, n√™n th·∫ßy tr∆∞·ªüng khoa ko th·ªÉ n√†o xin ng√¢n s√°ch ƒë∆∞·ª£c ƒë·ªÉ m√† n√¢ng c·∫•p 10 m·∫•y con server cho c√°c em sinh vi√™n x√†i th·ªèa th√≠ch.</p>\n<p>B√†i to√°n Server ƒë√≥ gi·ªù ƒë∆∞·ª£c gi·∫£i quy·∫øt ra sao? <strong>Serverless</strong></p>\n<p>Tr∆∞·ªõc ti√™n c·∫ßn kh·∫≥ng ƒë·ªãnh <strong>Serverless</strong> kh√¥ng ph·∫£i l√† b·∫°n kh√¥ng c·∫ßn server. M·ªôt shop <em>th√∫ nu√¥i</em> ƒë∆°n gi·∫£n, v√†i ng√†n ng∆∞·ªùi mua hoa m·ªôt th√°ng, l√†m b·∫±ng wordpress b·∫°n s·∫Ω kh√¥ng th·∫•y ƒë∆∞·ª£c l·ª£i √≠ch t·ª´ vi·ªác s·ª≠ d·ª•ng ki·∫øn tr√∫c m·ªõi n√†y, kh√¥ng nh·ªØng v·∫≠y c√≤n l√† vi·ªác n√©m m·ªôt c·ª•c ti·ªÅn cho m·∫•y th·∫±ng b√°n d·ªãch v·ª• nh∆∞ Amazon</p>\n<p>Trang b√°n th√∫ nu√¥i, ki·∫øn tr√∫c c≈© s·∫Ω l√† th·∫ø n√†y</p>\n<p><img src=\"https://martinfowler.com/articles/serverless/ps.svg\" alt=\"ki·∫øn tr√∫c c≈© s·∫Ω l√† th·∫ø n√†y\"></p>\n<p>T·∫•t c·∫£ nh·ªØng logic s·∫Ω n·∫±m ·ªü <strong>·ª©ng d·ª•ng ph√≠a server</strong>: t·ª´ authentication, page navigation, searching, transaction (code backend ƒë√≥)</p>\n<p>Y√™u c·∫ßu c·∫ßn c√≥ ng√¢n s√°ch, k·∫ø ho·∫°ch c·ª• th·ªÉ, l·∫Øp ƒë·∫∑t c√°c h·ªá th·ªëng m√°y ch·ªß, t√¨m m·ªôt ch·ªó ƒë·ªÉ m√°y, ƒë·∫£m b·∫£o lu√¥n c√≥ ƒëi·ªán, lu√¥n m√°t l·∫°nh, ƒëi d√¢y, ch·ªçn nh√† cung c·∫•p m·∫°ng kh√¥ng b·ªã c√° m·∫≠p c·∫Øn‚Ä¶</p>\n<p>N√≥i chung b·∫°n t·ª± l√†m m·ªçi th·ª©, ho·∫∑c b·ªè ti·ªÅn ra thu√™ m·ªôt th·∫±ng l√†m m·ªçi th·ª©, m√† n√≥ c√≤n hay ƒë√≤i h·ªèi th√™m th·∫Øt n√†y kia n·ªç, v√¥ c√πng t·ªën th·ªùi gian, nh√¢n l·ª±c, ti·ªÅn b·∫°c, c∆° s·ªü h·∫° t·∫ßng.</p>\n<p><em>Infrastructure as a service - IaaS</em>, c√°c d·ªãch v·ª• cho <em>thu√™ m·∫∑t b·∫±ng</em> ra ƒë·ªùi. ƒê√°p ·ª©ng nhu c·∫ßu ti·∫øt ki·ªám chi ph√≠ ·ªü th·ªùi ƒëi·ªÉm ƒë·∫ßu, nh∆∞ng v·∫´n c√≥ th·ªÉ <em>b√†nh tr∆∞·ªõng</em> khi c·∫ßn.</p>\n<p>B·∫°n h√¨nh dung n√≥ nh∆∞ vi·ªác m·ªü m·ªôt qu√°n ƒÉn, ph·∫£i t√¨m m·∫∑t b·∫±ng, t√¨m ng∆∞·ªùi gi·ªØ xe, ch·ªó ƒë·ªÉ xe cho kh√°ch, thu h√∫t kh√°ch v√†o ƒÉn, thanh to√°n, s·ª≠a ch·ªØa ƒëi·ªán, n∆∞·ªõc‚Ä¶ Nh·ªØng th·∫±ng <strong>IaaS</strong> l√† c√°c trung t√¢m th∆∞∆°ng m·∫°i, n√≥ lo h·∫øt m·ªçi th·ª© kh√°c, b·∫°n ch·ªâ vi·ªác b·ªè ti·ªÅn ra v√† thu√™ l·∫°i m·∫∑t b·∫±ng v√† kinh doanh.</p>\n<h2 id=\"serverless-l√†-g√¨\"><a href=\"#serverless-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Serverless l√† g√¨</h2>\n<p>N√≥ nh∆∞ m·ªôt kh√°i ni·ªám kinh t·∫ø h·ªçc, kh√¥ng c√≥ m·ªôt c√°ch ƒë·ªãnh nghƒ©a ch√≠nh x√°c Serverless l√† g√¨! C√≥ th·ªÉ hi·ªÉu theo 2 c√°ch sau</p>\n<p>Serverless ƒë∆∞·ª£c d√πng ƒë·ªÉ √°m ch·ªâ nh·ªØng ·ª©ng d·ª•ng s·ª≠ d·ª•ng ph·∫ßn l·ªõn (ho·∫∑c to√†n b·ªô) d·ªãch v·ª• \"nh√† h√†ng x√≥m\" (third-party), ƒë∆∞·ª£c host tr√™n cloud, cho c√°c v·∫•n ƒë·ªÅ ·ªü ph√≠a server l√† logic v√† state (v√≠ d·ª• tr·∫°ng th√°i ƒëƒÉng nh·∫≠p, m·ªôt d·∫°ng c·ªßa d·ªãch v·ª• chƒÉm s√≥c kh√°ch h√†ng th√¢n thi·∫øt). Nh·ªØng ·ª©ng d·ª•ng <strong>ƒë·ªÉ s·ª≠ d·ª•ng</strong> (kh√¥ng ph·∫£i nh·ªØng trang profile c√¥ng ty, show hi·ªáu ·ª©ng bay l∆∞·ª£n portfolio, v√≠ d·ª• nh∆∞ Facebook, ·ª©ng d·ª•ng ƒëƒÉng k√Ω m√¥n h·ªçc, ho·∫∑c ·ª©ng d·ª•ng ƒëi·ªán tho·∫°i b·ªã ch·ª≠i b·ªõi qu√° tr·ªùi FaceApp, t·ª©c l√† m√¥ h√¨nh n√†y kh√¥ng ch·ªâ √°p d·ª•ng ri√™ng cho web). Nh·ªØng d·ªãch v·ª• th∆∞·ªùng ƒë∆∞·ª£c outsource cho nh√† h√†ng x√≥m l√† g√¨: database c√≥ <a href=\"https://parseplatform.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Parse</a>, <a href=\"https://firebase.google.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firebase</a>, authentication c√≥ <a href=\"https://auth0.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Auth0</a>, AWS Cognito. M·∫•y nh√† n√†y n·∫±m trong khu \"Backend as a Service\" - <strong>BaaS</strong>, khi g·∫Øn v√†o <em>h·∫≠u t·ªë</em> as a Service b·∫°n c√≥ th·ªÉ bi·∫øt l√† n√≥ n·∫±m ·ªü nh√† h√†ng x√≥m.</p>\n<p>Serverless c≈©ng c√≥ nghƒ©a l√† ·ª©ng d·ª•ng ƒë√≥ logic server v·∫´n c√≥, developer v·∫´n ph·∫£i vi·∫øt logic n√†y, tuy nhi√™n, kh√¥ng gi·ªëng ki·∫øn tr√∫c truy·ªÅn th·ªëng, n√≥ ch·∫°y theo c∆° ch·∫ø \"ti·ªÅn trao-ch√°o m√∫c\" (event-trigger), kh√¥ng quan t√¢m anh b·∫°n c√≥ ·ªü chung nh√† m√¨nh kh√¥ng (stateless compute container). Kh√°i ni·ªám n√†y ƒë∆∞·ª£c <a href=\"https://twitter.com/marak\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@marak tr√™n Twitter</a> g·ªçi l√† <strong>Function as a Service</strong> - <strong>FaaS</strong>, b·∫°n c√≥ nhu c·∫ßu c·∫Øt t√≥c, g·ªôi ƒë·∫ßu, u·ªëng cafe, ƒë√°nh gi√†y th√¨ b·∫°n ra <em>ti·ªám</em> h·∫øt, kh√¥ng d√πng ƒë·ªì <em>nh√†</em> c√≥ s·∫µn n·ªØa. Hi·ªán t·∫°i, <a href=\"https://aws.amazon.com/lambda/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">AWS Lambda</a> l√† m·ªôt trong nh·ªØng platform n·ªïi ti·∫øng nh·∫•t khi n√≥i ƒë·∫øn FaaS</p>\n<p>Gi·ªù n√≥i t·ªõi FaaS, n√≥ ƒëang l√† trend, n√≥ thay ƒë·ªïi c√°ch ch√∫ng ta tr∆∞·ªõc ƒë√¢y v·∫´n nghƒ© v·ªÅ ki·∫øn tr√∫c d∆∞·ªõi server.</p>\n<p>T·∫•t c·∫£ nh·ªØng √¥ng l·ªõn ƒë·ªÅu c√≥ c√°c s·∫£n ph·∫©m BaaS v√† FaaS, <a href=\"https://aws.amazon.com/serverless/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Amazon Serverless</a>, <a href=\"https://firebase.google.com/docs/functions/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Google Cloud Functions for Firebase.</a></p>\n<p><img src=\"https://hackernoon.com/hn-images/1*t4O4UXpdG68MQboNKC6bBw.jpeg\" alt=\"T·∫•t c·∫£ nh·ªØng √¥ng l·ªõn ƒë·ªÅu c√≥ c√°c s·∫£n ph·∫©m BaaS v√† FaaS\"></p>\n<p>M·ªôt ki·∫øn tr√∫c Serverless n√≥ nh∆∞ th·∫ø n√†y</p>\n<p><img src=\"https://martinfowler.com/articles/serverless/sps.svg\" alt=\"M·ªôt ki·∫øn tr√∫c Serverless\"></p>\n<ol>\n<li>Ph·∫ßn authen tr∆∞·ªõc ƒë√¢y ƒë∆∞·ª£c g·ª≠i <em>nh√† h√†ng x√≥m</em> l√†m (c∆° quan nh√† n∆∞·ªõc chuy√™n cung c·∫•p CMND)</li>\n<li>D·ªØ li·ªáu ƒë∆∞·ª£c ƒë∆∞a m·ªôt v·ªÅ nh√† kho qu·∫£n l√Ω, ki·ªÉu nh∆∞ Tiki b√¢y gi·ªù qu√° m·ªát qu·∫£n l√Ω kho h√†ng, c√°c c·ª≠a h√†ng nh·ªè l·∫ª t·ª± qu·∫£n l√Ω kho, Tiki b√°n ƒë∆∞·ª£c th√¨ ch·∫°y t·ªõi kho c·ªßa b√™n th·ª© 3 l·∫•y.</li>\n<li>V·ªõi 2 thay ƒë·ªïi ·ªü tr√™n, ƒëi·ªÅu n√†y c√≥ nghƒ©a l√† m·ªôt v√†i logic ƒë√£ ƒë∆∞·ª£c n·∫±m ·ªü ph√≠a client, th√≠ d·ª•, user session, b·∫°n s·∫Ω th·∫•y r√µ nh·∫•t ·ªü c√°c Single Page App ch√∫ng ta build, ph·∫ßn logic giao di·ªán cho user ƒë√£ v√† ch∆∞a ƒëƒÉng nh·∫≠p n·∫±m ·ªü client - <em>nh√† user</em>, nh·ªØng route n√†o user c√≥ th·ªÉ v√†o n·∫±m ·ªü code client</li>\n<li>M·ªôt v√†i hi·ªÉn th·ªã, r√†ng bu·ªôc t·∫•t nhi√™n v·∫´n ƒë∆∞·ª£c server n·∫Øm. Th√≠ d·ª• \"search\". Ch√∫ng ta c√≥ th√™m m·ªôt <em>nh√†</em> g·ªçi l√† \"API Gateway\", d·ªãch v·ª• giao nh·∫≠n, t·∫•t c·∫£ c√°c y√™u c·∫ßu t·ª´ client ƒë∆∞a v·ªÅ ƒë√¢y, c√°c anh em HTTP s·∫Ω ƒëi l·∫•y d·ªØ li·ªáu t·ª´ kho v·ªÅ cho ch√∫ng ta.</li>\n<li>V·ªõi t√≠nh nƒÉng ƒë·∫∑t h√†ng, n√≥ do m·ªôt <em>nh√†** kh√°c cung c·∫•p. Nh·ªØng logic kh√°c nhau, ƒë∆∞·ª£c t√°ch v√† deploy th√†nh nh·ªØng </em>c·ª•c* kh√°c nhau nh∆∞ v·∫≠y c√°ch ti·∫øp c·∫≠n c·ªßa FaaS c≈©ng l√† c√°ch ti·∫øp c·∫≠n r·∫•t ph·ªï bi·∫øn trong \"Microservices\"</li>\n</ol>\n<p>N√≥ s·∫Ω c√≥ nh·ªØng l·ª£i √≠ch i chang nh∆∞ Microservices, t·∫•t nhi√™n l√† c√≥ tr·∫£ gi√°, c√≥ nhi·ªÅu th·ª© ƒë·ªÉ ki·ªÉm so√°t v√† theo d√µi h∆°n, v·∫•n ƒë·ªÅ b·∫£o m·∫≠t c≈©ng kh√¥ng ph·∫£i ƒë∆°n gi·∫£n nh∆∞ x∆∞a, n·∫±m ·ªü nhi·ªÅu n∆°i qu√° m√†, b√†i to√°n ƒëi ƒëi l·∫°i tr√°nh k·∫πt xe gi·ªØa c√°c h·ªá th·ªëng kh√°c nhau, bi·∫øt ƒë√¢u ƒëi l·∫°c v√†o ch·ªï n√†o ƒë√≥ m·∫•t CMND lu√¥n !!</p>\n<h2 id=\"function-as-a-service\"><a href=\"#function-as-a-service\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Function as a Service</h2>\n<p>N√£y gi·ªù n√≥i FaaS nhi·ªÅu qu√° r·ªìi, gi·ªù \"ƒë√†o s√¢u\" nghi√™n c·ª©u n√≥ ch√∫t. Tr√≠ch d·∫´n t·ª´ trang <a href=\"https://aws.amazon.com/lambda/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Amazon Lambda</a></p>\n<blockquote>\n<p>AWS Lambda lets you run code without provisioning or managing servers. (1) ... With Lambda, you can run code for virtually any type of application or backend service (2) - all with zero administration. Just upload your code and Lambda takes care of everything required to run (3) and scale (4) your code with high availability. You can set up your code to automatically trigger from other AWS services (5) or call it directly from any web or mobile app (6).</p>\n</blockquote>\n<p>Di·ªÖn gi·∫£i ƒëo·∫°n d√†i ngo·∫±n kia</p>\n<p>(1) FaaS l√† ch·∫°y backend code m√† kh√¥ng c·∫ßn quan t√¢m vi·ªác qu·∫£n l√Ω v√† b·∫£o tr√¨ h·ªá th·ªëng server.</p>\n<p>(2) FaaS kh√¥ng y√™u c·∫ßu m·ªôt framework hay th∆∞ vi·ªán c·ª• th·ªÉ n√†o. C√°c <strong>function</strong> tr√™n Lambda c√≥ th·ªÉ ƒë∆∞·ª£c vi·∫øt b·∫±ng Javascript, Python, Go, Java, Clojure, Scala, .NET.</p>\n<p>(3) Deploy s·∫Ω r·∫•t kh√°c v·ªõi h·ªá th·ªëng truy·ªÅn th·ªëng. T·ªõi *nh√†** c·ªßa FaaS ch√∫ng ta ƒë∆∞a ƒëo·∫°n code cho ch·ªß nh√†, c√≤n l·∫°i ch·ªß nh√† l√†m g√¨ th√¨ l√†m.</p>\n<p>(4) Scale s·∫Ω t·ª± ƒë·ªông ƒë∆∞·ª£c ch·ªß nh√† l√†m. N·∫øu h·ªá th·ªëng c·∫ßn ƒë√°p ·ª©ng 1000 request ƒë·ªìng th·ªùi, ch·ªß nh√† s·∫Ω lo, b·∫°n ch·ªâ c·∫ßn b∆°m ti·ªÅn. Quan tr·ªçng nh·∫•t, b√™n cung c·∫•p d·ªãch v·ª• s·∫Ω qu·∫£n l√Ω h·∫øt to√†n b·ªô resource, xin gi·∫•y ph√©p, n√≥i chung l√† to√†n b·ªô - b·∫°n kh√¥ng c·∫ßn l√†m g√¨ v·ªõi cluster, VM c·∫£.</p>\n<p>(5) Cung c·∫•p c∆° ch·∫ø trigger ·ª©ng v·ªõi c√°c event b·∫°n mu·ªën.</p>\n<p>(6) M·∫•y b√™n cung c·∫•p d·ªãch v·ª•, cho ph√©p c√°c function n√†y trigger theo nh·ªØng s·ª± ki·ªán HTTP request, nh∆∞ v√≠ d·ª• l√† search, v√† purchase, ho·∫∑c g·ªçi tr·ª±c ti·∫øp l√™n c√°c API ƒë∆∞·ª£c cung c·∫•p b·ªüi b√™n cung c·∫•p</p>\n<h2 id=\"case-study\"><a href=\"#case-study\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Case Study</h2>\n<p><a href=\"http://www.vogue.it/en/photovogue\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PhotoVogue</a> trang Vogue c·ªßa √ù, ch·∫°y t·ª´ nƒÉm 2011, sau m·ªôt nƒÉm ch·∫°y, photographer bu v√¥ nh∆∞ ki·∫øn, server ·ªü nh√† ri√™ng qu√° t·∫£i kh√¥ng ch·ªãu n·ªïi.</p>\n<p>Gi√°m ƒë·ªëc k·ªπ thu·∫≠t quy·∫øt ƒë·ªãnh chuy·ªÉn ƒë·ªïi to√†n b·ªô h·ªá th·ªëng server ·ªü <em>nh√† ri√™ng</em> sang AWS trong 3 th√°ng.</p>\n<p>Ch·∫°y theo trend n√†y, c√≤n c√≥ nh·ªØng c√°i t√™n r·∫•t ph·ªï bi·∫øn l√† Uber, Pokemon Go, Airbnb, Clash of Clans v√† r·∫•t nhi·ªÅu ·ª©ng d·ª•ng kh√°c khi s·ªë l∆∞·ª£ng user v√† real-time data l·ªõn</p>\n<p>Nh·ªØng v·∫•n ƒë·ªÅ m√† team PhotoVogue ƒë√£ g·∫∑p</p>\n<ul>\n<li>C√≥ h∆°n 130,000 photographer tr√™n kh·∫Øp th·∫ø gi·ªõi s·ª≠ d·ª•ng h·ªá th·ªëng ƒë·ªÉ ƒë∆∞a ·∫£nh l√™n, ∆∞·ªõc t√≠nh c√≥ kho·∫£ng 400,000 ·∫£nh, v·ªõi dung l∆∞·ª£ng t·ªëi ƒëa m·ªói h√¨nh l√† 50MB (b·ªçn n√†y ch∆°i sang nh·ªâ)</li>\n<li>S·ªë l∆∞·ª£ng truy c·∫≠p ng√†y c√†ng tƒÉng</li>\n<li>Tr·∫£i nghi·ªám s·ª≠ d·ª•ng c·ªßa user kh√¥ng t·ªët, thao t√°c x·ª≠ l√Ω qu√° ch·∫≠m, up ·∫£nh qu√° r√πa</li>\n</ul>\n<p>V·ªõi AWS, n√≥ ƒë√£ gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ sau cho PhotoVogue</p>\n<ul>\n<li>Kh·∫£ nƒÉng scale, d·ªÖ maintenance, qu·∫£n l√Ω chi ph√≠ r√µ r√†ng</li>\n<li>L∆∞u tr·ªØ h√¨nh tr√™n Amazon S3</li>\n<li>Khi up l√™n Amazon S3, b·∫≠t trigger s·ª≠ d·ª•ng AWS Lambda function, convert c√°c file n√†y qua gif, jpeg, png, tiff</li>\n<li>Amazon API Gateway ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l√†m t·∫ßng caching c·ªßa REST API, Amazon CloudFront cho CDN</li>\n</ul>\n<p><img src=\"https://www.simform.com/wp-content/uploads/2017/12/serverless-graph.png\" alt=\"Ki·∫øn tr√∫c Serverless\"></p>\n<p>C√≤n v·∫•n ƒë·ªÅ n√†o n·ªØa kh√¥ng, m√¨nh hy v·ªçng b·∫°n n√†o chuy√™n gia v√†o ch·ªâ gi√°o</p>\n<p>T√†i li·ªáu tham kh·∫£o</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://hackernoon.com/what-is-serverless-architecture-what-are-its-pros-and-cons-cc4b804022e9\">üìú What is Serverless Architecture? What are its Pros and Cons?</a></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://martinfowler.com/articles/serverless.html\">üìú Serverless Architectures</a></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.simform.com/serverless-architecture-guide/\">üìú Serverless Architecture: A Comprehensive Guide</a></p>\n","cover_image":""}},{"node":{"id":"1eaf85e7ae66c6b6ce34701e262faec9","title":"Principle c·ªßa c√°c s·∫£n ph·∫©m n·ªïi ti·∫øng","path":"/2019-08-07-nguyen-tac-chung-cua-thiet-ke/","date":"2019-08-07","timeToRead":11,"desc":"Ph√π h·ª£p cho c√°c b·∫°n thi·∫øt k·∫ø n√†o ko mu·ªën l√†m code d·∫°o, design d·∫°o n·ªØa, b·∫°n mu·ªën c√°i g√¨ ƒë√≥ cao h∆°n ·ªü t·∫ßng kh√°i ni·ªám","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#nguy%c3%aan-t%e1%ba%afc-thi%e1%ba%bft-k%e1%ba%bf-c%e1%bb%a7a-govuk\">Nguy√™n t·∫Øc thi·∫øt k·∫ø c·ªßa GOV.UK</a></li>\n<li>\n<p><a href=\"#airbnb\">Airbnb</a></p>\n<ul>\n<li><a href=\"#%c4%90%e1%bb%93ng-nh%e1%ba%a5t\">ƒê·ªìng nh·∫•t</a></li>\n<li><a href=\"#tri%e1%bb%87u-ng%c6%b0%e1%bb%9di-s%e1%bb%ad-d%e1%bb%a5ng\">Tri·ªáu ng∆∞·ªùi s·ª≠ d·ª•ng</a></li>\n<li><a href=\"#bi%e1%bb%83u-t%c6%b0%e1%bb%a3ng\">Bi·ªÉu t∆∞·ª£ng</a></li>\n<li><a href=\"#ng%c3%b4n-ng%e1%bb%af-t%e1%bb%b1-nhi%c3%aan-c%e1%bb%9fi-m%e1%bb%9f\">Ng√¥n ng·ªØ t·ª± nhi√™n, c·ªüi m·ªü</a></li>\n<li><a href=\"#l%c3%a0-ng%c6%b0%e1%bb%9di-b%e1%ba%a1n-th%c3%a2n-thi%e1%ba%bft\">L√† ng∆∞·ªùi b·∫°n th√¢n thi·∫øt</a></li>\n<li><a href=\"#thi%e1%ba%bft-k%e1%ba%bf-%c4%91%e1%bb%83-c%c3%b3-%e1%ba%a5n-t%c6%b0%e1%bb%a3ng-%c4%91%e1%ba%a7u-ti%c3%aan-t%e1%bb%91t-%c4%91%e1%ba%b9p\">Thi·∫øt k·∫ø ƒë·ªÉ c√≥ ·∫•n t∆∞·ª£ng ƒë·∫ßu ti√™n t·ªët ƒë·∫πp</a></li>\n<li><a href=\"#tin-t%c6%b0%e1%bb%9fng-c%e1%ba%a7n-th%e1%bb%9di-gian\">Tin t∆∞·ªüng c·∫ßn th·ªùi gian</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#facebook\">Facebook</a></p>\n<ul>\n<li><a href=\"#tri%e1%bb%87u-ng%c6%b0%e1%bb%9di-s%e1%bb%ad-d%e1%bb%a5ng-1\">Tri·ªáu ng∆∞·ªùi s·ª≠ d·ª•ng</a></li>\n<li><a href=\"#cho-con-ng%c6%b0%e1%bb%9di\">Cho con ng∆∞·ªùi</a></li>\n<li><a href=\"#s%e1%ba%a1ch-s%e1%ba%bd\">S·∫°ch s·∫Ω</a></li>\n<li><a href=\"#%c4%90%e1%bb%93ng-nh%e1%ba%a5t-1\">ƒê·ªìng nh·∫•t</a></li>\n<li><a href=\"#h%e1%bb%afu-d%e1%bb%a5ng\">H·ªØu d·ª•ng</a></li>\n<li><a href=\"#nhanh\">Nhanh</a></li>\n<li><a href=\"#minh-b%e1%ba%a1ch\">Minh b·∫°ch</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#apple-c%c3%a1i-n%c3%a0y-d%c3%a0nh-cho-c%c3%a1c-b%e1%ba%a1n-nh%c3%a0-iphone\">Apple (C√°i n√†y d√†nh cho c√°c b·∫°n nh√† iPhone)</a></p>\n<ul>\n<li><a href=\"#th%e1%ba%a9m-m%e1%bb%b9\">Th·∫©m m·ªπ</a></li>\n<li><a href=\"#th%e1%bb%91ng-nh%e1%ba%a5t\">Th·ªëng nh·∫•t</a></li>\n<li><a href=\"#t%c6%b0%c6%a1ng-t%c3%a1c-tr%e1%bb%b1c-ti%e1%ba%bfp\">T∆∞∆°ng t√°c tr·ª±c ti·∫øp</a></li>\n<li><a href=\"#ph%e1%ba%a3n-h%e1%bb%93i\">Ph·∫£n h·ªìi</a></li>\n<li><a href=\"#%e1%ba%a8n-d%e1%bb%a5\">·∫®n d·ª•</a></li>\n<li><a href=\"#user-l%c3%a0-ng%c6%b0%e1%bb%9di-quy%e1%ba%bft-%c4%91%e1%bb%8bnh\">User l√† ng∆∞·ªùi quy·∫øt ƒë·ªãnh</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#google-material-design\">Google Material Design</a></p>\n<ul>\n<li><a href=\"#n%e1%bb%95i-b%e1%ba%adt-h%c3%acnh-%e1%ba%a3nh-m%e1%bb%a5c-%c4%91%c3%adch-r%c3%b5-r%c3%a0ng\">N·ªïi b·∫≠t, h√¨nh ·∫£nh, m·ª•c ƒë√≠ch r√µ r√†ng</a></li>\n<li><a href=\"#chuy%e1%bb%83n-%c4%91%e1%bb%99ng-cung-c%e1%ba%a5p-m%e1%bb%99t-%c3%bd-ngh%c4%a9a\">Chuy·ªÉn ƒë·ªông cung c·∫•p m·ªôt √Ω nghƒ©a</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#microsoft\">Microsoft</a></p>\n<ul>\n<li><a href=\"#gi%e1%bb%af-m%e1%bb%8di-th%e1%bb%a9-%c4%91%c6%a1n-gi%e1%ba%a3n\">Gi·ªØ m·ªçi th·ª© ƒë∆°n gi·∫£n</a></li>\n<li><a href=\"#mang-t%c3%adnh-c%c3%a1-nh%c3%a2n\">Mang t√≠nh c√° nh√¢n</a></li>\n<li><a href=\"#ngh%c4%a9-to%c3%a0n-di%e1%bb%87n\">Nghƒ© to√†n di·ªán</a></li>\n<li><a href=\"#t%e1%ba%a1o-c%e1%ba%a3m-gi%c3%a1c-h%c3%a0o-h%e1%bb%a9ng\">T·∫°o c·∫£m gi√°c h√†o h·ª©ng</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<p>N·∫øu l·∫≠p tr√¨nh ch√∫ng ta c√≥ c√°c nguy√™n t·∫Øc chung khi vi·∫øt code nh∆∞ <strong>KISS</strong>, <strong>DRY</strong>, th√¨ trong thi·∫øt k·∫ø c≈©ng c√≥ nh·ªØng <strong>nguy√™n t·∫Øc ch√≠nh</strong> khi l√†m vi·ªác. Nh·ªØng nguy√™n t·∫Øc n√†y s·∫Ω l√† kim ch·ªâ nam, n·∫øu c√≥ tranh c√£i gi·ªØa c√°c member trong team, th√¨ c·ª© ƒë√® nguy√™n t·∫Øc n√†y ra m√† gi·∫£i quy·∫øt (nghe h∆°i c√≥ m√πi c·ª©ng nh·∫Øc, m√¨nh th√¨ th√≠ch t√πy c∆° ·ª©ng bi·∫øn h∆°n)</p>\n<h2 id=\"nguy√™n-t·∫Øc-thi·∫øt-k·∫ø-c·ªßa-govuk\"><a href=\"#nguy%C3%AAn-t%E1%BA%AFc-thi%E1%BA%BFt-k%E1%BA%BF-c%E1%BB%A7a-govuk\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nguy√™n t·∫Øc thi·∫øt k·∫ø c·ªßa GOV.UK</h2>\n<p>ƒê√¢y l√† danh s√°ch c·ªßa trang <a href=\"https://www.gov.uk/guidance/government-design-principles\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GOV.UK</a></p>\n<ul>\n<li>B·∫Øt ƒë·∫ßu v·ªõi th·ª© user c·∫ßn</li>\n<li>L√†m √≠t h∆°n</li>\n<li>Thi·∫øt k·∫ø v·ªõi d·ªØ li·ªáu</li>\n<li>L√†m m·ªçi th·ª© th·∫≠t d·ªÖ d√†ng</li>\n<li>L·∫∑p. R·ªìi l·∫∑p l·∫°i l·∫ßn n·ªØa</li>\n<li>D√†nh cho t·∫•t c·∫£ m·ªçi ng∆∞·ªùi</li>\n<li>Hi·ªÉu ng·ªØ c·∫£nh hi·ªán t·∫°i</li>\n<li>L√†m d·ªãch v·ª• digital, kh√¥ng ph·∫£i l√†m website</li>\n<li>Nh·∫•t qu√°n, nh∆∞ng kh√¥ng <em>h√≤a tan</em> (ph·∫£i c√≥ ch·∫•t ri√™ng v·ªõi th·∫±ng kh√°c)</li>\n<li>C·ªüi m·ªü, m·ªçi th·ª© t·ªët h∆°n</li>\n<li>Bao tr·ª´u t∆∞·ª£ng lu√¥n c√°c b·∫°n, trang Gov.uk n√†y c≈©ng c√≥ c√¢u t·ªïng qu√°t r·∫•t hay</li>\n</ul>\n<blockquote>\n<p>Thi·∫øt k·∫ø t·ªët l√† thi·∫øt k·∫ø c√≥ th·ªÉ s·ª≠ d·ª•ng. Ph·ª•c v·ª• cho nhi·ªÅu ƒë·ªëi t∆∞·ª£ng s·ª≠ d·ª•ng, d·ªÖ ƒë·ªçc nh·∫•t nh·∫•t c√≥ th·ªÉ. N·∫øu ph·∫£i t·ª´ b·ªè <em>ƒë·∫πp tinh t·∫ø - th√¨ c·ª© b·ªè lu√¥n</em>. Ch√∫ng ta t·∫°o s·∫£n ph·∫©m cho nhu c·∫ßu s·ª≠ d·ª•ng, kh√¥ng ph·∫£i cho ng∆∞·ªùi <em>h√¢m m·ªô</em>. Ch√∫ng ta thi·∫øt k·∫ø ƒë·ªÉ c·∫£ n∆∞·ªõc s·ª≠ d·ª•ng, kh√¥ng ph·∫£i nh·ªØng ng∆∞·ªùi ƒë√£ t·ª´ng s·ª≠ d·ª•ng web. Nh·ªØng ng∆∞·ªùi c·∫ßn d·ªãch v·ª• c·ªßa ch√∫ng ta nh·∫•t l√† nh·ªØng ng∆∞·ªùi ƒëang c·∫£m th·∫•y kh√≥ s·ª≠ d·ª•ng d·ªãch v·ª• nh·∫•t. Lu√¥n nh·ªõ v·ªÅ h·ªç ngay t·ª´ ƒë·∫ßu.</p>\n</blockquote>\n<p>Nh·ªØng nguy√™n t·∫Øc thi·∫øt k·∫ø trong s·∫£n ph·∫©m s·∫Ω gi√∫p c√° nh√¢n ng∆∞·ªùi thi·∫øt k·∫ø, c·∫£ th√†nh vi√™n trong team, PM, product owner ra ƒë·ªãnh h∆∞·ªõng ƒë∆∞·ª£c nh·ªØng quy·∫øt ƒë·ªãnh c·∫ßn thi·∫øt trong nh·ªØng t√¨nh hu·ªëng ph·∫£i l·ª±a ch·ªçn.</p>\n<p>Ch·∫Øc ai c≈©ng t·ª´ng bi·∫øt ƒë·∫øn <a href=\"https://developer.apple.com/design/human-interface-guidelines/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Apple‚Äôs Human Interface Guidelines</a> v√† <a href=\"https://material.io/design/guidelines-overview/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Google‚Äôs material design guidelines</a>, nguy√™n t·∫Øc thi·∫øt k·∫ø c·ªßa 2 h·ªá th·ªëng n√†y nh·∫ßm <strong>th·ªëng nh·∫•t</strong> c√°c s·∫£n ph·∫©m kh√°c nhau trong h·ªá th·ªëng, mang l·∫°i <strong>c·∫£m nh·∫≠n ƒë·ªìng nh·∫•t</strong> gi·ªØa c√°c s·∫£n ph·∫©m.</p>\n<p>N·∫øu s·∫£n ph·∫©m c·ªßa b·∫°n c√≥ m·∫∑t tr√™n nhi·ªÅu n·ªÅn t·∫£ng kh√°c nhau, ch√∫ng ta n√™n c√¢n nh·∫Øc c√≥ 1 design system v√† 1 v√†i nguy√™n t·∫Øc chung cho n√≥. Ch√∫ng ta ph·∫£i c√≥ s·ª± kh√°c bi·ªát v·ªõi nh·ªØng s·∫£n ph·∫©m kh√°c nh∆∞ng ƒë·ªìng nh·∫•t tr√™n c√°c h·ªá th·ªëng kh√°c nhau, gi·ªØa c√°c m√†n h√¨nh.</p>\n<p>M·ªôt v√†i team ƒë·∫∑t nh·ªØng nguy√™n t·∫Øc chung nh∆∞ th·∫ø n√†y: <strong>r√µ r√†ng, ƒë∆°n gi·∫£n, h·ªØu d·ª•ng</strong>, kh√¥ng th·ªÉ t·∫°o ƒë∆∞·ª£c nh·ªØng s·∫£n ph·∫©m t·ªët n·∫øu ch·ªâ c√≥ nh·ªØng nguy√™n t·∫Øc qu√° cƒÉn b·∫£n, chung chung nh∆∞ v·∫≠y. Cho n√™n, ch√∫ng ta c√πng tham kh·∫£o nh·ªØng nguy√™n t·∫Øc c·ªßa nh·ªØng √¥ng l·ªõn xem h·ªç ƒë·ªãnh nghƒ©a th·∫ø n√†o.</p>\n<h2 id=\"airbnb\"><a href=\"#airbnb\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Airbnb</h2>\n<p><img src=\"https://miro.medium.com/max/700/1*R9nTDNPwWChKAZRIo77yeA.gif\" alt=\"Nguy√™n t·∫Øc chung c·ªßa thi·∫øt k·∫ø\"></p>\n<h3 id=\"ƒë·ªìng-nh·∫•t\"><a href=\"#%C4%91%E1%BB%93ng-nh%E1%BA%A5t\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ƒê·ªìng nh·∫•t</h3>\n<p>M·ªói m·ªôt th√†nh ph·∫ßn l√† m·ªôt ph·∫ßn c·ªßa h·ªá th·ªëng l·ªõn h∆°n, ƒë√≥ng g√≥p t√≠ch c·ª±c cho khi h·ªá th·ªëng l·ªõn l√™n. Kh√¥ng c√≥ nh·ªØng t√≠nh nƒÉng ƒë·ª©ng ri√™ng m·ªôt m√¨nh v√† n·∫±m ngo√†i c√°c ph·∫ßn c√≤n l·∫°i.</p>\n<h3 id=\"tri·ªáu-ng∆∞·ªùi-s·ª≠-d·ª•ng\"><a href=\"#tri%E1%BB%87u-ng%C6%B0%E1%BB%9Di-s%E1%BB%AD-d%E1%BB%A5ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tri·ªáu ng∆∞·ªùi s·ª≠ d·ª•ng</h3>\n<p>Airbnb ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi c·ªông ƒë·ªìng th·∫ø gi·ªõi. S·∫£n ph·∫©m ph·∫£i th·ªÉ hi·ªán s·ª± hi·∫øu kh√°ch v√† d·ªÖ d√†ng truy c·∫≠p.</p>\n<h3 id=\"bi·ªÉu-t∆∞·ª£ng\"><a href=\"#bi%E1%BB%83u-t%C6%B0%E1%BB%A3ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Bi·ªÉu t∆∞·ª£ng</h3>\n<p>Trong c·∫£ thi·∫øt k·∫ø v√† t√≠nh nƒÉng ƒë√¢y l√† ƒëi·ªÅu ch√∫ng ta mu·ªën t·∫≠p trung, s·∫£n ph·∫©m ph·∫£i mang t√≠nh bi·ªÉu t∆∞·ª£ng, chu·∫©n m·ª±c cho d√≤ng s·∫£n ph·∫©m nh∆∞ v·∫≠y, ph·∫£i ƒë∆∞·ª£c th·ªÉ hi·ªán r√µ r√†ng nh·∫•t, m·∫°nh m·∫Ω nh·∫•t.</p>\n<h3 id=\"ng√¥n-ng·ªØ-t·ª±-nhi√™n-c·ªüi-m·ªü\"><a href=\"#ng%C3%B4n-ng%E1%BB%AF-t%E1%BB%B1-nhi%C3%AAn-c%E1%BB%9Fi-m%E1%BB%9F\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ng√¥n ng·ªØ t·ª± nhi√™n, c·ªüi m·ªü</h3>\n<p>Mang h∆°i th·ªü cu·ªôc s·ªëng v√†o trong c√°c s·∫£n ph·∫©m, cho ph√©p ch√∫ng ta trao ƒë·ªïi t·ªët h∆°n v·ªõi user ƒë·ªÉ c·∫£ 2 c√≥ th·ªÉ hi·ªÉu nhau.</p>\n<h3 id=\"l√†-ng∆∞·ªùi-b·∫°n-th√¢n-thi·∫øt\"><a href=\"#l%C3%A0-ng%C6%B0%E1%BB%9Di-b%E1%BA%A1n-th%C3%A2n-thi%E1%BA%BFt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L√† ng∆∞·ªùi b·∫°n th√¢n thi·∫øt</h3>\n<p>Kh√¥ng c√≥ c·∫£m gi√°c c·ªßa thi·∫øu tin t∆∞·ªüng, s·∫£n ph·∫©m cho ph√©p m·ªçi ng∆∞·ªùi c√≥ th·ªÉ hi·ªÉu v·ªÅ nhau h∆°n, nh∆∞ m·ªôt ng∆∞·ªùi b·∫°n, ch√∫ng ta s·∫Ω c√≥ m·∫∑t ·ªü ƒë√≥ khi h·ªç c·∫ßn</p>\n<h3 id=\"thi·∫øt-k·∫ø-ƒë·ªÉ-c√≥-·∫•n-t∆∞·ª£ng-ƒë·∫ßu-ti√™n-t·ªët-ƒë·∫πp\"><a href=\"#thi%E1%BA%BFt-k%E1%BA%BF-%C4%91%E1%BB%83-c%C3%B3-%E1%BA%A5n-t%C6%B0%E1%BB%A3ng-%C4%91%E1%BA%A7u-ti%C3%AAn-t%E1%BB%91t-%C4%91%E1%BA%B9p\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thi·∫øt k·∫ø ƒë·ªÉ c√≥ ·∫•n t∆∞·ª£ng ƒë·∫ßu ti√™n t·ªët ƒë·∫πp</h3>\n<p>M·∫∑c d√π Airbnb y√™u c·∫ßu m·ªôt s·ªë th√¥ng tin c·ªßa user, nh∆∞ng kh√¥ng cung c·∫•p th√¥ng tin n√†y cho b√™n th·ª© 3. N√™n ch√∫ng ta h·ªèi kh√°ch th√¥ng tin c·ªßa h·ªç nh∆∞ng kh√¥ng b·∫Øt bu·ªôc.</p>\n<h3 id=\"tin-t∆∞·ªüng-c·∫ßn-th·ªùi-gian\"><a href=\"#tin-t%C6%B0%E1%BB%9Fng-c%E1%BA%A7n-th%E1%BB%9Di-gian\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tin t∆∞·ªüng c·∫ßn th·ªùi gian</h3>\n<p>Gi·ªëng nh∆∞ cu·ªôc s·ªëng n√†y, b·∫°n s·∫Ω nh·∫≠n c√†ng nhi·ªÅu t·ª´ Airbnb n·∫øu b·∫°n c√†ng tin t∆∞·ªüng ch√∫ng t√¥i. Tin t∆∞·ªüng c·∫ßn xu·∫•t ph√°t t·ª´ c·∫£ 2 b√™n. N·∫øu kh√°ch c√†ng tin t∆∞·ªüng v√†o ch·ªß nh√†, th√¨ ch·ªß nh√† c≈©ng s·∫Ω s·∫µn s√†ng chia s·∫ª v·ªõi kh√°ch nhi·ªÅu h∆°n</p>\n<h2 id=\"facebook\"><a href=\"#facebook\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Facebook</h2>\n<h3 id=\"tri·ªáu-ng∆∞·ªùi-s·ª≠-d·ª•ng-1\"><a href=\"#tri%E1%BB%87u-ng%C6%B0%E1%BB%9Di-s%E1%BB%AD-d%E1%BB%A5ng-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tri·ªáu ng∆∞·ªùi s·ª≠ d·ª•ng</h3>\n<p>M·ª•c ti√™u c·ªßa ch√∫ng ta l√† l√†m cho th·∫ø gi·ªõi c·ªüi m·ªü h∆°n, ƒëi ƒë·∫øn t·ª´ng c√° nh√¢n ·ªü m·ªçi ng√≥c ng√°ch tr√™n th·∫ø gi·ªõi. Design ph·∫£i m√† ai c≈©ng c√≥ th·ªÉ x√†i, d√π ·ªü vƒÉn ho√° n√†o, ng√¥n ng·ªØ g√¨, thi·∫øt b·ªã n√†o, ·ªü t·∫ßng l·ªõp n√†o trong x√£ h·ªôi. S·∫£n ph·∫©m ph·ª•c v·ª• cho 90% ng∆∞·ªùi s·ª≠ d·ª•ng, b·ªè qua nh·ªØng t√≠nh nƒÉng m√† ch·ªâ c√≥ m·ªôt v√†i thi·ªÉu s·ªë ng∆∞·ªùi y√™u c·∫ßu</p>\n<h3 id=\"cho-con-ng∆∞·ªùi\"><a href=\"#cho-con-ng%C6%B0%E1%BB%9Di\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cho con ng∆∞·ªùi</h3>\n<p>User quay l·∫°i Facebook v√¨ c√≥ b·∫°n b√® v√† nh·ªØng ng∆∞·ªùi h·ªç quen bi·∫øt. ƒê√≥ l√† th·ª© ch√∫ng ta cung c·∫•p nh∆∞ ƒë√£ h·ª©a, nh·ªØng ng∆∞·ªùi m√† b·∫°n quan t√¢m ·ªü m·ªôt n∆°i duy nh·∫•t. L√Ω do m√† ti·∫øng n√≥i v√† nh·ªØng g√¨ ch√∫ng ta mu·ªën tr√¨nh b√†i ƒë∆∞·ª£c ·∫©n ƒëi ph√≠a sau, ti·∫øng n√≥i c·ªßa nh·ªØng ng∆∞·ªùi user quan t√¢m, khu√¥n m·∫∑t, c·∫£m x√∫c, suy nghƒ© c·ªßa h·ªç ƒë∆∞·ª£c ∆∞u ti√™n h√†ng ƒë·∫ßu.</p>\n<h3 id=\"s·∫°ch-s·∫Ω\"><a href=\"#s%E1%BA%A1ch-s%E1%BA%BD\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>S·∫°ch s·∫Ω</h3>\n<p>Ph·∫ßn hi·ªÉn th·ªã ph·∫£i th·∫≠t s·∫°ch s·∫Ω, tinh g·ªçn. S·∫°ch s·∫Ω kh√¥ng ph·∫£i l√† c√°ch ti·∫øp c·∫≠n d·ªÖ d√†ng, ti·∫øt ch·∫ø c√°c kho·∫£ng tr·ªëng, k√≠ch th∆∞·ªõc kh√°c nhau, m√†u s·∫Øc, s·ªë l∆∞·ª£ng c√°c ƒë·ªãnh d·∫°ng ƒëi·ªÅu ph·∫£i gi·∫£m b·ªõt ƒëi.</p>\n<h3 id=\"ƒë·ªìng-nh·∫•t-1\"><a href=\"#%C4%91%E1%BB%93ng-nh%E1%BA%A5t-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ƒê·ªìng nh·∫•t</h3>\n<p>Ch√∫ng ta kh√¥ng mu·ªën l√£ng ph√≠ th·ªùi gian, tƒÉng c∆∞·ªùng s·ª≠ d·ª•ng pattern, nh·ªØng ph·∫ßn gi·ªëng nhau khi ƒë∆∞·ª£c th·ªÉ hi·ªán m·ªôt c√°ch gi·ªëng nhau s·∫Ω mang t·ªõi s·ª± g·∫ßn g≈©i v√† d·ªÖ s·ª≠ d·ª•ng. M·ªçi t∆∞∆°ng t√°c v·ªõi user ƒëi·ªÅu c√≥ m·ªôt m·ª•c ƒë√≠ch: t·∫°o s·ª± tin t∆∞·ªüng. B·ªè b·ªõt, t√°i s·ª≠ d·ª•ng, ƒë·ª´ng thi·∫øt k·∫ø l·∫°i.</p>\n<h3 id=\"h·ªØu-d·ª•ng\"><a href=\"#h%E1%BB%AFu-d%E1%BB%A5ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>H·ªØu d·ª•ng</h3>\n<p>S·∫£n ph·∫©m c·ªßa ch√∫ng ta l√† c√¥ng c·ª• h·ªØu d·ª•ng kh√¥ng ph·∫£i c√¥ng c·ª• gi·∫£i tr√≠, ƒë∆∞·ª£c s·ª≠ d·ª•ng h·∫±ng ng√†y cung c·∫•p gi√° tr·ªã h·ªØu √≠ch. Kh√¥ng c√≥ nh·ªØng kho·∫£ng tr·∫Øng d∆∞ th·ª´a, t∆∞∆°ng t√°c d∆∞a th·ª´a, m·ªçi th·ª© th·ªÉ hi·ªán li·ªÅn m·∫°ch, nhanh nh·∫•t.</p>\n<h3 id=\"nhanh\"><a href=\"#nhanh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nhanh</h3>\n<p>Kh√¥ng ch·ªâ t√¥n tr·ªçng th·ªùi gi·∫£n c·ªßa b·∫£n th√¢n, ch√∫ng ta ph·∫£i bi·∫øt t√¥n tr·ªçng th·ªùi gian ng∆∞·ªùi kh√°c. Ch·∫°y ph·∫£i nhanh, hi·ªáu qu·∫£, kh√¥ng t·ªën th·ªùi gian.</p>\n<h3 id=\"minh-b·∫°ch\"><a href=\"#minh-b%E1%BA%A1ch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Minh b·∫°ch</h3>\n<p>User tin t∆∞·ªüng trao cho ch√∫ng nh·∫≠n d·∫°ng, ·∫£nh, suy nghƒ©, h·ªôi tho·∫°i c·ªßa h·ªç. Ch√∫ng ta ph·∫£i trung th·ª±c v√† r√µ r√†ng v·ªÅ m·ªçi th·ª©, t·∫°i sao v√† nh·ªØng g√¨ ƒëang di·ªÖn ra. (Sau v·ª• l√πm x√πm l√†m m·∫•t th√¥ng tin user m√¨nh hoan mang H·ªì Qu·ª≥nh H∆∞∆°ng v·ªõi nguy√™n t·∫Øc n√†y qu√°)</p>\n<h2 id=\"apple-c√°i-n√†y-d√†nh-cho-c√°c-b·∫°n-nh√†-iphone\"><a href=\"#apple-c%C3%A1i-n%C3%A0y-d%C3%A0nh-cho-c%C3%A1c-b%E1%BA%A1n-nh%C3%A0-iphone\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Apple (C√°i n√†y d√†nh cho c√°c b·∫°n nh√† iPhone)</h2>\n<h3 id=\"th·∫©m-m·ªπ\"><a href=\"#th%E1%BA%A9m-m%E1%BB%B9\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th·∫©m m·ªπ</h3>\n<p>Th·∫©m m·ªπ tr√™n c·∫£ b·ªô m·∫∑t ·ª©ng d·ª•ng v√† t√≠nh nƒÉng, c√°ch ho·∫°t ƒë·ªông.</p>\n<p>V√≠ d·ª• ·ª©ng d·ª•ng gi√∫p ng∆∞·ªùi s·ª≠ d·ª•ng th·ª±c hi·ªán c√°c t√≠nh nƒÉng quan tr·ªçng, kh√¥ng s·ª≠ d·ª•ng h√¨nh ·∫£nh ko li√™n quan, n·ªôi dung r√µ r√†ng, d√πng control m·∫∑c ƒë·ªãnh, ho·∫°t ƒë·ªông c√≥ th·ªÉ l∆∞·ªùng tr∆∞·ªõc k·∫øt qu·∫£. Ng∆∞·ª£c l·∫°i c√°c ·ª©ng d·ª•ng nh∆∞ game ph·ª•c v·ª• gi·∫£i tr√≠ c√≥ th·ªÉ cung c·∫•p c√°c giao di·ªán vui nh·ªôn.</p>\n<h3 id=\"th·ªëng-nh·∫•t\"><a href=\"#th%E1%BB%91ng-nh%E1%BA%A5t\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th·ªëng nh·∫•t</h3>\n<p>·ª®ng d·ª•ng ƒëi theo chu·∫©n m·ª±c chung, c√°c element ƒë∆∞·ª£c cung c·∫•p b·ªüi h·ªá th·ªëng, icon ai c≈©ng hi·ªÉu, ki·ªÉu ch·ªØ chu·∫©n m·ª±c, c√°c t√≠nh nƒÉng c·ªßa ·ª©ng d·ª•ng v·∫≠n h√†nh theo c√°ch m√† user mong ƒë·ª£i.</p>\n<h3 id=\"t∆∞∆°ng-t√°c-tr·ª±c-ti·∫øp\"><a href=\"#t%C6%B0%C6%A1ng-t%C3%A1c-tr%E1%BB%B1c-ti%E1%BA%BFp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T∆∞∆°ng t√°c tr·ª±c ti·∫øp</h3>\n<p>Lu√¥n nh·ªõ thi·∫øt k·∫ø ƒë·ªÉ user s·ª≠ d·ª•ng tr·ª±c ti·∫øp th√¥ng qua m√†n h√¨nh, nh·ªØng g√¨ th·∫•y tr√™n m√†n h√¨nh, user c√≥ th·ªÉ xoay ƒëi·ªán tho·∫°i, h·ªç s·∫Ω th·∫•y ƒë∆∞·ª£c k·∫øt qu·∫£ c·ªßa vi·ªác ƒë√≥ ngay l·∫≠p t·ª©c tr√™n m√†n h√¨nh.</p>\n<h3 id=\"ph·∫£n-h·ªìi\"><a href=\"#ph%E1%BA%A3n-h%E1%BB%93i\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ph·∫£n h·ªìi</h3>\n<p>User th·ª±c hi·ªán 1 action n√†o ƒë√≥, ph·∫£n h·ªìi l·∫°i k·∫øt qu·∫£ action ƒë√≥, ƒë·ªÉ h·ªç bi·∫øt. C√°c element c√≥ th·ªÉ t∆∞∆°ng t√°c ƒë∆∞·ª£c highlight r√µ r√†ng khi user tab, c√°c animation hi·ªÉn th·ªã √Ω nghƒ©a r√µ r√†ng.</p>\n<h3 id=\"·∫©n-d·ª•\"><a href=\"#%E1%BA%A9n-d%E1%BB%A5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>·∫®n d·ª•</h3>\n<p>Khi s·ª≠ d·ª•ng c√°c ƒë·ªëi t∆∞·ª£ng mang t√≠nh ·∫©n d·ª• (nh∆∞ icon) cho t∆∞∆°ng t√°c, c·∫ßn ƒë·∫£m b·∫£o n√≥ ph·∫£i ƒë∆∞·ª£c nhi·ªÅu ng∆∞·ªùi bi·∫øt ƒë·∫øn</p>\n<h3 id=\"user-l√†-ng∆∞·ªùi-quy·∫øt-ƒë·ªãnh\"><a href=\"#user-l%C3%A0-ng%C6%B0%E1%BB%9Di-quy%E1%BA%BFt-%C4%91%E1%BB%8Bnh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>User l√† ng∆∞·ªùi quy·∫øt ƒë·ªãnh</h3>\n<p>·ª®ng d·ª•ng kh√¥ng ph·∫£i l√† ƒë·ª©a quy·∫øt ƒë·ªãnh, ng∆∞·ªùi s·ª≠ d·ª•ng s·∫Ω quy·∫øt ƒë·ªãnh l√†m c√°i g√¨, ·ª©ng d·ª•ng cho bi·∫øt h√†nh ƒë·ªông ƒë√≥ d·∫´n ƒë·∫øn k·∫øt qu·∫£ g√¨.</p>\n<h2 id=\"google-material-design\"><a href=\"#google-material-design\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Google Material Design</h2>\n<h3 id=\"n·ªïi-b·∫≠t-h√¨nh-·∫£nh-m·ª•c-ƒë√≠ch-r√µ-r√†ng\"><a href=\"#n%E1%BB%95i-b%E1%BA%ADt-h%C3%ACnh-%E1%BA%A3nh-m%E1%BB%A5c-%C4%91%C3%ADch-r%C3%B5-r%C3%A0ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>N·ªïi b·∫≠t, h√¨nh ·∫£nh, m·ª•c ƒë√≠ch r√µ r√†ng</h3>\n<p>C√°ch th√†nh ph·∫ßn ch√≠nh trong thi·∫øt k·∫ø in ·∫•n: typography, grid, space, scale, color, image kh√¥ng ch·ªâ ph·ª•c v·ª• cho m·ª•c ƒë√≠ch n·ªãn m·∫Øt, n√≥ t·∫°o ra tr·∫≠t t·ª±, √Ω nghƒ©a, t·∫≠p trung.</p>\n<h3 id=\"chuy·ªÉn-ƒë·ªông-cung-c·∫•p-m·ªôt-√Ω-nghƒ©a\"><a href=\"#chuy%E1%BB%83n-%C4%91%E1%BB%99ng-cung-c%E1%BA%A5p-m%E1%BB%99t-%C3%BD-ngh%C4%A9a\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Chuy·ªÉn ƒë·ªông cung c·∫•p m·ªôt √Ω nghƒ©a</h3>\n<p>M·ªçi chuy·ªÉn ƒë·ªông c·∫ßn c√≥ √Ω nghƒ©a v√† ph√π h·ª£p, ph·ª•c v·ª• m·ª•c ƒë√≠ch t·∫≠p trung s·ª± ch√∫ √Ω v√† duy tr√¨ c√°c thao t√°c ƒëang th·ª±c hi·ªán</p>\n<h2 id=\"microsoft\"><a href=\"#microsoft\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Microsoft</h2>\n<h3 id=\"gi·ªØ-m·ªçi-th·ª©-ƒë∆°n-gi·∫£n\"><a href=\"#gi%E1%BB%AF-m%E1%BB%8Di-th%E1%BB%A9-%C4%91%C6%A1n-gi%E1%BA%A3n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·ªØ m·ªçi th·ª© ƒë∆°n gi·∫£n</h3>\n<p>Kim ch·ªâ nam cho m·ªçi thi·∫øt k·∫ø c·ªßa Microsoft b√¢y gi·ªù. Nh·∫±m mang ƒë·∫øn c·∫£m gi√°c trung th·ª±c v√† kh√¥ng b·ªã ·∫£nh h∆∞·ªüng b·ªüi th·ªùi gian.</p>\n<h3 id=\"mang-t√≠nh-c√°-nh√¢n\"><a href=\"#mang-t%C3%ADnh-c%C3%A1-nh%C3%A2n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mang t√≠nh c√° nh√¢n</h3>\n<p>T·∫°o m·ªôt c·∫£m x√∫c k·∫øt n·ªëi v·ªõi t·ª´ng ng∆∞·ªùi s·ª≠ d·ª•ng. L√†m sao ƒë·ªÉ user khi s·ª≠ d·ª•ng c√≥ ƒë∆∞·ª£c c·∫£m gi√°c nh∆∞ s·∫£n ph·∫©m ƒë∆∞·ª£c thi·∫øt k·∫ø cho m·ªói m√¨nh m√¨nh.</p>\n<h3 id=\"nghƒ©-to√†n-di·ªán\"><a href=\"#ngh%C4%A9-to%C3%A0n-di%E1%BB%87n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nghƒ© to√†n di·ªán</h3>\n<p>Ch√∫ng ta kh√¥ng ƒë∆°n thu·∫ßn t·∫°o ra s·∫£n ph·∫©m, ch√∫ng ta ƒëang x√¢y d·ª±ng th·∫ø gi·ªõi n∆°i ch√∫ng ta s·ªëng, m·ªôt th·∫ø gi·ªõi t·ªët h∆°n.</p>\n<h3 id=\"t·∫°o-c·∫£m-gi√°c-h√†o-h·ª©ng\"><a href=\"#t%E1%BA%A1o-c%E1%BA%A3m-gi%C3%A1c-h%C3%A0o-h%E1%BB%A9ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·∫°o c·∫£m gi√°c h√†o h·ª©ng</h3>\n<p>T·∫°o ra nh·ªØng tr·∫£i nghi·ªám cho user m√† h·ªç bi·∫øt l√† ng∆∞·ªùi ƒë·∫±ng sau thi·∫øt k·∫ø ƒë√≥ l√† m·ªôt con ng∆∞·ªùi th·ª±c.</p>\n<p>C·∫£m nh·∫≠n c√°i n√†y d·ªÖ th·∫•y nh·∫•t l√† l√∫c ch√∫ng ta c√†i window, gi·ªù ch√∫ng ta c·∫£m gi√°c nh∆∞ ƒëang c√≥ ng∆∞·ªùi n√≥i chuy·ªán v·ªõi m√¨nh √≠, kh√¥ng ph·∫£i c√°c th√¥ng b√°o ƒë∆°n thu·∫ßn, nh∆∞ c√≥ m·ªôt AI ƒë·∫±ng sau</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://medium.muz.li/design-principles-behind-great-products-6ef13cd74ccf\">Design Principles Behind Great Products</a></p>\n","cover_image":""}},{"node":{"id":"c9b33110e10e3beff32157783f0b7e74","title":"Nguy√™n l√Ω n·ªÅn t·∫£ng c·ªßa l·∫≠p tr√¨nh function","path":"/2019-07-26-nguyen-ly-chung-cua-lap-trinh-huong-function/","date":"2019-07-26","timeToRead":6,"desc":"Kh√°i ni·ªám ng√†n ng∆∞·ªùi bi·∫øt, b·∫°n c≈©ng ph·∫£i bi·∫øt","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#n%c3%b3i-v%e1%bb%81-l%e1%bb%a3i-%c3%adch\">N√≥i v·ªÅ l·ª£i √≠ch</a></li>\n<li><a href=\"#immutable\">Immutable</a></li>\n<li><a href=\"#pure-function\">Pure Function</a></li>\n<li><a href=\"#%c4%90%e1%bb%87-quy\">ƒê·ªá quy</a></li>\n<li><a href=\"#t%e1%bb%95ng-k%e1%ba%bft\">T·ªïng k·∫øt</a></li>\n<li><a href=\"#t%c3%a0i-li%e1%bb%87u-tham-kh%e1%ba%a3o\">T√†i li·ªáu tham kh·∫£o</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"n√≥i-v·ªÅ-l·ª£i-√≠ch\"><a href=\"#n%C3%B3i-v%E1%BB%81-l%E1%BB%A3i-%C3%ADch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>N√≥i v·ªÅ l·ª£i √≠ch</h2>\n<p>Tr∆∞·ªõc ti√™n ch√∫ng ta ph·∫£i n√≥i v·ªÅ l·ª£i √≠ch c·ªßa ki·ªÉu l·∫≠p tr√¨nh h∆∞·ªõng function, ƒë·ªÉ c√≥ th·ªÉ c√≥ ƒë·ªông l·ª±c <em>nghi√™n c·ª©u ƒë√†o s√¢u</em>, m·ªôt v√†i ƒëi·ªÉm ƒë∆∞·ª£c nhi·ªÅu ng∆∞·ªùi th·ªëng nh·∫•t</p>\n<p>Code c·ªßa ch√∫ng ta tr·ªü n√™n \"module\" h∆°n, nh·∫Øc v·ªÅ module th√¨ l·∫•y v√≠ d·ª• tr√≤ x·∫øp h√¨nh l√† d·ªÖ h√¨nh dung nh·∫•t</p>\n<p><img src=\"https://cdn.redshift.autodesk.com/2014/10/benefits_of_modular_construction_lego.jpg\" alt=\"Minh h·ªça Module\"></p>\n<ul>\n<li>C√°c function ƒë·ªôc l·∫≠p, khi k·∫øt n·ªëi v·ªõi nhau t·∫°o ra m·ªôt ch∆∞∆°ng tr√¨nh\nModule c≈©ng s·∫Ω gi√∫p code d·ªÖ hi·ªÉu h∆°n, 1 function = 1 c√¥ng d·ª•ng, <em>kh√¥ng c√≥ g√¨ d·∫•u di·∫øm</em></li>\n<li>D·ªÖ copy/paste h∆°n</li>\n<li>D·ªÖ test h∆°n</li>\n</ul>\n<p>B√™n d∆∞·ªõi ch√∫ng ta s·∫Ω ƒë·ªÅ c·∫≠p ƒë·∫øn nh·ªØng nguy√™n l√Ω n·ªÅn t·∫£ng, m√† kinh nghi·ªám th·ª±c t·∫ø ƒë√∫c k·∫øt ƒë∆∞·ª£c, nh∆∞ s·ª≠ d·ª•ng <strong>immutable</strong> thay v√¨ <strong>mutable</strong>, vi·∫øt <strong>pure function</strong>, chia nh·ªè b·∫±ng ƒë·ªá quy, l√† nh·ªØng <strong>nguy√™n l√Ω</strong> n·ªÅn t·∫£ng, kh√¥ng √°m ch·ªâ m·ªôt ng√¥n ng·ªØ c·ª• th·ªÉ n√†o</p>\n<h2 id=\"immutable-s·ªëng-ki√™n-ƒë·ªãnh-th·ªßy-chung\"><a href=\"#immutable-s%E1%BB%91ng-ki%C3%AAn-%C4%91%E1%BB%8Bnh-th%E1%BB%A7y-chung\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Immutable, s·ªëng ki√™n ƒë·ªãnh th·ªßy chung</h2>\n<p>N√≥i ƒë·∫øn l·∫≠p tr√¨nh function tr∆∞·ªõc ti√™n ph·∫£i n√≥i v·ªÅ <strong>immutable</strong></p>\n<blockquote>\n<p>Immutable l√† d·∫°ng d·ªØ li·ªáu sau khi t·∫°o ra th√¨ kh√¥ng thay ƒë·ªïi n·ªØa</p>\n</blockquote>\n<p>Mutate l√† g√¨? v√≠ d·ª•, g√°n tham chi·∫øu v√†o m·ªôt bi·∫øn ƒë√£ c√≥</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'luckyluu'</span> <span class=\"token punctuation\">}</span>\n<span class=\"gridsome-highlight-code-line\"><span class=\"token keyword\">var</span> y <span class=\"token operator\">=</span> x</span>\nx <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'vuilaptrinh'</span> <span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// => {name: \"vuilaptrinh\"} { name: \"luckyluu\" }</span></code></pre></div>\n<p>Gi√° tr·ªã <code class=\"language-inline-text\">x</code> tham chi·∫øu ƒë·∫øn m·ªôt v√πng nh·ªõ kh√°c khi vi·∫øt <code class=\"language-inline-text\">x = { name: 'vuilaptrinh' }</code>, trong khi ƒë√≥ <code class=\"language-inline-text\">y</code> v·∫´n tham chi·∫øu ƒë·∫øn v√πng nh·ªõ c≈© l√† <code class=\"language-inline-text\">{ name: 'luckyluu' }</code></p>\n<p>Tr∆∞·ªùng h·ª£p 2 l√† ch·ªânh s·ª≠a gi√° m·ªôt object c√≥ s·∫µn</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'luckyluu'</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> y <span class=\"token operator\">=</span> x\n\n<span class=\"gridsome-highlight-code-line\">x<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'vuilaptrinh'</span></span>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// => {name: \"vuilaptrinh\"} { name: \"vuilaptrinh\" }</span></code></pre></div>\n<p>Kh√¥ng thay ƒë·ªïi <code class=\"language-inline-text\">y</code>, nh∆∞ng c·∫£ 2 c√πng tham chi·∫øu t·ªõi c√πng m·ªôt <code class=\"language-inline-text\">x</code>.</p>\n<p>Ri√™ng javascript ch√∫ng ta ph·∫£i d√πng h·∫≥n m·ªôt th∆∞ vi·ªán <a href=\"https://immutable-js.github.io/immutable-js/docs/#/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">immutable-js</a> v√¨ vi·ªác \"ch·∫∑n\" kh√¥ng cho thay ƒë·ªïi d·ªØ li·ªáu trong javascript th√¨ \"f..king complicated\", ƒë·ª´ng nghƒ© <code class=\"language-inline-text\">const bienA</code> l√† ƒë√£ mutable, n√≥ ch·ªâ thay ƒë·ªïi scope th√¥i b·∫°n ∆°i</p>\n<p>Immutable l√† m·ªôt c√°ch l√†m kh√¥ng t·ªën nhi·ªÅu chi ph√≠ ƒë·ªÉ ngƒÉn ch·∫∑n c√°c con bug ch√∫ng ta g·∫∑p trong c√°c t√¨nh hu·ªëng c√° bi·ªát, nh∆∞ 2 lu·ªìng x·ª≠ l√Ω c≈©ng th·ª±c hi·ªán ghi ƒë√® m·ªôt gi√° tr·ªã-c√πng l√∫c, hay trong m·ªôt l·∫ßn ƒë·ªçc d·ªØ li·ªáu n√†o ƒë√≥ m√† b·∫°n \"nh·ª° tay\" ƒë√£ thay ƒë·ªïi d·ªØ li·ªáu m√† kh√¥ng hay bi·∫øt.</p>\n<p>C√°i g√¨ c≈©ng c√≥ gi√° c·ªßa n√≥! T√πy v√†o ng√¥n ng·ªØ v√† c·ª•c object b·ª± c·ª° n√†o, chi ph√≠ b·ªè ra ƒë·ªÉ <code class=\"language-inline-text\">clone</code> object ban ƒë·∫ßu ƒë·ªÉ ch·ªânh s·ª≠a s·∫Ω kh√°c nhau. Ph√°t sinh v·∫•n ƒë·ªÅ \"x·∫£ r√°c\" lung tung qua vi·ªác khai b√°o c√°c object m·ªõi li√™n t·ª•c khi c·∫ßn ch·ªânh s·ª≠a, do ƒë√≥ c√°c tr∆∞·ªùng h·ª£p ph√°t tri·ªÉn GUI (vi·∫øt m·ªôt editor nh∆∞ VS Code g·ªçi l√† ph√°t tri·ªÉn GUI) hay game s·∫Ω kh√¥ng ph√π h·ª£p v·ªõi immutable, t·∫•t nhi√™n lu√¥n c√≥ m·ªôt v√†i ch·ªó v·∫´n d√πng ƒë∆∞·ª£c</p>\n<p>Khi b·∫Øt ƒë·∫ßu d√πng immutable, ch√∫ng ta ph·∫£i ti·∫øp c·∫≠n khi vi·∫øt code, ph·∫£i suy nghƒ© t·ª´ng \"c·ª•c\" code n√™n l√†m th√™m n√†o ƒë·ªÉ <em>s·∫°ch</em> h∆°n, an to√†n v·ªõi s·ª©c kh·ªèe b√† m·∫π v√† tr·∫ª em h∆°n</p>\n<h2 id=\"pure-function-s·ªëng-n·ªÅ-n·∫øp-kh√¥ng-·∫£nh-h∆∞·ªüng-ƒë·∫øn-nh√†-h√†ng-x√≥m\"><a href=\"#pure-function-s%E1%BB%91ng-n%E1%BB%81-n%E1%BA%BFp-kh%C3%B4ng-%E1%BA%A3nh-h%C6%B0%E1%BB%9Fng-%C4%91%E1%BA%BFn-nh%C3%A0-h%C3%A0ng-x%C3%B3m\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Pure Function, s·ªëng n·ªÅ n·∫øp kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn nh√† h√†ng x√≥m</h2>\n<p>Th·∫ø n√†o l√† m·ªôt <strong>Function S·∫°ch</strong> ?</p>\n<p>ƒê√≥ gi·ªù ch√∫ng ta v·∫´n vi·∫øt function, l·∫≠p tr√¨nh h∆∞·ªõng function th√¨ c√≥ g√¨ kh√°c? <strong>function</strong> ·ªü ƒë√¢y √°m ch·ªâ c√°c h√†m ho·∫°t ƒë·ªông nh∆∞ h√†m to√°n h·ªçc nh∆∞ <code class=\"language-inline-text\">f(x) = x + 1</code>, nh·ªØng h√†m to√°n h·ªçc n√†y r·∫•t ƒë∆°n gi·∫£n, nh·∫≠n m·ªôt gi√° tr·ªã, v√† tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã, kh√¥ng ch·ªânh s·ª≠a gi√° tr·ªã b√™n ngo√†i, d√π n√≥ ƒë∆∞·ª£c truy·ªÅn v√†o nh∆∞ tham s·ªë c·ªßa h√†m, n·∫øu c√πng tham s·ªë truy·ªÅn v√†o, <strong>lu√¥n lu√¥n</strong> nh·∫≠n ƒë∆∞·ª£c c√πng k·∫øt qu·∫£ tr·∫£ v·ªÅ. Truy·ªÅn v√†o cho <code class=\"language-inline-text\">f(x) = x + 1</code> l√† 2 th√¨ b·∫•t c·ª© l·∫ßn n√†o c≈©ng nh·∫≠n ƒë∆∞·ª£c k·∫øt qu·∫£ l√† 3.</p>\n<p>Nh·ªù v·∫≠y ch√∫ng ta c√≥ th·ªÉ <strong>cache</strong> k·∫øt qu·∫£ n√†y, s·ª≠ d·ª•ng k·∫øt qu·∫£ cache trong tr∆∞·ªùng h·ª£p c√≥ c√πng input. Ch√∫ng ta c≈©ng c√≥ th·ªÉ g·ªçi c√°c function n√†y tr√™n nhi·ªÅu lu·ªìng ch·∫°y song song m√† kh√¥ng ph·∫£i lo l·∫Øng g√¨. N·∫øu c√°c function kh√¥ng ph·ª• thu·ªôc l·∫´n nhau, ch√∫ng ta c≈©ng c√≥ th·ªÉ g·ªçi n√≥ theo b·∫•t c·ª© th·ª© t·ª± n√†o m√† kh√¥ng quan t√¢m ƒë·∫øn v·∫•n ƒë·ªÅ <strong>race condition</strong></p>\n<blockquote>\n<p>Race condition, m√¨nh gi·∫£i th√≠ch n√¥m na th·∫ø n√†y, b·∫°n l√† ch√†ng trai l·∫Øm em theo ƒëu·ªïi, ng∆∞·ªùi ƒë·∫øn tr∆∞·ªõc, k·∫ª ƒë·∫øn sau, m·ª©c ƒë·ªô quy·∫øt li·ªát c·ªßa m·ªói em l·∫°i kh√°c nhau kh√¥ng ph·ª• thu·ªôc ai tr∆∞·ªõc, ai sau, em xu·∫•t ph√°t sau qu√° quy·∫øt li·ªát, n√™n ng·ªè l·ªùi ƒë√≤i c∆∞·ªõi tr∆∞·ªõc, b·∫°n ƒë·ªìng √Ω, sau ƒë√≥ em xu·∫•t ph√°t tr∆∞·ªõc, cu·ªëi c√πng c≈©ng ch·∫°y t·ªõi ƒë∆∞·ª£c nh√† b·∫°n, b·∫°n l·∫°i ƒë·ªìng √Ω ti·∫øp. Th·∫ø l√† ti√™u ƒë·ªùi b·∫°n r·ªìi.</p>\n</blockquote>\n<h2 id=\"ƒë·ªá-quy-s·ªëng-lu√¥n-nh·ªõ-v·ªÅ-√¥ng-b√†-t·ªï-ti√™n\"><a href=\"#%C4%91%E1%BB%87-quy-s%E1%BB%91ng-lu%C3%B4n-nh%E1%BB%9B-v%E1%BB%81-%C3%B4ng-b%C3%A0-t%E1%BB%95-ti%C3%AAn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ƒê·ªá quy, s·ªëng lu√¥n nh·ªõ v·ªÅ √¥ng b√† t·ªï ti√™n</h2>\n<p>Function g·ªçi l·∫°i ch√≠nh n√≥, kh√¥ng ph·ª• thu·ªôc bi·∫øn ƒë·∫øm li√™n quan g√¨ t·ªõi l·∫≠p tr√¨nh function?</p>\n<p>√ù t∆∞·ªüng c·ªët l√µi c·ªßa ƒë·ªá quy l√† chia b√†i to√°n l·ªõn th√†nh b√†i to√°n t∆∞∆°ng t·ª± nh∆∞ v·∫≠y, nh∆∞ng quy m√¥ nh·ªè h∆°n. V·∫•n ƒë·ªÅ nh·ªè h∆°n nghƒ©a l√† c≈©ng d·ªÖ hi·ªÉu h∆°n, c√°ch gi·∫£i quy·∫øt c≈©ng r√µ r√†nh r√†nh h∆°n. Khi ch√∫ng ta ƒë·ªïi m·∫∑t v·ªõi v√≤ng l·∫∑p, nghƒ© xem ƒë·ªá quy c√≥ ph·∫£i l√† l·ª±a ch·ªçn ƒë√∫ng h∆°n kh√¥ng. V√≠ d·ª• l·∫∑p b√¨nh th∆∞·ªùng ph√π h·ª£p khi c·∫ßn ƒëi qua t·∫•t c·∫£ ph·∫ßn t·ª≠ trong m·∫£ng, ƒë·ªá quy l·∫°i ph√π h·ª£p √°p d·ª•ng quicksort trong m·∫£ng (th·ª© 6 tu·∫ßn sau m√¨nh vi·∫øt b√†i n√†y nha!)</p>\n<p>Khi l√†m vi·ªác v·ªõi ƒë·ªá quy, lu√¥n nh·ªõ s·ª≠ d·ª•ng v√† n·∫±m l√≤ng c√¢u h·ªèi <strong>ƒëi·ªÅu g√¨ s·∫Ω th·ª±c thi khi n√≥ ·ªü v·ªã tr√≠ cu·ªëi c√πng</strong></p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">factorial</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> acc</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tacc <span class=\"token operator\">=</span> acc <span class=\"token operator\">||</span> <span class=\"token number\">1</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">factorial</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> acc <span class=\"token operator\">*</span> x<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n<span class=\"gridsome-highlight-code-line\">\t\t<span class=\"token keyword\">return</span> acc</span>\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>H·∫°n ch·∫ø ƒë∆∞·ª£c y·∫øu ƒëi·ªÉm c·ªßa ƒë·ªá quy l√† <strong>tr√†n stack</strong> v·ªõi c√¢u h·ªèi tr√™n.</p>\n<h2 id=\"t·ªïng-k·∫øt\"><a href=\"#t%E1%BB%95ng-k%E1%BA%BFt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·ªïng k·∫øt</h2>\n<p>T√≥m l·∫°i t·∫°i sao thi√™n h·∫° <strong>r·∫ßn r·∫ßn</strong> v·ªõi l·∫≠p tr√¨nh function h√¢m he tri·ªát l·∫≠p tr√¨nh h∆∞·ªõng ƒë·ªëi t∆∞·ª£ng OOP</p>\n<ul>\n<li>Kh√¥ng t·∫°o ra side effect</li>\n<li>Th·ª© t·ª± ch·∫°y function kh√¥ng quan tr·ªçng</li>\n<li>D·ªÖ ƒë·ªçc (√Ω l√† ng∆∞·ªùi kh√°c d·ªÖ ƒë·ªçc l·∫°i v√† hi·ªÉu m√¨nh ƒëang vi·∫øt g√¨)</li>\n</ul>\n<p>T·∫•t nhi√™n kh√¥ng ph·∫£i l√∫c n√†o l·∫≠p tr√¨nh function c≈©ng ph√π h·ª£p v·ªõi b·∫•t k·ª≥ tr∆∞·ªùng h·ª£p n√†o, ƒë√¥i khi side effect l√† c·∫ßn thi·∫øt, b·∫Øt bu·ªôc, b·∫°n kh√¥ng th·ªÉ vi·∫øt to√†n b·ªô ch∆∞∆°ng tr√¨nh b·∫±ng pure function</p>\n<p>Theo quan ƒëi·ªÉm c√° nh√¢n: l·∫≠p tr√¨nh function tr·ªü n√™n ph·ªï bi·∫øn b·ªüi 2 nguy√™n nh√¢n: 1. Ng√†y c√†ng nhi·ªÅu vi x·ª≠ l√Ω c√≥ kh·∫£ nƒÉng x·ª≠ l√Ω ƒë·ªìng th·ªùi tr√™n ƒëa lu·ªìng, 2. ƒê√¢y l√† ki·ªÉu vi·∫øt r·∫•t d·ªÖ ti·∫øp c·∫≠n v·ªõi m·ªçi ng∆∞·ªùi (nh∆∞ ai c≈©ng x√†i windows v√¨ b·∫ª kh√≥a n√≥ th√¨ kh√¥ng c√≥ g√¨ d·ªÖ ƒë·∫øn th·∫ø)</p>\n<h2 id=\"t√†i-li·ªáu-tham-kh·∫£o\"><a href=\"#t%C3%A0i-li%E1%BB%87u-tham-kh%E1%BA%A3o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T√†i li·ªáu tham kh·∫£o</h2>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.lucidchart.com/techblog/2017/11/29/functional-programming-principles-every-imperative-programmer-should-use/\">FUNCTIONAL PROGRAMMING PRINCIPLES EVERY IMPERATIVE PROGRAMMER SHOULD USE</a></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://stackoverflow.com/questions/36504/why-functional-languages\">Why functional languages? </a></p>\n","cover_image":""}},{"node":{"id":"48aae53889a858c9c8e7e9f9428f8b84","title":"Function Component trong Vue","path":"/2019-07-21-function-component-trong-vue/","date":"2019-07-21","timeToRead":2,"desc":"Kh√¥ng ƒë∆∞·ª£c xu·∫•t ch√∫ng nh∆∞ l√† function component c·ªßa React, n√™n function component trong Vue kh√¥ng c√≥ nhi·ªÅu ng∆∞·ªùi ƒë·ªÉ √Ω. C√πng t√¨m hi·ªÉu xem n·∫øu mu·ªën vi·∫øt function component trong Vue th√¨ ch√∫ng ta ph·∫£i l√†m sao","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#function-component-trong-vue-l%C3%A0-g%C3%AC\">Function Component trong Vue l√† g√¨</a></li>\n<li><a href=\"#truy-xu%E1%BA%A5t-d%E1%BB%AF-li%E1%BB%87u\">Truy xu·∫•t d·ªØ li·ªáu</a></li>\n<li><a href=\"#attribute\">Attribute</a></li>\n<li><a href=\"#k%E1%BA%BFt\">K·∫øt</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"t·∫°i-sao-vi·∫øt-function-component\"><a href=\"#t%E1%BA%A1i-sao-vi%E1%BA%BFt-function-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·∫°i sao vi·∫øt Function Component?</h2>\n<p>Khi vi·∫øt function component, ch√∫ng ta ph·∫£i <em>t·ª± x·ª≠</em> r·∫•t nhi·ªÅu th·ª© (b√™n d∆∞·ªõi s·∫Ω c√≥ li·ªát k√™), v·∫≠y c√¢u t·∫°i sao ch√∫ng ta l·∫°i mu·ªën d√πng ƒë·∫øn n√≥?</p>\n<p>Anh Austin Gil ·∫£nh c√≥ ƒëo, th√¨ th·∫•y <a href=\"https://codesandbox.io/s/vue-stateful-vs-functional-yterr\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">function component n√≥ nhanh h∆°n so v·ªõi m·ªôt component c√≥ state</a>.</p>\n<h2 id=\"function-component-trong-vue-l√†-g√¨\"><a href=\"#function-component-trong-vue-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Function Component trong Vue l√† g√¨?</h2>\n<p>Component <strong>kh√¥ng</strong> ch·ª©a <code class=\"language-inline-text\">state</code> v√† kh√¥ng c√≥ <code class=\"language-inline-text\">instance</code>, kh√¥ng th·ªÉ truy xu·∫•t b·∫±ng t·ª´ kh√≥a <code class=\"language-inline-text\">this</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// d√πng vue template</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">functional</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// d√πng render function</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\nexport default {\n\tfunctional: true,\n\n\trender(h) {\n\t\t//...\n\t}\n}\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"truy-xu·∫•t-d·ªØ-li·ªáu\"><a href=\"#truy-xu%E1%BA%A5t-d%E1%BB%AF-li%E1%BB%87u\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Truy xu·∫•t d·ªØ li·ªáu</h2>\n<p><em>N·∫øu kh√¥ng c√≥ <code class=\"language-inline-text\">state</code> hay <code class=\"language-inline-text\">instance</code> v·∫≠y l√†m sao ch√∫ng ta c√≥ th·ªÉ tham chi·∫øu ƒë·∫øn d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c?</em></p>\n<p>Vue cung c·∫•p tham s·ªë <code class=\"language-inline-text\">context</code> b√™n d∆∞·ªõi h√†m render ƒë·ªÉ ch√∫ng ta truy xu·∫•t: <strong>prop, children, slot, scopedSlot, data, parent, listener, injection</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">functional</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> props<span class=\"token punctuation\">.</span>someProp <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\nexport default {\n\tprops: {\n\t\tsomeProp: String\n\t}\n}\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\nexport default {\n\tfunctional: true,\n\n\tprops: {\n\t\tsomeProp: String\n\t},\n\n\trender(h, ctx) {\n\t\tconst someProp = ctx.props.someProp\n\t}\n}\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"attribute\"><a href=\"#attribute\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Attribute</h2>\n<p><strong>attribute kh√¥ng ƒë∆∞·ª£c truy·ªÅn xu·ªëng t·ª± ƒë·ªông, v√≠ d·ª• nh∆∞ <code class=\"language-inline-text\">class</code> v√† <code class=\"language-inline-text\">id</code> m·∫∑c ƒë·ªãnh b·ªã b·ªè qua</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> src<span class=\"token operator\">/</span>components<span class=\"token operator\">/</span>ArticleTeaser<span class=\"token punctuation\">.</span>vue <span class=\"token operator\">--</span><span class=\"token operator\">></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t&lt;UiHeadline\n\t\tid=\"hyphenCase(article.title)\"\n\t\tclass=\"ArticleTeaser__title\"\n\t\t@click=\"readMore\"\n\t>\t\n\t\t</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> article<span class=\"token punctuation\">.</span>title <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">UiHeadline</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> src<span class=\"token operator\">/</span>components<span class=\"token operator\">/</span>UiHeadline<span class=\"token punctuation\">.</span>vue <span class=\"token operator\">--</span><span class=\"token operator\">></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">functional</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>slot</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><code class=\"language-inline-text\">id</code>, <code class=\"language-inline-text\">class</code>, k·ªÉ c·∫£ <code class=\"language-inline-text\">@click</code> c≈©ng kh√¥ng ƒë∆∞·ª£c truy·ªÅn xu·ªëng. N·∫øu kh√¥ng m·ªü source code ƒë√≥ ai m√† bi·∫øt ƒë∆∞·ª£c t·∫°i sao truy·ªÅn c√°c attribute n√†y xu·ªëng m√† n√≥ kh√¥ng ch·∫°y.</p>\n<p>H√™n l√† c√≥ c√°ch gi·∫£i quy·∫øt, n·∫øu b·∫°n ƒë√£ vi·∫øt function component th√¨ b·∫°n ph·∫£i ch·ªãu tr√°ch nhi·ªám b·ªï sung c√°ch gi·∫£i quy·∫øt cho n√≥</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">functional</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span>\n\t\t<span class=\"token attr-name\">v-bind</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data.attrs<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token attr-name\">v-on</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listeners<span class=\"token punctuation\">\"</span></span>\n\t<span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>slot</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Tuy nhi√™n, ch∆∞a xong h·∫øt ƒë∆∞·ª£c, v√¨ <code class=\"language-inline-text\">class</code> n√≥ l·∫°i kh√¥ng n·∫±m trong <code class=\"language-inline-text\">data.attrs</code></p>\n<p>B·∫°n ph·∫£i th√¥ng qua <code class=\"language-inline-text\">data.class</code>/ <code class=\"language-inline-text\">data.staticClass</code> v√† <code class=\"language-inline-text\">data.style</code>/<code class=\"language-inline-text\">data.staticStyle</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> ƒê∆∞a v√†o <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">data.class</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">--</span><span class=\"token operator\">></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UiHeadline</span></span> <span class=\"token attr-name\">:class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[<span class=\"token punctuation\">'</span>my-class<span class=\"token punctuation\">'</span>]<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> ƒê∆∞a v√†o <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">data.staticClass</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">--</span><span class=\"token operator\">></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">UiHeadline</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my-class<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">functional</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span>\n\t\t<span class=\"token attr-name\">:class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[data.class, data.staticClass]<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token attr-name\">:style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[data.style, data.staticStyle]<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token attr-name\">v-bind</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>data.attrs<span class=\"token punctuation\">\"</span></span>\n\t\t<span class=\"token attr-name\">v-on</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listeners<span class=\"token punctuation\">\"</span></span>\n\t<span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>slot</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://stegosource.com/vue-js-functional-components-what-why-and-when/\">Vue.js functional components: What, Why, and When?</a></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://markus.oberlehner.net/blog/working-with-functional-vue-components/\">Working With Functional Vue.js Components</a></p>\n","cover_image":""}},{"node":{"id":"a3122abaeff5dd1ef038b80398ff52d3","title":"10 nguy√™n l√Ω l·∫≠p tr√¨nh n·ªÅn t·∫£ng m√† l·∫≠p tr√¨nh vi√™n n√†o c≈©ng c·∫ßn bi·∫øt","path":"/2019-07-13-nguyen-tac-moi-lap-trinh-vien-can-biet/","date":"2019-07-13","timeToRead":7,"desc":"Nh·ªõ th·ªùi ƒë·∫°i h·ªçc qu√° n√™n √¥n l·∫°i ki·∫øn th·ª©c v·ªü l√≤ng m·∫•y b·∫°n ∆°i","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#KISS\">KISS</a></li>\n<li><a href=\"#DRY\">DRY</a></li>\n<li><a href=\"#Up-up-m%E1%BB%9F-m%E1%BB%9F\">Up up m·ªü m·ªü</a></li>\n<li><a href=\"#H%E1%BB%A3p-th%E1%BB%83-s%E1%BA%BD-m%E1%BA%A1nh-h%C6%A1n-%C4%91%C6%B0%E1%BB%A3c-buff\">H·ª£p th·ªÉ s·∫Ω m·∫°nh h∆°n ƒë∆∞·ª£c buff</a></li>\n<li><a href=\"#Ai-l%C3%A0m-vi%E1%BB%87c-n%E1%BA%A5y-Single-Responsibility\">Ai l√†m vi·ªác n·∫•y (Single Responsibility)</a></li>\n<li><a href=\"#B%E1%BB%9Bt-quan-t%C3%A2m-con-g%C3%A1i-nh%C3%A0-h%C3%A0ng-x%C3%B3m-Separation-of-Concerns\">B·ªõt quan t√¢m con g√°i nh√† h√†ng x√≥m (Separation of Concerns)</a></li>\n<li><a href=\"#B%E1%BA%A1n-l%C3%A0-l%E1%BA%ADp-tr%C3%ACnh-vi%C3%AAn-kh%C3%B4ng-ph%E1%BA%A3i-th%E1%BA%A7y-b%C3%B3i-YAGNI\">B·∫°n l√† l·∫≠p tr√¨nh vi√™n kh√¥ng ph·∫£i th·∫ßy b√≥i YAGNI</a></li>\n<li><a href=\"#T%E1%BB%91i-%C6%B0u-h%C3%B3a-qu%C3%A1-s%E1%BB%9Bm\">T·ªëi ∆∞u h√≥a qu√° s·ªõm</a></li>\n<li><a href=\"#Refactor\">Refactor</a></li>\n<li><a href=\"#Th%C3%A0-anh-code-s%E1%BA%A1ch-ch%E1%BB%A9-anh-kh%C3%B4ng-c%E1%BA%A7n-code-cho-cao-si%C3%AAu-Clean-Code--Clever-Code\">Th√† anh code s·∫°ch, ch·ª© anh kh√¥ng c·∫ßn code cho cao si√™u (Clean Code > Clever Code)</a></li>\n<li><a href=\"#T%E1%BB%95ng-k%E1%BA%BFt\">T·ªïng k·∫øt</a></li>\n</ul>\n<!-- /TOC -->\n<p>N·∫øu b·∫°n l√† ng∆∞·ªùi theo ch·ªß nghƒ©a vi·∫øt code sao cho <em>ch·∫°y ƒë∆∞·ª£c l√† ƒë·ªß</em>, b·∫°n kh√¥ng n√™n ƒë·ªçc b√†i n√†y. C√≤n m·ª•c ti√™u l√† vi·∫øt code v√† <strong>ƒë·∫∑t c√°i t√¢m v√†o nh·ªØng g√¨ m√¨nh vi·∫øt ra</strong> th√¨ b·∫°n n√™n bi·∫øt c√°c nguy√™n l√Ω n·ªÅn t·∫£ng n√†y.</p>\n<h2 id=\"kiss\"><a href=\"#kiss\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>KISS</h2>\n<p>Nguy√™n t·∫Øc <strong>Keep it simple, stupid</strong> ƒë∆∞·ª£c √°p d·ª•ng cho r·∫•t nhi·ªÅu th·ª© trong cu·ªôc s·ªëng, r·∫•t c·∫ßn thi·∫øt cho c√°c d·ª± √°n t·ª´ v·ª´a t·ªõi l·ªõn.</p>\n<p>T·ª´ l√∫c b·∫Øt ƒë·∫ßu code nh·ªØng d√≤ng ƒë·∫ßu ti√™n, ch√∫ng ta ph·∫£i kh·∫Øc c·ªët ghi t√¢m c√¢u <strong>ƒë∆°n gi·∫£n nh·∫•t c√≥ th·ªÉ</strong>, code c√†ng ph·ª©c t·∫°p c√†ng kh√≥ vi·∫øt v√† ƒë·ªçc l·∫°i, c√†ng c√≥ kh·∫£ nƒÉng ph√°t sinh bug, c√†ng kh√≥ ch·ªânh s·ª≠a sau n√†y. C·ª• Antoine de Saint-Exupery c√≥ ph√°n c√¢u n√†y:</p>\n<blockquote>\n<p>Ho√†n h·∫£o kh√¥ng ph·∫£i l√† khi kh√¥ng c√≤n g√¨ ƒë·ªÉ th√™m v√†o n·ªØa, m√† l√† kh√¥ng c√≤n g√¨ c√≥ th·ªÉ b·ªè b·ªõt</p>\n</blockquote>\n<h2 id=\"dry\"><a href=\"#dry\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>DRY</h2>\n<p>Nguy√™n t·∫Øc v√†ng m√† ch√∫ng ta nghe m√£i nghe m√£i. <strong>Don‚Äôt repeat yourself</strong>, kh√¥ng bao gi·ªù ƒë·ªÉ chuy·ªán code ch·ªï n√†y gi·ªëng h·ªát ch·ªï kia, copy-paste m·ªôt ƒëo·∫°n code ·ªü nhi·ªÅu ch·ªï trong source. N·∫øu th·∫•y m·ªôt ƒëo·∫°n code m√† c·ª© vi·∫øt ƒëi vi·∫øt l·∫°i ·ªü nhi·ªÅu n∆°i trong source, ng∆∞·ªùi ta s·∫Ω ƒë√°nh gi√° tr√¨nh b·∫°n c√≤n non v√† xanh l·∫Øm</p>\n<h2 id=\"up-up-m·ªü-m·ªü-openclosed\"><a href=\"#up-up-m%E1%BB%9F-m%E1%BB%9F-openclosed\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Up up m·ªü m·ªü (Open/Closed)</h2>\n<p>Bi·∫øt c√≥ th·ªÉ vi·∫øt th√™m c√°c t√≠nh nƒÉng b·ªï sung tho·∫£i m√°i, nh∆∞ng kh√¥ng ƒë∆∞·ª£c ch·ªânh s·ª≠a core ch√≠nh. C√°i n√†y c√≥ th·ªÉ l·∫•y v√≠ d·ª• b·∫°n l·∫•y nh·ªØng package tr√™n <code class=\"language-inline-text\">npm</code>, n√≥ n·∫±m trong <code class=\"language-inline-text\">node_modules</code>, s·∫Ω kh√¥ng ƒë∆∞·ª£c ch·ªânh s·ª≠a g√¨ ·ªü ƒë√≥ h·∫øt, n·∫øu l·ª° sau n√†y ng∆∞·ªùi ta update l√™n, l√† b·∫°n ph·∫£i t·ª± c·∫≠p nh·∫≠p th·ªß c√¥ng nh√©.</p>\n<h2 id=\"h·ª£p-th·ªÉ-s·∫Ω-m·∫°nh-h∆°n-ƒë∆∞·ª£c-buff-composition--inheritance\"><a href=\"#h%E1%BB%A3p-th%E1%BB%83-s%E1%BA%BD-m%E1%BA%A1nh-h%C6%A1n-%C4%91%C6%B0%E1%BB%A3c-buff-composition--inheritance\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>H·ª£p th·ªÉ s·∫Ω m·∫°nh h∆°n ƒë∆∞·ª£c buff (Composition > Inheritance)</h2>\n<p><img src=\"https://wegotthiscovered.com/wp-content/uploads/2018/08/Power-Rangers-Movie-Blu-ray-cover-art-1.jpg\" alt=\"10 nguy√™n t·∫Øc l·∫≠p tr√¨nh n·ªÅn t·∫£ng m√† l·∫≠p tr√¨nh vi√™n n√†o c≈©ng c·∫ßn bi·∫øt\"></p>\n<p>N·∫øu b·∫°n c√≥ xem 5 anh em si√™u nh√¢n b·∫°n s·∫Ω hi·ªÉu, n·∫øu 5 anh em si√™u nh√¢n m√† h·ª£p th·ªÉ l·∫°i s·∫Ω t·∫°o ra m·ªôt con robot v·ªõi s·ª©c m·∫°nh v∆∞·ª£t b·∫≠t, ƒë√°nh b·∫°i m·ªçi c·∫£ th·ªÉ y√™u qu√°i, d√π n√≥ ƒë∆∞·ª£c buff r·∫•t nhi·ªÅu ƒë·ªì ch∆°i ƒë·ªÉ tƒÉng dame.</p>\n<p>C√°i n√†y c√≥ v√≠ d·ª• cho anh em n√†o vi·∫øt OOP, m√† m√¨nh th√¨ kh√¥ng r√†nh OOP l·∫Øm, n√™n anh em t·ª± t√¨m v√≠ d·ª• nh√©.</p>\n<h2 id=\"ai-l√†m-vi·ªác-n·∫•y-single-responsibility\"><a href=\"#ai-l%C3%A0m-vi%E1%BB%87c-n%E1%BA%A5y-single-responsibility\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ai l√†m vi·ªác n·∫•y (Single Responsibility)</h2>\n<p>M·ªói function ch·ªâ th·ª±c hi·ªán m·ªôt nhi·ªám v·ª• duy nh·∫•t, kh√¥ng √¥m ƒë·ªìm nhi·ªÅu th·ª© c√πng l√∫c.</p>\n<p>N·∫øu x√°c ƒë·ªãnh ra ƒë∆∞·ªùng l√† ƒëi ƒÉn c∆°m, th√¨ ƒÉn c∆°m r·ªìi v·ªÅ, kh√¥ng c√≥ s·∫µn ti·ªÅn mua th√™m b·ªãch ch√®, ly tr√† s·ªØa hay v√†i tr·ª©ng v·ªãt l·ªôn.</p>\n<h2 id=\"b·ªõt-quan-t√¢m-con-g√°i-nh√†-h√†ng-x√≥m-separation-of-concerns\"><a href=\"#b%E1%BB%9Bt-quan-t%C3%A2m-con-g%C3%A1i-nh%C3%A0-h%C3%A0ng-x%C3%B3m-separation-of-concerns\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B·ªõt quan t√¢m con g√°i nh√† h√†ng x√≥m (Separation of Concerns)</h2>\n<p>C≈©ng t∆∞∆°ng t·ª± v·ªõi ai l√†m vi·ªác n·∫•y, nguy√™n t·∫Øc n√†y c√≥ ph·∫ßn tr·ª´u t∆∞·ª£ng, kh√°i qu√°t h∆°n m·ªôt ch√∫t.</p>\n<p>L·∫•y v√≠ d·ª• quan h·ªá trai-g√°i, ƒë·ªÉ c√≥ th·ªÉ quen m·ªôt l√∫c 3 c√¥, b·∫°n c·∫ßn l·∫≠p 3 t√†i kho·∫£n Zalo kh√°c nhau, tr√™n 3 c√°i ƒëi·ªán tho·∫°i kh√°c nhau, ƒë·ªÉ khi ƒëi ch∆°i v·ªõi c√¥ n√†o th√¨ kh√¥ng b·ªã ph√°t hi·ªán m·∫•y c√¥ kia, ƒë·ª´ng d√πng 1 t√†i kho·∫£n tr√™n 1 ƒëi·ªán tho·∫°i m√† chat v·ªõi c·∫£ 3 c√¥ c√πng l√∫c.</p>\n<p>L·∫•y v√≠ d·ª• trong <em>ngh·ªÅ</em> l·∫≠p tr√¨nh n√≥ l√† m√¥ h√¨nh thi·∫øt k·∫ø MVC, c√≤n trong <em>ngh·ªÅ</em> React n√≥ l√† kh√°i ni·ªám Container v√† Presentation component. Nh∆∞ng anh em c·ª© nh·ªõ v√≠ d·ª• 3 c√¥ g√°i cho d·ªÖ.</p>\n<p><img src=\"https://static.makeuseof.com/wp-content/uploads/2017/10/programming-principle-mvc-pattern.png\" alt=\"10 nguy√™n t·∫Øc l·∫≠p tr√¨nh n·ªÅn t·∫£ng m√† l·∫≠p tr√¨nh vi√™n n√†o c≈©ng c·∫ßn bi·∫øt\"></p>\n<h2 id=\"b·∫°n-l√†-l·∫≠p-tr√¨nh-vi√™n-kh√¥ng-ph·∫£i-th·∫ßy-b√≥i-yagni---you-arent-gonna-need-it\"><a href=\"#b%E1%BA%A1n-l%C3%A0-l%E1%BA%ADp-tr%C3%ACnh-vi%C3%AAn-kh%C3%B4ng-ph%E1%BA%A3i-th%E1%BA%A7y-b%C3%B3i-yagni---you-arent-gonna-need-it\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B·∫°n l√† l·∫≠p tr√¨nh vi√™n kh√¥ng ph·∫£i th·∫ßy b√≥i (YAGNI - you aren‚Äôt gonna need it)</h2>\n<p>Nguy√™n t·∫Øc n√†y n√≥ n√≥i l√†, b·∫°n ƒë·ª´ng vi·∫øt ra nh·ªØng h√†m m√† b·∫°n nghƒ©, \"·ªù, c√≥ l·∫Ω trong t∆∞∆°ng lai ch√∫ng ta s·ªõm mu·ªôn c≈©ng x√†i t·ªõi n√≥\". C√°i g√¨ c·∫ßn th√¨ vi·∫øt, c√≥ sao l·∫°i vi·∫øt tr∆∞·ªõc?</p>\n<p>V√≠ d·ª•, b·∫°n vi·∫øt s·∫µn m·ªôt s·ªë l·ªõp abstract v√† generic ƒë·ªÉ tr√°nh tr√πng l·∫∑p code, m√† qu√° nhi·ªÅu l·ªõp abstract d·∫´n ƒë·∫øn h·∫≠u qu·∫£ kh√¥ng th·ªÉ n√†o m√† b·∫£o tr√¨ n·ªïi. N√≥i chung ƒë·ªÉ ƒë·∫£m b·∫£o nguy√™n t·∫Øc DRY, b·∫°n c·ª© vi·∫øt tr∆∞·ªõc ƒëi, n·∫øu th·∫•y b·ªã tr√πng, th·∫ßy refactor l·∫°i, nh∆∞ √¥ng b√† c√≥ c√¢u c·ª© c√≥ tr√¢u r·ªìi h·∫£ mua chu·ªìng</p>\n<h2 id=\"t·ªëi-∆∞u-h√≥a-qu√°-s·ªõm-avoid-premature-optimization\"><a href=\"#t%E1%BB%91i-%C6%B0u-h%C3%B3a-qu%C3%A1-s%E1%BB%9Bm-avoid-premature-optimization\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·ªëi ∆∞u h√≥a qu√° s·ªõm (Avoid Premature Optimization)</h2>\n<p>N·∫øu b·∫°n c√≥ xu h∆∞·ªõng t·ªëi ∆∞u c√°c gi·∫£i thu·∫≠t ƒë∆∞·ª£c vi·∫øt ra ngay t·ª´ ƒë·∫ßu, v·∫•n ƒë·ªÅ ·ªü ch·ªó l√† b·∫°n kh√¥ng th·ªÉ bi·∫øt ƒë∆∞·ª£c ch∆∞∆°ng tr√¨nh s·∫Ω b·ªã ngh·∫Ωn c·ªï chai ·ªü ƒë√¢u cho ƒë·∫øn khi c√≥ d·ªØ li·ªáu th·ª±c t·∫ø. B·∫°n c√≥ th·ªÉ ph·ªèng ƒëo√°n, t·∫•t nhi√™n l√† ƒë∆∞·ª£c m√† ƒë√¥i khi h√™n h√™n l·∫°i ƒë√∫ng. Ch·ªâ c√≥ m·ªôt ƒëi·ªÅu d·ªÖ th·∫•y l√† b·∫°n s·∫Ω b·ªè ra kh√¥ng √≠t th·ªùi gian ƒë·ªÉ tƒÉng t·ªëc cho h√†m ƒë√≥, m√† thi·ªát ra n√≥ kh√¥ng ch·∫≠m t·ªõi m·ª©c nh∆∞ b·∫°n nghƒ©, ho·∫∑c m·ª©c ƒë·ªô user s·ª≠ d·ª•ng h√†m ƒë√≥ s·∫Ω kh√¥ng nhi·ªÅu.</p>\n<p>Ho√†n th√†nh nh·ªØng v·∫•n ƒë·ªÅ m·∫•u ch·ªët tr∆∞·ªõc, sau ƒë√≥ d√≤ l·∫°i ƒë·ªÉ bi·∫øt ƒëang b·ªã th·∫Øt c·ªï chai ·ªü ƒë√¢u</p>\n<h2 id=\"refactor-r·ªìi-l·∫°i-refactor-r·ªìi-l·∫°i-refactor\"><a href=\"#refactor-r%E1%BB%93i-l%E1%BA%A1i-refactor-r%E1%BB%93i-l%E1%BA%A1i-refactor\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Refactor, r·ªìi l·∫°i Refactor, r·ªìi l·∫°i Refactor</h2>\n<p>S·ª± th·∫≠t ai c≈©ng bi·∫øt l√† khi b·∫°n m·ªõi b·∫Øt ƒë·∫ßu vi·∫øt, th·ªùi gian sau nh√¨n l·∫°i, khi ƒë√£ c√≥ c√°i nh√¨n c·ª• th·ªÉ v√† r√µ r√†ng h∆°n nh·ªØng g√¨ m√¨nh ƒëang l√†m trong d·ª± √°n, b·∫°n s·∫Ω code tr∆∞·ªõc ƒë√¢y m√¨nh vi·∫øt th·∫≠t s·ª± ch∆∞a \"ngon\". C√¥ng vi·ªác refactor l√† r·∫•t b√¨nh th∆∞·ªùng. N·∫øu b·∫°n ƒëang c√≥ vi·ªác c·∫ßn thay ƒë·ªïi ho·∫∑c ki·ªÉm tra code c≈©, n·∫øu ƒë∆∞·ª£c th√¨ c·ª© <em>d·ªçn d·∫πp</em> m·ªôt t√≠ tr∆∞·ªõc khi ƒëi.</p>\n<h2 id=\"th√†-anh-code-s·∫°ch-ch·ª©-anh-kh√¥ng-c·∫ßn-code-cho-cao-si√™u-clean-code--clever-code\"><a href=\"#th%C3%A0-anh-code-s%E1%BA%A1ch-ch%E1%BB%A9-anh-kh%C3%B4ng-c%E1%BA%A7n-code-cho-cao-si%C3%AAu-clean-code--clever-code\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th√† anh code s·∫°ch, ch·ª© anh kh√¥ng c·∫ßn code cho cao si√™u (Clean Code > Clever Code)</h2>\n<p>N√≥i v·ªÅ clean code, l√† ph·∫£i b·ªè ƒëi c√°i t√¥i to b·ª± sang m·ªôt b√™n, ƒë·ª´ng bao gi·ªù nghƒ© code th·∫ø cho ng·∫ßu, code m√† ƒë·ªÉ b·∫°n khoe v·ªõi thi√™n h·∫° r·∫±ng c√°ch code c·ªßa t√¥i m·ªõi th√¥ng minh h∆°n.</p>\n<p>V√≠ d·ª• d·ªÖ th·∫•y, m·ªôt s·ªë thanh ni√™n m√¨nh t·ª´ng l√†m vi·ªác chung r·∫•t th√≠ch d√πng c√¢u ƒëi·ªÅu ki·ªán tr√™n m·ªôt d√≤ng, anh ·∫•y c·ª© <code class=\"language-inline-text\">&amp;&amp;  || &amp;&amp; || &amp;&amp;</code> c√°c ki·ªÉu tr√™n m·ªôt d√≤ng, ai m√† v√¥ ƒë·ªçc th√¨ ch·ªâ c√≥ ki·∫øm ·∫£nh ƒë·ªÉ nh·ªù gi·∫£i th√≠ch l√† ƒëang mu·ªën l√†m c√°i g√¨.</p>\n<h2 id=\"t·ªïng-k·∫øt\"><a href=\"#t%E1%BB%95ng-k%E1%BA%BFt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·ªïng k·∫øt</h2>\n<p>9 ng∆∞·ªùi th√¨ 10 √Ω, n·∫øu ƒëi h·ªèi 9 ng∆∞·ªùi v·ªõi c√¢u h·ªèi \"Th·∫ø n√†o ƒë∆∞·ª£c g·ªçi l√† m·ªôt l·∫≠p tr√¨nh vi√™n t·ªët\", th√¨ ch·∫Øc nh·∫≠n ƒë∆∞·ª£c kh√¥ng √≠t s·ª± kh√°c nhau v·ªÅ quan ƒëi·ªÉm, m√† ƒë√¥i khi c√≤n tr√°i chi·ªÅu v·ªõi nhau n·ªØa.</p>\n<p>B·∫°n th·∫•y √Ω ki·∫øn n√†y th·∫ø n√†o, m·ªôt l·∫≠p tr√¨nh vi√™n gi·ªèi l√† ng∆∞·ªùi bi·∫øt m√¨nh ƒëang ph·ª•c v·ª• ng∆∞·ªùi d√πng cu·ªëi, ng∆∞·ªùi c√≥ th·ªÉ l√†m vi·ªác hi·ªáu qu·∫£ v·ªõi ƒë·ªìng ƒë·ªôi, ng∆∞·ªùi c√≥ th·ªÉ ho√†n th√†nh c√¥ng vi·ªác ƒë∆∞·ª£c giao ƒë√∫ng y√™u c·∫ßu, ƒë√∫ng ti·∫øn ƒë·ªô.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.makeuseof.com/tag/basic-programming-principles/\">10 Basic Programming Principles Every Programmer Must Follow</a></p>\n","cover_image":""}},{"node":{"id":"b1851cc1980bb093ae4f97c8d1a1d08d","title":"S·ª≠ d·ª•ng React Hook Effect","path":"/2019-07-03-huong-dan-su-dung-react-hook-effect/","date":"2019-07-03","timeToRead":18,"desc":"B√†i n√†y m√¨nh contribute cho http://vi.reactjs.org v·ªÅ c√°ch s·ª≠ d·ª•ng React Hook Effect","content":"<!-- TOC -->\n<ul>\n<li>\n<p><a href=\"#Effect-kh%C3%B4ng-c%E1%BA%A7n-Cleanup-effects-without-cleanup\">Effect kh√¥ng c·∫ßn Cleanup {#effects-without-cleanup}</a></p>\n<ul>\n<li><a href=\"#V%C3%AD-d%E1%BB%A5-s%E1%BB%AD-d%E1%BB%A5ng-Classes-example-using-classes\">V√≠ d·ª• s·ª≠ d·ª•ng Classes {#example-using-classes}</a></li>\n<li><a href=\"#V%C3%AD-d%E1%BB%A5-s%E1%BB%AD-d%E1%BB%A5ng-Hook-example-using-hooks\">V√≠ d·ª• s·ª≠ d·ª•ng Hook {#example-using-hooks}</a></li>\n<li><a href=\"#Gi%E1%BA%A3i-th%C3%ADch-c%E1%BB%A5-th%E1%BB%83-detailed-explanation\">Gi·∫£i th√≠ch c·ª• th·ªÉ {#detailed-explanation}</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#Effect-c%E1%BA%A7n-Cleanup-effects-with-cleanup\">Effect c·∫ßn Cleanup {#effects-with-cleanup}</a></p>\n<ul>\n<li><a href=\"#V%C3%AD-d%E1%BB%A5-s%E1%BB%AD-d%E1%BB%A5ng-Class-example-using-classes-1\">V√≠ d·ª• s·ª≠ d·ª•ng Class {#example-using-classes-1}</a></li>\n<li><a href=\"#V%C3%AD-d%E1%BB%A5-s%E1%BB%AD-d%E1%BB%A5ng-Hooks-example-using-hooks-1\">V√≠ d·ª• s·ª≠ d·ª•ng Hooks {#example-using-hooks-1}</a></li>\n</ul>\n</li>\n<li><a href=\"#T%E1%BB%95ng-h%E1%BB%A3p-recap\">T·ªïng h·ª£p {#recap}</a></li>\n<li>\n<p><a href=\"#Tip-s%E1%BB%AD-d%E1%BB%A5ng-Effect-tips-for-using-effects\">Tip s·ª≠ d·ª•ng Effect {#tips-for-using-effects}</a></p>\n<ul>\n<li><a href=\"#Tip-S%E1%BB%AD-d%E1%BB%A5ng-nhi%E1%BB%81u-Effect-t%C3%A1ch-bi%E1%BB%87ttip-use-multiple-effects-to-separate-concerns\">Tip: S·ª≠ d·ª•ng nhi·ªÅu Effect t√°ch bi·ªát{#tip-use-multiple-effects-to-separate-concerns}</a></li>\n<li><a href=\"#Gi%E1%BA%A3i-th%C3%ADch-T%E1%BA%A1i-sao-Effect-ch%E1%BA%A1y-tr%C3%AAn-m%E1%BB%97i-update-explanation-why-effects-run-on-each-update\">Gi·∫£i th√≠ch: T·∫°i sao Effect ch·∫°y tr√™n m·ªói update {#explanation-why-effects-run-on-each-update}</a></li>\n<li><a href=\"#Tip-T%E1%BB%91i-%C6%B0u-Performance-b%E1%BA%B1ng-c%C3%A1ch-b%E1%BB%8F-qua-Effect-tip-optimizing-performance-by-skipping-effects\">Tip: T·ªëi ∆∞u Performance b·∫±ng c√°ch b·ªè qua Effect {#tip-optimizing-performance-by-skipping-effects}</a></li>\n</ul>\n</li>\n<li><a href=\"#B%C6%B0%E1%BB%9Bc-ti%E1%BA%BFp-theo-next-steps\">B∆∞·ªõc ti·∫øp theo {#next-steps}</a></li>\n</ul>\n<!-- /TOC -->\n<p><em>Hook</em> l√† m·ªôt t√≠nh nƒÉng m·ªõi t·ª´ React 16.8. N√≥ cho ph√©p s·ª≠ d·ª•ng state v√† c√°c t√≠nh nƒÉng kh√°c c·ªßa React m√† kh√¥ng c·∫ßn vi·∫øt d·∫°ng class</p>\n<p><em>Effect Hook</em> cho ph√©p th·ª±c hi·ªán side effect b√™n trong c√°c function component:</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"gridsome-highlight-code-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Example</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token comment\">// T∆∞∆°ng t·ª± nh∆∞ componentDidMount v√† componentDidUpdate:</span></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">    <span class=\"token comment\">// C·∫≠p nh·∫≠p document title s·ª≠ d·ª•ng browser API</span></span><span class=\"gridsome-highlight-code-line\">    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>You clicked <span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span> times<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        Click me\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒêo·∫°n snippet n√†y d·ª±a tr√™n <a href=\"http://vi.reactjs.org/docs/hooks-state.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">v√≠ d·ª• v·ªÅ counter ·ªü trang tr∆∞·ªõc</a>, ch√∫ng ta c√≥ th√™m t√≠nh nƒÉng m·ªõi: ƒë·∫∑t gi√° tr·ªã document title t∆∞∆°ng ·ª©ng v·ªõi s·ªë l·∫ßn click.</p>\n<p>Fetching data, thi·∫øt l·∫≠p c√°c subscription, v√† t·ª± √Ω thay ƒë·ªïi DOM trong React component, nh·ªØng h√†nh ƒë·ªông nh∆∞ v·∫≠y ƒë∆∞·ª£c l√† \"side effect\" (ho·∫∑c \"effect\").</p>\n<blockquote>\n<p>Tip</p>\n<p>N·∫øu b·∫°n quen v·ªõi c√°c ph∆∞∆°ng th·ª©c lifecycle c·ªßa React class, b·∫°n c√≥ th·ªÉ h√¨nh dung <code class=\"language-inline-text\">useEffect</code> Hook nh∆∞ s·ª± k·∫øt h·ª£p c·ªßa <code class=\"language-inline-text\">componentDidMount</code>, <code class=\"language-inline-text\">componentDidUpdate</code>, v√† <code class=\"language-inline-text\">componentWillUnmount</code>.</p>\n</blockquote>\n<p>C√≥ 2 lo·∫°i side effect ph·ªï bi·∫øn trong React component: lo·∫°i kh√¥ng c·∫ßn cleanup, v√† lo·∫°i c·∫ßn. C√πng ph√¢n bi·ªát 2 lo·∫°i n√†y k·ªπ h∆°n.</p>\n<h2 id=\"effect-kh√¥ng-c·∫ßn-cleanup-effects-without-cleanup\"><a href=\"#effect-kh%C3%B4ng-c%E1%BA%A7n-cleanup-effects-without-cleanup\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Effect kh√¥ng c·∫ßn Cleanup {#effects-without-cleanup}</h2>\n<p>ƒê√¥i l√∫c, ch√∫ng ta mu·ªën <strong>ch·∫°y m·ªôt v√†i ƒëo·∫°n code sau khi React ƒë√£ c·∫≠p nh·∫≠p DOM.</strong> Network request, t·ª± √Ω thay ƒë·ªïi DOM, v√† logging l√† nh·ªØng v√≠ d·ª• ƒëi·ªÉn h√¨nh c·ªßa effect kh√¥ng c·∫ßn cleanup. Ch√∫ng ta g·ªçi nh∆∞ v·∫≠y v√¨ c√≥ th·ªÉ ch·∫°y ch√∫ng v√† qu√™n ngay l·∫≠p t·ª©c. H√£y so s√°nh class v√† Hook cho ph√©p th·ª±c hi·ªán side effect nh∆∞ th·∫ø ra sao.</p>\n<h3 id=\"v√≠-d·ª•-s·ª≠-d·ª•ng-classes-example-using-classes\"><a href=\"#v%C3%AD-d%E1%BB%A5-s%E1%BB%AD-d%E1%BB%A5ng-classes-example-using-classes\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V√≠ d·ª• s·ª≠ d·ª•ng Classes {#example-using-classes}</h3>\n<p>Trong React class components, ph∆∞∆°ng th·ª©c <code class=\"language-inline-text\">render</code> kh√¥ng ƒë∆∞·ª£c ph√©p t·∫°o ra side effect. N√≥ s·∫Ω l√† qu√° s·ªõm -- ch√∫ng ta th∆∞·ªùng ch·ªâ mu·ªën ch·∫°y effect <em>sau khi</em> React ƒë√£ c·∫≠p nh·∫≠p DOM.</p>\n<p>ƒê√≥ l√† l√Ω do t·∫°i sao trong React class, ch√∫ng ta ƒë·∫∑t side effect b√™n trong <code class=\"language-inline-text\">componentDidMount</code> v√† <code class=\"language-inline-text\">componentDidUpdate</code>. Quay l·∫°i v√≠ d·ª•, ƒë√¢y l√† React counter class component s·∫Ω c·∫≠p nh·∫≠p document title ngay sau khi React thay ƒë·ªïi DOM:</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Example</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      count<span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span></span><span class=\"gridsome-highlight-code-line\"></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">componentDidUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span></span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>You clicked <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">}</span> times<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n          Click me\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒê·ªÉ √Ω c√°ch <strong>ch√∫ng ta ƒë√£ l·∫≠p l·∫°i 2 thao t√°c t∆∞∆°ng t·ª± nhau b√™n trong 2 ph∆∞∆°ng th·ª©c lifecycle</strong></p>\n<p>ƒê√≥ l√† b·ªüi v√¨ trong ƒëa ph·∫ßn c√°c tr∆∞·ªùng h·ª£p, ch√∫ng ta mu·ªën th·ª±c hi·ªán c√πng m·ªôt side effect khi component ƒë√£ mount ho·∫∑c ƒë√£ update. M·ªôt c√°ch t·ªïng qu√°t, ch√∫ng ta mu·ªën th·ª±c hi·ªán sau m·ªói l·∫ßn render -- nh∆∞ng React class component kh√¥ng c√≥ ph∆∞∆°ng th·ª©c nh∆∞ v·∫≠y. Ch√∫ng ta c√≥ th·ªÉ t√°ch n√≥ ra th√†nh m·ªôt h√†m ri√™ng, nh∆∞ng v·∫´n ph·∫£i g·ªçi n√≥ ·ªü 2 n∆°i kh√°c nhau.</p>\n<p>B√¢y gi·ªù ch√∫ng ta xem c√°ch l√†m t∆∞∆°ng t·ª± v·ªõi <code class=\"language-inline-text\">useEffect</code> Hook.</p>\n<h3 id=\"v√≠-d·ª•-s·ª≠-d·ª•ng-hook-example-using-hooks\"><a href=\"#v%C3%AD-d%E1%BB%A5-s%E1%BB%AD-d%E1%BB%A5ng-hook-example-using-hooks\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V√≠ d·ª• s·ª≠ d·ª•ng Hook {#example-using-hooks}</h3>\n<p>Ch√∫ng ta ƒë√£ xem v√≠ d·ª• ·ªü tr√™n, gi·ªù xem k·ªπ h∆°n m·ªôt l·∫ßn n·ªØa:</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"gridsome-highlight-code-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">Example</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>You clicked <span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span> times<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        Click me\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong><code class=\"language-inline-text\">useEffect</code> ƒë√£ l√†m g√¨?</strong> B·∫±ng c√°ch s·ª≠ d·ª•ng Hook n√†y, ch√∫ng ta n√≥i v·ªõi React r·∫±ng component c·ªßa ch√∫ng ta c·∫ßn th·ª±c hi·ªán m·ªôt vi·ªác g√¨ ƒë√≥ sau khi render. React s·∫Ω ghi nh·ªõ h√†m b·∫°n truy·ªÅn v√†o (ch√∫ng t√¥i th√≠ch g·ªçi n√≥ l√† \"effect\"), v√† sau ƒë√≥ g·ªçi l·∫°i h√†m n√†y sau khi DOM ƒë√£ update. Trong effect n√†y, ch√∫ng ta ƒë·ªïi document title, ch√∫ng ta c≈©ng c√≥ th·ªÉ  fetch data ho·∫∑c g·ªçi m·ªôt s·ªë API kh√°c.</p>\n<p><strong>T·∫°i sao <code class=\"language-inline-text\">useEffect</code> ƒë∆∞·ª£c g·ªçi b√™n trong component?</strong> ƒê·∫∑t <code class=\"language-inline-text\">useEffect</code> b√™n trong component cho ph√©p ch√∫ng ta truy xu·∫•t ƒë·∫øn state <code class=\"language-inline-text\">count</code> (ho·∫∑c b·∫•t k·ª≥ prop n√†o) b√™n trong effect. Ch√∫ng ta kh√¥ng c·∫ßn m·ªôt API ƒë·∫∑c bi·ªát ƒë·ªÉ ƒë·ªçc n√≥ -- n√≥ ƒë√£ n·∫±m trong scope c·ªßa function. Hook t·∫≠n d·ª•ng JavaScript closures v√† tr√°nh cung c·∫•p th√™m c√°c APIs m√† b·∫£n th√¢n JavaScript ƒë√£ c√≥ s·∫µn gi·∫£i ph√°p.</p>\n<p><strong><code class=\"language-inline-text\">useEffect</code> ch·∫°y sau t·∫•t c·∫£ nh·ªØng l·∫ßn render?</strong> ƒê√∫ng! Theo m·∫∑c ƒë·ªãnh, n√≥ ch·∫°y sau l·∫ßn render ƒë·∫ßu ti√™n <em>v√†</em> m·ªói l·∫ßn update. (Ch√∫ng ta s·∫Ω n√≥i v·ªÅ <a href=\"#tip-optimizing-performance-by-skipping-effects\">l√†m c√°ch n√†o ƒë·ªÉ t√πy bi·∫øn l·∫°i</a>.) Thay v√¨ nghƒ© theo h∆∞·ªõng \"mounting\" v√† \"updating\", b·∫°n s·∫Ω th·∫•y d·ªÖ hi·ªÉu h∆°n n·∫øu nghƒ© theo ki·ªÉu \"sau khi render\". React ƒë·∫£m b·∫£o DOM ƒë√£ ƒë∆∞·ª£c update tr∆∞·ªõc khi ch·∫°y effect.</p>\n<h3 id=\"gi·∫£i-th√≠ch-c·ª•-th·ªÉ-detailed-explanation\"><a href=\"#gi%E1%BA%A3i-th%C3%ADch-c%E1%BB%A5-th%E1%BB%83-detailed-explanation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·∫£i th√≠ch c·ª• th·ªÉ {#detailed-explanation}</h3>\n<p>Gi·ªù ch√∫ng ta ƒë√£ hi·ªÉu v·ªÅ effect, ƒëo·∫°n code n√†y s·∫Ω r·∫•t d·ªÖ hi·ªÉu:</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Example</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Ch√∫ng ta khai b√°o state <code class=\"language-inline-text\">count</code>, v√† sau ƒë√≥ n√≥i v·ªõi React ch√∫ng ta c·∫ßn s·ª≠ d·ª•ng. Ch√∫ng ta truy·ªÅn cho <code class=\"language-inline-text\">useEffect</code> Hook m·ªôt h√†m. H√†m truy·ªÅn v√†o n√†y <em>l√†</em> effect. B√™n trong effect, ch√∫ng ta ƒë·∫∑t document title s·ª≠ d·ª•ng API <code class=\"language-inline-text\">document.title</code>. Ch√∫ng ta c√≥ th·ªÉ ƒë·ªçc gi√° tr·ªã sau c√πng c·ªßa <code class=\"language-inline-text\">count</code> b√™n trong effect b·ªüi v√¨ n√≥ n·∫±m chung scope v·ªõi function. Khi React render component, n√≥ s·∫Ω nh·ªõ l·∫°i effect ch√∫ng ta ƒë√£ g·ª≠i, v√† ch·∫°y effect sau khi c·∫≠p nh·∫≠p DOM. N√≥ x·∫£y ra ·ªü t·∫•t c·∫£ c√°c l·∫ßn render, k·ªÉ c·∫£ l·∫ßn ƒë·∫ßu.</p>\n<p>L·∫≠p tr√¨nh vi√™n JavaScript c√≥ kinh nghi·ªám s·∫Ω ƒë·ªÉ √Ω th·∫•y function truy·ªÅn v√†o cho <code class=\"language-inline-text\">useEffect</code> s·∫Ω kh√°c nhau cho t·∫•t c·∫£ c√°c l·∫ßn render. ƒê√¢y l√† ƒëi·ªÅu c·ªë √Ω. Th·∫≠t ra, n√≥ s·∫Ω cho ch√∫ng ta ƒë·ªçc gi√° tr·ªã <code class=\"language-inline-text\">count</code> b√™n trong effect m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ vi·ªác l·∫•y state. M·ªói l·∫ßn ch√∫ng ta re-render, ch√∫ng ta g·ªçi m·ªôt effect <strong>kh√°c</strong>, thay th·∫ø c√°i tr∆∞·ªõc ƒë√≥. B·∫±ng c√°ch n√†y, n√≥ l√†m cho effect nh∆∞ m·ªôt ph·∫ßn c·ªßa vi·ªác render -- m·ªói effect \"thu·ªôc v√†o\" m·ªôt render c·ª• th·ªÉ. Ch√∫ng ta s·∫Ω hi·ªÉu t·∫°i sao c√°ch n√†y l·∫°i hi·ªáu qu·∫£ <a href=\"#explanation-why-effects-run-on-each-update\">·ªü ph·∫ßn sau c·ªßa b√†i n√†y</a>.</p>\n<blockquote>\n<p>Tip</p>\n<p>Kh√¥ng gi·ªëng <code class=\"language-inline-text\">componentDidMount</code> ho·∫∑c <code class=\"language-inline-text\">componentDidUpdate</code>, effect ch·∫°y v·ªõi <code class=\"language-inline-text\">useEffect</code> kh√¥ng block tr√¨nh duy·ªát c·∫≠p nh·∫≠p m√†n h√¨nh. C√°c effect ch·ªß y·∫øu kh√¥ng c·∫ßn x·∫£y ra tu·∫ßn t·ª±. Trong v√†i t√¨nh hu·ªëng kh√¥ng m·∫•y ph·ªï bi·∫øn (v√≠ d·ª• nh∆∞ ƒëo layout), ch√∫ng ta c√≥  <a href=\"http://vi.reactjs.org/docs/hooks-reference.html#uselayouteffect\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-inline-text\">useLayoutEffect</code></a> Hook v·ªõi API t√≠nh nƒÉng t∆∞∆°ng t·ª± nh∆∞ <code class=\"language-inline-text\">useEffect</code>.</p>\n</blockquote>\n<h2 id=\"effect-c·∫ßn-cleanup-effects-with-cleanup\"><a href=\"#effect-c%E1%BA%A7n-cleanup-effects-with-cleanup\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Effect c·∫ßn Cleanup {#effects-with-cleanup}</h2>\n<p>·ªû tr√™n, ch√∫ng ta ƒë√£ b√†n v·ªÅ nh·ªØng side effect kh√¥ng c·∫ßn cleanup. Tuy nhi√™n, m·ªôt v√†i effect c·∫ßn c√≥. V√≠ d·ª•, <strong>ch√∫ng ta mu·ªën thi·∫øt l·∫≠p c√°c subscription</strong> cho v√†i data source b√™n ngo√†i. T√¨nh hu·ªëng ƒë√≥, clean up l√† r·∫•t quan tr·ªçng ƒë·ªÉ kh√¥ng x·∫£y ra memory leak! C√πng so s√°nh c√°ch l√†m gi·ªØa class v√† Hook</p>\n<h3 id=\"v√≠-d·ª•-s·ª≠-d·ª•ng-class-example-using-classes-1\"><a href=\"#v%C3%AD-d%E1%BB%A5-s%E1%BB%AD-d%E1%BB%A5ng-class-example-using-classes-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V√≠ d·ª• s·ª≠ d·ª•ng Class {#example-using-classes-1}</h3>\n<p>Trong React class, ch√∫ng ta th∆∞·ªùng c√†i ƒë·∫∑t m·ªôt subscription trong <code class=\"language-inline-text\">componentDidMount</code>, v√† clean it up trong <code class=\"language-inline-text\">componentWillUnmount</code>. L·∫•y v√≠ d·ª•, ch√∫ng ta c√≥ <code class=\"language-inline-text\">ChatAPI</code> module cho ph√©p ch√∫ng ta subscribe v√†o t√¨nh tr·∫°ng online c·ªßa 1 danh s√°ch friend. C√°ch ch√∫ng ta l√†m v·ªõi class</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">FriendStatus</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> isOnline<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span></span><span class=\"gridsome-highlight-code-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></span><span class=\"gridsome-highlight-code-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange</span><span class=\"gridsome-highlight-code-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span></span><span class=\"gridsome-highlight-code-line\"></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">componentWillUnmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span></span><span class=\"gridsome-highlight-code-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></span><span class=\"gridsome-highlight-code-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange</span><span class=\"gridsome-highlight-code-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span></span><span class=\"gridsome-highlight-code-line\"></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">status</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">      isOnline<span class=\"token operator\">:</span> status<span class=\"token punctuation\">.</span>isOnline</span><span class=\"gridsome-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span></span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>isOnline <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token string\">'Loading...'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>isOnline <span class=\"token operator\">?</span> <span class=\"token string\">'Online'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'Offline'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒê·ªÉ √Ω <code class=\"language-inline-text\">componentDidMount</code> v√† <code class=\"language-inline-text\">componentWillUnmount</code>. Ph∆∞∆°ng th·ª©c Lifecycle bu·ªôc ch√∫ng ta t√°ch logic n√†y ra th·∫≠m ch√≠ c·∫£ 2 ƒëo·∫°n code tr√™n ƒëi·ªÅu li√™n quan ƒë·∫øn c√πng m·ªôt effect.</p>\n<blockquote>\n<p>L∆∞u √Ω</p>\n<p>N·∫øu ƒë·ªÉ √Ω k·ªπ h∆°n, b·∫°n s·∫Ω th·∫•y ch√∫ng ta c√≤n c·∫ßn th√™m <code class=\"language-inline-text\">componentDidUpdate</code> ƒë·ªÉ th·ª±c s·ª± chu·∫©n x√°c. T·∫°m th·ªùi c·ª© b·ªè qua ph·∫ßn ƒë√≥ v√¨ ch√∫ng ta s·∫Ω ƒë·ªÅ c·∫≠p l·∫°i <a href=\"#explanation-why-effects-run-on-each-update\">·ªü ph·∫ßn sau</a> of this page.</p>\n</blockquote>\n<h3 id=\"v√≠-d·ª•-s·ª≠-d·ª•ng-hooks-example-using-hooks-1\"><a href=\"#v%C3%AD-d%E1%BB%A5-s%E1%BB%AD-d%E1%BB%A5ng-hooks-example-using-hooks-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V√≠ d·ª• s·ª≠ d·ª•ng Hooks {#example-using-hooks-1}</h3>\n<p>C√πng xem c√°ch ch√∫ng ta l√†m v·ªõi Hook.</p>\n<p>B·∫°n c√≥ th·ªÉ s·∫Ω nghƒ© ch√∫ng ta c·∫ßn 2 effect kh√°c nhau ƒë·ªÉ th·ª±c hi·ªán cleanup. Code kh·ªüi t·∫°o v√† x√≥a subscription lu√¥n lu√¥n ƒë·ª©ng k·ªÅ nhau, <code class=\"language-inline-text\">useEffect</code> ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ d·ªØ ch√∫ng c√πng m·ªôt ch·ªó. N·∫øu effect tr·∫£ v·ªÅ function, React s·∫Ω ch·∫°y  function ƒë√≥, ch√∫ng ta ƒë∆∞a clean up v√†o b√™n trong function tr·∫£ v·ªÅ:</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">FriendStatus</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isOnline<span class=\"token punctuation\">,</span> setIsOnline<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">    <span class=\"token keyword\">function</span> <span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">status</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">      <span class=\"token function\">setIsOnline</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">.</span>isOnline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">    <span class=\"token punctuation\">}</span></span><span class=\"gridsome-highlight-code-line\"></span><span class=\"gridsome-highlight-code-line\">    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">    <span class=\"token comment\">// Ch·ªâ ƒë·ªãnh clean up sau khi g·ªçi effect:</span></span><span class=\"gridsome-highlight-code-line\">    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">cleanup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">      ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isOnline <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Loading...'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> isOnline <span class=\"token operator\">?</span> <span class=\"token string\">'Online'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'Offline'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>T·∫°i sao ch√∫ng ta tr·∫£ v·ªÅ function b√™n trong effect?</strong> ƒê√¢y l√† m·ªôt t√πy ch·ªçn ƒë·ªÉ ch·∫°y c∆° ch·∫ø cleanup cho effect. N√≥ cho ph√©p ch√∫ng ta ƒë∆∞a t·∫°o v√† x√≥a subscription trong c√πng m·ªôt effect.</p>\n<p><strong>Khi n√†o React clean up m·ªôt effect?</strong> React th·ª±c hi·ªán cleanup khi  component unmount. Tuy nhi√™n, nh∆∞ ƒë√£ h·ªçc tr∆∞·ªõc ƒë√≥, effect tr√™n t·∫•t c·∫£ nh·ªØng l·∫ßn render, kh√¥ng ph·∫£i ch·ªâ m·ªôt. ƒê√≥ l√† t·∫°i sao React <em>ƒë·ªìng th·ªùi</em> cleans up effect t·ª´ nh·ªØng l·∫ßn render tr∆∞·ªõc. Ch√∫ng ta s·∫Ω th·∫£o lu·∫≠n th√™m <a href=\"#explanation-why-effects-run-on-each-update\">vi·ªác n√†y gi√∫p tr√°nh bug</a> v√† <a href=\"#tip-optimizing-performance-by-skipping-effects\">l√†m c√°ch n√†o t√πy bi·∫øn ƒë·∫∑c t√≠nh n√†y ƒë·ªÉ c√°i thi·ªán performance </a> ·ªü b√™n d∆∞·ªõi.</p>\n<blockquote>\n<p>Ghi ch√∫</p>\n<p>Ch√∫ng ta kh√¥ng c·∫ßn tr·∫£ v·ªÅ m·ªôt function c√≥ t√™n trong effect. Ch√∫ng ta g·ªçi n√≥ l√† <code class=\"language-inline-text\">cleanup</code> ƒë·ªÉ ch·ªâ r√µ m·ª•c ƒë√≠ch, b·∫°n c√≥ th·ªÉ d√πng arrow function trong th·ª±c t·∫ø.</p>\n</blockquote>\n<h2 id=\"t·ªïng-h·ª£p-recap\"><a href=\"#t%E1%BB%95ng-h%E1%BB%A3p-recap\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·ªïng h·ª£p {#recap}</h2>\n<p>Ch√∫ng ta ƒë√£ h·ªçc <code class=\"language-inline-text\">useEffect</code> cho ph√©p ch√∫ng ta th·ª±c hi·ªán nhi·ªÅu ki·ªÉu side effect sau khi component ƒë∆∞·ª£c render. M·ªôt v√†i effect c·∫ßn cleanup n√≥ s·∫Ω return m·ªôt function:</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">status</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setIsOnline</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">.</span>isOnline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>M·ªôt v√†i effect kh√°c c√≥ th·ªÉ kh√¥ng c·∫ßn cleanup, th√¨ kh√¥ng c·∫ßn return g√¨ c·∫£.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Effect Hook ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c·∫£ 2 tr∆∞·ªùng h·ª£p.</p>\n<hr>\n<p><strong>N·∫øu b·∫°n ƒë√£ n·∫Øm b·∫Øt ƒë∆∞·ª£c c√°ch l√†m vi·ªác c·ªßa Effect Hook, ho·∫∑c n·∫øu b·∫°n c·∫£m th·∫•y h∆°i ng·ª£p, c√≥ th·ªÉ nh·∫£y xu·ªëng <a href=\"http://vi.reactjs.org/docs/hooks-rules.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ph·∫ßn Nguy√™n t·∫Øc s·ª≠ d·ª•ng Hook</a> b√¢y gi·ªù.</strong></p>\n<hr>\n<h2 id=\"tip-s·ª≠-d·ª•ng-effect-tips-for-using-effects\"><a href=\"#tip-s%E1%BB%AD-d%E1%BB%A5ng-effect-tips-for-using-effects\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tip s·ª≠ d·ª•ng Effect {#tips-for-using-effects}</h2>\n<p>Ch√∫ng ta s·∫Ω c√πng ƒëi s√¢u m·ªôt s·ªë kh√≠a c·∫°nh c·ªßa <code class=\"language-inline-text\">useEffect</code> m√† c√°c l·∫≠p tr√¨nh vi√™n React c√≥ kinh nghi·ªám s·∫Ω th·∫Øc m·∫Øc. Kh√¥ng c·∫ßn qu√° c∆∞·ª°ng √©p b·∫£n th√¢n, b·∫°n c√≥ th·ªÉ d·ª´ng ·ªü ƒë√¢y, v√† quay l·∫°i ƒë·ªÉ t√¨m hi·ªÉu Effect Hook b·∫•t c·ª© l√∫c n√†o.</p>\n<h3 id=\"tip-s·ª≠-d·ª•ng-nhi·ªÅu-effect-t√°ch-bi·ªáttip-use-multiple-effects-to-separate-concerns\"><a href=\"#tip-s%E1%BB%AD-d%E1%BB%A5ng-nhi%E1%BB%81u-effect-t%C3%A1ch-bi%E1%BB%87ttip-use-multiple-effects-to-separate-concerns\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tip: S·ª≠ d·ª•ng nhi·ªÅu Effect t√°ch bi·ªát{#tip-use-multiple-effects-to-separate-concerns}</h3>\n<p>M·ªôt trong nh·ªØng v·∫•n ƒë·ªÅ ƒë√£ li·ªát k√™ ·ªü  <a href=\"http://vi.reactjs.org/docs/hooks-intro.html#complex-components-become-hard-to-understand\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ƒë·ªông l·ª±c</a> t·∫°o ra Hooks l√† c√°c ph∆∞∆°ng th·ª©c lifecycle c·ªßa class th∆∞·ªùng ch·ª©a nh·ªØng logic kh√¥ng li√™n quan v·ªõi nhau, c√≤n nh·ªØng logic ƒë√°ng l√Ω ph·∫£i n·∫±m g·∫ßn nhau l·∫°i n·∫±m ·ªü c√°c ph∆∞∆°ng th·ª©c kh√°c nhau. ƒê√¢y l√† component k·∫øt h·ª£p counter v√† friend status t·ª´ v√≠ d·ª• ·ªü tr√™n</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">FriendStatusWithCounter</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> count<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> isOnline<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentDidUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentWillUnmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">status</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      isOnline<span class=\"token operator\">:</span> status<span class=\"token punctuation\">.</span>isOnline\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span></code></pre></div>\n<p>ƒê·ªÉ √Ω c√°i logic c·ªßa <code class=\"language-inline-text\">document.title</code> ƒëang n·∫±m ·ªü <code class=\"language-inline-text\">componentDidMount</code> v√† <code class=\"language-inline-text\">componentDidUpdate</code>. Logic c·ªßa subscription th√¨ c≈©ng n·∫±m ·ªü  <code class=\"language-inline-text\">componentDidMount</code> v√† <code class=\"language-inline-text\">componentWillUnmount</code>. V√† <code class=\"language-inline-text\">componentDidMount</code> ch·ª©a code c·∫£ hai.</p>\n<p>Nh∆∞ v·∫≠y hook ƒë√£ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y nh∆∞ th·∫ø n√†o? N·∫øu nh∆∞ <a href=\"http://vi.reactjs.org/docs/hooks-state.html#tip-using-multiple-state-variables\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng <em>State</em> Hook nhi·ªÅu l·∫ßn</a>, b·∫°n c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng nhi·ªÅu effect. N√≥ cho ph√©p t√°ch nh·ªØng logic kh√¥ng li√™n quan ra th√†nh nh·ªØng effect kh√°c nhau:</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">FriendStatusWithCounter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span>    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isOnline<span class=\"token punctuation\">,</span> setIsOnline<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span>    <span class=\"token keyword\">function</span> <span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">status</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setIsOnline</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">.</span>isOnline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Hook cho ph√©p t√°ch code d·ª±a tr√™n c√°i n√≥ ƒëang l√†m</strong> ch·ª© kh√¥ng ƒëi theo ph∆∞∆°ng th·ª©c lifecycle. React s·∫Ω apply <em>t·ª´ng</em> effect ƒë∆∞·ª£c s·ª≠ d·ª•ng trong component, theo th·ª© t·ª± ƒë√£ khai b√°o.</p>\n<h3 id=\"gi·∫£i-th√≠ch-t·∫°i-sao-effect-ch·∫°y-tr√™n-m·ªói-update-explanation-why-effects-run-on-each-update\"><a href=\"#gi%E1%BA%A3i-th%C3%ADch-t%E1%BA%A1i-sao-effect-ch%E1%BA%A1y-tr%C3%AAn-m%E1%BB%97i-update-explanation-why-effects-run-on-each-update\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·∫£i th√≠ch: T·∫°i sao Effect ch·∫°y tr√™n m·ªói update {#explanation-why-effects-run-on-each-update}</h3>\n<p>N·∫øu ƒë√£ t·ª´ng s·ª≠ d·ª•ng class, b·∫°n s·∫Ω th·∫Øc m·∫Øc t·∫°i sao b∆∞·ªõc cleanup effect l·∫°i ch·∫°y tr√™n m·ªói l·∫ßn re-render, m√† kh√¥ng ph·∫£i khi unmounting. X√©t m·ªôt v√≠ d·ª• th·ª±c t·∫ø ƒë·ªÉ th·∫•y t·∫°i sao thi·∫øt k·∫ø n√†y gi√∫p ch√∫ng ta c√≥ nh·ªØng component √≠t bug h∆°n</p>\n<p><a href=\"#example-using-classes-1\">·ªû ph·∫ßn tr∆∞·ªõc</a>, ch√∫ng ta c√≥ ƒë·ªÅ c·∫≠p v√≠ d·ª• <code class=\"language-inline-text\">FriendStatus</code> ƒë·ªÉ hi·ªÉn th·ªã tr·∫°ng th√°i online c·ªßa Friend. Class ƒë·ªçc <code class=\"language-inline-text\">friend.id</code> t·ª´ <code class=\"language-inline-text\">this.props</code>, subscribe sau khi component mount, v√† unsubscribe trong l√∫c unmounting:</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentWillUnmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Chuy·ªán g√¨ s·∫Ω x·∫£y ra n·∫øu prop <code class=\"language-inline-text\">friend</code> thay ƒë·ªïi</strong> trong khi component ƒëang hi·ªÉn th·ªã tr√™n m√†n h√¨nh (ch∆∞a unmount)? Ch·∫Øc ch·∫Øn c√≥ bug v·ªõi danh s√°ch status. Ch√∫ng ta c≈©ng c√≥ th·ªÉ g√¢y ra memory leak ho·∫∑c crash khi ƒëang unmounting v√† g·ªçi unsubscribe n·∫øu c√≥ m·ªôt Friend ID kh√¥ng ƒë√∫ng.</p>\n<p>Trong class component, ch√∫ng ta c·∫ßn th√™m <code class=\"language-inline-text\">componentDidUpdate</code> ƒë·ªÉ x·ª≠ l√Ω t√¨nh hu·ªëng n√†y:</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token function\">componentDidUpdate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prevProps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gridsome-highlight-code-line\">    <span class=\"token comment\">// Unsubscribe friend.id tr∆∞·ªõc ƒë√≥</span></span><span class=\"gridsome-highlight-code-line\">    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span></span><span class=\"gridsome-highlight-code-line\">      prevProps<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></span><span class=\"gridsome-highlight-code-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange</span><span class=\"gridsome-highlight-code-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">    <span class=\"token comment\">// Subscribe friend.id m·ªõi</span></span><span class=\"gridsome-highlight-code-line\">    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span></span><span class=\"gridsome-highlight-code-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></span><span class=\"gridsome-highlight-code-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange</span><span class=\"gridsome-highlight-code-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gridsome-highlight-code-line\">  <span class=\"token punctuation\">}</span></span>\n  <span class=\"token function\">componentWillUnmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleStatusChange\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Qu√™n handle <code class=\"language-inline-text\">componentDidUpdate</code> l√† ƒëi·ªÅu d·ªÖ d·∫´n t·ªõi c√≥ bug trong React.</p>\n<p>ƒê√¢y l√† phi√™n b·∫£n s·ª≠ d·ª•ng Hook</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">FriendStatus</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Kh√¥ng c√≤n b·ªã d√≠nh bug nh∆∞ ·ªü tr√™n</p>\n<p>S·∫Ω kh√¥ng c√≥ m·ªôt ƒëo·∫°n code n√†o ƒë·∫∑c bi·ªát ƒë·ªÉ x·ª≠ l√Ω l√∫c update v√¨ theo c√°ch ch·∫°y <em>m·∫∑c ƒë·ªãnh</em> c·ªßa <code class=\"language-inline-text\">useEffect</code> n√≥ ƒë√£ x√≥a effect tr∆∞·ªõc khi apply effect m·ªõi. ƒê·ªÉ h√¨nh dung h√≥a, ƒë√¢y l√† c√°c b∆∞·ªõc g·ªçi subscribe v√† unsubscribe m√† component ƒë√£ ch·∫°y qua:</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Mount v·ªõi prop { friend: { id: 100 } }</span>\nChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// Ch·∫°y effect ƒë·∫ßu ti√™n</span>\n\n<span class=\"token comment\">// C·∫≠p nh·∫≠p prop { friend: { id: 200 } }</span>\nChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Clean effect tr∆∞·ªõc ƒë√≥</span>\nChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// Ch·∫°y effect ti·∫øp theo</span>\n\n<span class=\"token comment\">// C·∫≠p nh·∫≠p v·ªõi { friend: { id: 300 } }</span>\nChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Clean effect tr∆∞·ªõc ƒë√≥</span>\nChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// Ch·∫°y effect ti·∫øp theo</span>\n\n<span class=\"token comment\">// Unmount</span>\nChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Clean effect l·∫ßn cu·ªëi</span></code></pre></div>\n<p>ƒê·∫∑c t√≠nh n√†y ƒë·∫£m b·∫£o th·ªëng nh·∫•t v√† ngƒÉn bug th∆∞·ªùng xu·∫•t hi·ªán do kh√¥ng c·∫≠p nh·∫≠p login v·ªõi class component</p>\n<h3 id=\"tip-t·ªëi-∆∞u-performance-b·∫±ng-c√°ch-b·ªè-qua-effect-tip-optimizing-performance-by-skipping-effects\"><a href=\"#tip-t%E1%BB%91i-%C6%B0u-performance-b%E1%BA%B1ng-c%C3%A1ch-b%E1%BB%8F-qua-effect-tip-optimizing-performance-by-skipping-effects\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tip: T·ªëi ∆∞u Performance b·∫±ng c√°ch b·ªè qua Effect {#tip-optimizing-performance-by-skipping-effects}</h3>\n<p>Trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p, clean v√† apply effect sau khi render c√≥ th·ªÉ d·∫´n ƒë·∫øn ·∫£nh h∆∞·ªüng performance. Trong class component, ch√∫ng ta gi·∫£i quy·∫øt b·∫±ng vi·∫øt m·ªôt h√†m so s√°nh gi·ªØa <code class=\"language-inline-text\">prevProps</code> ho·∫∑c <code class=\"language-inline-text\">prevState</code> b√™n trong <code class=\"language-inline-text\">componentDidUpdate</code>:</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">componentDidUpdate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prevProps<span class=\"token punctuation\">,</span> prevState</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prevState<span class=\"token punctuation\">.</span>count <span class=\"token operator\">!==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒê√¢y l√† y√™u c·∫ßu r·∫•t c·∫ßn thi·∫øt, n√™n ƒë√£ ƒë∆∞·ª£c c√≥ ƒë∆∞a s·∫µn trong <code class=\"language-inline-text\">useEffect</code> Hook API. B·∫°n c√≥ th·ªÉ b·∫£o React <em>b·ªè qua</em> vi·ªác apply effect n·∫øu m·ªôt s·ªë gi√° tr·ªã kh√¥ng thay ƒë·ªïi gi·ªØa c√°c l·∫ßn render. ƒê·ªÉ l√†m nh∆∞ v·∫≠y, truy·ªÅn v√†o m·ªôt array (kh√¥ng b·∫Øt bu·ªôc) v√†o <code class=\"language-inline-text\">useEffect</code>:</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"gridsome-highlight-code-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Ch·ªâ re-run effect n·∫øu gi√° tr·ªã count thay ƒë·ªïi</span></span></code></pre></div>\n<p>Trong v√≠ d·ª• ·ªü tr√™n, ch√∫ng ta truy·ªÅn v√†o <code class=\"language-inline-text\">[count]</code> nh∆∞ m·ªôt tham s·ªë th·ª© 2. N√≥ nghƒ©a l√† g√¨? N·∫øu <code class=\"language-inline-text\">count</code> l√† <code class=\"language-inline-text\">5</code>, r·ªìi sau ƒë√≥ component re-render v·ªõi <code class=\"language-inline-text\">count</code> v·∫´n b·∫±ng <code class=\"language-inline-text\">5</code>, React s·∫Ω so s√°nh <code class=\"language-inline-text\">[5]</code> t·ª´ l·∫ßn render tr∆∞·ªõc v√† <code class=\"language-inline-text\">[5]</code> v·ªõi l·∫ßn render hi·ªán t·∫°i. V√¨ t·∫•t c·∫£ gi√° tr·ªã trong m·∫£ng b·∫±ng nhau (<code class=\"language-inline-text\">5 === 5</code>), React s·∫Ω b·ªè qua  effect. ƒê√≥ l√† c√°ch ch√∫ng ta t·ªëi ∆∞u</p>\n<p>Khi ch√∫ng ta render v·ªõi <code class=\"language-inline-text\">count</code> th√†nh <code class=\"language-inline-text\">6</code>, React s·∫Ω so s√°nh c√°c gi√° tr·ªã trong <code class=\"language-inline-text\">[5]</code> t·ª´ l·∫ßn render tr∆∞·ªõc v·ªõi c√°c gi√° tr·ªã trong <code class=\"language-inline-text\">[6]</code> l·∫ßn render hi·ªán t·∫°i. ·ªû l·∫ßn n√†y, React s·∫Ω g·ªçi l·∫°i effect v√¨ <code class=\"language-inline-text\">5 !== 6</code>. N·∫øu c√≥ nhi·ªÅu gi√° tr·ªã b√™n trong array, React s·∫Ωl re-run effect n·∫øu m·ªôt trong c√°c gi√° tr·ªã ƒë√≥ kh√°c v·ªõi l·∫ßn tr∆∞·ªõc.</p>\n<p>Effect c≈©ng l√†m vi·ªác t∆∞∆°ng t·ª± v·ªõi qu√° tr√¨nh cleanup:</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">status</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setIsOnline</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">.</span>isOnline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"gridsome-highlight-code-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Ch·ªâ re-subscribe n·∫øu props.friend.id b·ªã thay ƒë·ªïi</span></span></code></pre></div>\n<p>Trong t∆∞∆°ng lai, tham s·ªë th·ª© 2 s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông th√™m v√†o trong l√∫c  build-transform.</p>\n<blockquote>\n<p>L∆∞u √Ω</p>\n<p>N·∫øu s·ª≠ d·ª•ng c√°ch t·ªëi ∆∞u n√†y, ph·∫£i ch·∫Øc ch·∫Øn array ch·ª©a <strong>t·∫•t c·∫£ gi√° tr·ªã b√™n trong c·ªßa component scope (nh∆∞ prop v√† state) n·∫øu thay ƒë·ªïi theo c√°c l·∫ßn render v√† effect c√≥ s·ª≠ d·ª•ng</strong>. N·∫øu kh√¥ng, n·∫øu kh√¥ng n√≥ s·∫Ω tham chi·∫øu t·ªõi gi√° tr·ªã tr∆∞·ªõc ƒë√≥. ƒê·ªçc th√™m <a href=\"http://vi.reactjs.org/docs/hooks-faq.html#is-it-safe-to-omit-functions-from-the-list-of-dependencies\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">l√†m vi·ªác v·ªõi function</a> v√† <a href=\"http://vi.reactjs.org/docs/hooks-faq.html#what-can-i-do-if-my-effect-dependencies-change-too-often\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">l√†m g√¨ khi array thay ƒë·ªïi th∆∞·ªùng xuy√™n</a>.</p>\n<p>N·∫øu mu·ªën ch·∫°y 1 effect v√† clean n√≥ 1 l·∫ßn duy nh·∫•t (l√∫c mount v√† unmount), b·∫°n c√≥ th·ªÉ truy·ªÅn v√†o array r·ªóng (<code class=\"language-inline-text\">[]</code>). ƒê·ªìng nghƒ©a v·ªõi vi·ªác b·∫°n b√°o v·ªõi React, effect n√†y kh√¥ng ph·ª• thu·ªôc <em>b·∫•t k·ª≥</em> gi√° tr·ªã n√†o c·ªßa prop ho·∫∑c state, do ƒë√≥ kh√¥ng bao gi·ªù c·∫ßn re-run. N√≥ kh√¥ng ph·∫£i l√† m·ªôt tr∆∞·ªùng h·ª£p  ƒë∆∞·ª£c x·ª≠ l√Ω ƒë·∫∑c bi·ªát -- n√≥ ƒë√∫ng v·ªõi c√°ch so s√°nh array hi·ªán t·∫°i</p>\n<p>N·∫øu truy·ªÅn v√†o array r·ªóng (<code class=\"language-inline-text\">[]</code>), prop v√† state b√™n trong effect s·∫Ω lu√¥n mang gi√° tr·ªã kh·ªüi t·∫°o. Trong khi truy·ªÅn v√†o <code class=\"language-inline-text\">[]</code> n√≥ g·∫ßn gi·ªëng v·ªõi <code class=\"language-inline-text\">componentDidMount</code> v√† <code class=\"language-inline-text\">componentWillUnmount</code>, n√≥ th∆∞·ªùng l√† <a href=\"http://vi.reactjs.org/docs/hooks-faq.html#what-can-i-do-if-my-effect-dependencies-change-too-often\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gi·∫£i ph√°p</a> <a href=\"http://vi.reactjs.org/docs/hooks-faq.html#is-it-safe-to-omit-functions-from-the-list-of-dependencies\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">t·ªët h∆°n</a> ƒë·ªÉ tr√°nh re-run effect qu√° th∆∞·ªùng xuy√™n. Tuy nhi√™n, ƒë·ª´ng qu√™n React s·∫Ω ch·ªâ ch·∫°y <code class=\"language-inline-text\">useEffect</code> sau khi tr√¨nh duy·ªát paint.</p>\n<p>Ch√∫ng t√¥i khuy·∫øn kh√≠ch s·ª≠ d·ª•ng <a href=\"https://github.com/facebook/react/issues/14920\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-inline-text\">ƒë∆∞a t·∫•t c·∫£ dependency</code></a>, s·ª≠ d·ª•ng  <a href=\"https://www.npmjs.com/package/eslint-plugin-react-hooks#installation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-inline-text\">eslint-plugin-react-hooks</code></a> package ƒë·ªÉ r√†ng bu·ªôc, v√† th√¥ng b√°o n·∫øu khai b√°o dependency kh√¥ng h·ª£p l·ªá.</p>\n</blockquote>\n<h2 id=\"b∆∞·ªõc-ti·∫øp-theo-next-steps\"><a href=\"#b%C6%B0%E1%BB%9Bc-ti%E1%BA%BFp-theo-next-steps\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B∆∞·ªõc ti·∫øp theo {#next-steps}</h2>\n<p>Xin ch√∫c m·ª´ng! Trang n√†y kh√¥ng h·ªÅ ng·∫Øn, nh∆∞ng b·∫°n ƒë√£ ƒë·ªçc ƒë∆∞·ª£c ƒë·∫øn ƒë√¢y. Hy v·ªçng c√°c th·∫Øc m·∫Øc c·ªßa b·∫°n v·ªÅ effect ƒë√£ ƒë∆∞·ª£c ph√∫c ƒë√°p. B·∫°n ƒë√£ h·ªçc ƒë∆∞·ª£c State Hook v√† Effect Hook, v√† c√≥ <em>r·∫•t</em> nhi·ªÅu th·ª© b·∫°n c√≥ th·ªÉ l√†m khi s·ª≠ d·ª•ng k·∫øt h·ª£p ch√∫ng.  N√≥ g·∫ßn nh∆∞ gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ m√† ch·ªâ c√≥ class m·ªõi l√†m ƒë∆∞·ª£c -- c√≤n n·∫øu kh√¥ng b·∫°n c√≥ th·ªÉ t√¨m th·∫•y <a href=\"http://vi.reactjs.org/docs/hooks-reference.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">c√°c Hook m·ªü r·ªông</a>.</p>\n<p>Ch√∫ng ta ƒë√£ tr√¨nh b√†i ƒë·ªông l·ª±c t·∫°o ra Hook <a href=\"http://vi.reactjs.org/docs/hooks-intro.html#motivation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">·ªü ƒë√¢y</a>. Ch√∫ng ta c≈©ng th·∫•y ƒë∆∞·ª£c c√°ch  effect cleanup v√† tr√°nh tr√πng l·∫∑p trong <code class=\"language-inline-text\">componentDidUpdate</code> v√† <code class=\"language-inline-text\">componentWillUnmount</code>, mang nh·ªØng ƒëo·∫°n code c√≥ li√™n quan l·∫°i g·∫ßn nhau h∆°n, v√† gi√∫p ch√∫ng ta tr√°nh bug. Ch√∫ng ta c≈©ng th·∫•y ƒë∆∞·ª£c c√°ch ch√∫ng ta t√°ch effect theo m·ª•c ƒë√≠ch, c√°i m√† ch√∫ng ta kh√¥ng l√†m ƒë∆∞·ª£c v·ªõi class.</p>\n<p>ƒê·∫øn ƒë√¢y, b·∫°n c√≥ th·ªÉ th·∫Øc m·∫Øc Hook l√†m vi·ªác nh∆∞ th·∫ø n√†o. L√†m c√°ch n√†o <code class=\"language-inline-text\">useState</code> l·∫•y ƒë∆∞·ª£c ƒë√∫ng gi√° tr·ªã gi·ªØa c√°c l·∫ßn render kh√°c nhau? L√†m c√°ch n√†o React \"match\" ƒë∆∞·ª£c effect tr∆∞·ªõc v√† l·∫ßn ƒëang update? <strong>·ªû trang ti·∫øp theo b·∫°n s·∫Ω h·ªçc ƒë∆∞·ª£c <a href=\"http://vi.reactjs.org/docs/hooks-rules.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Quy lu·∫≠t c·ªßa Hook</a> -- m·∫•u ch·ªët l√†m vi·ªác c·ªßa Hook.</strong></p>\n","cover_image":""}},{"node":{"id":"431b04c69be9d0d7ae9bcf9c672a6d4f","title":"C√°ch s·ª≠ d·ª•ng ref trong React","path":"/2019-06-22-su-dung-refs-trong-react/","date":"2019-06-22","timeToRead":4,"desc":"C√¥ng d·ª•ng c·ªßa ref l√† ƒë·ªÉ truy c·∫≠p ƒë·∫øn DOM th·∫≠t trong React, m·ªôt v√†i t√≠nh hu·ªëng s·ª≠ d·ª•ng v√† d√πng ref","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#V%E1%BA%A5n-%C4%91%E1%BB%81-c%E1%BB%A7a-Refs\">V·∫•n ƒë·ªÅ c·ªßa Refs</a></li>\n<li><a href=\"#L%E1%BB%B1a-ch%E1%BB%8Dn-gi%E1%BB%AFa-callback-refs-v%C3%A0-createRef\">L·ª±a ch·ªçn gi·ªØa callback refs v√† <code class=\"language-inline-text\">createRef</code></a></li>\n<li><a href=\"#Truy%E1%BB%81n-Ref-t%E1%BB%AB-cha-xu%E1%BB%91ng-con\">Truy·ªÅn Ref t·ª´ cha xu·ªëng con</a></li>\n<li><a href=\"#useRef-hook\">useRef hook</a></li>\n<li><a href=\"#T%E1%BB%95ng-k%E1%BA%BFt-l%E1%BA%A1i\">T·ªïng k·∫øt l·∫°i</a></li>\n</ul>\n<!-- /TOC -->\n<p>L√† vi·∫øt t·∫Øt cho <code class=\"language-inline-text\">reference</code> n·∫øu b·∫°n c√≥ th·∫Øc m·∫Øc, n√≥ l√† c√°ch m√† React s·∫Ω truy c·∫≠p t·ªõi DOM (DOM th·ª±c, kh√¥ng ph·∫£i DOM ·∫£o). C√≥ nhi·ªÅu l√Ω do m√† ch√∫ng ta mu·ªën truy c·∫≠p t·ªõi DOM, th√≠ d·ª• nh∆∞ set focus v√†o input, hay t√≠nh to√°n k√≠ch th∆∞·ªõc c·ªßa m·ªôt element khi render.</p>\n<h2 id=\"v·∫•n-ƒë·ªÅ-c·ªßa-ref\"><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81-c%E1%BB%A7a-ref\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V·∫•n ƒë·ªÅ c·ªßa <code class=\"language-inline-text\">ref</code></h2>\n<p>X·ª≠ l√Ω DOM l√† k·ªπ thu·∫≠t cƒÉn b·∫£n m√† m·ªçi l·∫≠p tr√¨nh vi√™n frontend ƒëi·ªÅu bi·∫øt, tuy nhi√™n khi l√†m theo h∆∞·ªõng React, ch√∫ng ta s·∫Ω √≠t g·∫∑p t√¨nh hu·ªëng ƒë·ª•ng ƒë·∫øn DOM th·∫≠t h∆°n.</p>\n<p>Th·ªùi ƒëi·ªÉm hi·ªán t·∫°i, ch√∫ng ta c√≥ ƒë·∫øn t·∫≠n 4 c√°ch ƒë·ªÉ d√πng ref !!!!</p>\n<p><img src=\"https://www.rd.com/wp-content/uploads/2012/05/sourbaby-760x506.jpg\" alt=\"Th·ªùi ƒëi·ªÉm hi·ªán t·∫°i, ch√∫ng ta c√≥ ƒë·∫øn t·∫≠n 4 c√°ch ƒë·ªÉ d√πng refs \"></p>\n<ul>\n<li>D√πng string (kh√¥ng ƒë∆∞·ª£c khuy·∫øn kh√≠ch) (<code class=\"language-inline-text\">&lt;div ref=\"stringGiday\" /></code>)</li>\n<li>D√πng callback ref (<code class=\"language-inline-text\">&lt;div ref={ref => {this.inputRef = ref }} /></code>)</li>\n<li>D√πng API <code class=\"language-inline-text\">createRef</code></li>\n<li>D√πng hook <code class=\"language-inline-text\">useRef</code></li>\n</ul>\n<h2 id=\"l·ª±a-ch·ªçn-gi·ªØa-callback-ref-v√†-createref\"><a href=\"#l%E1%BB%B1a-ch%E1%BB%8Dn-gi%E1%BB%AFa-callback-ref-v%C3%A0-createref\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L·ª±a ch·ªçn gi·ªØa callback ref v√† <code class=\"language-inline-text\">createRef</code></h2>\n<p>S·ª≠ d·ª•ng string cho ref ƒë√£ ƒë∆∞·ª£c team React cho v√†o b·∫£o t√†ng, c√¢u h·ªèi c√≤n l·∫°i l√† d√πng callback ref hay <code class=\"language-inline-text\">createRef</code> ƒë√¢y</p>\n<blockquote>\n<p>C√¢u tr·∫£ l·ªùi ng·∫Øn g·ªçn: d√πng <code class=\"language-inline-text\">createRef</code> l√† an to√†n cho m·ªçi tr∆∞·ªùng h·ª£p.</p>\n</blockquote>\n<p>L·∫•y v√≠ d·ª• cho t√¨nh hu·ªëng ph·ªï bi·∫øn: t·ª± ƒë·ªông ƒë·∫∑t set focus cho input</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">SimpleRef</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 1 - ƒê·ªãnh nghƒ©a ref</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>inputRef <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 3 - g·ªçi h√†m focus tr√™n ref</span>\n  <span class=\"token function-variable function\">onClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>inputRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>input ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>inputRef<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> g·∫Øn c√°i ref m·ªõi ƒë·ªãnh nghƒ©a cho element <span class=\"token operator\">--</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>onClick<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Click ƒë·ªÉ focus<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>N·∫øu s·ª≠ d·ª•ng callback ref th√¨ ƒë√¢y l√† c√°ch l√†m</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">SimpleCallbackRef</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">onClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>inputRef<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>input ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">ref</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>inputRef <span class=\"token operator\">=</span> ref<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>onClick<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Click ƒë·ªÉ focus<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>C√≥ √Ω ki·∫øn th·∫•y vi·∫øt <code class=\"language-inline-text\">ref =></code> <em>n√≥ h∆°i k·ª≥</em>, kh√¥ng minh b·∫°ch, c√°i ref n√†y ·ªü qu·ª∑ qu√°i n√†o sinh ra?</p>\n<p>Khai b√°o ref b·∫±ng inline function nh∆∞ ·ªü tr√™n, n√≥ s·∫Ω g·ªçi 2 l·∫ßn trong qu√° tr√¨nh update: l·∫ßn ƒë·∫ßu ti√™n v·ªõi gi√° tr·ªã <code class=\"language-inline-text\">null</code>, l·∫ßn th·ª© hai l√† khi c√≥ DOM element.</p>\n<p>B·ªüi v√¨ m·ªói l·∫ßn render l√† m·ªôt inline function kh√°c nhau, React s·∫Ω ph·∫£i x√≥a gi√° tr·ªã ref c≈© r·ªìi setup ref m·ªõi</p>\n<p>Nghƒ©a l√† vi·∫øt nh∆∞ sau s·∫Ω b·ªã bug, ref l√∫c ƒë·∫ßu ƒëang null n√™n kh√¥ng c√≥ g·ªçi focus ƒë∆∞·ª£c</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>input ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">ref</span> <span class=\"token operator\">=></span> ref<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<p>Ch·∫Øc t·ªõi ƒë√¢y anh em ƒë√£ th·∫•y kh√¥ng c√≤n mu·ªën d√πng callback ref.</p>\n<p>Tuy nhi√™n kh√¥ng c√≥ nghƒ©a l√† callback ref kh√¥ng c√≤n ƒë·∫•t d·ª•ng v√µ, v·ªõi <code class=\"language-inline-text\">createRef</code> anh em lu√¥n ph·∫£i t·∫°o-r·ªìi-g√°n. N·∫øu t√¨nh hu·ªëng ch√∫ng ta ph·∫£i t·∫°o m·ªôt danh s√°ch element ƒë·ªông</p>\n<p>Nh∆∞ v√≠ d·ª• n√†y, s·∫Ω l√†m nh∆∞ th·∫ø n√†y ph·∫£i kh√¥ng</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">DynamicRefs</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n          tasks<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"Task 1\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"red\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"Task 2\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"green\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"Task 3\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"yellow\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"Task 4\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"gray\"</span> <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>refsArray <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n                <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>tasks<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">task<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n                    <span class=\"token operator\">&lt;</span>div\n                        key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span>\n                        ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">ref</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>refArray<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> ref<span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                    <span class=\"token operator\">></span>\n                        <span class=\"token punctuation\">{</span>task<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"truy·ªÅn-ref-t·ª´-cha-xu·ªëng-con\"><a href=\"#truy%E1%BB%81n-ref-t%E1%BB%AB-cha-xu%E1%BB%91ng-con\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Truy·ªÅn Ref t·ª´ cha xu·ªëng con</h2>\n<p>V·ªõi function component, x√©t ƒëo·∫°n code sau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">CustomInput</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>input <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>R·ªìi ch√∫ng ta c√≥ 1 component kh√°c, d√πng ref cho c√°i <code class=\"language-inline-text\">CustomInput</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">SimpleRef</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>textInput <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>CustomInput ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>textInput<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ƒêo·∫°n code tr√™n h·ªïng ch·∫°y ƒë∆∞·ª£c. Ch√∫ng ta c·∫ßn d√πng ƒë·∫øn <code class=\"language-inline-text\">forwardRef</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// B·∫ÆT BU·ªòC ph·∫£i l√† function component</span>\n<span class=\"token keyword\">const</span> CustomInput <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">forwardRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">,</span> ref</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>input ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ref<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SimpleRefForwarding</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>inputRef <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function-variable function\">onClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>inputRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// l∆∞u √Ω c√°ch ch√∫ng ta g√†n m·ªôt ref v√†o custom component</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>CustomInput ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>inputRef<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>onClick<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n          Click to Focus\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"useref-hook\"><a href=\"#useref-hook\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>useRef hook</h2>\n<p>N·∫øu l√† function component, nh∆∞ ƒë√£ bi·∫øt, n·∫øu ch√∫ng ta d√πng <code class=\"language-inline-text\">createRef</code></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">FunctionComponentWithRef</span>  <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> textInput <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>textInput<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> textInput<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            Click to Focus\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>M·ªñi l·∫ßn return l√† m·ªói l·∫ßn t·∫°o ref m·ªõi, nh∆∞ v·∫≠y <em>kh√¥ng cool</em>, s·ª≠ d·ª•ng hook <code class=\"language-inline-text\">useRef</code> ch√∫ng ta s·∫Ω c√≥ m·ªôt c√°i ref x√†i ƒë·ªùi n√†y qua ƒë·ªùi kia d√π bao nhi·ªÅu l·∫ßn update, cho ƒë·∫øn khi n√≥ ra ƒëi (Unmount)</p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">FunctionComponentWithRef</span>  <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> textInput <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>textInput<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> textInput<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            Click to Focus\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"t·ªïng-k·∫øt-l·∫°i\"><a href=\"#t%E1%BB%95ng-k%E1%BA%BFt-l%E1%BA%A1i\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>T·ªïng k·∫øt l·∫°i</h2>\n<ul>\n<li>ƒê·ª´ng x√†i ref nhi·ªÅu qu√°</li>\n<li>ƒê·ª´ng bao gi·ªù ƒë·ª•ng v√¥ string ref</li>\n<li>D√πng callback ref khi anh em ƒë·ª•ng ƒë·∫øn v·∫•n ƒë·ªÅ t·∫°o element ƒë·ªông</li>\n<li>N·∫øu l√† class component, d√πng <code class=\"language-inline-text\">createRef</code> an to√†n nh·∫•t</li>\n<li>L√† function component, d√πng <code class=\"language-inline-text\">useRef</code> cho h·ª£p xu th·∫ø</li>\n<li>D√πng <code class=\"language-inline-text\">forwardRef</code> khi component cha c·∫ßn truy c·∫≠p ƒë·∫øn component con</li>\n</ul>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://rafaelquintanilha.com/the-complete-guide-to-react-refs\">The Complete Guide to React Refs</a></p>\n","cover_image":""}},{"node":{"id":"90121a307e1190cb35555bbb15790b74","title":"JSON.stringify v·ªü l√≤ng cho ng∆∞·ªùi m·ªõi","path":"/2019-06-01-huong-dan-vo-long-su-dung-json-stringify/","date":"2019-06-01","timeToRead":3,"desc":"M·ªôt trong h√†m kinh ƒëi·ªÉn b·∫Øt bu·ªôc ph·∫£i bi·∫øt c·ªßa m·ªôi frontend developer","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#tr%C6%B0%E1%BB%9Dng-h%E1%BB%A3p-%C4%91%E1%BA%B7c-bi%E1%BB%87t-v%C3%A0-l%E1%BB%97i\">Tr∆∞·ªùng h·ª£p ƒë·∫∑c bi·ªát v√† l·ªói</a></li>\n<li><a href=\"#c%C3%A1c-tham-s%E1%BB%91-c%C3%B2n-l%E1%BA%A1i-c%E1%BB%A7a-jsonstringify\">C√°c tham s·ªë c√≤n l·∫°i c·ªßa <code class=\"language-inline-text\">JSON.stringify</code></a></li>\n<li><a href=\"#h%C3%A0m-tojson\">H√†m <code class=\"language-inline-text\">toJSON()</code></a></li>\n</ul>\n<!-- /TOC -->\n<p><code class=\"language-inline-text\">JSON.stringify</code> l√† h√†m kinh ƒëi·ªÉn ƒë·ªÉ chuy·ªÉn m·ªôt object trong javascript sang JSON. B√†i vi·∫øt n√†y s·∫Ω nh√¨n l·∫°i nh·ªØng ki·∫øn th·ª©c v·ªü l√≤ng c·ªßa <code class=\"language-inline-text\">JSON.stringify</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> answer<span class=\"token operator\">:</span> <span class=\"token number\">42</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> str <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// '{\"answer\":42}'</span>\n<span class=\"token comment\">// typeof str = string</span></code></pre></div>\n<p><code class=\"language-inline-text\">JSON.stringify</code> hay s·ª≠ d·ª•ng chung v·ªõi <code class=\"language-inline-text\">JSON.parse</code>. ƒê√¢y l√† c√°ch ch√∫ng ta c√≥ th·ªÉ sao ch√©p m·ªôt object trong javascript (kh√¥ng b·ªã d√≠nh tr∆∞·ªùng h·ª£p reference ƒë·∫øn object c≈©)</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> answer<span class=\"token operator\">:</span> <span class=\"token number\">42</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> clone <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// clone.answer = 42</span>\n<span class=\"token comment\">// clone !== obj</span></code></pre></div>\n<h2 id=\"tr∆∞·ªùng-h·ª£p-ƒë·∫∑c-bi·ªát-v√†-l·ªói\"><a href=\"#tr%C6%B0%E1%BB%9Dng-h%E1%BB%A3p-%C4%91%E1%BA%B7c-bi%E1%BB%87t-v%C3%A0-l%E1%BB%97i\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tr∆∞·ªùng h·ª£p ƒë·∫∑c bi·ªát v√† l·ªói</h2>\n<p>Khi object <code class=\"language-inline-text\">obj</code> c√≥ 1 property m√† gi√° tr·ªã l√† <code class=\"language-inline-text\">obj</code> (tr·ªè v·ªÅ ch√≠nh n√≥), <code class=\"language-inline-text\">JSON.stringify</code> tr·∫£ v·ªÅ m·ªôt error</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\nobj<span class=\"token punctuation\">.</span>answer <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">;</span>\n\n<span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// TypeError: TypeError: Converting circular structure to JSON</span></code></pre></div>\n<p>C√°c tr∆∞·ªùng h·ª£p ƒë·∫∑c bi·ªát nh∆∞ <code class=\"language-inline-text\">NaN</code> v√† <code class=\"language-inline-text\">Infinity</code>, <code class=\"language-inline-text\">JSON.stringify</code> s·∫Ω chuy·ªÉn v·ªÅ <code class=\"language-inline-text\">null</code>, ch·ª© ko tr·∫£ l·ªói</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> nan<span class=\"token operator\">:</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">'not a number'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> inf<span class=\"token operator\">:</span> Number<span class=\"token punctuation\">.</span><span class=\"token constant\">POSITIVE_INFINITY</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// '{\"nan\": null, \"inf\": null}'</span></code></pre></div>\n<p>N√≥ c≈©ng s·∫Ω l·ªçc b·ªè h·∫øt c√°c property gi√° tr·ªã l√† <code class=\"language-inline-text\">undefined</code> ho·∫∑c function</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token function-variable function\">fn</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> undef<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token comment\">// '{}'</span></code></pre></div>\n<h2 id=\"c√°c-tham-s·ªë-c√≤n-l·∫°i-c·ªßa-jsonstringify\"><a href=\"#c%C3%A1c-tham-s%E1%BB%91-c%C3%B2n-l%E1%BA%A1i-c%E1%BB%A7a-jsonstringify\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°c tham s·ªë c√≤n l·∫°i c·ªßa <code class=\"language-inline-text\">JSON.stringify</code></h2>\n<p><code class=\"language-inline-text\">JSON.stringify</code> nh·∫≠n v√†o 3 tham s·ªë, ƒëa ph·∫ßn ch√∫ng ta √≠t bi·∫øt t·ªõi 2 tham s·ªë c√≤n l·∫°i.</p>\n<p>Tham s·ªë th·ª© 2 l√† <code class=\"language-inline-text\">replacer</code>, m·ªôt h√†m nh·∫≠n v√†o c·∫∑p <code class=\"language-inline-text\">key/value</code> c√≥ th·ªÉ d·ª•ng ƒë·ªÉ thay ƒë·ªïi gi√° tr·ªã output sau c√πng.</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> d<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> e<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// n·∫øu gi√° tr·ªã l√† number, c·ªông th√™m 1</span>\n<span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token function\">replacer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> value <span class=\"token operator\">===</span> <span class=\"token string\">'number'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> value <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> value<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// '{\"a\":2,\"b\":3,\"c\":4,\"d\":{\"e\":5}}'</span></code></pre></div>\n<p>Tham s·ªë th·ª© 3 l√† <code class=\"language-inline-text\">spaces</code>, cho ph√©p format l·∫°i output theo d·∫°ng d·ªÖ ƒë·ªçc</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> d<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> e<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// '{\"a\":1,\"b\":2,\"c\":3,\"d\":{\"e\":4}}'</span>\n\n<span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'  '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// k·∫øt qu·∫£ t∆∞∆°ng t·ª±</span>\n<span class=\"token comment\">// {</span>\n<span class=\"token comment\">//   \"a\": 1,</span>\n<span class=\"token comment\">//   \"b\": 2,</span>\n<span class=\"token comment\">//   \"c\": 3,</span>\n<span class=\"token comment\">//   \"d\": {</span>\n<span class=\"token comment\">//     \"e\": 4</span>\n<span class=\"token comment\">//   }</span>\n<span class=\"token comment\">// }</span>\n\n<span class=\"token comment\">// Ko nh·∫•t thi·∫øt ph·∫£i l√† d·∫•u kho·∫£ng tr·∫Øng</span>\n<span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'__'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// {</span>\n<span class=\"token comment\">// __\"a\": 1,</span>\n<span class=\"token comment\">// __\"b\": 2,</span>\n<span class=\"token comment\">// __\"c\": 3,</span>\n<span class=\"token comment\">// __\"d\": {</span>\n<span class=\"token comment\">// ____\"e\": 4</span>\n<span class=\"token comment\">// __}</span>\n<span class=\"token comment\">// }</span></code></pre></div>\n<p>V√≠ d·ª• nh∆∞ ta c√≥ th·ªÉ ƒë·ªÉ l·ªçc b·ªè c√°c d·ªØ li·ªáu nh·∫°y c·∫£m nh∆∞ password</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'Jean-Luc Picard'</span><span class=\"token punctuation\">,</span>\n  password<span class=\"token operator\">:</span> <span class=\"token string\">'stargazer'</span><span class=\"token punctuation\">,</span>\n  nested<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    hashedPassword<span class=\"token operator\">:</span> <span class=\"token string\">'c3RhcmdhemVy'</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token function\">replacer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">password</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">i</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> value<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// '{\"name\":\"Jean-Luc Picard\",\"nested\":{}}'</span></code></pre></div>\n<h2 id=\"h√†m-tojson\"><a href=\"#h%C3%A0m-tojson\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>H√†m <code class=\"language-inline-text\">toJSON()</code></h2>\n<p>Khi ƒëi qua c√°c property trong object, n·∫øu b√™n trong object c√≥ h√†m <code class=\"language-inline-text\">toJSON()</code>, <code class=\"language-inline-text\">JSON.stringify</code> d√πng gi√° tr·ªã tr·∫£ v·ªÅ c·ªßa h√†m n√†y</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'Jean-Luc Picard'</span><span class=\"token punctuation\">,</span>\n  nested<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    test<span class=\"token operator\">:</span> <span class=\"token string\">'not in output'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">toJSON</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token string\">'test'</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// '{\"name\":\"Jean-Luc Picard\",\"nested\":\"test\"}'</span></code></pre></div>\n<p>R·∫•t nhi·ªÅu th∆∞ vi·ªán s·ª≠ d·ª•ng <code class=\"language-inline-text\">JSON.stringify()</code> k·∫øt h·ª£p v·ªõi <code class=\"language-inline-text\">toJSON()</code> ƒë·ªÉ ƒë·∫£m b·∫£o output l√∫c serialize ra ƒë√∫ng nh∆∞ mong mu·ªën (nh∆∞ <a href=\"https://momentjs.com/docs/#/displaying/as-json/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Moment JS</a></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://thecodebarbarian.com/the-80-20-guide-to-json-stringify-in-javascript.html\">The 80/20 Guide to JSON.stringify in JavaScript</a></p>\n","cover_image":""}},{"node":{"id":"3a6380cc71f067cbeb40825b4adb02e4","title":"Gi·∫£i th√≠ch Flux Pattern theo phong c√°ch John Wick","path":"/2019-05-28-giai-thich-pattern-flux-trong-react/","date":"2019-05-28","timeToRead":6,"desc":"ƒêi·ªÉm l·∫°i c√°c kh√°i ni·ªám trong Flux action, dispatch, store, ƒëi·ªÅu ki·ªán ti√™n quy·∫øt ƒë·ªÅ ƒë·ªçc b√†i n√†y l√† n√™n xem l·∫°i John Wick","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81\">V·∫•n ƒë·ªÅ</a></li>\n<li><a href=\"#gi%E1%BA%A3i-ph%C3%A1p-c%E1%BB%A7a-facebook-lu%E1%BB%93ng-d%E1%BB%AF-li%E1%BB%87u-m%E1%BB%99t-chi%E1%BB%81u\">Gi·∫£i ph√°p c·ªßa Facebook: lu·ªìng d·ªØ li·ªáu m·ªôt chi·ªÅu</a></li>\n<li>\n<p><a href=\"#gi%E1%BB%9Bi-thi%E1%BB%87u-c%C3%A1c-vai-ch%C3%ADnh\">Gi·ªõi thi·ªáu c√°c vai ch√≠nh</a></p>\n<ul>\n<li><a href=\"#b%E1%BB%8Dn-action-creator\">B·ªçn action creator</a></li>\n<li><a href=\"#b%E1%BB%8Dn-dispatcher\">B·ªçn dispatcher</a></li>\n<li><a href=\"#b%E1%BB%8Dn-%C4%91%E1%BA%A7u-c%E1%BA%A7u-store\">B·ªçn ƒë·∫ßu c·∫ßu Store</a></li>\n<li><a href=\"#b%E1%BB%8Dn-view\">B·ªçn View</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"v·∫•n-ƒë·ªÅ\"><a href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>V·∫•n ƒë·ªÅ</h2>\n<p>Tr∆∞·ªõc ti√™n ch√∫ng ta c·∫ßn bi·∫øt Flux gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ g√¨. Flux l√† m·ªôt pattern ƒë·ªÉ x·ª≠ l√Ω lu·ªìng d·ªØ li·ªáu trong ·ª©ng d·ª•ng. Flux v√† React ƒë∆∞·ª£c sinh ra v√† l·ªõn l√™n d∆∞·ªõi ng√¥i nh√† Facebook. 2 ƒë·ª©a ch√∫ng n√≥ <strong>th∆∞·ªùng</strong> ƒëi c√πng nhau, ch·ª© kh√¥ng ph·∫£i <strong>d√≠nh</strong> v√†o nhau nh∆∞ h√¨nh v·ªõi b√≥ng</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*EfeNEshl8-uwZSuUw275Ag.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>M·ªôt trong nh·ªØng v√≠ d·ª• ph·ªï bi·∫øn khi n√≥i ƒë·∫øn Flux l√† v√≤ng l·∫∑p c·ªßa t√≠nh nƒÉng notification. Khi ƒëƒÉng nh·∫≠p v√†o Facebook, b·∫°n th·∫•y m·ªôt th√¥ng b√°o m·ªõi tr√™n icon c√°i chu√¥ng huy·ªÅn di·ªáu, m·ªôt khi click v√†o c√°i chu√¥ng n√†y, to√†n b·ªô th√¥ng b√°o s·∫Ω ko c√≤n n·∫±m trong <strong>new message</strong> n·ªØa. M·ªôt v√†i ph√∫t sau, khi nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o m·ªõi, c√°i chu√¥ng l·∫°i <strong>rung l√™n</strong>, b√°o b·∫°n bi·∫øt c√≥ th√¥ng b√°o m·ªõi, v√† c·ª© th·∫ø, v√≤ng l·∫∑p c·ª© ti·∫øp t·ª•c.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*4xc1FzIHWiyAvb1iAQKSqQ.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>V·ªõi ki·ªÉu thi·∫øt k·∫ø Model-View</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*OcTeAqv8AU_z-O2HuucmeA.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>C√°c model s·∫Ω <em>n·∫Øm gi·ªØ</em> d·ªØ li·ªáu v√† truy·ªÅn d·ªØ li·ªáu n√†y xu·ªëng c√°c c·ª•c view -> n∆°i s·∫Ω render, hi·ªÉn th·ªã d·ªØ li·ªáu n√†y.</p>\n<p>User t∆∞∆°ng t√°c th√¥ng qua view, view ƒë√¥i l√∫c s·∫Ω c·∫≠p nh·∫≠p l·∫°i d·ªØ li·ªáu c·ªßa model, v√† ƒë√¥i khi model n√†y c·∫ßn thay ƒë·ªïi d·ªØ li·ªáu tr√™n model kh√°c. H∆°n n·ªØa, nhi·ªÅu khi m·ªôt thay ƒë·ªïi c·ªßa user k√©o theo m·ªôt chu·ªói c√°c thay ƒë·ªïi kh√°c, c√≥ khi n√≥ l√† m·ªôt async. T∆∞·ªüng t∆∞·ª£ng nh∆∞ ƒë√°nh tr√°i banh b√†n, b·∫°n ko th·ªÉ bi·∫øt ƒë∆∞·ª£c tr√°i banh n√≥ s·∫Ω ƒë·∫≠p v√†o ƒë√¢u h·∫øt.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/400/1*7myoHOaUyFEmPC-dj61CKw.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>Khi ·∫•y b·∫°n s·∫Ω kh√¥ng bi·∫øt ƒë∆∞·ª£c d·ªØ li·ªáu b·ªã <strong>r∆°i r·ªõt</strong> ·ªü ƒë√¢u.</p>\n<h2 id=\"gi·∫£i-ph√°p-c·ªßa-facebook-lu·ªìng-d·ªØ-li·ªáu-m·ªôt-chi·ªÅu\"><a href=\"#gi%E1%BA%A3i-ph%C3%A1p-c%E1%BB%A7a-facebook-lu%E1%BB%93ng-d%E1%BB%AF-li%E1%BB%87u-m%E1%BB%99t-chi%E1%BB%81u\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·∫£i ph√°p c·ªßa Facebook: lu·ªìng d·ªØ li·ªáu m·ªôt chi·ªÅu</h2>\n<p>ƒê·ªôi ng≈© Facebook gi·∫£i quy·∫øt b·∫±ng m·ªôt ki·∫øn tr√∫c kh√°c, <strong>lu·ªìng d·ªØ li·ªáu s·∫Ω ƒëi m·ªôt chi·ªÅu duy nh·∫•t</strong>, m·ªôt khi c·∫ßn th√™m d·ªØ li·ªáu m·ªõi, lu·ªìng l·∫°i ƒëi t·ª´ ƒëi·ªÉm xu·∫•t ph√°t. V√† h·ªç g·ªçi ki·∫øn tr√∫c ƒë√≥ l√† <strong>Flux</strong></p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*lZM0yU9ExEMd7DggVxXkxA.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>Nh√¨n v√†o c√°i h√¨nh tr√™n, b·∫°n s·∫Ω kh√¥ng th·ªÉ c·∫£m ƒë∆∞·ª£c c·ªßa ki·∫øn tr√∫c n√†y ngay v√† lu√¥n, kh√¥ng ƒë·ªçc t√†i li·ªáu v·ªÅ Flux, c√≥ th·ªÉ b·∫°n s·∫Ω ch·∫≥ng h·ª©ng th√∫ v√¨ v·ªõi n√≥.</p>\n<p>C√πng ƒëi chi ti·∫øt t·ª´ng kh√°i ni·ªám m·ªôt. H√¨nh dung t·ªï ch·ª©c <strong>h·ªôi b√†n ƒë√†o</strong> trong John Wick, v·ªõi nh·ªØng nh√≥m nh√¢n v·∫≠t kh√°c nhau, n·∫Øm gi·ªØ nh·ªØng vai tr√≤ kh√°c nhau.</p>\n<h2 id=\"gi·ªõi-thi·ªáu-c√°c-vai-ch√≠nh\"><a href=\"#gi%E1%BB%9Bi-thi%E1%BB%87u-c%C3%A1c-vai-ch%C3%ADnh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·ªõi thi·ªáu c√°c vai ch√≠nh</h2>\n<h3 id=\"b·ªçn-action-creator\"><a href=\"#b%E1%BB%8Dn-action-creator\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B·ªçn action creator</h3>\n<p><img src=\"https://i.imgur.com/e2UBmM4.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>Nhi·ªám v·ª• c·ªßa b·ªçn n√†y l√† t·∫°o ra action, t·∫•t c·∫£ nh·ªØng thay ƒë·ªïi, t∆∞∆°ng t√°c ph·∫£i t·ªõi g·∫∑p b·ªçn n√†y. N√≥ gi·ªëng nh∆∞ b·ªçn ng·ªìi ƒëi·ªÅu h√†nh ƒëi·ªán tho·∫°i trong phim John Wick, nh·ªØng ƒë·ª©a kh√°c t·ªõi ƒë√¢y, ph√°t ƒëi 1 th√¥ng ƒëi·ªáp, action creator s·∫Ω \"ƒë·ªãnh d·∫°ng\" l·∫°i th√¥ng ƒëi·ªáp ƒë√≥ b·∫±ng m·ªôt m·∫≠t m√£ m√† t·∫•t c√°c nh·ªØng ƒë·ª©a kh√°c n·∫±m trong h·ªá th·ªëng hi·ªÉu ƒë∆∞·ª£c.</p>\n<p><img src=\"https://i.imgur.com/lsLrRSV.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>Th√¥ng ƒëi·ªáp ƒë∆∞·ª£c g·ª≠i ƒëi bao g·ªìm: ki·ªÉu th√¥ng ƒëi·ªáp (type) v√† n·ªôi dung ch√≠nh c·ªßa th√¥ng ƒëi·ªáp (payload). Trong ƒë√≥ ki·ªÉu th√¥ng ƒëi·ªáp l√† m·ªôt h·∫±ng s·ªë ƒë√£ ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a tr∆∞·ªõc ƒë√≥.</p>\n<p><strong>T√°c d·ª•ng ph·ª•</strong> c·ªßa m·ªôt h·ªá th·ªëng m√† to√†n b·ªô ki·ªÉu th√¥ng ƒëi·ªáp ƒë√£ ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a s·∫µn, <strong>l√≠nh m·ªõi</strong> v√†o ch·ªâ c·∫ßn m·ªü file n√†y ra l√† bi·∫øt ƒë∆∞·ª£c ·ª©ng d·ª•ng ƒëang l√†m, s·∫Ω c√≥ nh·ªØng t√¨nh hu·ªëng n√†o s·∫Ω l√†m thay ƒë·ªïi tr·∫°ng th√°i d·ªØ li·ªáu.</p>\n<h3 id=\"b·ªçn-dispatcher\"><a href=\"#b%E1%BB%8Dn-dispatcher\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B·ªçn dispatcher</h3>\n<p><img src=\"https://i.imgur.com/nnQAAj6.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>Trong John Wick, n√≥i chung c√°c b·∫°n n√™n xem John Wick tr∆∞·ªõc khi ƒë·ªçc b√†i n√†y ƒë√≥, b·∫°n tr·ª±c ƒëi·ªán tho·∫°i nh·∫≠n tin nh·∫Øn, format tin nh·∫Øn xong, b·∫°n s·∫Ω <strong>h√©t</strong> l√™n cho c√°c b·∫°n ƒë·ª©ng tr·ª±c ch·ªï t·ªïng ƒë√†i ƒëi·ªán tho·∫°i. B·∫°n <strong>tr·ª±c ƒëi·ªán tho·∫°i</strong> n√†y bi·∫øt danh s√°ch c√°c <strong>ƒë·∫ßu c·∫ßu</strong> (store) c·∫ßn g·ª≠i th√¥ng b√°o ƒë·∫øn.</p>\n<p>Qu√° tr√¨nh n√†y ƒë∆∞·ª£c th·ª±c hi·ªán m·ªôt c√°ch <strong>tu·∫ßn t·ª±</strong>, kh√¥ng chen l·∫•n, kh√¥ng xen ngang, n·∫øu m·ªói ƒë·∫ßu c·∫ßu c·∫ßn r√†ng bu·ªôc v·ªÅ th·ª© t·ª± nh·∫≠n th√¥ng tin, ch√∫ng ta c√≥ ƒë·ªÉ anh dispatcher n√†y qu·∫£n l√Ω.</p>\n<p>Anh Dispatcher trong Flux s·∫Ω kh√°c v·ªõi dispatcher trong c√°c ki·∫øn tr√∫c kh√°c. Th√¥ng tin lu√¥n ƒë∆∞·ª£c g·ª≠i ƒë·∫øn h·∫øt c√°c ƒë·∫ßu c·∫ßu b·∫•t k·ªÉ n√≥ l√† th√¥ng tin g√¨. Nghƒ©a l√† m·ªói ƒë·∫ßu c·∫ßu kh√¥ng ch·ªâ ƒëƒÉng k√Ω m·ªôt k√™nh th√¥ng tin nh·∫•t ƒë·ªãnh, n√≥ l·∫Øng nghe to√†n b·ªô th√¥ng tin ƒë∆∞·ª£c g·ª≠i ƒëi, chuy·ªán n√≥ quan t√¢m v√† x·ª≠ l√Ω tr√™n t·ª´ng th√¥ng tin n√†o l√† n√≥ t·ª± quy·∫øt ƒë·ªãnh, gi·ªëng nh∆∞ ch√∫ Bowery King nh·∫≠n ƒë∆∞·ª£c y√™u c·∫ßu truy s√°t John Wick, nh∆∞ng anh nh·∫≠n tin r·ªìi ko l√†m g√¨ c·∫£.</p>\n<h3 id=\"b·ªçn-ƒë·∫ßu-c·∫ßu-store\"><a href=\"#b%E1%BB%8Dn-%C4%91%E1%BA%A7u-c%E1%BA%A7u-store\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B·ªçn ƒë·∫ßu c·∫ßu Store</h3>\n<p>G·ªçi l√† ƒë·∫ßu c·∫ßu th√¨ c≈©ng ch∆∞a ƒë·∫ßy ƒë·ªß, ngo√†i l√† n∆°i ti·∫øp nh·∫≠n v√† th·ª±c th√¥ng tin, n√≥ c√≤n l√† n∆°i ch·ª©a to√†n b·ªô d·ªØ li·ªáu c·ªßa ·ª©ng d·ª•ng, ngu·ªìn ti·ªÅn c·ªßa 1 t·ªï ch·ª©c, m·ªçi lu·∫≠t l·ªá, logic c·ªßa d·ªØ li·ªáu s·∫Ω n·∫±m ·ªü ƒë√¢y.</p>\n<p><img src=\"https://media.comicbook.com/2019/05/john-wick-bowery-king-1171365-1280x0.jpeg\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>Anh Store n√†y nh∆∞ ch√∫ <a href=\"https://www.imdb.com/title/tt6146586/characters/nm0000401?ref_=tt_cl_t4\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Bowery King</a>, khi mu·ªën anh ·∫•y l√†m g√¨ ƒë√≥, chuy·ªÉn ti·ªÅn, nh·∫≠n ti·ªÅn, ƒë√≥ng ti·ªÅn th√¨ b·∫°n bu·ªôc ph·∫£i l√†m ƒë√∫ng quy tr√¨nh t·ª´ tr√™n xu·ªëng d∆∞·ªõi action creator -> dispatcher</p>\n<h3 id=\"b·ªçn-view\"><a href=\"#b%E1%BB%8Dn-view\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>B·ªçn View</h3>\n<p><img src=\"https://m.media-amazon.com/images/M/MV5BNTQ2MWYyYTMtOTg3NC00MjA1LWFmMTUtOWRjMWViMWIxZTBmXkEyXkFqcGdeQXVyNTc5OTMwOTQ@._V1_SY1000_CR0,0,1499,1000_AL_.jpg\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>Nh·∫≠n d·ªØ li·ªáu, thay ƒë·ªïi th√¥ng tin hi·ªÉn th·ªã, ti·∫øp nh·∫≠n d·ªØ li·ªáu t·ª´ user, ƒë∆∞a ng∆∞·ª£c l√™n l·∫°i t·ªï ch·ª©c l√† c√¥ng d·ª•ng to√†n b·ªô c·ªßa b·ªçn n√†y.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*MY5xNk_JeKvGsGdywYD4EA.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>T·ªïng h·ª£p l·∫°i ch√∫ng ta c√≥ s∆° ƒë·ªì v·∫≠n h√†nh c·ªßa t·ªï ch·ª©c n√†y nh∆∞ sau</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*GHrusKRFhQ0Y6rrwjqI6QQ.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*66hoDpUhczSXrgH2cUUasw.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>Trong h√¨nh minh h·ªça tr√™n, c√≤n m·ªôt ƒë·ª©a n·ªØa ƒë·ª©ng gi·ªØa View v√† Store, ƒë∆∞·ª£c g·ªçi l√† controller view, m·ªôt d·∫°ng c·ªßa <strong>ng∆∞·ªùi ƒë∆∞a tin</strong>, n√≥ s·∫Ω nh·∫≠n th√¥ng b√°o t·ª´ ƒë·∫ßu c·∫ßu store khi c√≥ d·ªØ li·ªáu thay ƒë·ªïi, r·ªìi m·ªõi ƒë∆∞a xu·ªëng view</p>\n<p>Khi user g·ª≠i ƒëi m·ªôt th√¥ng b√°o ƒë·∫øn View</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*SusQ7Aip2fSWg6raQtPSnA.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p>Th√¥ng tin ƒë∆∞·ª£c g·ª≠i l·∫°i action creator</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*dkm9qsWuD9DtXzH-u-DjJQ.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*RLrImTDeArSMoA4kZsajLQ.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*fWBaUg9-_1-V5M2YQBWhWg.png\" alt=\"Gi·∫£i th√≠ch Flux pattern\"></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://code-cartoons.com/a-cartoon-guide-to-flux-6157355ab207\">A cartoon guide to Flux\n</a></p>\n","cover_image":""}},{"node":{"id":"58ea8827c07db478a5f5fc39667a1858","title":"Map v√† Object trong Javascript","path":"/2018-12-07-giai-thich-su-dung-map-hay-object/","date":"2018-12-07","timeToRead":5,"desc":"K·∫ª t√°m l·∫°ng ng∆∞·ªùi n·ªØa c√¢n","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#key\">key</a></li>\n<li><a href=\"#th%E1%BB%A9-t%E1%BB%B1-c%C3%A1c-element\">Th·ª© t·ª± c√°c element</a></li>\n<li><a href=\"#kh%E1%BB%9Fi-t%E1%BA%A1o\">Kh·ªüi t·∫°o</a></li>\n<li><a href=\"#l%E1%BA%A5y-gi%C3%A1-tr%E1%BB%8B\">L·∫•y gi√° tr·ªã</a></li>\n<li><a href=\"#th%C3%AAm-m%E1%BB%99t-element\">Th√™m m·ªôt element</a></li>\n<li><a href=\"#x%C3%B3a-element\">X√≥a element</a></li>\n<li><a href=\"#l%E1%BA%A5y-size-hay-length\">L·∫•y <code class=\"language-inline-text\">size</code> (hay length)</a></li>\n<li><a href=\"#loop\">Loop</a></li>\n<li><a href=\"#khi-n%C3%A0o-d%C3%B9ng-map-khi-n%C3%A0o-d%C3%B9ng-object\">Khi n√†o d√πng <code class=\"language-inline-text\">Map</code>, khi n√†o d√πng <code class=\"language-inline-text\">Object</code></a></li>\n</ul>\n<!-- /TOC -->\n<p><code class=\"language-inline-text\">Map</code> c√≥ th·ªÉ coi l√† con ƒë·∫ª c·ªßa <code class=\"language-inline-text\">Object</code>, n√≥ k·∫ø th·ª´a, c·∫Øt b·ªè, b·ªï sung m·ªôt s·ªë th·ª© trong Object</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>map <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true</span>\n\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>obj <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//false</span></code></pre></div>\n<p>M·ªói ph·∫ßn t·ª≠ trong Map ƒë∆∞·ª£c l∆∞u theo c·∫∑p <code class=\"language-inline-text\">key: value</code>, c√°c gi√° tr·ªã <code class=\"language-inline-text\">key</code> n√†y c≈©ng l√† duy nh·∫•t trong Map, kh√¥ng c√≥ tr∆∞·ªùng h·ª£p ƒë∆∞·ª£c l·∫∑p l·∫°i, gi·ªëng Object th√¥i, ph·∫ßn kh√°c nhau s·∫Ω ƒë∆∞·ª£c ƒë·ªÅ c·∫∑p ·ªü d∆∞·ªõi.</p>\n<p>N√≥i v·ªÅ c√°i t√™n Map m·ªôt ch√∫t, v√¨ mang c√°c ƒë·∫∑c ƒëi·ªÉm r·∫•t gi·ªëng v·ªõi World Map, Street Map. Ch·ªØ <code class=\"language-inline-text\">Map</code> ƒë∆∞·ª£c d√πng trong c√°c tr∆∞·ªùng h·ª£p c·∫ßn t√¨m nhanh d·ªØ li·ªáu, v√¨ c√°c gi√° tr·ªã tr√™n Map l√† duy nh·∫•t.</p>\n<p>V√≠ d·ª• b·∫£n ƒë·ªì TP.HCM th√¨ t·∫•t c·∫£ c√°c con ƒë∆∞·ªùng l√† kh√°c nhau (do h·∫øt t√™n anh h√πng n√™n nhi·ªÅu khi ƒë·∫∑t tr√πng tr√™n m·ªôt s·ªë qu·∫≠n, v·ª• n√†y kh√¥ng t√≠nh nh√©), b·∫£n ƒë·ªì th·∫ø gi·ªõi th√¨ m·ªói n∆∞·ªõc l√† duy nh·∫•t tr√™n b·∫£n ƒë·ªì.</p>\n<p>Gi·ªù n√≥i c√°c ƒëi·ªÉm kh√°c nhau n√®</p>\n<h2 id=\"key\"><a href=\"#key\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>key</h2>\n<p>Key c·ªßa <code class=\"language-inline-text\">Object</code> ch·ªâ c√≥ th·ªÉ l√† <code class=\"language-inline-text\">String</code> ho·∫∑c <code class=\"language-inline-text\">Integer</code></p>\n<p>Key trong <code class=\"language-inline-text\">Map</code> c√≥ th·ªÉ l√† m·ªôt <code class=\"language-inline-text\">Object</code>, <code class=\"language-inline-text\">Array</code>, <code class=\"language-inline-text\">Function</code>, n√≥i chung kh√¥ng gi·ªõi h·∫°n</p>\n<h2 id=\"th·ª©-t·ª±-c√°c-element\"><a href=\"#th%E1%BB%A9-t%E1%BB%B1-c%C3%A1c-element\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th·ª© t·ª± c√°c element</h2>\n<p>Trong Map <strong>th·ª© t·ª± c√°c element l√† c·ªë ƒë·ªãnh</strong>, ng∆∞·ª£c l·∫°i so v·ªõi Object</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> myObject <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    z<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'@'</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    b<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n    <span class=\"token number\">1</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n    <span class=\"token number\">5</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myObject<span class=\"token punctuation\">)</span> \n<span class=\"token comment\">// Object {1: 4, 5: 5, z: 1, @: 2, b: 3}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>item <span class=\"token keyword\">in</span> myObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>\n<span class=\"token comment\">// 1</span>\n<span class=\"token comment\">// 5</span>\n<span class=\"token comment\">// z</span>\n<span class=\"token comment\">// @</span>\n<span class=\"token comment\">// b</span></code></pre></div>\n<p>Th·ª© t·ª± c√°c ph·∫ßn trong object kh√¥ng quan tr·ªçng, khi <code class=\"language-inline-text\">for...in</code> qua c√°c ph·∫ßn t·ª≠ tr√™n object, t√πy theo enzine c·ªßa tr√¨nh duy·ªát, th·ª© t·ª± n√†y c√≥ th·ªÉ kh√°c nhau</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> myObject <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyObject<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'z'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyObject<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyObject<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span> <span class=\"token keyword\">of</span> myObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// z 1</span>\n<span class=\"token comment\">// @ 2</span>\n<span class=\"token comment\">// b 3</span></code></pre></div>\n<p>Th·ª© t·ª± khi ch·∫°y <code class=\"language-inline-text\">for...of</code> tr√™n Map lu√¥n ƒë√∫ng theo th·ª© t·ª± ƒë√£ th√™m</p>\n<h2 id=\"kh·ªüi-t·∫°o\"><a href=\"#kh%E1%BB%9Fi-t%E1%BA%A1o\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kh·ªüi t·∫°o</h2>\n<p>V·ªõi Oject ta c√≥ m·ªôt s·ªë c√°ch ƒë·ªÉ kh·ªüi t·∫°o</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// b·∫±ng constructor</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">;</span> \n<span class=\"token comment\">// c√πng k·∫øt qu·∫£ nh∆∞ tr√™n</span>\n\n<span class=\"token comment\">// d√πng Object.prototype.create</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>D√πng <code class=\"language-inline-text\">Object.create</code> ƒë·ªÉ t·∫°o object m·ªõi *<em>k·∫ø th·ª´a</em> t·ª´ m·ªôt object kh√°c.</p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> Vehicle <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> <span class=\"token string\">\"General\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">display</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Car s·∫Ω k·∫ø th·ª´a c√°c property c·ªßa Vehicle</span>\n<span class=\"token keyword\">var</span> Car <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>Vehicle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// overwrite l·∫°i gi√° tr·ªã type</span>\nCar<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> <span class=\"token string\">\"Car\"</span><span class=\"token punctuation\">;</span> \nCar<span class=\"token punctuation\">.</span><span class=\"token function\">display</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// \"Car\"</span>\n\nVehicle<span class=\"token punctuation\">.</span><span class=\"token function\">display</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// v·∫´n l√† \"General\"</span></code></pre></div>\n<p>C≈©ng t∆∞∆°ng t·ª± nh∆∞ Array, ch√∫ng ta kh√¥ng d√πng constructor nhi·ªÅu v√¨ n√≥ t·ªën t√†i nguy√™n (v√† l∆∞·ªùi ƒë√°nh m√°y d√†i)</p>\n<p>V·ªõi <code class=\"language-inline-text\">Map</code> ch√∫ng ta s·∫Ω <strong>ch·ªâ c√≥ duy nh·∫•t m·ªôt c√°ch ƒë·ªÉ kh·ªüi t·∫°o</strong> b·∫±ng constructor <code class=\"language-inline-text\">new Map</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token comment\">// map = {1=>2, 2=>3}</span></code></pre></div>\n<h2 id=\"l·∫•y-gi√°-tr·ªã\"><a href=\"#l%E1%BA%A5y-gi%C3%A1-tr%E1%BB%8B\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L·∫•y gi√° tr·ªã</h2>\n<p>L·∫•y m·ªôt gi√° tr·ªã trong Map th√¥ng qua <code class=\"language-inline-text\">Map.prototype.get(key)</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>keyName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Object th√¨ c≈©ng c√≥ v√†i ƒë∆∞·ªùng</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">obj<span class=\"token punctuation\">.</span>keyName\nobj<span class=\"token punctuation\">[</span><span class=\"token string\">'keyName'</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>Ki·ªÉm tra element c√≥ t·ªìn t·∫°i trong Map d·ªÖ h∆°n ch√∫t so v·ªõi Object</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Map</span>\nmap<span class=\"token punctuation\">.</span><span class=\"token function\">has</span><span class=\"token punctuation\">(</span>keyName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// object</span>\n<span class=\"token keyword\">var</span> isExist <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">.</span>keyName <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span>\n<span class=\"token comment\">// ho·∫∑c</span>\n<span class=\"token keyword\">var</span> isExist <span class=\"token operator\">=</span> <span class=\"token string\">'keyName'</span> <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ki·ªÉm tra property tr∆∞·ªùng h·ª£p ko ph·∫£i k·∫ø th·ª´a t·ª´ object cha</span>\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span>keyName<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"th√™m-m·ªôt-element\"><a href=\"#th%C3%AAm-m%E1%BB%99t-element\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Th√™m m·ªôt element</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Map</span>\n\nmap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// c·∫∑p gi√° tr·ªã key, value</span>\n\n<span class=\"token comment\">// Object</span>\nobj<span class=\"token punctuation\">[</span><span class=\"token string\">'gender'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'female'</span><span class=\"token punctuation\">;</span>\nobj<span class=\"token punctuation\">.</span>gender <span class=\"token operator\">=</span> <span class=\"token string\">'male'</span><span class=\"token punctuation\">;</span> </code></pre></div>\n<h2 id=\"x√≥a-element\"><a href=\"#x%C3%B3a-element\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>X√≥a element</h2>\n<p>Object kh√¥ng c√≥ ph∆∞∆°ng th·ª©c ƒë·ªÉ x√≥a m·ªôt element, ch√∫ng ta d√πng operator <code class=\"language-inline-text\">delete</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">delete</span> obj<span class=\"token punctuation\">.</span>keyName<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Ch·ªó n√†y c≈©ng s·∫Ω c√≥ nhi·ªÅu tranh lu·∫≠n quanh v·∫•n ƒë·ªÅ performance, m·ªôt s·ªë quan ƒëi·ªÉm cho l√† l√†m nh∆∞ b√™n d∆∞·ªõi t·ªët h∆°n</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">obj<span class=\"token punctuation\">.</span>keyName <span class=\"token operator\">=</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Nh∆∞ng ƒë√¢y r√µ r√†ng l√† 2 c√°ch l√†m kh√°c nhau, n·∫øu <code class=\"language-inline-text\">delete</code> l√† x√≥a h·∫≥n, th√¨ c√°ch sau l√† g√°n <code class=\"language-inline-text\">key</code> ƒë√≥ v·ªõi gi√° tr·ªã <code class=\"language-inline-text\">undefined</code>, ƒë·ªìng nghƒ©a v·ªõi vi·ªác khi <code class=\"language-inline-text\">for..in</code> n√≥ v·∫´n ch·∫°y qua element ƒë√≥.</p>\n<p>Map th√¨ c√≥ c√°c h√†m s·∫µn ƒë·ªÉ l√†m chuy·ªán x√≥a element</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// tr·∫£ v·ªÅ true/false</span>\n<span class=\"token keyword\">var</span> isDeleteSuccessed <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>keyName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// x√≥a s·∫°ch</span>\nmap<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// {}</span></code></pre></div>\n<h2 id=\"l·∫•y-size-hay-length\"><a href=\"#l%E1%BA%A5y-size-hay-length\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L·∫•y <code class=\"language-inline-text\">size</code> (hay length)</h2>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Object kh√¥ng c√≥ tr·ª±c ti·∫øp m√† ph·∫£i g·ªçi h√†m keys</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Map, r·∫•t ƒë∆°n gi·∫£n</span>\nmap<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"loop\"><a href=\"#loop\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Loop</h2>\n<blockquote>\n<p>M·ªôt trong nh·ªØng kh√°c bi·ªát ƒë√°ng ch√∫ √Ω nh·∫•t m√† b·∫°n n√™n c√¢n nh·∫Øc d√πng <code class=\"language-inline-text\">Map</code> thay v√¨ <code class=\"language-inline-text\">Object</code></p>\n</blockquote>\n<p>Ki·ªÉm tra xem ki·ªÉu d·ªØ li·ªáu c√≥ l√† d·∫°ng <code class=\"language-inline-text\">iterable</code> (loop ƒë∆∞·ª£c)</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> obj<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token comment\">// > undefined</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> map<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token comment\">// > function</span></code></pre></div>\n<p>Nghƒ©a l√† ch√∫ng ta c√≥ th·ªÉ d√πng <code class=\"language-inline-text\">for...of</code> tr√™n <code class=\"language-inline-text\">Map</code>, <code class=\"language-inline-text\">Object</code> ch·ªâ c√≥ th·ªÉ <code class=\"language-inline-text\">for...in</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">//For map: { 2=>3, 4=>5}</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> item <span class=\"token keyword\">of</span> map<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token comment\">// Array[2,3]</span>\n<span class=\"token comment\">// Array[4,5]</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span>value<span class=\"token punctuation\">]</span> <span class=\"token keyword\">of</span> map<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">key: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>key<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, value: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>value<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//key: 2, value: 3</span>\n<span class=\"token comment\">//key: 4, value: 5</span></code></pre></div>\n<p>Ho·∫∑c <code class=\"language-inline-text\">forEach</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">map<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">key: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>key<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, value: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>value<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// key: 2, value: 3</span>\n<span class=\"token comment\">// key: 4, value: 5</span></code></pre></div>\n<p>Trong Object th·∫≠m ch√≠ l√† khi ta d√πng <code class=\"language-inline-text\">for..in</code> c≈©ng kh√¥ng th·ªÉ d√πng tr·ª±c ti·∫øp <code class=\"language-inline-text\">value</code> m√† ph·∫£i vi·∫øt <code class=\"language-inline-text\">obj[key]</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"test\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> key <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">key: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>key<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, value: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>obj<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// key: id, value: 1</span>\n<span class=\"token comment\">// key: name, value: test</span></code></pre></div>\n<h2 id=\"khi-n√†o-d√πng-map-khi-n√†o-d√πng-object\"><a href=\"#khi-n%C3%A0o-d%C3%B9ng-map-khi-n%C3%A0o-d%C3%B9ng-object\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Khi n√†o d√πng <code class=\"language-inline-text\">Map</code>, khi n√†o d√πng <code class=\"language-inline-text\">Object</code></h2>\n<p>M·∫∑c d√π n√£y gi·ªù ƒë·ªçc th√¨ b·∫°n s·∫Ω th·∫•y <code class=\"language-inline-text\">Map</code> qu√° ∆∞ th·∫ßn th√°nh, v·∫≠y t·∫°i sao ta kh√¥ng d·∫πp lu√¥n Object?</p>\n<ul>\n<li>Tr∆∞·ªùng h·ª£p m√† c√°c gi√° tr·ªã key c·ªßa ch√∫ng ta n√≥ ch·ªâ l√† <code class=\"language-inline-text\">integer</code>, <code class=\"language-inline-text\">string</code>, truy xu·∫•t m·ªôt element trong object b·∫±ng key l√† <strong>nhanh nh·∫•t</strong>, trong khi <code class=\"language-inline-text\">Map.prototype.get</code> l√† m·ªôt function th√¨ n√≥ ph·∫£i t·ªën ch√∫t t√≠nh to√°n</li>\n<li>Ho·∫∑c tr∆∞·ªùng h·ª£p ch√∫ng ta c√≥ c√°c element ph·ª• thu·ªôc l·∫´n nhau nh∆∞ b√™n d∆∞·ªõi</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> \n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"It's Me!\"</span><span class=\"token punctuation\">,</span> \n    <span class=\"token function-variable function\">print</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n         <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Object Id: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, with Name: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>V·ªõi <code class=\"language-inline-text\">Map</code>? ƒë∆°n gi·∫£n l√† h·ªïng l√†m ƒë∆∞·ª£c.</p>\n<p>JSON b·∫£n th√¢n ƒë√£ h·ªó tr·ª£ Object, x√†i lu√¥n Object ch·ª© kh√¥ng c·∫ßn convert qua chi.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://medium.com/front-end-hacking/es6-map-vs-object-what-and-when-b80621932373\">ES6‚Ää‚Äî‚ÄäMap vs Object‚Ää‚Äî‚ÄäWhat and when?</a></p>\n","cover_image":""}},{"node":{"id":"b20b73ac80de85bd787312886b67ab61","title":"H∆∞·ªõng d·∫´n c∆° b·∫£n ƒë·ªÉ l√†m vi·ªác v·ªõi Javascript regular expression","path":"/2018-08-05-huong-dan-lam-viec-voi-javascript-regular-expressions/","date":"2018-08-05","timeToRead":7,"desc":"Nh·ªØng kh√°i ni·ªám quan tr·ªçng nh·∫•t k√®m v√≠ d·ª• d·ªÖ hi·ªÉu nh·∫•t ƒë·ªÉ b·∫°n kh√¥ng c√≤n s·ª£ m·ªói khi ƒë·ª•ng v√¥ regular expression","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#gi%e1%bb%9bi-thi%e1%bb%87u\">Gi·ªõi thi·ªáu</a></li>\n<li><a href=\"#khai-b%c3%a1o-regex\">Khai b√°o regex</a></li>\n<li><a href=\"#ki%e1%bb%83m-tra-regex\">Ki·ªÉm tra regex</a></li>\n<li><a href=\"#m%e1%bb%99t-s%e1%bb%91-%c4%91i%e1%bb%81u-ki%e1%bb%87n-c%c3%b3-s%e1%ba%b5n\">M·ªôt s·ªë ƒëi·ªÅu ki·ªán c√≥ s·∫µn</a></li>\n<li><a href=\"#c%c3%a1c-%c4%91i%e1%bb%81u-ki%e1%bb%87n-ch%c3%bang-ta-hay-s%e1%bb%ad-d%e1%bb%a5ng\">C√°c ƒëi·ªÅu ki·ªán ch√∫ng ta hay s·ª≠ d·ª•ng</a></li>\n<li><a href=\"#nh%c3%b3m-%c4%91i%e1%bb%81u-ki%e1%bb%87n\">Nh√≥m ƒëi·ªÅu ki·ªán</a></li>\n<li><a href=\"#l%e1%ba%a5y-gi%c3%a1-tr%e1%bb%8b-c%e1%bb%a7a-1-group\">L·∫•y gi√° tr·ªã c·ªßa 1 Group</a></li>\n<li><a href=\"#setting\">Setting</a></li>\n<li>\n<p><a href=\"#%e1%bb%a8ng-d%e1%bb%a5ng\">·ª®ng d·ª•ng</a></p>\n<ul>\n<li><a href=\"#thay-th%e1%ba%bf-chu%e1%bb%97i\">Thay th·∫ø chu·ªói</a></li>\n<li><a href=\"#l%e1%ba%a5y-s%e1%bb%91-t%e1%bb%ab-string\">L·∫•y s·ªë t·ª´ String</a></li>\n<li><a href=\"#ki%e1%bb%83m-tra-email\">Ki·ªÉm tra email</a></li>\n<li><a href=\"#l%e1%ba%a5y-%c4%91o%e1%ba%a1n-test-n%e1%ba%b1m-gi%e1%bb%afa-d%e1%ba%a5u-%22%22\">L·∫•y ƒëo·∫°n test n·∫±m gi·ªØa d·∫•u <code class=\"language-inline-text\">\"\"</code></a></li>\n<li><a href=\"#l%e1%ba%a5y-n%e1%bb%99i-dung-%e1%bb%9f-gi%e1%bb%afa-html-tag\">L·∫•y n·ªôi dung ·ªü gi·ªØa html tag</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"gi·ªõi-thi·ªáu\"><a href=\"#gi%E1%BB%9Bi-thi%E1%BB%87u\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gi·ªõi thi·ªáu</h2>\n<p>Regular Expression (hay g·ªçi t·∫Øt l√† <strong>regex</strong> - ƒë·ªçc l√† ghi-r√≠c-c·ªù-s·ªù) l√† m·ªôt string v·ªõi format ƒë·∫∑c bi·ªát, v·ªõi n√≥ ch√∫ng ta c√≥ th·ªÉ</p>\n<ul>\n<li>T√¨m text trong <em>string</em></li>\n<li>Thay th·∫ø substring trong <em>string</em></li>\n<li>Tr√≠ch xu·∫•t th√¥ng tin t·ª´ m·ªôt <em>string</em></li>\n</ul>\n<p>T·∫•t c·∫£ c√°c ng√¥n ng·ªØ ƒë·ªÅu c√≥ h·ªó tr·ª£ regex. C√≥ th·ªÉ m·ªói ng√¥n ng·ªØ c√≥ ƒë√¥i ch·ªï kh√°c nhau, tuy nhi√™n nh√¨n chung th√¨ n√≥ ƒë∆∞·ª£c √°p d·ª•ng gi·ªëng nhau cho h·∫ßu h·∫øt.</p>\n<p>Regex c√≥ th·ªÉ n√≥i l√† r·∫•t kh√≥ h·ªçc, kh√≥ vi·∫øt, kh√≥ nh·ªõ, kh√≥ s·ª≠a. Tuy nhi√™n c√≥ nh·ªØng vi·ªác ch·ªâ c√≥ th·ªÉ th·ª±c hi·ªán ƒë∆∞·ª£c v·ªõi regex.</p>\n<p>V√≠ d·ª•, ki·ªÉm tra m·ªôt <code class=\"language-inline-text\">string</code> c√≥ k·∫øt th√∫c b·∫±ng <code class=\"language-inline-text\">.com</code>, <code class=\"language-inline-text\">.football</code> hay kh√¥ng</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"google.com\" ‚Üí true\n\"www.vietnam.football\" ‚Üí true\n\"google.foobar\" ‚Üí false</code></pre></div>\n<p>regex cho y√™u c·∫ßu ƒë√≥</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(\\.com|\\.football)$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">i</span></span></code></pre></div>\n<h2 id=\"khai-b√°o-regex\"><a href=\"#khai-b%C3%A1o-regex\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Khai b√°o regex</h2>\n<p><strong>Ph√¢n t√°ch</strong> c√°i regex ·ªü tr√™n</p>\n<p><img src=\"https://miro.medium.com/max/1060/1*eRQ3ooQ_LPIEpYjcUMSgZw.png\"></p>\n<ul>\n<li><code class=\"language-inline-text\">\\</code> ƒë·∫∑t tr∆∞·ªõc c√°c k√Ω t·ª± ƒë·∫∑c bi·ªát, d·∫•u <code class=\"language-inline-text\">.</code> l√† m·ªôt k√Ω t·ª± ƒë·∫∑c bi·ªát</li>\n<li><code class=\"language-inline-text\">|</code> l√† c√¢u ƒëi·ªÅu ki·ªán <strong>or</strong></li>\n<li><code class=\"language-inline-text\">$</code> l√† ƒëi·ªÅu ki·ªán ph·∫£i xu·∫•t hi·ªán ·ªü cu·ªëi string</li>\n<li>ƒêo·∫°n n·∫±m gi·ªØa <code class=\"language-inline-text\">/ƒëo·∫°n-n·∫±m-gi·ªØa/</code>, l√† ch·ªï ch√∫ng ta vi·∫øt c√°c ƒëi·ªÅu ki·ªán. ƒêo·∫°n-n·∫±m-gi·ªØa c√≥ t√™n ti·∫øng m·ªπ l√† pattern</li>\n<li>Ch·ªØ <code class=\"language-inline-text\">i</code> ·ªü cu·ªëi, ph√≠a sau <code class=\"language-inline-text\">/</code> l√† m·ªôt d·∫°ng <strong>setting</strong>, <code class=\"language-inline-text\">i</code> l√† ƒëi·ªÅu ki·ªán ch·ªâ h·ª£p l·ªá n·∫øu xu·∫•t hi·ªán ƒë√∫ng m·ªôt l·∫ßn duy nh·∫•t. C√≥ nhi·ªÅu d·∫°ng setting kh√°c n·ªØa, ph√≠a d∆∞·ªõi s·∫Ω ƒë·ªÅ c·∫≠p.</li>\n</ul>\n<p>Trong javascript, regex l√† m·ªôt object, c√≥ th·ªÉ ƒë·ªãnh nghƒ©a b·∫±ng 2 c√°ch</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// t·∫°o 1 object m·ªõi</span>\n<span class=\"token keyword\">const</span> regex1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'football'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// d√πng regular expression literal </span>\n<span class=\"token keyword\">const</span> regex2 <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">football</span><span class=\"token regex-delimiter\">/</span></span></code></pre></div>\n<h2 id=\"ki·ªÉm-tra-regex\"><a href=\"#ki%E1%BB%83m-tra-regex\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ki·ªÉm tra regex</h2>\n<p>Regex ·ªü tr√™n ch√∫ng ta ƒëang t√¨m string <code class=\"language-inline-text\">football</code>, kh√¥ng gi·ªõi h·∫°n g√¨ c·∫£, ch·ªØ <code class=\"language-inline-text\">football</code> n·∫±m ·ªü ƒë√¢u kh√¥ng quan tr·ªçng.</p>\n<p>Ki·ªÉm tra regex b·∫±ng <code class=\"language-inline-text\">RegExp.test(string)</code>, s·∫Ω tr·∫£ v·ªÅ gi√° tr·ªã <code class=\"language-inline-text\">true/false</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">regex1<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'football'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// => true</span>\nregex1<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'blablabla football blablabla'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// => true</span>\nregex2<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'footba'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// => false</span>\nregex2<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'blab foot ballabla'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// => false</span></code></pre></div>\n<h2 id=\"m·ªôt-s·ªë-ƒëi·ªÅu-ki·ªán-c√≥-s·∫µn\"><a href=\"#m%E1%BB%99t-s%E1%BB%91-%C4%91i%E1%BB%81u-ki%E1%BB%87n-c%C3%B3-s%E1%BA%B5n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>M·ªôt s·ªë ƒëi·ªÅu ki·ªán c√≥ s·∫µn</h2>\n<p><em>ƒê√£ kh√≥ r·ªìi, c√°c b·∫°n c√≤n ƒë·ªÅ ngh·ªã m·ªôt s·ªë ki·ªÉu vi·∫øt t·∫Øt cho b·∫Øt anh em cƒÉng n√£o ra h·ªçc</em></p>\n<ul>\n<li><code class=\"language-inline-text\">\\d</code> t∆∞∆°ng t·ª± nh∆∞ <code class=\"language-inline-text\">[0-9]</code>, ch·ªâ l√† c√°c gi√° tr·ªã s·ªë</li>\n<li><code class=\"language-inline-text\">\\D</code> t∆∞∆°ng t·ª± nh∆∞ <code class=\"language-inline-text\">[^0-9]</code>, kh√¥ng ch∆∞a c√°c k√Ω t·ª± s·ªë</li>\n<li><code class=\"language-inline-text\">\\w</code> t∆∞∆°ng t·ª± nh∆∞ <code class=\"language-inline-text\">[A-Za-z0-9]</code>, bao g·ªìm k√Ω t·ª± ch·ªØ v√† s·ªë</li>\n<li><code class=\"language-inline-text\">\\W</code> t∆∞∆°ng t·ª± nh∆∞ <code class=\"language-inline-text\">[^A-Za-z0-9]</code>, kh√¥ng ch·ª©a k√Ω t·ª± ch·ªØ v√† s·ªë</li>\n<li><code class=\"language-inline-text\">\\s</code> ch·ª©a c√°c k√Ω t·ª± kho·∫£n tr·ªëng nh∆∞: space, tab, newline</li>\n<li><code class=\"language-inline-text\">\\S</code> kh√¥ng ch·ª©a k√Ω t·ª± kho·∫£n tr·ªëng</li>\n<li><code class=\"language-inline-text\">\\0</code> ch·ª©a k√Ω t·ª± null</li>\n<li><code class=\"language-inline-text\">\\n</code> ch·ª©a k√Ω t·ª± xu·ªëng d√≤ng (newline)</li>\n<li><code class=\"language-inline-text\">\\t</code> ch·ª© k√Ω t·ª± tab</li>\n</ul>\n<h2 id=\"c√°c-ƒëi·ªÅu-ki·ªán-ch√∫ng-ta-hay-s·ª≠-d·ª•ng\"><a href=\"#c%C3%A1c-%C4%91i%E1%BB%81u-ki%E1%BB%87n-ch%C3%BAng-ta-hay-s%E1%BB%AD-d%E1%BB%A5ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>C√°c ƒëi·ªÅu ki·ªán ch√∫ng ta hay s·ª≠ d·ª•ng</h2>\n<blockquote>\n<p>Ph·∫£i xu·∫•t hi·ªán ·ªü ƒë·∫ßu c√¢u: <code class=\"language-inline-text\">^</code></p>\n</blockquote>\n<p>N·∫øu mu·ªën th√™m ƒëi·ªÅu ki·ªán ch·ªØ <code class=\"language-inline-text\">football</code> ph·∫£i ·ªü <strong>ƒë·∫ßu</strong> c√¢u</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^football</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'football'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>football<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bla football'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚ùå</span></code></pre></div>\n<blockquote>\n<p>Ph·∫£i xu·∫•t hi·ªán ·ªü cu·ªëi c√¢u: <code class=\"language-inline-text\">$</code></p>\n</blockquote>\n<p>ƒêi·ªÅu ki·ªán ch·ªØ <code class=\"language-inline-text\">football</code> n·∫±m ·ªü <strong>cu·ªëi</strong></p>\n<div class=\"gridsome-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">football$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'football'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span>football$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bla football'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span>football$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'football you'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚ùå</span></code></pre></div>\n<p>N·∫øu k·∫øt h·ª£p c·∫£ 2 c√∫ ph√°p tr√™n, ta c√≥ c√¢u ƒëi·ªÅu ki·ªán ch·ªâ ƒë∆∞·ª£c ph√©p c√≥ ƒë√∫ng ch·ªØ <code class=\"language-inline-text\">football</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^football$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'football'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span></code></pre></div>\n<blockquote>\n<p>Ph·∫£i b·∫Øt ƒë·∫ßu b·∫±ng b·∫±ng 1 pattern v√† k·∫øt th√∫c b·∫±ng 1 pattern kh√°c: <code class=\"language-inline-text\">.*</code></p>\n</blockquote>\n<p>B·∫Øt ƒë·∫ßu b·∫±ng ch·ªØ <code class=\"language-inline-text\">hey</code> v√† c√≥ k·∫øt th√∫c b·∫±ng ch·ªØ <code class=\"language-inline-text\">joe</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^hey.*joe$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hey joe'</span><span class=\"token punctuation\">)</span>             <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>hey<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span>joe$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'heyjoe'</span><span class=\"token punctuation\">)</span>              <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>hey<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span>joe$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hey how are you joe'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>hey<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span>joe$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hey joe!'</span><span class=\"token punctuation\">)</span>            <span class=\"token comment\">//‚ùå</span></code></pre></div>\n<blockquote>\n<p>Ph·∫£i n·∫±m trong kho·∫£n: <code class=\"language-inline-text\">[ƒëi·ªÉm b·∫Øt ƒë·∫ßu - ƒëi·ªÉm k·∫øt th√∫c]</code></p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[a-z]</span><span class=\"token regex-delimiter\">/</span></span> <span class=\"token comment\">// c√≥ c√°c k√Ω t·ª± a,b,c....x,y,z</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span><span class=\"token constant\">Z</span><span class=\"token punctuation\">]</span><span class=\"token operator\">/</span> <span class=\"token comment\">// c√≥ c√°c k√Ω t·ª± A,B,C,...X,Y,Z</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span>a<span class=\"token operator\">-</span>c<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span> <span class=\"token comment\">// c√≥ c√°c k√Ω t·ª± a,b,c</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token operator\">/</span> <span class=\"token comment\">// 0,1,2...8,9</span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[a-z]</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span>a<span class=\"token operator\">-</span>z<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//‚ùå</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span>a<span class=\"token operator\">-</span>z<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//‚ùå</span>\n\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span>a<span class=\"token operator\">-</span>c<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'d'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//‚ùå</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span>a<span class=\"token operator\">-</span>c<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dc'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span></code></pre></div>\n<p><em>H·ª£p th·ªÉ</em></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[A-Za-z0-9]</span><span class=\"token regex-delimiter\">/</span></span></code></pre></div>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[A-Za-z0-9]</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span>Za<span class=\"token operator\">-</span>z0<span class=\"token operator\">-</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span>Za<span class=\"token operator\">-</span>z0<span class=\"token operator\">-</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span></code></pre></div>\n<blockquote>\n<p>Ch·ªâ ƒë∆∞·ª£c ph√©p xu·∫•t hi·ªán 1 l·∫ßn: k·∫øt h·ª£p <code class=\"language-inline-text\">[]</code>, <code class=\"language-inline-text\">^</code>, <code class=\"language-inline-text\">$</code></p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^[A-Za-z0-9]$</span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">[</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span>Za<span class=\"token operator\">-</span>z0<span class=\"token operator\">-</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">[</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span>Za<span class=\"token operator\">-</span>z0<span class=\"token operator\">-</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Ab'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚ùå</span></code></pre></div>\n<blockquote>\n<p>ƒê·∫£o ng∆∞·ª£c k·∫øt qu·∫£: <code class=\"language-inline-text\">[^]</code></p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^A-Za-z0-9]</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚ùå</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span><span class=\"token operator\">^</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span>Za<span class=\"token operator\">-</span>z0<span class=\"token operator\">-</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚ùå</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span><span class=\"token operator\">^</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span>Za<span class=\"token operator\">-</span>z0<span class=\"token operator\">-</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚ùå</span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">[</span><span class=\"token operator\">^</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span>Za<span class=\"token operator\">-</span>z0<span class=\"token operator\">-</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span></code></pre></div>\n<blockquote>\n<p>ƒêi·ªÅu ki·ªán <strong>ho·∫∑c</strong>: <code class=\"language-inline-text\">|</code></p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">hey|ho</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hey'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span>hey<span class=\"token operator\">|</span>ho<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ho'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//‚úÖ</span></code></pre></div>\n<blockquote>\n<p>Xu·∫•t hi·ªán √≠t nh·∫•t m·ªôt l·∫ßn: <code class=\"language-inline-text\">+</code></p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\d+$</span><span class=\"token regex-delimiter\">/</span></span> <span class=\"token comment\">// l√† c√°c s·ªë t·ª´ 0-9</span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token operator\">+</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token operator\">+</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'14'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token operator\">+</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'144343'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token operator\">+</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>       <span class=\"token comment\">//‚ùå</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token operator\">+</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1a'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">//‚ùå</span></code></pre></div>\n<blockquote>\n<p>Ch·ªâ ƒë√∫ng ho·∫∑c sai, kh√¥ng c√≥ th·ªÉ c·∫£ ƒë√∫ng v√† sai: <code class=\"language-inline-text\">*</code></p>\n</blockquote>\n<p>N√≥i v·∫≠y h∆°i kh√≥ hi·ªÉu, ƒë·ªÉ gi·∫£i th√≠ch r√µ h∆°n n√®, v√≠ d·ª• y√™u c·∫ßu ph·∫£i l√† s·ªë t·ª´ 0-9, n·∫øu ki·ªÉm tra <code class=\"language-inline-text\">1a</code> => false v√¨ n√≥ c√≥ 1 l√† ƒë√∫ng, <code class=\"language-inline-text\">a</code> l√† sai, c√≤n <code class=\"language-inline-text\">'' => true</code> v√¨ n√≥ ch·ªâ c√≥ sai kh√¥ng c√≥ ƒë√∫ng</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\d*$</span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'12'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'14'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'144343'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>       <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token operator\">*</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1a'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">//‚ùå</span></code></pre></div>\n<blockquote>\n<p>ƒê√∫ng n l·∫ßn: <code class=\"language-inline-text\">{n}</code></p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\d{3}$</span><span class=\"token regex-delimiter\">/</span></span> <span class=\"token comment\">// c√≥ 3 k√Ω t·ª± s·ªë</span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'12'</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//‚ùå</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1234'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚ùå</span>\n\n<span class=\"token comment\">// h·ª£p th·ªÉ n√†o</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">[</span><span class=\"token constant\">A</span><span class=\"token operator\">-</span>Za<span class=\"token operator\">-</span>z0<span class=\"token operator\">-</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Abc'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span></code></pre></div>\n<blockquote>\n<p>ƒê√∫ng t·ª´  n ƒë·∫øn m l·∫ßn: <code class=\"language-inline-text\">{n,m}</code></p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\d{3,5}$</span><span class=\"token regex-delimiter\">/</span></span> <span class=\"token comment\">// ƒë√∫ng t·ª´ 3,4,5 l·∫ßn</span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1234'</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'12345'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123456'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚ùå</span></code></pre></div>\n<p>N·∫øu kh√¥ng ƒë∆∞a v√†o gi√° tr·ªã <code class=\"language-inline-text\">m</code> th√¨ th√µa t·ª´ <code class=\"language-inline-text\">n</code> ƒë·∫øn bao nhi√™u c≈©ng ƒë∆∞·ª£c</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\d{3,}$</span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'12'</span><span class=\"token punctuation\">)</span>        <span class=\"token comment\">//‚ùå</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span>       <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'12345'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">}</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123456789'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span></code></pre></div>\n<blockquote>\n<p> ƒêi·ªÅu ki·ªán ƒë√≥ kh√¥ng b·∫Øt bu·ªôc: <code class=\"language-inline-text\">?</code></p>\n</blockquote>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// \\w bao g·ªìm k√Ω t·ª± ch·ªØ v√† s·ªë</span>\n<span class=\"token comment\">// \\d t∆∞∆°ng t·ª± nh∆∞ `[0-9]`</span>\n<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\d{3}\\w?$</span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>\\w<span class=\"token operator\">?</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>\\w<span class=\"token operator\">?</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123a'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span>\\w<span class=\"token operator\">?</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123ab'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚ùå</span></code></pre></div>\n<h2 id=\"nh√≥m-ƒëi·ªÅu-ki·ªán\"><a href=\"#nh%C3%B3m-%C4%91i%E1%BB%81u-ki%E1%BB%87n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nh√≥m ƒëi·ªÅu ki·ªán</h2>\n<p>ƒê·ªÉ nh√≥m c√°c ƒëi·ªÅu ki·ªán l·∫°i, ƒë·∫∑t gi·ªØa <code class=\"language-inline-text\">()</code></p>\n<p>V√≠ d·ª• b√™n d∆∞·ªõi, ƒëi·ªÅu ki·ªán th√µa khi c√≥ <em>ƒë√∫ng</em> 3 k√Ω t·ª± s·ªë v√† theo sau ƒë√≥ l√† k√Ω t·ª± s·ªë ho·∫∑c ch·ªØ</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(\\d{3})(\\w+)$</span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\w<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span>          <span class=\"token comment\">//‚ùå</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\w<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123s'</span><span class=\"token punctuation\">)</span>         <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\w<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123something'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\w<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1234'</span><span class=\"token punctuation\">)</span>         <span class=\"token comment\">//‚úÖ</span></code></pre></div>\n<p>N·∫øu ƒë·∫∑t d·∫•u <code class=\"language-inline-text\">+</code> ph√≠a sau <code class=\"language-inline-text\">()</code></p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(\\d{2})+$</span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'12'</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//‚ùå</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1234'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span></code></pre></div>\n<h2 id=\"l·∫•y-gi√°-tr·ªã-c·ªßa-1-group\"><a href=\"#l%E1%BA%A5y-gi%C3%A1-tr%E1%BB%8B-c%E1%BB%A7a-1-group\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L·∫•y gi√° tr·ªã c·ªßa 1 Group</h2>\n<p>Thay v√¨ s·ª≠ d·ª•ng <code class=\"language-inline-text\">RegExp.test(String)</code> ƒë·ªÉ tr·∫£ v·ªÅ boolean, s·ª≠ d·ª•ng</p>\n<ul>\n<li><code class=\"language-inline-text\">String.match(RegExp)</code></li>\n<li><code class=\"language-inline-text\">RegExp.exec(String)</code></li>\n</ul>\n<p>S·∫Ω return m·ªôt Array v·ªõi nh·ªØng string th√µa ƒëi·ªÅu ki·ªán</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">'123s'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(\\d{3})(\\w+)$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//Array [ \"123s\", \"123\", \"s\" ]</span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">^</span><span class=\"token punctuation\">(</span>\\d<span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>\\w<span class=\"token operator\">+</span><span class=\"token punctuation\">)</span>$<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123s'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//Array [ \"123s\", \"123\", \"s\" ]</span>\n\n<span class=\"token string\">'hey'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(hey|ho)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//Array [ \"hey\", \"hey\" ]</span>\n\n<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span>hey<span class=\"token operator\">|</span>ho<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hey'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//Array [ \"hey\", \"hey\" ]</span>\n\n<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span>hey<span class=\"token operator\">|</span>ho<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ha!'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//null</span></code></pre></div>\n<p>Tr∆∞·ªùng h·ª£p group ƒë√≥ th√µa ƒëi·ªÅu ki·ªán nhi·ªÅu l·∫ßn, ch·ªâ tr·∫£ v·ªÅ gi√° tr·ªã cu·ªëi c√πng</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">'123456789'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(\\d)+</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// Array [\"123456789\", \"9\"]</span></code></pre></div>\n<h2 id=\"setting\"><a href=\"#setting\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Setting</h2>\n<ul>\n<li><code class=\"language-inline-text\">g</code>: ki·ªÉm tra ƒëi·ªÅu ki·ªán nhi·ªÅu l·∫ßn</li>\n<li><code class=\"language-inline-text\">i</code>: kh√¥ng ph√¢n bi·ªát hoa th∆∞·ªùng</li>\n<li><code class=\"language-inline-text\">m</code>: cho ph√©p ki·ªÉm tra xu·ªëng d√≤ng</li>\n<li><code class=\"language-inline-text\">u</code>: b·∫≠t h·ªó tr·ª£ unicode</li>\n</ul>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">hey</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">ig</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HEy'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hey'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ig'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HEy'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//‚úÖ</span></code></pre></div>\n<h2 id=\"·ª©ng-d·ª•ng\"><a href=\"#%E1%BB%A9ng-d%E1%BB%A5ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>·ª®ng d·ª•ng</h2>\n<h3 id=\"thay-th·∫ø-chu·ªói\"><a href=\"#thay-th%E1%BA%BF-chu%E1%BB%97i\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thay th·∫ø chu·ªói</h3>\n<p>H√†m <code class=\"language-inline-text\">replace</code> c·ªßa String Object</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">\"Hello world!\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'world'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dog'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//Hello dog!</span>\n<span class=\"token string\">\"My dog is a good dog!\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dog'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cat'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//My cat is a good dog!</span></code></pre></div>\n<p>C√≥ th·ªÉ truy·ªÅn v√†o tham s·ªë ƒë·∫ßu  l√† m·ªôt Regex</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">\"Hello world\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">world</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dog'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Hello dog</span></code></pre></div>\n<p>Th√™m <code class=\"language-inline-text\">g</code> ƒë·ªÉ thay th·∫ø nhi·ªÅu l·∫ßn</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">\"My dog is a good dog!\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">dog</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cat'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//My cat is a good cat!</span></code></pre></div>\n<p>S·ª≠ d·ª•ng Group ƒë·ªÉ di chuy·ªÉn c√°c ph·∫ßn text trong string</p>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">\"Hello, world!\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(\\w+), (\\w+)!</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'$2: $1!!!'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// \"world: Hello!!!\"</span></code></pre></div>\n<h3 id=\"l·∫•y-s·ªë-t·ª´-string\"><a href=\"#l%E1%BA%A5y-s%E1%BB%91-t%E1%BB%AB-string\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L·∫•y s·ªë t·ª´ String</h3>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">'Test 123123329'</span><span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\d+</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// Array [ \"123123329\" ]</span></code></pre></div>\n<h3 id=\"ki·ªÉm-tra-email\"><a href=\"#ki%E1%BB%83m-tra-email\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ki·ªÉm tra email</h3>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">(\\S+)@(\\S+)\\.(\\S+)</span><span class=\"token regex-delimiter\">/</span></span>\n<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span>\\<span class=\"token constant\">S</span><span class=\"token operator\">+</span><span class=\"token punctuation\">)</span>@<span class=\"token punctuation\">(</span>\\<span class=\"token constant\">S</span><span class=\"token operator\">+</span><span class=\"token punctuation\">)</span>\\<span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>\\<span class=\"token constant\">S</span><span class=\"token operator\">+</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'copesc@gmail.com'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//[\"copesc@gmail.com\", \"copesc\", \"gmail\", \"com\"]</span></code></pre></div>\n<h3 id=\"l·∫•y-ƒëo·∫°n-test-n·∫±m-gi·ªØa-d·∫•u-\"><a href=\"#l%E1%BA%A5y-%C4%91o%E1%BA%A1n-test-n%E1%BA%B1m-gi%E1%BB%AFa-d%E1%BA%A5u-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L·∫•y ƒëo·∫°n test n·∫±m gi·ªØa d·∫•u <code class=\"language-inline-text\">\"\"</code></h3>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> hello <span class=\"token operator\">=</span> <span class=\"token string\">'Hello \"nice flower\"'</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\"([^']*)\"</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>hello<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//Array [ \"\\\"nice flower\\\"\", \"nice flower\" ]</span></code></pre></div>\n<h3 id=\"l·∫•y-n·ªôi-dung-·ªü-gi·ªØa-html-tag\"><a href=\"#l%E1%BA%A5y-n%E1%BB%99i-dung-%E1%BB%9F-gi%E1%BB%AFa-html-tag\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>L·∫•y n·ªôi dung ·ªü gi·ªØa html tag</h3>\n<div class=\"gridsome-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">&lt;span\\b[^>]*>(.*?)&lt;\\/span></span><span class=\"token regex-delimiter\">/</span></span>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">&lt;</span>span\\b<span class=\"token punctuation\">[</span><span class=\"token operator\">^</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>\\<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">span></span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// null</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">&lt;</span>span\\b<span class=\"token punctuation\">[</span><span class=\"token operator\">^</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>\\<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">span></span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;span>test&lt;/span>'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// [\"&lt;span>test&lt;/span>\", \"test\"]</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">&lt;</span>span\\b<span class=\"token punctuation\">[</span><span class=\"token operator\">^</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>\\<span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">span></span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;span class=\"x\">test&lt;/span>'</span><span class=\"token punctuation\">)</span>\nz<span class=\"token comment\">// [\"&lt;span class=\"x\">test&lt;/span>\", \"test\"]</span></code></pre></div>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"A guide to JavaScript Regular Expressions\">üìú https://flaviocopes.com/javascript-regular-expressions/</a></p>\n","cover_image":""}}]}}},"context":{}}
{"hash":"2220dd7e21ec580c079d73e55205e2a635c3762b","data":{"tag":{"title":"css","belongsTo":{"edges":[{"node":{"title":"Sử dụng ellipsis text với flexbox","path":"/su-dung-ellipsis-text-voi-flexbox/","date":"22. July 2020","timeToRead":1,"desc":"Câu chuyển cắt chuỗi khi quá dài bằng CSS, trong tình huống sau, cái tên file của bạn quá dài, nhưng bạn không muốn cắt ở cuối chuỗi, mà cắt ở giữa để vẫn thấy được file extension","content":"<p><img src=\"https://leonardofaria.net/wp-content/uploads/2020/07/finder.jpg\" alt=\"Finder\"></p>\n<p>Chuỗi chưa cắt</p>\n<pre class=\"language-text\"><code class=\"language-text\">mobile-phone-screenshot-long-fine-name.png</code></pre>\n<p>Chuỗi sau khi cắt</p>\n<pre class=\"language-text\"><code class=\"language-text\">mobile-phone-sc...g-fine-name.png</code></pre>\n<p><img src=\"https://leonardofaria.net/wp-content/uploads/2020/07/filename.gif\" alt=\"Finder\"></p>\n<p>Cái HTML structure dĩ nhiên là chúng ta tách cái đuôi file ra riêng, độc lập với cái tên</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>filename<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>filename__base<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>this-file-has-a-really-really-really-long-filename.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>filename__extension<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>pdf<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>CSS:</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.filename</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\"><span class=\"token class\">.filename__base</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-overflow</span><span class=\"token punctuation\">:</span> ellipsis<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">white-space</span><span class=\"token punctuation\">:</span> nowrap<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\"><span class=\"token class\">.filename__extension</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">flex-shrink</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Việc ellipsis text sẽ được thực hiện bởi kết hợp ba thuộc tính <code class=\"language-text\">text-overflow</code>, <code class=\"language-text\">white-space</code> và <code class=\"language-text\">overflow</code>. Tuy nhiên chúng ta vẫn phải ước lượng được mối liên hệ giữa phần chứa file name <code class=\"language-text\">.filename__base</code> và element bọc bên ngoài (ở đây là <code class=\"language-text\">.filename</code>)</p>\n<p>Thủ thuật quan trọng ở đây là dùng thuộc tính <strong><code class=\"language-text\">min-width: 0</code></strong>, chúng ta đặt giá trị nhỏ nhất cho phép của <code class=\"language-text\">.filename</code>, nó sẽ <em>ép</em> các thằng con bên dưới co lại nếu nó không có khai báo thuộc tính <code class=\"language-text\">flex-shrink</code></p>\n<p><a href=\"https://codepen.io/leonardofaria/pen/rNxZJad\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Demo các bạn xem ở đây</a></p>\n<p><a href=\"https://leonardofaria.net/2020/07/18/using-flexbox-and-text-ellipsis-together/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Using Flexbox and text ellipsis together</a></p>\n"}},{"node":{"title":"Cảm giác khi bạn viết CSS như thế nào trong năm 2020","path":"/cam-giac-khi-ban-viet-css-nhu-the-nao-trong-nam-2020/","date":"22. May 2020","timeToRead":4,"desc":"Nếu đã có bài làm một website trong năm 2016 nó như thế nào, thì giờ ta sẽ nói xem viết css trong năm 2020 sẽ ra mần sao","content":"<p><strong>Anh technical leader: em biết sao không, anh đã không viết code từ năm 2016 tới giờ, công việc của anh giờ chỉ toàn làm chính trị trong công ty thôi. Giờ em thấy cái dự án này công ty mình mới lấy về, họ muốn thêm phần giao diện cho nó khác đi, sửa responsive lại chút</strong></p>\n<p>Ngon ăn đấy anh, nhận đi.</p>\n<p><strong>Cái này họ làm React, nhưng mà lúc đó không biết đứa nào viết chỉ có một file css duy nhất với hơn 3000 dòng code, nhìn gớm quá, nhiều cái cứ xài tới xài lui mà không chịu kế thừa, cấu trúc thì khỏi nói rồi, gớm luôn, em thấy giờ mình làm sao cho tốt?</strong></p>\n<p>Đúng rồi anh, ai mà làm như thế.</p>\n<p><strong>Trước mắt, chúng ta coi hết lại đống này, xóa bớt mấy cái không cần thiết, sắp xếp lại, comment mọi thứ cho nó rõ ràng</strong></p>\n<p>Làm trên một file CSS đó luôn hả anh?</p>\n<p><strong>Ừ thì mình làm thêm bộ màu mới, thêm mấy tương tác cho nó cool hơn, sửa lỗi media queries, chắc là đủ rồi</strong></p>\n<p>Được mà, mà giờ không ai viết CSS thuần nữa đâu anh.</p>\n<p><strong>Giờ mình có những lựa chọn khác nào vậy em?</strong></p>\n<p>Giờ mình có nhiều framework, với những bộ màu đã định nghĩa sẵn, làm sẵn luôn responsive và hiệu ứng nhè nhẹ.</p>\n<p><strong>Kiểu bootstrap đúng không?</strong></p>\n<p>Xài cũng được, nhưng em không khuyến khích anh xài cái đó.</p>\n<p><strong>Sao vậy ta, hồi anh còn code, nó nổi lắm mà</strong></p>\n<p>Bớt nổi rồi anh. Giờ còn nhiều em <em>hót</em> không kém như Foundation, Bulma, Materialize, Semantic UI, Tailwind</p>\n<p><strong>Chọn đại một cái được không em</strong></p>\n<p>Mỗi thằng có ưu nhược khác nhau anh à, mà xài những cái này, các website bây giờ cứ na ná nhau, kiểu template, nói thật nhìn nó <em>khắm</em> lắm.</p>\n<p><strong>Vậy hổng lẽ tự viết sao em?</strong></p>\n<p>Bậy nè, anh không nên tự viết từ đầu chi, mà anh phải đi override lại chúng thôi, cũng khá khá nhiều thứ cần override.</p>\n<p><strong>Ít nhất nó cũng giúp chúng ta đơn giản hóa việt layout và responsive đúng chứ?</strong></p>\n<p>Nếu mà không yêu cầu cao, anh dùng những thư viện <em>nhẹ hiều</em> như Skeleton hay Pure CSS đi.</p>\n<p><strong>Pure CSS, anh tưởng anh đã đang viết pure css</strong></p>\n<p>Bậy nè, nó là tên thư viện, mà anh ít nhất biết dùng Flexbox chứ?</p>\n<p><strong>Nó là gì đó, anh dùng float không à, ủa mà tại sao ít nhất?</strong></p>\n<p>Kiểu layout bây giờ dùng flexbox không anh, còn cao cấp hơn thì dùng luôn css grid</p>\n<p><strong>Nó có gì hay ho vậy?</strong></p>\n<p>Nếu mà flexbox là kiểu layout một chiều, thì css grid là kiểu layout 2 chiều</p>\n<p><strong>Kiểu 2 chiều, như X, Y đúng không</strong></p>\n<p>Nó cho phép anh đưa nội dung về dạng row và column, rất nhiều tính năng xịn sò để làm các layout bay bổng</p>\n<p><strong>Ngon, vậy xài được đó</strong></p>\n<p>Chịu khó học nghe anh, lúc đầu hơi chua ăn đó.</p>\n<p><strong>Còn lựa chọn nào khác cho css không em?</strong></p>\n<p>Giờ anh có css variable nè, mixins, nesting, import, tính toán, hàm helper để code anh có tổ chức hơn.</p>\n<p><strong>Anh có nghe nhầm không, function và variable?</strong></p>\n<p>Không nhầm ạ</p>\n<p><strong>Mấy cái syntax lạ lồng như thế, có nguy hiểm không</strong></p>\n<p>Anh có mấy cái CSS preprocessor lo rồi mà</p>\n<p><strong>Như SASS/SCSS?</strong></p>\n<p>Đúng. Mà nó khác nhau đó nghe anh, SCSS > SASS, giờ cũng ít ai viết SASS lắm</p>\n<p><strong>LESS xài được ko em, anh quen viết LESS</strong></p>\n<p>Xưa rồi anh ơi, ai mà viết less nữa, nó chết bà rồi.</p>\n<p><strong>Nhiều thứ quá nhỉ</strong></p>\n<p>Đó em chưa kể đến mấy cái preprocessor mới ra là Stylus, CSS Crush, Myth đó.</p>\n<p><strong>Khó quá, bỏ qua, chọn đại một cái đi</strong></p>\n<p>Anh định dùng animation không, có quan tâm tới việc support nhiều trình duyệt không?</p>\n<p><strong>Có chứ em</strong></p>\n<p>Vậy anh phải coi thêm post-processor nữa, như PostCSS vậy</p>\n<p><strong>Nó là gì nữa á</strong></p>\n<p>Pre là xử lý <em>đường vào</em>, post là xử lý <em>đường ra</em> đó anh, nó đơn giản là thêm mấy cái syntax phù hợp cho các trình duyệt khác nhau</p>\n<p><strong>Vậy còn kinh nghiệm của em, thì chúng ta nên tổ chức sao cho tốt?</strong></p>\n<p>Xem thêm BEM á anh, một chuẩn mực đặt tên class sao cho dễ đọc để nuốt</p>\n<p><strong>Em có tự chế không đó?</strong></p>\n<p>Nào có anh ơi, em còn biết đến OOCSS và SUITCSS nữa mà không dám nói sợ anh nói em nói xạo</p>\n<p><strong>Kiểu này là anh phải sấp mặt mấy tháng để cập nhập kiến thức rồi em</strong></p>\n<p>Mà anh biết CSS-in-JS chưa?</p>\n<p><strong>Nó là cái nồi gì nữa em?</strong></p>\n<p>Nó cho anh viết CSS trong file JS</p>\n<p><strong>Em đùa vui quá</strong></p>\n<p>Xạo làm chó, bây giờ React nó hổng viết CSS như bình thường nữa anh, nó chơi kiểu CSS in JS, hay là styled component. Còn không anh dùng inline style sheet,, CSS module,...</p>\n<p><strong>Inline CSS, cái đó là Bad practice mà em</strong></p>\n<p>Giờ người ta không nghĩ vậy nữa đâu anh, nó là chuyện bình thường mà. Còn chưa nói đến JSS nữa đó anh</p>\n<p><strong>Thôi em à, anh thấy chúng ta đi xa quá rồi, từ CSS mà em chuyển nó thành JSS</strong></p>\n<p>Nhưng đó là những gì đang hót nhất mà anh, anh thấy không hót hả.</p>\n<p><strong>Anh nghĩ mình nên để yên cái project này và không thêm thắt gì nữa đi em, nó như vậy là đẹp rồi</strong></p>\n<p><a href=\"https://dev.to/madarsbiss/how-it-feels-like-to-style-things-in-2020-21cm\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://dev.to/madarsbiss/how-it-feels-like-to-style-things-in-2020-21cm</a></p>\n"}},{"node":{"title":"Nên dùng gì thay cho input number","path":"/nen-dung-gi-thay-cho-input-number/","date":"27. March 2020","timeToRead":1,"desc":"Ngoài input type number, còn những giá trị gì bạn nên cân nhắc sử dụng","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#tel\">tel</a></li>\n<li><a href=\"#decimal\">decimal</a></li>\n<li><a href=\"#email\">Email</a></li>\n<li><a href=\"#url\">Url</a></li>\n<li><a href=\"#search\">Search</a></li>\n</ul>\n<!-- /TOC -->\n<p>Có thể bạn sẽ nghĩ ngay đến <code class=\"language-text\">&lt;input type=&#39;number&#39; /&gt;</code> khi muốn cho user nhập số. Tuy nhiên <em>đời không như là mơ</em>, nó có kha khá vấn đề, đôi khi có những giá trị nhìn thì như <em>số</em>, nhưng không phải (như credit card), hoặc một dạng chuỗi số.</p>\n<p>Trên Gov.uk họ dùng kiểu này</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">inputmode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>numeric<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">pattern</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[0-9]*<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p>Thuộc tính <code class=\"language-text\">inputmode</code> cũng khá hay ho, được đề cập rất cũ thể <a href=\"https://css-tricks.com/everything-you-ever-wanted-to-know-about-inputmode/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ở đây</a></p>\n<p>Tóm tắt lại cho bạn nào lười đọc</p>\n<h3 id=\"tel\"><a href=\"#tel\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>tel</h3>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">inputmode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tel<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<h3 id=\"decimal\"><a href=\"#decimal\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>decimal</h3>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">inputmode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>decimal<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/05/inputmode-03.png?ssl=1\"></p>\n<h3 id=\"email\"><a href=\"#email\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Email</h3>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">inputmode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>email<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p><img src=\"https://i1.wp.com/css-tricks.com/wp-content/uploads/2019/05/inputmode-04.png?ssl=1\"></p>\n<h3 id=\"url\"><a href=\"#url\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Url</h3>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">inputmode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>url<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p><img src=\"https://i1.wp.com/css-tricks.com/wp-content/uploads/2019/05/inputmode-05.png?ssl=1\"></p>\n<h3 id=\"search\"><a href=\"#search\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Search</h3>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">inputmode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p><img src=\"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/05/inputmode-06a.png?ssl=1\"></p>\n<p>Hoặc để nhập vào mã code xác thực, Twilio sử dụng định dạng này</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n  <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>token<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>token<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">inputmode</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>numeric<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">pattern</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[0-9]*<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">autocomplete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>one-time-code<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre>\n<p>Với <code class=\"language-text\">autocomplete=&quot;one-time-code&quot;</code> chúng ta sẽ có được <em>tính năng</em> tự điền như thế này</p>\n<p><img src=\"https://i1.wp.com/css-tricks.com/wp-content/uploads/2020/03/two-factor-input.png\" alt=\"iOS screen with a numeric input and a text message offering to auto-fill the two-factor auth\"></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete#Values\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Xem danh sách autocomplete đầy đủ</a></p>\n<p><a href=\"https://css-tricks.com/what-to-use-instead-of-number-inputs/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">What to Use Instead of Number Inputs</a></p>\n"}},{"node":{"title":"Thủ thuật sử dụng đơn vị viewport trên mobile","path":"/thu-thuat-su-dung-don-vi-viewport-tren-mobile/","date":"12. March 2020","timeToRead":2,"desc":"Để có thể quản lý được state của ứng dụng một cách tốt nhất, chúng ta cần sự phân chia phù hợp giữa local state (internal state của component) và state cửa ứng dụng đặt trong React Context. Một vài điều muốn chia sẽ để nâng cao khả năng bảo trì và trải nghiệm nếu sử dụng đến context trong React.","content":"<p>Đơn vị viewport trong css (<code class=\"language-text\">vh</code>, <code class=\"language-text\">vw</code>) không phải lúc nào cũng chạy đúng trên mọi trình duyệt điện thoại. Giống như chưa đủ khổ cho dev nên mỗi trình duyệt mobile lại có cách xử lý riêng cho đơn vị này.</p>\n<p>Cách mà <a href=\"https://www.w3.org/TR/css-values-3/#viewport-relative-lengths\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">w3 định nghĩa</a> cách tính đơn vị này. Với mobile cái chúng ta quan tâm nhiều nhất là đơn vị <code class=\"language-text\">vh</code></p>\n<blockquote>\n<p>1vh = 1% độ cao khởi tạo của khu vực trình duyệt dùng để hiển thị trang web.</p>\n</blockquote>\n<p>Nghĩa là giá trị này không bao gồm các phần khác của trình duyệt, như thanh address, thanh bookmark (<strong>nếu có</strong>), tab bar, ... và những thứ linh tinh khác mà user có thể add thêm vào trình duyệt của họ.</p>\n<p>Nhưng khi bạn bắt đầu scroll trên điện thoại, câu chuyện trở nên phức tạp hơn, thanh address bar sẽ biến mất, giá trị của <code class=\"language-text\">vh</code> cần phải cập nhập lại, hiện tượng <em>cà khịa</em> xuất hiện trên màn hình.</p>\n<p>Trình duyệt Safari trên iOS là người tiên phong sử dụng luôn một giá trị cố định đúng với kích thước màn hình (không phải kích thước khung hiển thị của trình duyệt). Chrome mobile cũng bắt đầu áp dụng cách này để chặn việc nội dung trang nhảy lung tung.</p>\n<p>Điều này có ý nghĩa như thế nào? Nghĩa là khi bạn đặt giá trị <code class=\"language-text\">100vh</code> nó sẽ vượt ra ngoài, user sẽ phải scroll trên trình duyệt để xem hết.</p>\n<p><img src=\"https://i2.wp.com/css-tricks.com/wp-content/uploads/2018/07/viewport-units-mobile-crop.jpg?ssl=1\"></p>\n<p>Để khắc phục nhược điểm này. Chúng ta không thể trông cậy vào css, phải dùng đến javascript túm lấy độ cao <code class=\"language-text\">window.innerHeight</code>, lưu giá trị đó lại thành một biến CSS và sử dụng nó thay cho đơn vị <code class=\"language-text\">vh</code></p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.my-element</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">vh</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">/* fallback khi trình duyệt không hỗ trợ biến css */</span>\n  <span class=\"token comment\">/* cái này chỉ có trên webkit */</span>\n  <span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> -webkit-fill-available<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token function\">calc</span><span class=\"token punctuation\">(</span><span class=\"token function\">var</span><span class=\"token punctuation\">(</span><span class=\"token variable\">--vh</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token unit\">vh</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Chúng ta sẽ <em>túm lấy</em> và định nghĩa <code class=\"language-text\">--vh</code> bằng javascript</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Trước tiên lấy viewport height và chuyển thành giá trị 1%</span>\n<span class=\"token keyword\">let</span> vh <span class=\"token operator\">=</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">innerHeight</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Đặt biến css</span>\n<span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">documentElement</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--vh\"</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>vh<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Còn một vấn đề nhỏ còn lại cần phải xử lý là cập nhập lại giá trị này khi trình duyệt thay đổi kích thước (xoay trái, xoay phải, xoay ngang, xoay dọc)</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// chạy lại khi window resize</span>\n<span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"resize\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// làm tương tự 2 bước đã làm</span>\n  <span class=\"token keyword\">let</span> vh <span class=\"token operator\">=</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">innerHeight</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span>\n  <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">documentElement</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--vh\"</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>vh<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p><a href=\"https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The trick to viewport units on mobile</a></p>\n"}},{"node":{"title":"Gắn video làm background toàn màn hình","path":"/gan-video-lam-background-toan-man-hinh/","date":"12. November 2019","timeToRead":3,"desc":"Chia sẽ kỹ thuật làm background video để chạy full màn hình","content":"<p>Kết quả các bạn có thể xem trên trang mình mới làm\n<a href=\"http://chat-production.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://chat-production.com/</a></p>\n<p>Để có một cái video chạy toàn màn hình, chúng ta sẽ nghĩ ngay đến việc dùng thẻ <code class=\"language-text\">&lt;video /&gt;</code> của HTML5, đặt nó trong một cái <code class=\"language-text\">&lt;div/&gt;</code> có kích thước <code class=\"language-text\">width: 100%</code>, buồn thay nó không đúng như chúng ta mong đợi.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- HTML --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>videoContainer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span> <span class=\"token attr-name\">loop</span> <span class=\"token attr-name\">autoplay</span> <span class=\"token attr-name\">muted</span> <span class=\"token attr-name\">playsinline</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/show-reel.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<blockquote>\n<p>Thêm <code class=\"language-text\">playsinline</code> để có thể chạy trên IOS như iPhone</p>\n</blockquote>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token id\">#container</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">60</span><span class=\"token unit\">vw</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n \n<span class=\"token selector\">video</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span>   \n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token property\">bottom</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Thứ nhất là nó sẽ không tự scale ra 100% của màn hình, thứ 2 khi chúng ta kéo to thu nhỏ cửa sổ trình duyệt, tỷ lệ khung hình (ngang và đứng) cũng sẽ không đạt đúng tỉ lệ thật của video.</p>\n<p>Để video có thể thay đổi kích thước theo từng giá trị màn hình khác nhau, chúng ta phải dùng đến javascript và css</p>\n<pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token selector\">#videoContainer </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">vh</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">780</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">60</span><span class=\"token unit\">vw</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">video </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">vw</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/* canh video ngay giữa */</span>\n    <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span> <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translate</span><span class=\"token punctuation\">(</span><span class=\"token number\">-50</span><span class=\"token unit\">%</span><span class=\"token punctuation\">,</span> <span class=\"token number\">-50</span><span class=\"token unit\">%</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Source này được lấy từ <a href=\"https://codetheory.in/html5-fullscreen-background-video/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://codetheory.in/html5-fullscreen-background-video/</a>, mình sử dụng chung với React</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// JS</span>\n  <span class=\"token keyword\">var</span> video <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"video\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    container <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#videoContainer\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">setVideoDimensions</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> w <span class=\"token operator\">=</span> video<span class=\"token punctuation\">.</span><span class=\"token property-access\">videoWidth</span><span class=\"token punctuation\">,</span>\n      h <span class=\"token operator\">=</span> video<span class=\"token punctuation\">.</span><span class=\"token property-access\">videoHeight</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Intrinsic Ratio</span>\n    <span class=\"token comment\">// Will be more than 1 if W > H and less if W &lt; H</span>\n    <span class=\"token keyword\">var</span> videoRatio <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>w <span class=\"token operator\">/</span> h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Get the container's computed styles</span>\n    <span class=\"token comment\">//</span>\n    <span class=\"token comment\">// Also calculate the min dimensions required (this will be</span>\n    <span class=\"token comment\">// the container dimensions)</span>\n    <span class=\"token keyword\">var</span> containerStyles <span class=\"token operator\">=</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getComputedStyle</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      minW <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>containerStyles<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getPropertyValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"width\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      minH <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>containerStyles<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getPropertyValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"height\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// What's the min:intrinsic dimensions</span>\n    <span class=\"token comment\">//</span>\n    <span class=\"token comment\">// The idea is to get which of the container dimension</span>\n    <span class=\"token comment\">// has a higher value when compared with the equivalents</span>\n    <span class=\"token comment\">// of the video. Imagine a 1200x700 container and</span>\n    <span class=\"token comment\">// 1000x500 video. Then in order to find the right balance</span>\n    <span class=\"token comment\">// and do minimum scaling, we have to find the dimension</span>\n    <span class=\"token comment\">// with higher ratio.</span>\n    <span class=\"token comment\">//</span>\n    <span class=\"token comment\">// Ex: 1200/1000 = 1.2 and 700/500 = 1.4 - So it is best to</span>\n    <span class=\"token comment\">// scale 500 to 700 and then calculate what should be the</span>\n    <span class=\"token comment\">// right width. If we scale 1000 to 1200 then the height</span>\n    <span class=\"token comment\">// will become 600 proportionately.</span>\n    <span class=\"token keyword\">var</span> widthRatio <span class=\"token operator\">=</span> minW <span class=\"token operator\">/</span> w<span class=\"token punctuation\">,</span>\n      heightRatio <span class=\"token operator\">=</span> minH <span class=\"token operator\">/</span> h<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Whichever ratio is more, the scaling</span>\n    <span class=\"token comment\">// has to be done over that dimension</span>\n    <span class=\"token keyword\">let</span> newWidth <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> newHeight <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>widthRatio <span class=\"token operator\">></span> heightRatio<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      newWidth <span class=\"token operator\">=</span> minW<span class=\"token punctuation\">;</span>\n      newHeight <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">ceil</span><span class=\"token punctuation\">(</span>newWidth <span class=\"token operator\">/</span> videoRatio<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      newHeight <span class=\"token operator\">=</span> minH<span class=\"token punctuation\">;</span>\n      newWidth <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">ceil</span><span class=\"token punctuation\">(</span>newHeight <span class=\"token operator\">*</span> videoRatio<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    video<span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">width</span> <span class=\"token operator\">=</span> newWidth <span class=\"token operator\">+</span> <span class=\"token string\">\"px\"</span><span class=\"token punctuation\">;</span>\n    video<span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">height</span> <span class=\"token operator\">=</span> newHeight <span class=\"token operator\">+</span> <span class=\"token string\">\"px\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  video<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"loadedmetadata\"</span><span class=\"token punctuation\">,</span> setVideoDimensions<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"resize\"</span><span class=\"token punctuation\">,</span> setVideoDimensions<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Đoạn js trên để đảm bảo kích thước của video được scale ra hết khung hình và thay đổi cho phù hợp khi trình duyệt thay đổi kích thước</p>\n<blockquote>\n<p>Dùng 2 listener <code class=\"language-text\">loadedmetadata</code> trên video và <code class=\"language-text\">resize</code> trên window để chỉnh lại kích thước thẻ video</p>\n</blockquote>\n"}},{"node":{"title":"Căn bản cách sử dụng media query","path":"/can-ban-cach-su-dung-media-query/","date":"27. September 2019","timeToRead":2,"desc":"Những kiến thức căn bản bắt buộc nhất để bạn làm responsive","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#media-type\">Media type</a></li>\n<li><a href=\"#to%c3%a1n-t%e1%bb%ad-logic\">Toán tử logic</a></li>\n<li><a href=\"#n%c3%a2ng-c%e1%ba%a5p-t%e1%bb%ab-level-4-%c4%91%e1%ba%a1i-kh%c3%a1i-l%c3%a0-s%e1%bb%ad-d%e1%bb%a5ng-tr%c3%aan-tr%c3%acnh-duy%e1%bb%87t-c%c5%a9-kh%c3%b4ng-%c4%91%e1%ba%a3m-b%e1%ba%a3o-%c4%91%c3%b3\">Nâng cấp từ level 4 (đại khái là sử dụng trên trình duyệt cũ không đảm bảo đó)</a></li>\n<li><a href=\"#pattern-hay-s%e1%bb%ad-d%e1%bb%a5ng\">Pattern hay sử dụng</a></li>\n</ul>\n<!-- /TOC -->\n<p>Query media là kiến thức bắt buộc phải nắm nếu muốn làm tốt responsive, nó sẽ được sử dụng trong các trường hợp sau </p>\n<ul>\n<li>Đặt điều kiện để apply css qua <code class=\"language-text\">@media</code> hoặc <code class=\"language-text\">@import</code></li>\n<li>Chỉ định cụ thể trên một số HTML element và các file resource cho <code class=\"language-text\">&lt;link/&gt;</code> và <code class=\"language-text\">&lt;source /&gt;</code></li>\n<li>Kiểm tra sự thay đổi kích thước của window trong hàm <code class=\"language-text\">Window.matchMedia</code> và <code class=\"language-text\">MediaQueryList.addListener</code> </li>\n</ul>\n<p>Bài này chỉ dùng CSS <code class=\"language-text\">@media</code> để làm ví dụ, sử dụng trên các cách khác cũng tương tự  </p>\n<h2 id=\"media-type\"><a href=\"#media-type\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Media type</h2>\n<p>Chỉ định kiểu device sẽ có hiệu lực, nếu không truyền vào thì mặc định là <code class=\"language-text\">all</code>  </p>\n<ul>\n<li><code class=\"language-text\">all</code> tất cả các loại device</li>\n<li><code class=\"language-text\">print</code> đang xem trên màn hình ở chế độ preview, hoặc lúc in</li>\n<li><code class=\"language-text\">screen</code> chỉ áp dụng trên màn hình</li>\n<li><code class=\"language-text\">speech</code> các thiết bị đọc văn bản  </li>\n</ul>\n<p>Các thằng khác đã bỏ rồi, nên các bạn không cần nhớ chi cho nhiều, thấy một số bài viết trên mạng còn liệt kê chi không biết.  </p>\n<p>Cũng không sử dụng nhiều đến cách này, đa phần khi thiết kế thì người ta làm trên từng kích thước độ rộng màn hình, chứ không nghĩ cụ thể cho từng loại thiết bị như để in, xem trên màn hình  </p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> print</span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> screen</span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> speech</span><span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"toán-tử-logic\"><a href=\"#to%C3%A1n-t%E1%BB%AD-logic\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Toán tử logic</h2>\n<p>Có một số toán tử có thể sử dụng trong câu media là <code class=\"language-text\">not</code>, <code class=\"language-text\">and</code>, <code class=\"language-text\">only</code>, <code class=\"language-text\">,</code> - cái này thì giống như toán tử <code class=\"language-text\">or</code> vậy đó</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">680</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">orientation</span><span class=\"token punctuation\">:</span> portrait<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span> \n<span class=\"token atrule\"><span class=\"token rule\">@media</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token unit\">em</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">orientation</span><span class=\"token punctuation\">:</span> landscape<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"nâng-cấp-từ-level-4-đại-khái-là-sử-dụng-trên-trình-duyệt-cũ-không-đảm-bảo-đó\"><a href=\"#n%C3%A2ng-c%E1%BA%A5p-t%E1%BB%AB-level-4-%C4%91%E1%BA%A1i-kh%C3%A1i-l%C3%A0-s%E1%BB%AD-d%E1%BB%A5ng-tr%C3%AAn-tr%C3%ACnh-duy%E1%BB%87t-c%C5%A9-kh%C3%B4ng-%C4%91%E1%BA%A3m-b%E1%BA%A3o-%C4%91%C3%B3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nâng cấp từ level 4 (đại khái là sử dụng trên trình duyệt cũ không đảm bảo đó)</h2>\n<p>Trước đây để áp dụng điều kiện <strong>nằm trong khoản màn hình</strong> nào đó, chúng ta dùng kiểu <code class=\"language-text\">max-width:</code> hay <code class=\"language-text\">min-width</code></p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token unit\">em</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token unit\">em</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token unit\">em</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span></code></pre>\n<p>Giờ có thể viết theo kiểu</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span>width &lt;= <span class=\"token number\">30</span><span class=\"token unit\">em</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token unit\">em</span> &lt;= width &lt;= <span class=\"token number\">50</span><span class=\"token unit\">em</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"pattern-hay-sử-dụng\"><a href=\"#pattern-hay-s%E1%BB%AD-d%E1%BB%A5ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Pattern hay sử dụng</h2>\n<p>Tài liệu thì rườm rà, rắc rối vậy thôi, chứ khi sử dụng, mình chỉ dùng bộ media định nghĩa trong bootstrap là đủ xài</p>\n<pre class=\"language-css\"><code class=\"language-css\">// màn hình điện thoại\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">576</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n// màn hình ipad đứng\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">768</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n// màn hình bự hơn ipad\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">992</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span>\n// màn hình laptop trở lên\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1200</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> ... <span class=\"token punctuation\">}</span></code></pre>\n"}},{"node":{"title":"Không cho cuộn trang khi mở Modal","path":"/khong-cho-cuon-trang-khi-mo-modal/","date":"7. June 2019","timeToRead":1,"desc":"Xử lý cuộn trang khi mở modal","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#C%C3%A1ch-%C4%91%C6%A1n-gi%E1%BA%A3n-nh%E1%BA%A5t\">Cách đơn giản nhất</a></li>\n<li><a href=\"#Tr%C3%AAn-mobile\">Trên mobile</a></li>\n<li><a href=\"#Gi%E1%BA%A3i-ph%C3%A1p-cu%E1%BB%91i-c%C3%B9ng\">Giải pháp cuối cùng</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"cách-đơn-giản-nhất\"><a href=\"#c%C3%A1ch-%C4%91%C6%A1n-gi%E1%BA%A3n-nh%E1%BA%A5t\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cách đơn giản nhất</h2>\n<p>Đặt độ cao của body = 100% của viewport, sau đó cho overflow thành hidden, thêm mục padding right = 15 để fix trường hợp trang đã có thanh cuộn rồi</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">body<span class=\"token class\">.model-open</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">vh</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">overflow-y</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding-right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">15</span><span class=\"token unit\">px</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"trên-mobile\"><a href=\"#tr%C3%AAn-mobile\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Trên mobile</h2>\n<p>Cách trên chạy tốt trên desktop và android, buồn thay iOS vẫn cuộn được, thêm <code class=\"language-text\">position fixed</code> để sửa bug này</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Tuy nhiên, cách này vẫn bị vấn để bự khác, nếu cuộn xuống dưới, mở modal lên, đóng lại thì trang cuộn lên đầu</p>\n<h2 id=\"giải-pháp-cuối-cùng\"><a href=\"#gi%E1%BA%A3i-ph%C3%A1p-cu%E1%BB%91i-c%C3%B9ng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Giải pháp cuối cùng</h2>\n<p>Đi đâu rồi cũng về javascript thôi. Lưu lại vị trí scroll, set lại vị trí này khi đóng modal</p>\n<p>Khi bung modal</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">showDialog</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dialog'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'show'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> scrollY <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">documentElement</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getPropertyValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--scroll-y'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> body <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">body</span><span class=\"token punctuation\">;</span>\n  body<span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">position</span> <span class=\"token operator\">=</span> <span class=\"token string\">'fixed'</span><span class=\"token punctuation\">;</span>\n  body<span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">top</span> <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>scrollY<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Khi đóng modal</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">closeDialog</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> body <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">body</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> scrollY <span class=\"token operator\">=</span> body<span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">top</span><span class=\"token punctuation\">;</span>\n  body<span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">position</span> <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  body<span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">top</span> <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">scrollTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>scrollY <span class=\"token operator\">||</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dialog'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'show'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'scroll'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">documentElement</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--scroll-y'</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">scrollY</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<iframe height=\"265\" style=\"width: 100%;\" scrolling=\"no\" title=\"Avoid body scrollable in safari when modal dialog shown\" src=\"//codepen.io/geoffgraham/embed/LogERe/?height=265&theme-id=0&default-tab=html,result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href='https://codepen.io/geoffgraham/pen/LogERe/'>Avoid body scrollable in safari when modal dialog shown</a> by Geoff Graham\n  (<a href='https://codepen.io/geoffgraham'>@geoffgraham</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://css-tricks.com/prevent-page-scrolling-when-a-modal-is-open/\">Prevent Page Scrolling When a Modal is Open</a></p>\n"}},{"node":{"title":"Làm layout masonry bằng flexbox","path":"/lam-layout-masonry-bang-flexbox/","date":"15. May 2019","timeToRead":3,"desc":"Những ngày làm masonry layout với các thư viện jquery đã ko còn nữa","content":"<p>Một trong những cách đơn giản nhất để tạo masonry layout là dùng flexbox, tất cả những gì cần làm là set <code class=\"language-text\">flex-flow: column wrap</code> và <code class=\"language-text\">height: giá-trị-độ-cao-nào-đó</code>, là bạn có kiểu layout nổi tiếng của pinterest.</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* hiển thị theo dạng column, rớt dòng khi cần thiết */</span>\n<span class=\"token selector\"><span class=\"token class\">.container</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">flex-flow</span><span class=\"token punctuation\">:</span> column wrap<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">align-content</span><span class=\"token punctuation\">:</span> space-between<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/* fixed height, cao hơn độ cao của item cao nhất */</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">960</span><span class=\"token unit\">px</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Cách này bị một vấn đề, thứ tự các item chúng ta sẽ là như thế này\n<img src=\"https://i.imgur.com/Xiyr8Gj.jpg\" alt=\"Làm layout masonry bằng flexbox\"></p>\n<p>Đây không phải là kết quả chúng ta mong muốn, nó phải xếp các item từ trái qua phải mới hợp gu</p>\n<p>Nếu chuyển giá trị <code class=\"language-text\">flex-direction: row</code>, thứ tự sẽ đúng như mong muốn, tuy nhiên nó lại bị khoảng trống khi các item có độ cao không đồng nhất, như thế này </p>\n<p><img src=\"https://i.imgur.com/iC5BJRw.jpg\" alt=\"Làm layout masonry bằng flexbox\"></p>\n<p>Sử dụng kết hợp với 2 thuộc tính <code class=\"language-text\">:nth-child()</code> và <code class=\"language-text\">order</code> để giải quyết vấn đề này</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Column 1</th>\n<th>Column 2</th>\n<th>Column 3</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Row 1</td>\n<td>1</td>\n<td>2</td>\n<td>3</td>\n</tr>\n<tr>\n<td>Row 2</td>\n<td>4</td>\n<td>5</td>\n<td>6</td>\n</tr>\n<tr>\n<td>Row 3</td>\n<td>7</td>\n<td>8</td>\n<td>9</td>\n</tr>\n<tr>\n<td>Row 4</td>\n<td>10</td>\n<td>11</td>\n<td>12</td>\n</tr>\n</tbody>\n</table>\n<p>Chúng ta có 3 cột, chúng ta sẽ xếp các item theo từng cột, nhưng order nó theo hàng</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* sắp xếp lại theo từng dòng */</span>\n<span class=\"token selector\"><span class=\"token class\">.item</span><span class=\"token pseudo-class\">:nth-child</span><span class=\"token punctuation\">(</span><span class=\"token n-th\"><span class=\"token number\">3n</span><span class=\"token operator\">+</span><span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> <span class=\"token property\">order</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token selector\">// set order = 1 cho các item 1<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">,</span> 7<span class=\"token punctuation\">,</span> 10<span class=\"token punctuation\">,</span>...\n<span class=\"token class\">.item</span><span class=\"token pseudo-class\">:nth-child</span><span class=\"token punctuation\">(</span><span class=\"token n-th\"><span class=\"token number\">3n</span><span class=\"token operator\">+</span><span class=\"token number\">2</span></span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> <span class=\"token property\">order</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token selector\">// set order = 1 cho các item 2<span class=\"token punctuation\">,</span> 5<span class=\"token punctuation\">,</span> 8<span class=\"token punctuation\">,</span> 11<span class=\"token punctuation\">,</span>...\n<span class=\"token class\">.item</span><span class=\"token pseudo-class\">:nth-child</span><span class=\"token punctuation\">(</span><span class=\"token n-th\"><span class=\"token number\">3n</span></span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> <span class=\"token property\">order</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n// set order = <span class=\"token number\">1</span> cho các item <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>...</code></pre>\n<p>Với các item có cùng giá trị order như <code class=\"language-text\">1, 4, 7, 10</code> trình duyệt sẽ render theo thứ tự xuất hiện của html, một cách ngắn gọn với đoạn css trên chúng ta đã xếp các item lại theo thứ tự là <code class=\"language-text\">1,4,7,10,2,5,8,11,3,6,9,12</code></p>\n<p>Còn một trường hợp có thể xảy ra là item có độ cao ko <code class=\"language-text\">fill</code> hết chỗ trống trong cột, khi ấy nó sẽ dồn item đó về cột phía trước</p>\n<p><img src=\"https://i.imgur.com/4oBdLOd.png\" alt=\"Làm layout masonry bằng flexbox\"></p>\n<p>Để xử trí vụ này, đây là một cái trick khá vi diệu, chúng ta sẽ chèn 2 element <code class=\"language-text\">before</code> và <code class=\"language-text\">after</code> có giá trị  <code class=\"language-text\">order: 2</code> để các item sẽ theo thứ tự <code class=\"language-text\">1, 4, 7, 10, &lt;break&gt;, 2, 5, 8, 11, &lt;break&gt;, 3, 6, 9, 12</code></p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* bắt buộc chèn vào cột mới */</span>\n<span class=\"token selector\"><span class=\"token class\">.container</span><span class=\"token pseudo-element\">::before</span><span class=\"token punctuation\">,</span>\n<span class=\"token class\">.container</span><span class=\"token pseudo-element\">::after</span></span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">content</span><span class=\"token punctuation\">:</span> “”<span class=\"token punctuation\">;</span>\n<span class=\"token property\">flex-basis</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\">order</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Đường màu xám là 2 element <code class=\"language-text\">before</code> và <code class=\"language-text\">after</code></p>\n<p><img src=\"https://i.imgur.com/yTnodUu.jpg\" alt=\"Làm layout masonry bằng flexbox\"></p>\n<p>Toàn bộ source</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* hiển thị theo dạng column, rớt dòng khi cần thiết */</span>\n<span class=\"token selector\"><span class=\"token class\">.container</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">flex-flow</span><span class=\"token punctuation\">:</span> column wrap<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">align-content</span><span class=\"token punctuation\">:</span> space-between<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/* fixed height, cao hơn độ cao của item cao nhất */</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">600</span><span class=\"token unit\">px</span><span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\"><span class=\"token class\">.item</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">32</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* sắp xếp lại theo từng dòng */</span>\n<span class=\"token selector\"><span class=\"token class\">.item</span><span class=\"token pseudo-class\">:nth-child</span><span class=\"token punctuation\">(</span><span class=\"token n-th\"><span class=\"token number\">3n</span><span class=\"token operator\">+</span><span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> <span class=\"token property\">order</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token selector\">// set order = 1 cho các item 1<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">,</span> 7<span class=\"token punctuation\">,</span> 10<span class=\"token punctuation\">,</span>...\n<span class=\"token class\">.item</span><span class=\"token pseudo-class\">:nth-child</span><span class=\"token punctuation\">(</span><span class=\"token n-th\"><span class=\"token number\">3n</span><span class=\"token operator\">+</span><span class=\"token number\">2</span></span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> <span class=\"token property\">order</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token selector\">// set order = 1 cho các item 2<span class=\"token punctuation\">,</span> 5<span class=\"token punctuation\">,</span> 8<span class=\"token punctuation\">,</span> 11<span class=\"token punctuation\">,</span>...\n<span class=\"token class\">.item</span><span class=\"token pseudo-class\">:nth-child</span><span class=\"token punctuation\">(</span><span class=\"token n-th\"><span class=\"token number\">3n</span></span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span> <span class=\"token property\">order</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n// set order = <span class=\"token number\">1</span> cho các item <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>...\n\n<span class=\"token comment\">/* bắt buộc chèn vào cột mới */</span>\n<span class=\"token selector\"><span class=\"token class\">.container</span><span class=\"token pseudo-element\">::before</span><span class=\"token punctuation\">,</span>\n<span class=\"token class\">.container</span><span class=\"token pseudo-element\">::after</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">content</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">flex-basis</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">order</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><a href=\"https://codepen.io/collection/XPjvPP/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Toàn bộ source trên codepen</a></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://tobiasahlin.com/blog/masonry-with-css/\">CSS masonry with flexbox, :nth-child(), and order</a></p>\n"}},{"node":{"title":"Preload, prefetch và các thuộc tính khác trên link","path":"/preload-prefetch-va-cac-thuoc-tinh-khac-tren-link/","date":"25. April 2019","timeToRead":3,"desc":"Cùng tìm hiểu các attribute sử dụng trên thẻ link để cải thiện hiệu năng","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#preload\">preload</a></li>\n<li><a href=\"#prefetch\">prefetch</a></li>\n<li><a href=\"#preconnect\">preconnect</a></li>\n<li><a href=\"#dns-prefetch\">dns-prefetch</a></li>\n<li><a href=\"#prerender\">prerender</a></li>\n</ul>\n<!-- /TOC -->\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>prefetch<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/style.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>style<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>preload<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/style.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>style<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>preconnect<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.com<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dns-prefetch<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.com<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>prerender<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.com<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<h2 id=\"preload\"><a href=\"#preload\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>preload</h2>\n<p><code class=\"language-text\">&lt;link rel=&quot;preload&quot; /&gt;</code>  sẽ báo với trình duyệt download và cache một resource (như script hoặc stylesheet) nhanh nhất có thể. Nếu chúng ta cần resource đó ngay sau khi trang đang load.</p>\n<p>Một khi trình duyệt đã download xong resource này, trình duyệt sẽ không làm gì hết, file script đó sẽ ko được thực thi, file stylesheet sẽ ko được áp dụng. Nó cache lại ở đó, khi có một thằng nào khác cần tới nó, nó sẽ được cung cấp ngay lập tức.</p>\n<p>Cú pháp</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>preload<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/style.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>style<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p>Các giá trị có thể cung cấp cho <code class=\"language-text\">as</code></p>\n<ul>\n<li>style</li>\n<li>script</li>\n<li>font</li>\n<li>fetch</li>\n</ul>\n<p>Chúng ta cần phải cung cấp giá trị <code class=\"language-text\">as</code> để trình duyệt biết thứ tự ưu tiên download về cho đúng.</p>\n<p>Ví dụ, sử dụng custom font, nếu sử dụng font face chúng ta đặt việc load file này trong css</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>index.css<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* index.css */</span>\n<span class=\"token atrule\"><span class=\"token rule\">@font-face</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">src</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'comic-sans.woff2'</span><span class=\"token punctuation\">)</span></span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'woff2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Theo mặc định file <code class=\"language-text\">comic-sans.woff2</code> chỉ được download khi file <code class=\"language-text\">index.css</code> đã được load và áp dụng. Chúng ta có thể <em>cưỡng ép</em> load file font này về trước</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>preload<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>comic-sans.woff2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>font<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<h2 id=\"prefetch\"><a href=\"#prefetch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>prefetch</h2>\n<p><code class=\"language-text\">&lt;link rel=&quot;prefetch&quot; /&gt;</code> yêu cầu trình duyệt download và cache lại resource ngầm bên dưới, nó sẽ có độ ưu tiên thấp, không tranh giành thứ tự ưu tiên với các resource quan trọng hơn. Thí dụ như bạn cần resource đó ở các trang sau nữa, bạn có thể load trước để sẵn ở trang hiện tại.</p>\n<p>Cú pháp</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>prefetch<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/style.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>style<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p>Ví dụ, user di chuyển từ home page sang trang product page, đa phần luồng đi của user sẽ là như thế, trừ trường hợp học bookmark lại trang đó, hoặc nhấp vào một link được share. Chúng ta có thể sử dụng <code class=\"language-text\">&lt;link rel=&quot;prefetch&quot; /&gt;</code> để tải trước các file css, js sẽ dùng trên trang product.</p>\n<h2 id=\"preconnect\"><a href=\"#preconnect\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>preconnect</h2>\n<p><code class=\"language-text\">&lt;link rel=&quot;preconnect&quot; /&gt;</code> được dùng để tăng tốc độ load ban đầu bằng việc báo với trình duyệt, chúng ta sẽ load một resource từ domain nào đó không sớm thì muộn. Thí dụ chúng ta load font từ Google, CDN, JSON từ API server.</p>\n<p>Thực hư tăng tốc được bao nhiêu thì cũng chưa rõ, nhưng đây là cách chúng ta báo với trình duyệt</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>preconnect<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://api.my-app.com<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<h2 id=\"dns-prefetch\"><a href=\"#dns-prefetch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>dns-prefetch</h2>\n<p><code class=\"language-text\">&lt;link rel=&quot;dns-prefetch&quot; /&gt;</code> công dụng cũng tương tự như <code class=\"language-text\">preconnect</code>, nó sẽ setup sẵn các config cần thiết trên trình duyệt khi cần thực hiện một DNS resolution</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dns-prefetch<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://api.my-app.com<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<h2 id=\"prerender\"><a href=\"#prerender\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>prerender</h2>\n<p><code class=\"language-text\">&lt;link rel=&quot;prerender&quot; /&gt;</code> yêu cầu trình duyệt load 1 url và render nó trong một tab ẩn,  khi user click vào đường link đến url đó, trang web sẽ được hiển thị ngay và luôn.</p>\n<p>Tuy nhiên là thuộc tính này tính đến thời điểm hiện tại rất ít trình duyệt hỗ trợ</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>prerender<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://my-app.com/pricing<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://3perf.com/blog/link-rels/watch?v=I14fXc7sXdU&list=WL&index=2&t=0s\">Preload, prefetch and other link tags\n</a></p>\n"}},{"node":{"title":"Sửa lỗi scroll với fixed header bằng CSS","path":"/sua-loi-scroll-voi-fixed-header-bang-css/","date":"17. April 2019","timeToRead":1,"desc":"Giải quyết issue với fixed header và scroll đến một element bằng hashtag","content":"<p>Khi sử dụng hashtag <code class=\"language-text\">#</code> cho attribute <code class=\"language-text\">href</code>, trình duyệt sẽ scroll tới element có id tương ứng <code class=\"language-text\">section-two</code>. Đây là một tính năng từ thời trình duyệt mới ra đời.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#section-two<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Section Two<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Nhưng một khi chúng ta thêm một element với <code class=\"language-text\">position: fixed</code>,  như header, vị trí scroll đến sẽ ko còn đúng nữa, nó vẫn scroll tới element đó, nhưng giờ nó có thể bị che bởi element đang set fixed.</p>\n<p>Có rất nhiều cách để giải quyết vấn đề này trước đây, như thêm vào một đoạn padding vào element, hoặc dùng một đoạn javascript để handle, có tất cả <a href=\"http://nicolasgallagher.com/jump-links-and-viewport-positioning/demo/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">5 cách để giải quyết con issue này</a>. </p>\n<p><img src=\"https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_964,f_auto,q_auto/v1553563039/anchor-linking_z85vjt.gif\" alt=\"Fixed Header, Page Links\"></p>\n<p>Giờ đây chúng ta có cách hoàn toàn mới <strong>chỉ với css</strong></p>\n<p>Sử dụng 2 thuộc tính mới là <code class=\"language-text\">scroll-padding</code> và <code class=\"language-text\">scroll-margin</code></p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">scroll-padding-top</span><span class=\"token punctuation\">:</span> <span class=\"token number\">70</span><span class=\"token unit\">px</span><span class=\"token punctuation\">;</span>\n <span class=\"token comment\">/* giá trị chiều cao của header */</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Hiện tại cái này chỉ chạy tốt trên trình duyệt dùng Chromium</p>\n<iframe height=\"265\" style=\"width: 100%;\" scrolling=\"no\" title=\"Scroll Padding on Fixed Postion Headers\" src=\"//codepen.io/chriscoyier/embed/NJJERg/?height=265&theme-id=0&default-tab=html,result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href='https://codepen.io/chriscoyier/pen/NJJERg/'>Scroll Padding on Fixed Postion Headers</a> by Chris Coyier \n  (<a href='https://codepen.io/chriscoyier'>@chriscoyier</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://css-tricks.com/fixed-headers-on-page-links-and-overlapping-content-oh-my/\">HFixed Headers, On-Page Links, and Overlapping Content, Oh My!\n</a></p>\n"}},{"node":{"title":"Những cách thay đổi giá trị fill của SVG khi hover","path":"/nhung-cach-thay-doi-gia-tri-fill-cua-svg-khi-hover/","date":"10. February 2019","timeToRead":4,"desc":"Chúng ta có thể định dạng file SVG một cách dễ dàng bằng CSS, chúng ta sẽ tận dụng CSS để thay đổi định dạng khi hover chuột lên. Tất cả những cách có thể làm sẽ được liệt kê trong bài viết này.","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#thay-%C4%91%E1%BB%95i-b%E1%BA%B1ng-gi%C3%A1-tr%E1%BB%8B-fill\">Thay đổi bằng giá trị <code class=\"language-text\">fill</code></a></li>\n<li><a href=\"#css-filters\">CSS Filters</a></li>\n<li><a href=\"#svg-filters\">SVG filters</a></li>\n</ul>\n<!-- /TOC -->\n<p>File SVG</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>icon<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code></pre>\n<h2 id=\"thay-đổi-bằng-giá-trị-fill\"><a href=\"#thay-%C4%91%E1%BB%95i-b%E1%BA%B1ng-gi%C3%A1-tr%E1%BB%8B-fill\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thay đổi bằng giá trị <code class=\"language-text\">fill</code></h2>\n<p>Cách dễ nhất, 1 dòng css duy nhất</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.icon</span><span class=\"token pseudo-class\">:hover</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">fill</span><span class=\"token punctuation\">:</span> <span class=\"token hexcode color\">#DA4567</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Tuy nhiên cái này chỉ làm được khi chúng ta sử dụng file svg dạng <em>inline</em>, nếu dùng thẻ <code class=\"language-text\">&lt;img src=&#39;duong-dan-file.svg&#39;&#39;/&gt;</code>, để tách riêng file svg ra cho nó sạch sẽ file html, cached lại hình này trên trình duyệt, thì coi như chúng ta không thực hiện được cách ở trên.</p>\n<h2 id=\"css-filters\"><a href=\"#css-filters\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CSS Filters</h2>\n<p>Với CSS filters chúng ta có trong tại kha khá đồ chơi <strong>như trong photoshop</strong> để <em>vẽ hoa vẽ lá</em> trên trình duyệt. Filter cũng sẽ được thực hiện sau khi trình duyệt render xong DOM, thực hiện xong bước paint (cái này các bạn phải xem lại critical render path để rõ hơn), nghĩa là nếu ko được hỗ trợ bởi trình duyệt thì cũng ko tới mức bể layout</p>\n<ul>\n<li>brightness(<number-percentage>);</li>\n<li>contrast(<number-percentage>);</li>\n<li>grayscale(<number-percentage>);</li>\n<li>invert(<number-percentage>);</li>\n<li>opacity(<number-percentage>);</li>\n<li>saturate(<number-percentage>);</li>\n<li>sepia(<number-percentage>);</li>\n<li>hue-rotate(<angle>);</li>\n<li>blur(<length>);</li>\n<li>drop-shadow(<length><color>);</li>\n</ul>\n<p>Chúng ta ko có filter nào để thay đổi cụ thể một giá trị màu, chỉ có <code class=\"language-text\">hue-rotate</code> để <strong>chỉnh nhẹ</strong> cái màu đang hiển thị. May mắn là chúng ta có thể kết hợp nhiều giá trị filter cùng một lúc</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.icon</span><span class=\"token pseudo-class\">:hover</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token function\">grayscale</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">)</span> <span class=\"token function\">sepia</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Nếu một trong số các filter ko được hỗ trợ, thì nó <em>nhẹ nhàng</em> cho qua, chứ ko bỏ hết thuộc tính filter. Nếu bạn dùng photoshop rồi, cũng hiểu là thứ tự áp dụng các filter sẽ ảnh hưởng đến kết quả cuối cùng.</p>\n<p><img src=\"https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_891,f_auto,q_auto/v1548375654/s_178E094ED4F0E309B3AB7AE2DA412CE0BF45D3B8E0DADFAE5F16060B35783F80_1548178599920_ScreenShot2019-01-15at16.05.26_nfeayr.png\" alt=\"Những cách thay đổi giá trị fill của SVG khi hover\"></p>\n<p>Để sử dụng <code class=\"language-text\">hue-rotate</code> chúng ta phải dùng một ảnh SVG có màu, lẽ nào bạn dùng ảnh gốc trắng đen rồi css đổ màu vào được?</p>\n<p><img src=\"https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_730,f_auto,q_auto/v1548375670/s_178E094ED4F0E309B3AB7AE2DA412CE0BF45D3B8E0DADFAE5F16060B35783F80_1548178627636_ScreenShot2019-01-16at10.20.53_ze2wh8.png\" alt=\"Những cách thay đổi giá trị fill của SVG khi hover\"></p>\n<p>Trước hết phải <code class=\"language-text\">invert()</code> cái hình xuống, chuyển thành dạng medium grey</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.icon</span><span class=\"token pseudo-class\">:hover</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token function\">invert</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_1000,f_auto,q_auto/v1548375770/svg-icon-filter-01_ovjce8.png\" alt=\"Những cách thay đổi giá trị fill của SVG khi hover\"></p>\n<p>Sau đó mới dùng <code class=\"language-text\">sepia()</code></p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.icon</span><span class=\"token pseudo-class\">:hover</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token function\">invert</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token function\">sepia</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_1000,f_auto,q_auto/v1548375803/svg-icon-filter-02_rfpwow.png\" alt=\"Những cách thay đổi giá trị fill của SVG khi hover\"></p>\n<p>Tiếp đến là thêm màu sắc mình yêu thích</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.icon</span><span class=\"token pseudo-class\">:hover</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token function\">invert</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token function\">sepia</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token function\">hue-rotate</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token unit\">deg</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_1000,f_auto,q_auto/v1548376336/svg-icon-filter-05_b7hae1.png\" alt=\"Những cách thay đổi giá trị fill của SVG khi hover\"></p>\n<p>Tinh chỉnh một chút nữa</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.icon</span><span class=\"token pseudo-class\">:hover</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> \n    <span class=\"token function\">invert</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">sepia</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">hue-rotate</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token unit\">deg</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">saturate</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">brightness</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_1000,f_auto,q_auto/v1548375874/svg-icon-filter-04_v4mo9x.png\" alt=\"Những cách thay đổi giá trị fill của SVG khi hover\"></p>\n<p>Để dễ hình dung hơn, <a href=\"https://codepen.io/cassie-codes/pen/561304e31eb955362b8d850d7eb7500e\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">dùng tool này của tác giả</a>, kéo thả thấy kết quả</p>\n<p>Tuy nhiên đây cũng chỉ cho được kết quả là một màu tương đối, không chỉ định một màu cụ thể được</p>\n<h2 id=\"svg-filters\"><a href=\"#svg-filters\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>SVG filters</h2>\n<p>Nếu cần hỗ trợ nhiều trình duyệt hơn, màu sắc cụ thể hơn, dùng đến SVG</p>\n<p>Không giống với CSS, chúng ta phải <em>đổ mồ hôi sôi nước miếng</em> mới làm được</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;http://www.w3.org/2000/svg><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">version</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1.1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>defs</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>filter</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id-of-your-filter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      ...          \n      ...\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>filter</span><span class=\"token punctuation\">></span></span>\n    ...\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>defs</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Chúng ta định nghĩa bằng thẻ <code class=\"language-text\">&lt;filter /&gt;</code>, thẻ này phải nằm trong thẻ <code class=\"language-text\">&lt;defs/&gt;</code></p>\n<p>Trong CSS chúng ta trỏ đến thằng filter ở trên như sau</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.icon</span><span class=\"token pseudo-class\">:hover</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'assets/your-SVG.svg#id-of-your-filter'</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Những filter có thể sử dụng</p>\n<ul>\n<li><code class=\"language-text\">&lt;feBlend&gt;</code></li>\n<li><code class=\"language-text\">&lt;feColorMatrix&gt;</code></li>\n<li><code class=\"language-text\">&lt;feComponentTransfer&gt;</code></li>\n<li><code class=\"language-text\">&lt;feComposite&gt;</code></li>\n<li><code class=\"language-text\">&lt;feConvolveMatrix&gt;</code></li>\n<li><code class=\"language-text\">&lt;feDiffuseLighting&gt;</code></li>\n<li><code class=\"language-text\">&lt;feDisplacementMap&gt;</code></li>\n<li><code class=\"language-text\">&lt;feDropShadow&gt;</code></li>\n<li><code class=\"language-text\">&lt;feFlood&gt;</code></li>\n<li><code class=\"language-text\">&lt;feGaussianBlur&gt;</code></li>\n<li><code class=\"language-text\">&lt;feImage&gt;</code></li>\n<li><code class=\"language-text\">&lt;feMerge&gt;</code></li>\n<li><code class=\"language-text\">&lt;feMorphology&gt;</code></li>\n<li><code class=\"language-text\">&lt;feOffset&gt;</code></li>\n<li><code class=\"language-text\">&lt;feSpecularLighting&gt;</code></li>\n<li><code class=\"language-text\">&lt;feTile&gt;</code></li>\n<li><code class=\"language-text\">&lt;feTurbulence&gt;</code></li>\n</ul>\n<p>Với yêu cầu đổi màu, chúng ta sẽ dùng <code class=\"language-text\">feColorMatrix</code></p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;http://www.w3.org/2000/svg><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">version</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1.1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>defs</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>filter</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id-of-your-filter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>feColorMatrix</span>\n        <span class=\"token attr-name\">color-interpolation-filters</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sRGB<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>matrix<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">values</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1 0 0 0 0\n                0 1 0 0 0\n                0 0 1 0 0\n                0 0 0 1 0 <span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>filter</span><span class=\"token punctuation\">></span></span>\n    ...\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>defs</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Cùng xem xét kỹ hơn giá trị matrix chúng ta đã sử dụng ở trên</p>\n<p><img src=\"https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_795,f_auto,q_auto/v1548375895/s_178E094ED4F0E309B3AB7AE2DA412CE0BF45D3B8E0DADFAE5F16060B35783F80_1548179549387_ScreenShot2019-01-16at18.17.32_n1bwdy.png\" alt=\"Những cách thay đổi giá trị fill của SVG khi hover\"></p>\n<p>Các cột giá trị tương ứng là red, green, blue, alpha và multiplier. Chúng ta sẽ ko quan tâm đến giá trị multiplier với nhu cầu đổi màu, chỉ cần 4 giá trị ở đầu.</p>\n<p><img src=\"https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_762,f_auto,q_auto/v1548375908/s_178E094ED4F0E309B3AB7AE2DA412CE0BF45D3B8E0DADFAE5F16060B35783F80_1548179504680_ScreenShot2019-01-16at17.44.47_lin7vm.png\" alt=\"Những cách thay đổi giá trị fill của SVG khi hover\"></p>\n<p>Ví dụ chúng ta muốn set giá trị rgba(0,128,128,1), chuyển nó về giá trị ma trận theo cách tính</p>\n<p><img src=\"https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_816,f_auto,q_auto/v1548375925/s_178E094ED4F0E309B3AB7AE2DA412CE0BF45D3B8E0DADFAE5F16060B35783F80_1548179540671_ScreenShot2019-01-16at18.39.03_oe0itu.png\" alt=\"Những cách thay đổi giá trị fill của SVG khi hover\"></p>\n<blockquote>\n<p>Lưu ý: SVG filter không thực hiện được trên hình nền đen, nên nếu đang là hình đen thì invert nó thành trắng trước khi thực hiện</p>\n</blockquote>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.icon</span><span class=\"token pseudo-class\">:hover</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token function\">invert</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token unit\">%</span><span class=\"token punctuation\">)</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'assets/your-SVG.svg#id-of-your-filter'</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Tiếp tục <a href=\"https://codepen.io/cassie-codes/pen/46c5b9af3e9923138f950bcdd1dfc4af\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">sử dụng công cụ</a> <strong>kéo thả thấy kết quả</strong> của tác giả nếu bạn ko siêng làm toán <strong>mẫu giáo</strong></p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://css-tricks.com/the-many-ways-to-change-an-svg-fill-on-hover-and-when-to-use-them/\n\">The Many Ways to Change an SVG Fill on Hover (and When to Use Them)</a></p>\n"}},{"node":{"title":"Dùng Px, Em hay Rem để viết media query","path":"/dung-px-em-hay-rem-de-viet-media-query/","date":"26. November 2018","timeToRead":3,"desc":"Khi viết media query, bạn có bao giờ thắc mắc nên dùng đơn vị nào: px, em hay rem?","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#setup-%C4%91%E1%BB%83-th%E1%BB%AD-nghi%E1%BB%87m\">Setup để thử nghiệm</a></li>\n<li><a href=\"#thay-%C4%91%E1%BB%95i-font-size-%E1%BB%9F-html\">Thay đổi font size ở HTML</a></li>\n<li><a href=\"#user-g%E1%BB%8Di-zoom-in\">User gọi Zoom In</a></li>\n<li><a href=\"#user-thay-%C4%91%E1%BB%95i-gi%C3%A1-tr%E1%BB%8B-font-m%E1%BA%B7c-%C4%91%E1%BB%8Bnh-c%E1%BB%A7a-tr%C3%ACnh-duy%E1%BB%87t\">User thay đổi giá trị font mặc định của trình duyệt</a></li>\n<li><a href=\"#k%E1%BA%BFt-lu%E1%BA%ADn\">Kết luận</a></li>\n</ul>\n<!-- /TOC -->\n<p>Các bạn đọc bài này mình mặc định bạn đã phân biệt được sự khác nhau giữa <code class=\"language-text\">em</code> và <code class=\"language-text\">rem</code></p>\n<h2 id=\"setup-để-thử-nghiệm\"><a href=\"#setup-%C4%91%E1%BB%83-th%E1%BB%AD-nghi%E1%BB%87m\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Setup để thử nghiệm</h2>\n<p>Chúng ta sẽ dùng 3 div tô 3 màu khác nhau để thấy được kết quả dễ dàng</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\"><span class=\"token class\">.pixel</span></span> <span class=\"token punctuation\">{</span> <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token color\">red</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token selector\"><span class=\"token class\">.em</span></span> <span class=\"token punctuation\">{</span> <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token color\">green</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token selector\"><span class=\"token class\">.rem</span></span> <span class=\"token punctuation\">{</span> <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token color\">blue</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span></code></pre>\n<p>Chúng ta viết query min-width trên 3 element này, thay đổi opacity để thấy được khi nào css này được áp dụng</p>\n<pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token selector\">.pixel </span><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token color\">red</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">.5</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Chúng ta sẽ đặt font-size cho html là 16px = 1em = 1rem. Như vậy 400px = 25em = 25rem</p>\n<pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token selector\">.em </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token color\">green</span><span class=\"token punctuation\">;</span>  \n  <span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">25</span><span class=\"token unit\">em</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.5</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.rem </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token color\">blue</span><span class=\"token punctuation\">;</span>  \n  <span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">25</span><span class=\"token unit\">rem</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.5</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Tất cả đều được trigger ở chính xác kích thước 400px</p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/control.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<h2 id=\"thay-đổi-font-size-ở-html\"><a href=\"#thay-%C4%91%E1%BB%95i-font-size-%E1%BB%9F-html\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thay đổi font size ở HTML</h2>\n<p>Trường hợp phổ biến nhất chúng ta hay gặp là thay đổi font-size trên HTML</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">html</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span><span class=\"token unit\">%</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Khi thay đổi font-size lên 200%, nghĩa là 1em = 1rem = 32px. Nếu sự thay đổi font-size này tác động lên <code class=\"language-text\">em</code> và <code class=\"language-text\">rem</code>, chúng ta sẽ thấy 2 element bên dưới trigger ở 800px</p>\n<p>Kết quả trên Chrome, Firefox và IE11, cả 3 thằng đều trigger ở 400px</p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/chrome.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<p>Nếu chạy đúng, <code class=\"language-text\">em</code> và <code class=\"language-text\">rem</code> không nên bị ảnh hưởng bởi thay đổi font-size trên HTML, nó chỉ được phụ thuộc vào font-size mặc định của trình duyệt.</p>\n<p>Tuy nhiên, trên Safari lại cho kết quả không như mong đợi, nó trigger ở 800px</p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/safari-200.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<p>Với kết quả này chúng ta có thể bỏ qua việc sử dụng <code class=\"language-text\">rem</code> với media query vì nó ko đảm bảo chạy đúng trên mọi trình duyệt.</p>\n<p>Tuy nhiên, các thí nghiệm bên dưới chúng ta vẫn đưa <code class=\"language-text\">rem</code> vào cho vui!</p>\n<h2 id=\"user-gọi-zoom-in\"><a href=\"#user-g%E1%BB%8Di-zoom-in\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>User gọi Zoom In</h2>\n<p>Đây cũng là tình huống thường thấy, chữ quá nhỏ, user có xu hướng zoom to lên xem.</p>\n<blockquote>\n<p>Nguyên nhân chính có đơn vị <code class=\"language-text\">em</code> là vì các trình duyệt cũ không thể update giá trị pixel khi user gọi zoom</p>\n</blockquote>\n<p>Trên Chrome, Firefox và IE, <code class=\"language-text\">px</code>, <code class=\"language-text\">em</code>, <code class=\"language-text\">rem</code> xảy ra cùng lúc</p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/chrome-zoom.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<p>Và đương nhiên Safari tiếp tục không giống ai </p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/safari-zoom.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<p>Điều này có nghĩa là, đơn vị pixel không đúng trên mọi browser, bạn nên dừng sử dụng pixel trong câu media query, trừ khi bạn thuộc kiểu sống bất chấp sự tồn tại của safari</p>\n<h2 id=\"user-thay-đổi-giá-trị-font-mặc-định-của-trình-duyệt\"><a href=\"#user-thay-%C4%91%E1%BB%95i-gi%C3%A1-tr%E1%BB%8B-font-m%E1%BA%B7c-%C4%91%E1%BB%8Bnh-c%E1%BB%A7a-tr%C3%ACnh-duy%E1%BB%87t\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>User thay đổi giá trị font mặc định của trình duyệt</h2>\n<p>Rất nhiều developer tin rằng user chả đứa nào thay đổi font size mặc định của trình duyệt, tìm cái thiết đặt này trong trình duyệt đã đủ khó khăn làm user nản chí</p>\n<p>Tuy nhiên đó là niềm tin không có căn cứ, không có dữ liệu chứng minh được, user vẫn có thể google tìm cách thay đổi font size mặc định của trình duyệt, đặc biệt các thanh niên bị cận như mình.</p>\n<p>Nếu chưa biết cách thay đổi font-size mặc định của trình duyệt, mình chỉ cho</p>\n<p>Chrome: <strong>Settings > Show advanced settings > Web content</strong>\nFirefox: <strong>preferences > content > fonts and colors</strong>\nIE: <strong>page > text-size</strong></p>\n<p>Safari thì mình chưa biết thay đổi font-size của nó bằng cách nào.</p>\n<p><img src=\"https://zellwk.com/images/2016/media-query-units/chrome-very-large-font-size.gif\" alt=\"Dùng Px, Em hay Rem để viết media query\"></p>\n<p>Như có thể thấy, câu query dùng <code class=\"language-text\">px</code> trigger sớm hơn <code class=\"language-text\">em</code> và <code class=\"language-text\">rem</code></p>\n<p>Cái này không phải là bug, vì px là đơn vị chính xác đến từng pixel!!! Nó chỉ cần biết kích thước độ rộng màn hình, không liên quan họ hàng gì tới font-size</p>\n<p>Ngược lại 2 đơn vị <code class=\"language-text\">rem</code> và <code class=\"language-text\">em</code> phụ thuộc hoàn toàn vào font-size của trình duyệt</p>\n<blockquote>\n<p>Chúng ta phải nói lời chia tay với pixel khi viết media query</p>\n</blockquote>\n<p>Ví dụ bạn setup để màn hình dưới 600px có một cột, ngược lại có 2 cột. Mọi thứ đẹp nếu font size là 16px, tuy nhiên nếu user đổi font size thành 20px và xem ở màn hình 650px. Đơn vị <code class=\"language-text\">rem</code> và <code class=\"language-text\">em</code> sẽ cho ra giao diện 1 cột, trong khi pixel vẫn <em>lì lợm</em> 2 cột bất chấp cái font chữ giờ đã to đùng.</p>\n<h2 id=\"kết-luận\"><a href=\"#k%E1%BA%BFt-lu%E1%BA%ADn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kết luận</h2>\n<p><strong>Đơn vị cho kết quả chấp nhận được ở mọi tình huống là <code class=\"language-text\">em</code></strong></p>\n<p>Nếu từng thắc mắc khi đang dùng một thư viện nào đó, như bootstrap, tại sao nó lại dùng đơn vị <code class=\"language-text\">em</code> trong câu media query, thì giờ bạn đã có câu trả lời rồi đó.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://zellwk.com/blog/media-query-units/\">PX, EM or REM Media Queries?</a></p>\n"}}]}}},"context":{}}
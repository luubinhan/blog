{"hash":"084851c55e1477b257044c7ff732964430b45419","data":{"post":{"title":"Các vấn đề khi làm việc với ngày tháng trong javascript","path":"/cac-van-de-khi-lam-viec-voi-ngay-thang-trong-javascript/","slug":"/2018-07-29-huong-dan-javascript-date-lam-viet-voi-javascript-date","date":"2018-07-29","timeToRead":6,"tags":[{"id":"javascript","title":"javascript","path":"/tag/javascript/"}],"desc":"Bỏ túi kỹ năng thiết yếu khi đụng đến xử lý ngày tháng","content":"<!-- TOC -->\n<ul>\n<li><a href=\"#kh%E1%BB%9Fi-t%E1%BA%A1o-date-object\">Khởi tạo Date Object</a></li>\n<li><a href=\"#timezone---khu-v%E1%BB%B1c\">Timezone - Khu vực</a></li>\n<li><a href=\"#convert-v%C3%A0-format-ki%E1%BB%83u-date\">Convert và Format kiểu Date</a></li>\n<li><a href=\"#c%C3%A1c-ph%C6%B0%C6%A1ng-th%E1%BB%A9c-c%E1%BB%A7a-date-object-%C4%91%E1%BB%83-l%E1%BA%A5y-gi%C3%A1-tr%E1%BB%8B\">Các phương thức của Date Object để lấy giá trị</a></li>\n<li><a href=\"#thay-%C4%91%E1%BB%95i-gi%C3%A1-tr%E1%BB%8B\">Thay đổi giá trị</a></li>\n<li><a href=\"#l%E1%BA%A5y-gi%C3%A1-tr%E1%BB%8B-timestamp-hi%E1%BB%87n-t%E1%BA%A1i\">Lấy giá trị timestamp hiện tại</a></li>\n<li><a href=\"#javascript-t%E1%BB%B1-%C4%91%E1%BB%99ng-c%E1%BB%99ng-th%C3%AAm-gi%C3%A1-tr%E1%BB%8B-ng%C3%A0y-gi%E1%BB%9D\">Javascript tự động cộng thêm giá trị ngày giờ</a></li>\n<li><a href=\"#%C4%91%E1%BB%8Bnh-d%E1%BA%A1ng-ng%C3%A0y-gi%E1%BB%9D-theo-v%C3%B9ng-mi%E1%BB%81n\">Định dạng ngày giờ theo vùng miền</a></li>\n<li><a href=\"#so-s%C3%A1nh-2-gi%C3%A1-tr%E1%BB%8B-ng%C3%A0y-gi%E1%BB%9D\">So sánh 2 giá trị ngày giờ</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"khởi-tạo-date-object\"><a href=\"#kh%E1%BB%9Fi-t%E1%BA%A1o-date-object\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Khởi tạo Date Object</h2>\n<p>Mặc dù chỉ gọi là <strong>Date</strong> (ngày), nhưng nó đã bao gồm luôn các API về thời gian</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ngày giờ hiện tại</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// nếu truyền vào 0, chúng ta có giá trị Jan 1st 1970 (UTC)</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>UNIX timestamp là giá trị bằng số ( tính đến giây) của Date</p>\n<blockquote>\n<p>LƯU Ý: UNIX timestamp tính theo giây. Date của JavaScript tính theo <strong>milli giây</strong></p>\n</blockquote>\n<p>Nếu có giá trị UNIX timestamp, khởi tạo một Date Object bằng cách nhân với 1000</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> timestamp <span class=\"token operator\">=</span> <span class=\"token number\">1530826365</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Nếu truyền vào một <code class=\"language-text\">string</code>, thay vì number, gọi <code class=\"language-text\">Date(string)</code> sẽ <code class=\"language-text\">parse</code> giá trị đó, hay ho là ở chỗ nó tự <strong>đoán mò</strong> xem <code class=\"language-text\">string</code> truyền vào đang theo định dạng nào.</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018-07-22\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018-07\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//July 1st 2018, 00:00:00</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Jan 1st 2018, 00:00:00</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"07/22/2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018/07/22\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018/7/22\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018-07-22 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018-07-22T07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"25 March 2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"25 Mar 2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"25 March, 2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"March 25, 2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"March 25 2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"March 2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Mar 1st 2018, 00:00:00</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018 March\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Mar 1st 2018, 00:00:00</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018 MARCH\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Mar 1st 2018, 00:00:00</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018 march\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Mar 1st 2018, 00:00:00</span></code></pre>\n<p>Việc này có một nguy hiểm, thứ tự ngày tháng có thể không đúng như chúng ta mong đợi.</p>\n<p>Tốt nhất là cứ theo chuẩn quốc tế ISO 8601, string dạng thế này</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">YYYY-MM-DDTHH:mm:ss:sssZ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre>\n<p>Điểm lưu ý duy nhất của string này là chữ Z cuối cùng, nó đại diện cho UTC, nếu không có, tức là đang dùng giờ địa phương.</p>\n<p>Dùng <code class=\"language-text\">Date.parse</code>, sẽ trả về timestamp (<strong>milli giây</strong>)</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018-07-22\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018-07\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//July 1st 2018, 00:00:00</span>\n<span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Jan 1st 2018, 00:00:00</span>\n<span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"07/22/2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018/07/22\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018/7/22\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018-07-22 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2018-07-22T07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Hoặc là truyền theo dạng <strong>năm, tháng (từ 0), ngày, giờ, phút, giây, mili giây</strong></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token number\">2018</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">,</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token number\">2018</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"timezone---khu-vực\"><a href=\"#timezone---khu-v%E1%BB%B1c\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Timezone - Khu vực</h2>\n<p>Khi khởi tạo một giá trị ngày giờ chúng ta có thể truyền thêm tham số <em>timezone</em>, nếu không muốn dùng UTC</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// bằng cách thêm +HOURS</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018 07:22:13 +0700\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// bằng cách thêm tên , ICT gồm Campuchia, Lào, Thái Lan, Việt Nam</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018 07:22:13 (ICT)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Nếu truyền sai giá trị timezone, javascript sẽ dùng UTC, không quăng lỗi. Nếu giá trị date đưa đưa vào sai, quăng lỗi 'Invalid Date'</p>\n<p>Để tìm hiểu kỹ hơn timezone, đọc thêm bài này <a href=\"http://vuilaptrinh.com/2019-04-12-huong-dan-tim-hieu-time-zone/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://vuilaptrinh.com/2019-04-12-huong-dan-tim-hieu-time-zone/</a></p>\n<h2 id=\"convert-và-format-kiểu-date\"><a href=\"#convert-v%C3%A0-format-ki%E1%BB%83u-date\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Convert và Format kiểu Date</h2>\n<p>Với một Date object, chúng ta có khá nhiều lựa chọn để chuyển giá trị <em>Date => string</em></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// \"Sun Jul 22 2018 07:22:13 GMT+0200 (Central European Summer Time)\"</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toTimeString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//\"07:22:13 GMT+0200 (Central European Summer Time)\"</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//\"Sun, 22 Jul 2018 05:22:13 GMT\"</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toDateString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//\"Sun Jul 22 2018\"</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//\"2018-07-22T05:22:13.000Z\" (ISO 8601 format)</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toLocaleString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//\"22/07/2018, 07:22:13\"</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toLocaleTimeString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//\"07:22:13\"</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//1532236933000</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//1532236933000</span></code></pre>\n<h2 id=\"các-phương-thức-của-date-object-để-lấy-giá-trị\"><a href=\"#c%C3%A1c-ph%C6%B0%C6%A1ng-th%E1%BB%A9c-c%E1%BB%A7a-date-object-%C4%91%E1%BB%83-l%E1%BA%A5y-gi%C3%A1-tr%E1%BB%8B\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Các phương thức của Date Object để lấy giá trị</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//22</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getDay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//0 (0 là chủ nhật, 1 là thứ 2..)</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//2018</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//6 (Bắt đầu từ 0)</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//7</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//22</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//13</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getMilliseconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//0 (không xác định)</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//1532236933000</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getTimezoneOffset</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//-120 (Tùy theo khu vực và vùng miền).</span></code></pre>\n<p>Các phương thức trên sẽ có thêm phiên bản UTC, trả về giá trị UTC không phụ thuộc vào giá trị timezone hiện tại</p>\n<pre class=\"language-js\"><code class=\"language-js\">date<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUTCDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//22</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUTCDay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//0 (0 means sunday, 1 means monday..)</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUTCFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//2018</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUTCMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//6 (starts from 0)</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUTCHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//5 (not 7 like above)</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUTCMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//22</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUTCSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//13</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUTCMilliseconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//0 (not specified)</span></code></pre>\n<h2 id=\"thay-đổi-giá-trị\"><a href=\"#thay-%C4%91%E1%BB%95i-gi%C3%A1-tr%E1%BB%8B\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Thay đổi giá trị</h2>\n<p>Các phương thức để cập nhập lại giá trị của Date</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setDate</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setDay</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setFullYear</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//note: đừng dùng setYear(), bỏ rồi</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setMonth</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setHours</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setMinutes</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setSeconds</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setMilliseconds</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setTime</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setTimezoneOffset</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<blockquote>\n<p>Lưu ý, nếu ta dùng <code class=\"language-text\">date.setHours(48)</code> sẽ vẫn ok, nó sẽ tự động cộng lên thành một ngày mới, tương tự cho <code class=\"language-text\">setMinutes</code>, <code class=\"language-text\">setSeconds</code></p>\n</blockquote>\n<p>Với <code class=\"language-text\">setHours()</code> chúng ta có thể truyền tham số kiểu <code class=\"language-text\">setHours(0,0,0,0)</code> để cập nhập giờ-phút-giây-mili giây.</p>\n<p>Phiên bản UTC</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setUTCDate</span><span class=\"token punctuation\">(</span>newalue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setUTCDay</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setUTCFullYear</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setUTCMonth</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setUTCHours</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setUTCMinutes</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setUTCSeconds</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndate<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setUTCMilliseconds</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"lấy-giá-trị-timestamp-hiện-tại\"><a href=\"#l%E1%BA%A5y-gi%C3%A1-tr%E1%BB%8B-timestamp-hi%E1%BB%87n-t%E1%BA%A1i\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Lấy giá trị timestamp hiện tại</h2>\n<p>Nếu muốn lấy timestamp hiện tại (mili giây)</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// tương tự như viết</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"javascript-tự-động-cộng-thêm-giá-trị-ngày-giờ\"><a href=\"#javascript-t%E1%BB%B1-%C4%91%E1%BB%99ng-c%E1%BB%99ng-th%C3%AAm-gi%C3%A1-tr%E1%BB%8B-ng%C3%A0y-gi%E1%BB%9D\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Javascript tự động cộng thêm giá trị ngày giờ</h2>\n<p>Nếu chúng ta đưa vào giá trị ngày lớn hơn 31, javascript sẽ cộng lên thành tháng tiếp theo, chứ không báo lỗi (không rõ là nên vui hay buồn với tính năng này)</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token number\">2018</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">40</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//Thu Aug 09 2018 00:00:00 GMT+0200</span></code></pre>\n<h2 id=\"định-dạng-ngày-giờ-theo-vùng-miền\"><a href=\"#%C4%91%E1%BB%8Bnh-d%E1%BA%A1ng-ng%C3%A0y-gi%E1%BB%9D-theo-v%C3%B9ng-mi%E1%BB%81n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Định dạng ngày giờ theo vùng miền</h2>\n<p>Nếu trình duyệt hỗ trợ <code class=\"language-text\">Intl</code>, ta có thể sử dụng để bản địa hóa các giá trị number, string, currencies, date</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// \"12/22/2017\"</span>\n<span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Intl<span class=\"token punctuation\">.</span>DateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">format</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// định dạng kiểu Mỹ</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Intl<span class=\"token punctuation\">.</span>DateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"en-US\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">format</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//\"7/22/2018\"</span>\n\n<span class=\"token comment\">// đưa thêm option để customize lại output</span>\n<span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  year<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n  month<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n  day<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n  hour<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n  minute<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n  second<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Intl<span class=\"token punctuation\">.</span>DateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"en-US\"</span><span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">format</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//\"7/22/2018, 7:22:13 AM\"</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Intl<span class=\"token punctuation\">.</span>DateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"it-IT\"</span><span class=\"token punctuation\">,</span> options2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">format</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//\"22/7/2018, 07:22:13\"</span></code></pre>\n<h2 id=\"so-sánh-2-giá-trị-ngày-giờ\"><a href=\"#so-s%C3%A1nh-2-gi%C3%A1-tr%E1%BB%8B-ng%C3%A0y-gi%E1%BB%9D\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>So sánh 2 giá trị ngày giờ</h2>\n<p>Sử dụng <code class=\"language-text\">Date.getTime()</code> để tính toán sự giá trị ngày tháng, chính xác tới mili giây nhé</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> date1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 10, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> date2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 22, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diff <span class=\"token operator\">=</span> date2<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> date1<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Kiểm tra 2 giá trị Date có bằng nhau không</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> date1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 10, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> date2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"July 10, 2018 07:22:13\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>date2<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> date1<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//dates are equal</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<blockquote>\n<p>Lưu ý là đang so sánh đến mili giây, nên nếu so sánh 2 giá trị <code class=\"language-text\">July 10, 2018 07:22:13</code> và <code class=\"language-text\">July 10, 2018</code> thì nó sẽ không bằng nhau.</p>\n</blockquote>\n<p><a href=\"https://flaviocopes.com/javascript-dates/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The definitive guide to JavaScript Dates</a></p>\n<p><a href=\"https://www.toptal.com/software/definitive-guide-to-datetime-manipulation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.toptal.com/software/definitive-guide-to-datetime-manipulation</a></p>\n<p><a href=\"https://css-tricks.com/everything-you-need-to-know-about-date-in-javascript/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://css-tricks.com/everything-you-need-to-know-about-date-in-javascript/</a></p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/understanding-date-and-time-in-javascript\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.digitalocean.com/community/tutorials/understanding-date-and-time-in-javascript</a></p>\n","cover_image":"","related":[{"id":"261b6ab3101f36044d757da3c9d8d2d0","path":"/lam-viec-voi-console-trong-javascript/","title":"Làm việc với console trong javascript","desc":"Một web developer chân chính là người biết sử dụng console.log :D. Tuy nhiên cũng nên biết rằng console nó còn rất nhiều phương thức khác nữa"},{"id":"b8095fcc4fddb26736d28255b2cd38ed","path":"/lam-viec-voi-form-trong-react/","title":"Làm việc với Form trong React","desc":"Xử lý form trong React, căn bản nhất"},{"id":"2637fdfac069208e010459580d417f63","path":"/5-dieu-can-nho-khi-lam-viec-voi-service-worker/","title":"5 điều cần nhớ khi làm việc với service worker","desc":"Năm điều nhỏ nhỏ, nhưng rất hay ho cần thiết, cần biết"},{"id":"67122717b0acf53933fa6e376df98e0c","path":"/lam-viec-voi-css-modules-trong-react/","title":"Làm việc với CSS Modules trong React","desc":"Sau rất nhiều năm kiếm cơm với CSS, và hiện tại vẫn thế, CSS vẫn luôn là niềm hứng thú của cá nhân mình. Ngày nảy ngày nay để làm việc với Component của React, chúng ta sẽ có nhiều lựa chọn hơn khi 'CSS trong JS' đang là lựa chọn hàng đầu. Trong thời đại của component phủ sóng khắp các mặt trận, CSS Modules hứa hiện là món ngon"}]}},"context":{}}
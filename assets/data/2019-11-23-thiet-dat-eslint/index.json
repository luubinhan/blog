{"hash":"99e40fc31a30de3332c68fee139e44329976dab8","data":{"post":{"title":"Thiáº¿t Ä‘áº·t ESLint cho dá»± Ã¡n React","path":"/2019-11-23-thiet-dat-eslint/","date":"2019-11-23","timeToRead":2,"tags":[{"id":"thu-thuat","title":"thu-thuat","path":"/tag/thu-thuat/"},{"id":"tool","title":"tool","path":"/tag/tool/"}],"desc":"CÃ¡c thiáº¿t Ä‘áº·t vÃ  cÃ´ng cá»¥ cáº§n thiáº¿t Ä‘á»ƒ eslint hoáº¡t Ä‘á»™ng tá»‘t trong dá»± Ã¡n React","content":"<p>ESLint cÃ³ thá»ƒ cÃ i global, nhÆ°ng mÃ¬nh tháº¥y nÃªn cÃ i trÃªn tá»«ng project sáº½ tiá»‡n hÆ¡n khi pháº£i mang Ä‘i mang láº¡i. ÄÃ¢y lÃ  nhá»¯ng package cáº§n thiáº¿t cho eslint cháº¡y trÃªn project React</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev\neslint\nbabel-eslint\neslint-config-airbnb\neslint-config-babel\neslint-config-prettier\neslint-plugin-import\neslint-plugin-react</code></pre>\n<p>BÃªn trong thÆ° má»¥c gá»‘c cá»§a project, táº¡o má»™t file <code class=\"language-text\">.eslintrc</code>, vá»›i ná»™i dung ngáº¯n gá»n tháº¿ nÃ y (muá»‘n thÃªm bá»›t nhÆ° tháº¿ nÃ y thÃ¬ má»i ngÆ°á»i tá»± tÃ¹y chá»‰nh theo Ã½ thÃ­ch)</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"airbnb\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"plugin:prettier/recommended\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"plugin:jsx-a11y/recommended\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"prettier\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"jsx-a11y\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"parser\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"babel-eslint\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"env\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"browser\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Máº¥y bá»™ config sáºµn cá»§a <strong>airbnb</strong>, <strong>prettier</strong> vÃ  <strong>jsx-a11y</strong> náº¿u khÃ´ng Ä‘á»§ dÃ¹ng, báº¡n cÃ³ thá»ƒ tá»± thÃªm máº¯m muá»‘i vÃ o trong file nÃ y luÃ´n.</p>\n<p>Thay vÃ¬ má»—i láº§n pháº£i cháº¡y lint thá»§ cÃ´ng trÃªn tá»«ng file/thÆ° má»¥c</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">npx eslint src/App.js</code></pre>\n<p><img src=\"https://miro.medium.com/max/1480/1*_P4YPpbVg4L-Utu7egF-vg.png\"></p>\n<p>ChÃºng ta cÃ³ thá»ƒ thÃªm má»™t Ä‘oáº¡n shortcut vÃ o trong <code class=\"language-text\">package.json</code></p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"lint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint .\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"lint:fix\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"eslint --fix .\"</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Sau nÃ y chÃºng ta cÃ³ thá»ƒ cháº¡y</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">// cháº¡y kiá»ƒm tra\n<span class=\"token function\">npm</span> run lint\n\n// cháº¡y sá»­a lá»—i\n<span class=\"token function\">npm</span> run lint:fix</code></pre>\n<p>Äá»£i nÃ³ cháº¡y má»›i bÃ¡o lá»—i cÅ©ng Ä‘Æ°á»£c, náº¿u Ä‘ang xÃ i VSCode, cÃ i package <a href=\"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint#overview\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">vscode-eslint</a> nÃ y vÃ o, nÃ³ sáº½ highlight nhá»¯ng lá»—i eslint ngay trÃªn giao diá»‡n khÃ´ng cáº§n pháº£i Ä‘á»£i cháº¡y má»›i bÃ¡o</p>\n<p><img src=\"https://miro.medium.com/max/2880/1*O6Q5VDIKC4UM_sfJOlE82w.png\" alt=\"ChÆ°a cÃ i ESLint\"></p>\n<p><img src=\"https://miro.medium.com/max/2880/1*n20krHQQGci7D347-4HELQ.png\" alt=\"ÄÃ£ cÃ i ESlint\"></p>\n<p>Äá»ƒ há»— trá»£ team tá»‘i Ä‘a, báº¡n cÃ³ thá»ƒ <em>export</em> nhá»¯ng thiáº¿t Ä‘áº·t cá»§a VSCode vÃ o 1 file trong thÆ° má»¥c <code class=\"language-text\">.vscode</code>, khi team nháº­n Ä‘Æ°á»£c thÆ° má»¥c project Ä‘á»“ng thá»i cÅ©ng cÃ³ luÃ´n cÃ¡c plugin vÃ  thiáº¿t Ä‘áº·t cáº§n thiáº¿t</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// file extensions.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"recommendations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"dbaeumer.vscode-eslint\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"esbenp.prettier-vscode\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"dzannotti.vscode-babel-coloring\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// File settings.json</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"eslint.validate\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"javascript\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"javascriptreact\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"language\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"typescript\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"autoFix\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token property\">\"language\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"typescriptreact\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"autoFix\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslintConfig\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"react-app\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"shared-config\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"rules\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"additional-rule\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"warn\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"overrides\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"**/*.ts?(x)\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"rules\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"additional-typescript-only-rule\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"warn\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>ChÃºng ta cÅ©ng nÃªn dÃ¹ng Prettier Ä‘á»ƒ format code láº¡i trÆ°á»›c khi commit lÃªn git. CÃ i Ä‘áº·t cÃ¡c package cáº§n thiáº¿t cho nhu cáº§u nÃ y</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save\nhusky\nlint-staged\nprettier</code></pre>\n<ul>\n<li><code class=\"language-text\">husky</code> sáº½ giÃºp chÃºng ta tÆ°Æ¡ng tÃ¡c vá»›i git hook</li>\n<li><code class=\"language-text\">lint-stated</code> cho phÃ©p chÃºng ta cháº¡y script trÃªn cÃ¡c file Ä‘ang náº±m trong staged</li>\n<li><code class=\"language-text\">prettier</code> lÃ  cÃ´ng cá»¥ Ä‘á»ƒ format code</li>\n</ul>\n<p>Tiáº¿p theo, má»Ÿ file <code class=\"language-text\">package.json</code></p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"husky\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"hooks\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"pre-commit\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"lint-staged\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>BÃªn dÆ°á»›i chá»— dependencies cá»§a file package.json</p>\n<pre class=\"language-diff\"><code class=\"language-diff\">\"dependencies\": {\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\">   // ...\n</span><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> },\n</span></span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span><span class=\"token line\"> \"lint-staged\": {\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   \"src/**/*.{js,jsx,ts,tsx,json,css,scss,md}\": [\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"prettier --write\",\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">     \"git add\"\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\">   ]\n</span><span class=\"token prefix inserted\">+</span><span class=\"token line\"> },\n</span></span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span><span class=\"token line\"> \"scripts\": {</span></span></code></pre>\n<p>Háº¿t ! ğŸ˜‰</p>\n","cover_image":"","related":[{"id":"f1e7e7301a64eaa87386851839352f42","path":"/2020-02-03-huong-dan-cai-dat-eslint-react-javascript-typescript-vscode/","title":"Chá»‰ dáº«n thiáº¿t Ä‘áº·t ESLint trong nhiá»u tÃ¬nh huá»‘ng sá»­ dá»¥ng Javascript, Typescript, React","desc":"ChÃºng ta báº¯t Ä‘áº§u vá»›i Javascript trÆ°á»›c, sau Ä‘Ã³ sáº½ lÃ  TypeScript, vÃ  React. Má»¥c tiÃªu lÃ  lÃ m Ä‘Ãºng, trÃ¡nh trÆ°á»ng há»£p cÃ i package khÃ´ng cáº§n thiáº¿t hoáº·c copy/paste cÃ¡c config tá»›i khi nÃ³ cháº¡y Ä‘Æ°á»£c thÃ¬ thÃ´i."},{"id":"4819e08d90839e2a61d516158dad2f2e","path":"/2018-09-25-huong-dan-thiet-ke-react-component-tot/","title":"Chá»‰ dáº«n Ä‘á»ƒ thiáº¿t káº¿ React Component","desc":"Tá»‘t hÆ¡n, tá»‘t ná»¯a, tá»‘t mÃ£i, luÃ´n lÃ  Ä‘iá»u mÃ¬nh muá»‘n, ngoÃ i chuyá»‡n viáº¿t cho nÃ³ cháº¡y Ä‘Ãºng, viáº¿t tháº¿ nÃ o tá»‘t nháº¥t nÃªn lÃ  má»¥c tiÃªu khi lÃ m viá»‡c"},{"id":"13769eb9687935dbba28cbe5e1a0818b","path":"/2019-10-14-huong-dan-dat-ten-bien-trong-javascript/","title":"Äáº·t tÃªn sao cho Ä‘áº¹p trong javascript","desc":"Kim chá»‰ nam khi Ä‘áº·t tÃªn trong javascript, náº¿u tháº­t sá»± ban quan tÃ¢m nhá»¯ng gÃ¬ mÃ¬nh Ä‘ang viáº¿t"}]}},"context":{}}
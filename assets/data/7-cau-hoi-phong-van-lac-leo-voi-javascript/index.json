{"hash":"758a6cb1620fd44d4d49859fe95b9857298eb57d","data":{"post":{"title":"7 CÃ¢u há»i phá»ng váº¥n láº¯c lÃ©o vá»›i Javascript","path":"/7-cau-hoi-phong-van-lac-leo-voi-javascript/","date":"2019-10-18","timeToRead":4,"tags":[{"id":"javascript","title":"javascript","path":"/tag/javascript/"}],"desc":"Thá»­ kiáº¿n thá»©c javascript cá»§a báº¡n Ä‘Ã£ Ä‘á»§ cho cuá»™c phá»ng váº¥n cam go sáº¯p tá»›i chÆ°a","content":"<h2 id=\"1\"><a href=\"#1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1</h2>\n<p>Káº¿t quáº£ cá»§a <code class=\"language-text\">typeof a</code> vÃ  <code class=\"language-text\">typeof b</code> trong Ä‘oáº¡n code sau</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> b <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  a<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> a<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">typeof</span> a<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span>\n<span class=\"token keyword\">typeof</span> b<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span></code></pre>\n<p><em>ÄÃ¡p Ã¡n</em></p>\n<p>Láº¯c lÃ©o lÃ  á»Ÿ chá»• <code class=\"language-text\">let a = b = 0</code>. CÃ¢u nÃ y khai bÃ¡o má»™t biáº¿n cá»¥c bá»™ <code class=\"language-text\">a</code>, <strong>Ä‘á»“ng thá»i khai bÃ¡o má»™t biáº¿n toÃ n cá»¥c <code class=\"language-text\">b</code></strong></p>\n<p>VÃ¬ khÃ´ng cÃ³ má»™t khai bÃ¡o nÃ o cá»§a <code class=\"language-text\">b</code>, javascript tá»± hiá»ƒu b chÃ­nh lÃ  <code class=\"language-text\">window.b = 0</code> ğŸ˜‚ğŸ˜‚</p>\n<p>TrÆ°á»ng há»£p nÃ y gá»i lÃ  <em>vÃ´ tÃ¬nh</em> táº¡o ra má»™t biáº¿n toÃ n cá»¥c, sá»± <em>vÃ´ tÃ¬nh</em> nÃ y cÃ²n cÃ³ thá»ƒ tháº¥y á»Ÿ</p>\n<p><img src=\"https://dmitripavlutin.com/static/41b7ea0d888dd9b298e41b9ff9bf4590/f8b1b/accitental-global-variables.webp\"></p>\n<p>TrÃ¬nh duyá»‡t sáº½  cháº¡y Ä‘oáº¡n code trÃªn nhÆ° tháº¿ nÃ y</p>\n<pre class=\"language-js{2-4}\"><code class=\"language-js{2-4}\">function foo() {\n  let a;\n  window.b = 0;\n  a = window.b;\n  a++;\n  return a;\n}</code></pre>\n<p>âœ… Káº¿t quáº£</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">typeof</span> a<span class=\"token punctuation\">;</span>        <span class=\"token comment\">// => 'undefined'</span>\n<span class=\"token keyword\">typeof</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">b</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => 'number'</span></code></pre>\n<h2 id=\"2\"><a href=\"#2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2</h2>\n<p>GiÃ¡ trá»‹ cá»§a <code class=\"language-text\">clothes[0]</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> clothes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'jacket'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'t-shirt'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nclothes<span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\nclothes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span></code></pre>\n<p>Láº¯c lÃ©o á»Ÿ giÃ¡ trá»‹ <code class=\"language-text\">length</code> cá»§a má»™t array lÃ  má»™t giÃ¡ trá»‹ Ä‘áº·c biá»‡t, Ä‘áº·c biá»‡t á»Ÿ chá»• <em>nÃ³ táº¡o ra side-effect</em>, náº¿u thay Ä‘á»•i giÃ¡ trá»‹ nÃ y sáº½ áº£nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n array Ä‘Ã³. ğŸ˜‚ğŸ˜‚</p>\n<p>Trong trÆ°á»ng há»£p trÃªn, vá»›i viá»‡c <code class=\"language-text\">clothes.length = 0</code> chÃºng ta Ä‘Ã£ xÃ³a toÃ n bá»™ item trong array clothes</p>\n<p>âœ… Káº¿t quáº£ <code class=\"language-text\">clothes[0]</code> lÃ  <code class=\"language-text\">undefined</code></p>\n<h2 id=\"3\"><a href=\"#3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>3</h2>\n<p>Ná»™i dung cá»§a array <code class=\"language-text\">numbers</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> length <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">{</span>\n  numbers<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">push</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nnumbers<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span></code></pre>\n<p>Láº¯c lÃ©o lÃ  á»Ÿ chá»• <code class=\"language-text\">;</code>, náº¿u báº¡n ko Ä‘á»ƒ Ã½ ká»¹.</p>\n<p><img src=\"https://dmitripavlutin.com/static/edd9c7bd7fa83cc909f5b7694686bdfd/f8b1b/for-and-null-statement-pitfall-4.webp\" alt=\"The null statement effect\"></p>\n<p>Äoáº¡n <code class=\"language-text\">for</code> cháº¡y 4 láº§n mÃ  khÃ´ng lÃ m gÃ¬ cáº£ vÃ¬ <code class=\"language-text\">;</code> ğŸ˜‚ğŸ˜‚</p>\n<p>TrÃ¬nh duyá»‡t sáº½ cháº¡y theo kiá»ƒu</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> length <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> i<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// does nothing</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// a simple block</span>\n  numbers<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">push</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nnumbers<span class=\"token punctuation\">;</span> <span class=\"token comment\">// => [5]</span></code></pre>\n<p>âœ… Káº¿t quáº£ <code class=\"language-text\">numbers</code> chá»‰ gá»“m 1 pháº§n tá»­ vá»›i giÃ¡ trá»‹ báº±ng 5</p>\n<p><em>CÃ¢u chuyá»‡n cÃ³ tháº­t, tÃ¡c giáº£ bÃ i viáº¿t nÃ y bá»‹ cháº¥m rá»›t bá»Ÿi cÃ¢u phá»ng váº¥n nÃ y, lÃ½ do Ä‘Æ°á»£c Ä‘Æ°a ra ráº¥t há»£p lÃ½: ChÃºng tÃ´i cáº§n nhá»¯ng ngÆ°á»i cáº©n tháº­n vÃ  chi tiáº¿t</em></p>\n<h2 id=\"4\"><a href=\"#4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>4</h2>\n<p>GiÃ¡ trá»‹ tráº£ vá» cá»§a <code class=\"language-text\">arrayFromValue()</code></p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">arrayFromValue</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span>\n    <span class=\"token punctuation\">[</span>items<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">arrayFromValue</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => ???</span></code></pre>\n<p>Ráº¥t nhiá»u ngÆ°á»i sáº½ khÃ´ng nghÄ© ráº±ng viá»‡c xuá»‘ng dÃ²ng giá»¯a <code class=\"language-text\">return</code> vÃ  <code class=\"language-text\">[items]</code> áº£nh hÆ°á»Ÿng gÃ¬ tá»›i káº¿t quáº£ cuá»‘i cÃ¹ng.</p>\n<p>Javascript tá»± Ä‘á»™ng thÃªm dáº¥u <code class=\"language-text\">;</code> vÃ o sau cÃ¢u <code class=\"language-text\">return</code> ğŸ˜‚ğŸ˜‚</p>\n<pre class=\"language-javascript{2}\"><code class=\"language-javascript{2}\">function arrayFromValue(item) {\n  return;\n  [items];\n}\n\narrayFromValue(10); // => undefined</code></pre>\n<p>âœ… Káº¿t quáº£ cá»§a <code class=\"language-text\">arrayFromValue(10)</code> lÃ  <code class=\"language-text\">undefined</code></p>\n<h2 id=\"5\"><a href=\"#5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>5</h2>\n<p>Káº¿t quáº£ cá»§a <code class=\"language-text\">console.log</code></p>\n<pre class=\"language-javascript{4}\"><code class=\"language-javascript{4}\">let i;\nfor (i = 0; i < 3; i++) {\n  const log = () => {\n    console.log(i);\n  }\n  setTimeout(log, 100);\n}</code></pre>\n<p>Náº¿u cÃ¢u tráº£ lá»i cá»§a báº¡n lÃ  0, 1, 2 thÃ¬ xin chÃºc má»«ng, <em>báº¡n Ä‘Ã£ sai</em>. ğŸ˜‚ğŸ˜‚</p>\n<p>CÃ³ 2 quÃ¡ trÃ¬nh xáº£y ra vá»›i Ä‘oáº¡n code trÃªn, láº¯c lÃ©o lÃ  á»Ÿ chá»• <code class=\"language-text\">setTimeout</code></p>\n<p><strong>QuÃ¡ trÃ¬nh 1</strong></p>\n<ol>\n<li><code class=\"language-text\">for()</code> cháº¡y 3 láº§n. Má»—i láº§n cháº¡y nÃ³ táº¡o ra má»™t hÃ m <code class=\"language-text\">log()</code>, nháº­n giÃ¡ trá»‹ <code class=\"language-text\">i</code>, sau Ä‘Ã³ <code class=\"language-text\">setTimeout()</code> Ä‘Æ°a hÃ m nÃ o vÃ o queue Ä‘á»ƒ cháº¡y sau (xem thÃªm vá» event loop Ä‘á»ƒ hiá»ƒu cÃ¡i queue nÃ y)</li>\n<li>Khi vÃ²ng láº·p <code class=\"language-text\">for()</code> káº¿t thÃºc, giÃ¡ trá»‹ <code class=\"language-text\">i</code> Ä‘ang lÃ  3</li>\n</ol>\n<p><strong>QuÃ¡ trÃ¬nh 2</strong></p>\n<p>Sau 100ms, nÃ³ thá»±c hiá»‡n bÆ°á»›c 2, ba hÃ m <code class=\"language-text\">log()</code> Ä‘Ã£ Ä‘Æ°a vÃ o queue sáº½ láº§n lÆ°á»£t Ä‘Æ°á»£c gá»i, lÃºc nÃ y nÃ y <code class=\"language-text\">i</code> Ä‘ang lÃ  3</p>\n<p>âœ… Káº¿t quáº£ log ra lÃ  3, 3, 3</p>\n<h2 id=\"6\"><a href=\"#6\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>6</h2>\n<p>Káº¿t quáº£ cá»§a so sÃ¡nh</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token number\">0.1</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.2</span> <span class=\"token operator\">===</span> <span class=\"token number\">0.3</span> <span class=\"token comment\">// => ???</span></code></pre>\n<p>TrÆ°á»›c tiÃªn, xem giÃ¡ trá»‹ cá»§a phÃ©p cá»™ng <code class=\"language-text\">0.1 + 0.2</code></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token number\">0.1</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => 0.30000000000000004</span></code></pre>\n<p>ğŸ˜‚ğŸ˜‚Javascript khÃ´ng cho káº¿t quáº£ <code class=\"language-text\">0.3</code> ! ğŸ˜‚ğŸ˜‚</p>\n<p>CÃ¡i sá»± tÃ¬nh nÃ y xáº£y ra lÃ  giÃ¡ trá»‹ <strong>tháº­p phÃ¢n</strong> khi chuyá»ƒn vá» nhá»‹ phÃ¢n khÃ´ng thá»±c sá»± chÃ­nh xÃ¡c</p>\n<p>âœ… NÃªn <code class=\"language-text\">0.1 + 0.2 === 0.3</code> sáº½ lÃ  <code class=\"language-text\">false</code></p>\n<h2 id=\"7\"><a href=\"#7\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>7</h2>\n<p>Chuyá»‡n gÃ¬ xáº£y ra khi truy cáº­p <code class=\"language-text\">myVar</code> vÃ  <code class=\"language-text\">myConst</code> trÆ°á»›c khi khai bÃ¡o</p>\n<pre class=\"language-js{1,2}\"><code class=\"language-js{1,2}\">myVar;   // => ???\nmyConst; // => ???\n\nvar myVar = 'value';\nconst myConst = 3.14;</code></pre>\n<p><img src=\"https://dmitripavlutin.com/static/670c31f21f45e9b8a453e726293f4de0/f8b1b/temporal-dead-zone-and-hoisting-javascript.webp\"></p>\n<p>âœ… Hoisting vÃ  temporal dead zone lÃ  2 khÃ¡i niá»‡m quan trá»ng áº£nh hÆ°á»Ÿng tá»›i vÃ²ng Ä‘á»i cá»§a má»™t biáº¿n trong javascript</p>\n<p>Truy cáº­p vÃ o <code class=\"language-text\">myVar</code> trÆ°á»›c khi khai bÃ¡o sáº½ tráº£ vá» <code class=\"language-text\">undefined</code>, náº¿u khai bÃ¡o báº±ng <code class=\"language-text\">var</code></p>\n<p>Tuy nhiÃªn, náº¿u truy cáº­p <code class=\"language-text\">myConst</code> trÆ°á»›c khi khai bÃ¡o sáº½ tráº£ vá» <code class=\"language-text\">ReferenceError</code>, náº¿u khai bÃ¡o báº±ng <code class=\"language-text\">const</code>, nÃ³ sáº½ náº±m trong khu vá»±c <strong>temporal dead zone</strong>, khÃ´ng ai giáº£i quyáº¿t cho Ä‘áº¿n khi cÃ³ ngÆ°á»i nháº­n trÃ¡ch nhiá»‡m.</p>\n<h2 id=\"káº¿t-luáº­n\"><a href=\"#k%E1%BA%BFt-lu%E1%BA%ADn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Káº¿t luáº­n</h2>\n<p>Báº¡n sáº½ tháº¯c máº¯c, cÃ³ nhá»¯ng cÃ¢u há»i cháº£ bao giá» sá»­ dá»¥ng trong quÃ¡ trÃ¬nh lÃ m viá»‡c, mÃ¬nh cÅ©ng cÃ³ cáº£m giÃ¡c tÆ°Æ¡ng tá»± nhÆ° váº­y khi Ä‘Æ°á»£c há»i nhá»¯ng cÃ¢u láº¯c lÃ©o tháº¿ nÃ y. <em>NhÆ°ng thá»±c táº¿ váº«n bá»‹ há»i khi phá»ng váº¥n</em>.</p>\n<p>CÃ¡c báº¡n cÃ³ nghÄ© nhá»¯ng cÃ¢u há»i <em>láº¯c lÃ©o</em> nhÆ° váº­y cÃ³ cáº§n thiáº¿t trong lÃºc phá»ng váº¥n khÃ´ng? Viáº¿t bÃ¬nh luáº­n á»Ÿ dÆ°á»›i nhÃ©.</p>\n<p><a href=\"https://dmitripavlutin.com/simple-but-tricky-javascript-interview-questions/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">7 Simple but Tricky JavaScript Interview Questions</a></p>\n","cover_image":""}},"context":{}}
<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Chỉ dẫn thiết đặt ESLint trong nhiều tình huống sử dụng Javascript, Typescript, React - VuiLapTrinh.com</title><meta name="gridsome:hash" content="be9cd8cba7af086bce31a0a023c14cacaa870421"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="A simple, hackable &amp; minimalistic starter for Gridsome that uses Markdown for content."><meta data-vue-tag="ssr" name="desc" content="Chúng ta bắt đầu với Javascript trước, sau đó sẽ là TypeScript, và React. Mục tiêu là làm đúng, tránh trường hợp cài package không cần thiết hoặc copy/paste các config tới khi nó chạy được thì thôi."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.9ab035e6.css" as="style"><link rel="preload" href="/assets/js/app.44ac298f.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.905a5c02.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.1906fe28.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.83bbacb6.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.615124f8.js"><link rel="stylesheet" href="/assets/css/0.styles.9ab035e6.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← VuiLapTrinh.com
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">Chỉ dẫn thiết đặt ESLint trong nhiều tình huống sử dụng Javascript, Typescript, React</h1><div class="post-meta">
   Posted 2020-02-03.
   <strong>7 min read.</strong></div></div><div class="post content-box"><div class="post__header"><!----></div><div class="post__content"><!-- TOC -->
<ul>
<li><a href="#t%E1%BA%A1i-sao-d%C3%B9ng-eslint">Tại sao dùng ESLint</a></li>
<li><a href="#c%C3%A0i-%C4%91%E1%BA%B7t-eslint">Cài đặt ESLint</a></li>
<li><a href="#file-c%C3%A0i-%C4%91%E1%BA%B7t-c%E1%BB%A7a-eslint">File cài đặt của ESLint</a></li>
<li><a href="#javascript-thu%E1%BA%A7n">Javascript thuần</a></li>
<li><a href="#thi%E1%BA%BFt-%C4%91%E1%BA%B7t-typescript">Thiết đặt TypeScript</a></li>
<li>
<p><a href="#thi%E1%BA%BFt-%C4%91%E1%BA%B7t-cho-react">Thiết đặt cho React</a></p>
<ul>
<li><a href="#react-javascript">React Javascript</a></li>
<li><a href="#react-typescript">React TypeScript</a></li>
</ul>
</li>
<li><a href="#c%C3%A0i-%C4%91%E1%BA%B7t-cho-vscode">Cài đặt cho VSCode</a></li>
</ul>
<!-- /TOC -->
<p>Nếu chưa rành, bạn cần đọc từ đầu tới cuối, nếu đã thành thạo, chỉ việc nhảy tới phần cuối rồi copy config về xài.</p>
<p>Hướng dẫn này sử dụng bộ config của Airbnb, vì nó quá nổi tiếng và được sử dụng gần như là chuẩn. Tất nhiên, bạn có quyền thay đổi sao cho hợp <em>gu</em></p>
<p>Nếu chưa bao giờ <em>nghe</em> đến hướng dẫn viết <em>code sao cho chuẩn</em> của Airbnb, tham khảo các bài viết sau</p>
<ul>
<li><a href="https://github.com/airbnb/javascript/blob/master/README.md" target="_blank" rel="nofollow noopener noreferrer">Airbnb JavaScript style guide</a></li>
<li><a href="https://github.com/airbnb/javascript/tree/master/react" target="_blank" rel="nofollow noopener noreferrer">Airbnb React style guide</a></li>
<li><a href="https://github.com/airbnb/javascript/tree/master/css-in-javascript" target="_blank" rel="nofollow noopener noreferrer">Airbnb CSS in JavaScript style guide</a></li>
<li><a href="https://github.com/airbnb/css" target="_blank" rel="nofollow noopener noreferrer">Airbnb Sass style guide</a></li>
</ul>
<h2 id="tại-sao-dùng-eslint"><a href="#t%E1%BA%A1i-sao-d%C3%B9ng-eslint" aria-hidden="true"><span class="icon icon-link"></span></a>Tại sao dùng ESLint</h2>
<p>Hiện tại không có bất cứ một đối thủ nào <em>xứng tầm</em> với ESLint, nó là dự án đã và đang được bảo trì bởi cộng đồng rất rộng lớn. Hầu hết các chương trình viết code đều hỗ trợ, chúng ta sẽ không gặp khó khăn trong việc sử dụng nó với VSCode, Vim, Emac, WebStorm, Sublime, Atom,...</p>
<p>Túm lại, ESLint là <strong>nền tảng</strong> xịn sò nhất, bạn không cần lăng tăng tìm <em>người khác</em>.</p>
<h2 id="cài-đặt-eslint"><a href="#c%C3%A0i-%C4%91%E1%BA%B7t-eslint" aria-hidden="true"><span class="icon icon-link"></span></a>Cài đặt ESLint</h2>
<p>Giống như bất kỳ package nào khác, ESLint có thể được cài đặt ở 2 mức</p>
<ul>
<li><em>global</em>, cài luôn vào máy <code class="language-text">npm -g</code></li>
<li>đi theo từng project</li>
</ul>
<p>Việc cài đặt ESLint ở mức <em>global</em> khá là hợp lý vì chúng ta muốn dùng nó ở mọi project. Tuy nhiên cũng <em>hợp lý</em> nếu cài riêng trên từng project nếu bạn đang cần</p>
<ul>
<li>Các phiên bản ESLint khác nhau trên từng dự án</li>
<li>Công khai bạn phụ thuộc vào ESLint cho project đó</li>
<li>Đồng nghiệp và các công cụ tự động (như mấy thằng CI) có thể cài đặt ESlint như những package khác.</li>
</ul>
<p>Cài đặt ESLint trong thư mục project</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> i eslint --save-dev</code></pre>
<p>Chạy ESLint trong project</p>
<pre class="language-bash"><code class="language-bash">npx eslint</code></pre>
<p>Để tạo một <em>shortcut</em> cho câu lệnh chạy eslint. Bên trong file <code class="language-text">package.json</code> thêm dòng sau</p>
<pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"lint"</span><span class="token operator">:</span> <span class="token string">"eslint ."</span>
<span class="token punctuation">}</span></code></pre>
<p>Tham số <code class="language-text">.</code> cho phép chạy ESLint bên trong thư mục hiện tại, chúng ta chạy lệnh thông qua shortcut</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run lint</code></pre>
<h2 id="file-cài-đặt-của-eslint"><a href="#file-c%C3%A0i-%C4%91%E1%BA%B7t-c%E1%BB%A7a-eslint" aria-hidden="true"><span class="icon icon-link"></span></a>File cài đặt của ESLint</h2>
<p>Có thể đặt file cài đặt ESLint ở <a href="https://eslint.org/docs/user-guide/configuring#configuration-cascading-and-hierarchy" target="_blank" rel="nofollow noopener noreferrer">nhiều vị trí</a>. Nếu không có nhu cầu quá đặt biệt, 1 file duy nhất ở thư mục ngoài cùng ( <code class="language-text">root</code> ) là đủ.</p>
<p>ESLint cho phép sử dụng nhiều kiểu file</p>
<ul>
<li>Javascript</li>
<li>JSON</li>
<li>YAML</li>
</ul>
<p>Xài YAML trong ví dụ này. Tạo file tên <code class="language-text">.eslintrc.yaml</code>, cái này nếu bạn chạy <code class="language-text">eslint init</code> trong thư mục <code class="language-text">src/</code> của dự án nó sẽ hỏi bạn có muốn tạo không, nó tạo dùm cho.</p>
<pre class="language-bash"><code class="language-bash">eslint --init</code></pre>
<blockquote>
<p>Nếu muốn thêm <em>logic</em> bằng code, bạn cần dùng kiểu javascript</p>
</blockquote>
<p>Điều cần quan tâm trước hết là thông báo cho ESLint chúng ta đang viết ngôn ngữ gì, phiên bản nào, môi trường mà code sẽ chạy. Nếu không có các thông tin, ESLint sẽ không chạy được.</p>
<pre class="language-bash"><code class="language-bash">parserOptions:
  ecmaVersion: <span class="token number">6</span>
env:
  node: <span class="token boolean">true</span></code></pre>
<h2 id="javascript-thuần"><a href="#javascript-thu%E1%BA%A7n" aria-hidden="true"><span class="icon icon-link"></span></a>Javascript thuần</h2>
<p>Với project là javascript thuần, toàn bộ file là <code class="language-text">.js</code>, có thể tự định nghĩa từ đầu hết, nhưng như vậy khá mất thời gian, khó bảo trì, chưa chắc chuẩn vì nó phụ thuộc vào sự hiểu biết của bạn về javascript</p>
<p>Rất nhiều các công ty lớn như <a href="https://github.com/google/eslint-config-google" target="_blank" rel="nofollow noopener noreferrer">Google</a>, <a href="https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb" target="_blank" rel="nofollow noopener noreferrer">Airbnb</a>, <a href="https://github.com/facebook/fbjs/tree/master/packages/eslint-config-fbjs-opensource" target="_blank" rel="nofollow noopener noreferrer">Facebook</a> bỏ ra cả tỉ tỉ thời gian để bảo trì và cập nhập mấy cài đặt này</p>
<p>Sử dụng cài đặt vạn người yêu thích, Airbnb</p>
<pre class="language-bash"><code class="language-bash">npx install-peerdeps --dev eslint-config-airbnb-base</code></pre>
<p>Các bài viết trên mạng sẽ kêu bạn cài <code class="language-text">eslint-config-airbnb</code>, nó có bao gồm luôn phần cài đặt cho React, React Hooks, ... . Không cần thiết trong trường hợp project chỉ là javascript thông thường.</p>
<p>Để ý chúng ta <strong>KHÔNG</strong> dùng <code class="language-text">npm</code> để cài đặt, mà dùng <code class="language-text">npx install-peerdeps</code>. Nó sẽ cài luôn mấy package nào mà <code class="language-text">eslint-config-airbnb-base</code> phụ thuộc. Trường hợp sử dụng ESLint chúng ta sẽ gặp hoài, vì hầu như nó đều phụ thuộc một vài package khác.</p>
<p>Cài xong, khai báo sẽ kế thừa bộ cài đặt của Airbnb</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">extends</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> airbnb<span class="token punctuation">-</span>base</code></pre>
<p>Những thiết đặt của airbnb có thể nói là rất phổ biến và được tin dùng bởi nhiều dự án lớn nhỏ khác nhau. Chúng ta có thể yên tâm sử dụng nó mà không cần thay đổi gì nhiều.</p>
<p>Tổng kết</p>
<pre class="language-json"><code class="language-json"><span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"eslint"</span><span class="token operator">:</span> <span class="token string">"^6.1.0"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-config-airbnb-base"</span><span class="token operator">:</span> <span class="token string">"^14.0.0"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-plugin-import"</span><span class="token operator">:</span> <span class="token string">"^2.20.0"</span> (peer dependency)
<span class="token punctuation">}</span></code></pre>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">parserOptions</span><span class="token punctuation">:</span>
  <span class="token key atrule">ecmaVersion</span><span class="token punctuation">:</span> <span class="token number">6</span>

<span class="token key atrule">env</span><span class="token punctuation">:</span>
  <span class="token key atrule">node</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token key atrule">extends</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> eslint<span class="token punctuation">:</span>recommended
  <span class="token punctuation">-</span> airbnb<span class="token punctuation">-</span>base</code></pre>
<h2 id="thiết-đặt-typescript"><a href="#thi%E1%BA%BFt-%C4%91%E1%BA%B7t-typescript" aria-hidden="true"><span class="icon icon-link"></span></a>Thiết đặt TypeScript</h2>
<p>Vấn đề chính của TypeScript là ESLint không thể tự động mà <code class="language-text">parse</code> được, chúng ta phải thêm một parser <a href="https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/parser" target="_blank" rel="nofollow noopener noreferrer">@typescript-eslint/parser</a>.</p>
<p>Cài đặt</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @typescript-eslint/parser --save-dev</code></pre>
<blockquote>
<p>Parse làm nhiệm vụ đọc cài file input và tạo ra một <em>phiên bản</em> mà ESLint hiểu được.</p>
</blockquote>
<p>Khai báo dùng parser này</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">parser</span><span class="token punctuation">:</span> <span class="token string">"@typescript-eslint/parser"</span></code></pre>
<p>Đồng thời cập nhập luôn <code class="language-text">package.json</code> và báo với ESLint đừng kiểm tra file <code class="language-text">.js</code> mà kiểm tra file <code class="language-text">.ts</code></p>
<pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"lint"</span><span class="token operator">:</span> <span class="token string">"eslint . --ext .ts"</span>
<span class="token punctuation">}</span></code></pre>
<p>Tương tự như javascript, chúng ta dùng bộ thiết đặt của Airbnb</p>
<pre class="language-bash"><code class="language-bash">npx install-peerdeps --dev eslint-config-airbnb-typescript
<span class="token function">npm</span> i eslint-plugin-import --save-dev</code></pre>
<p><code class="language-text">eslint-plugin-import</code> phải được cài đặt riêng, thủ công, không rõ lý do tại sao luôn.</p>
<p>Cập nhập lại file config ESLint</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">extends</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> airbnb<span class="token punctuation">-</span>typescript/base
  <span class="token punctuation">-</span> plugin<span class="token punctuation">:</span>@typescript<span class="token punctuation">-</span>eslint/recommended</code></pre>
<p>Bạn có thể thắc mắc, tại sao chưa cài <code class="language-text">@typescript-eslint</code> mà có thể sử dụng, thật ra lúc cài <code class="language-text">eslint-config-airbnb-typescript</code> chúng ta đã cài luôn nó bằng <code class="language-text">npx install-peerdeps</code></p>
<p>Có thể rule khác nữa có thể tham khảo <a href="https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/eslint-plugin" target="_blank" rel="nofollow noopener noreferrer">trực tiếp từ tài liệu trên github</a></p>
<p>Cuối cùng, bạn sẽ thấy có rất nhiều bài viết trên mạng, chỉ bạn thiết đặt</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">plugins</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">"@typescript-eslint"</span></code></pre>
<p>Nếu không sử dụng các thiết ESLint được đề nghị, cái này không cần thiết. Lý do là Airbnb đã bật luôn các rule như vậy.</p>
<p>Tổng kết</p>
<p><strong>package.json</strong></p>
<pre class="language-json"><code class="language-json"><span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"@typescript-eslint/eslint-plugin"</span><span class="token operator">:</span> <span class="token string">"^2.17.0"</span><span class="token punctuation">,</span> (peer dependency)
  <span class="token property">"@typescript-eslint/parser"</span><span class="token operator">:</span> <span class="token string">"^2.17.0"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint"</span><span class="token operator">:</span> <span class="token string">"^6.8.0"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-config-airbnb-typescript"</span><span class="token operator">:</span> <span class="token string">"^6.3.1"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-plugin-import"</span><span class="token operator">:</span> <span class="token string">"^2.20.0"</span>
<span class="token punctuation">}</span></code></pre>
<p><strong>.eslintrc.yaml</strong></p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">parserOptions</span><span class="token punctuation">:</span>
  <span class="token key atrule">ecmaVersion</span><span class="token punctuation">:</span> <span class="token number">6</span>

<span class="token key atrule">env</span><span class="token punctuation">:</span>
  <span class="token key atrule">node</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token key atrule">extends</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> airbnb<span class="token punctuation">-</span>typescript/base
  <span class="token punctuation">-</span> plugin<span class="token punctuation">:</span>@typescript<span class="token punctuation">-</span>eslint/recommended</code></pre>
<h2 id="thiết-đặt-cho-react"><a href="#thi%E1%BA%BFt-%C4%91%E1%BA%B7t-cho-react" aria-hidden="true"><span class="icon icon-link"></span></a>Thiết đặt cho React</h2>
<p>Thêm các thiết đặt ESLint cho React vô cùng đơn giản, mọi thứ đã có Airbnb lo.</p>
<p>Một trong những sai lầm phổ biến là cho rằng viết như bên dưới sẽ bật hỗ trợ React</p>
<p><strong>.eslintrc.yaml</strong></p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">parserOptions</span><span class="token punctuation">:</span>
  <span class="token key atrule">ecmaFeatures</span><span class="token punctuation">:</span>
    <span class="token key atrule">jsx</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre>
<p>React sử dụng JSX, nhưng theo cách mà ESLint không thể <strong>hiểu nổi</strong>. Để React và ESLint <em>nói chuyện</em> được với nhau, chúng ta phải sử dụng <code class="language-text">eslint-plugin-react</code></p>
<h3 id="react-javascript"><a href="#react-javascript" aria-hidden="true"><span class="icon icon-link"></span></a>React Javascript</h3>
<p>Cài đặt package</p>
<pre class="language-bash"><code class="language-bash">npx install-peerdeps --dev eslint-config-airbnb</code></pre>
<p><strong>.eslintrc.yaml</strong></p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">extends</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> airbnb
<span class="token key atrule">env</span><span class="token punctuation">:</span>
  <span class="token key atrule">browser</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre>
<p><strong>package.json</strong></p>
<pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"lint"</span><span class="token operator">:</span> <span class="token string">"eslint . --ext .js,.jsx"</span>
<span class="token punctuation">}</span></code></pre>
<p>Nếu có sử dụng React Hook, bạn nên thêm phần cài đặt sau (có bỏ qua việc kiểm tra accessibility)</p>
<p><strong>.eslintrc.yaml</strong></p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">extends</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> airbnb<span class="token punctuation">-</span>base
  <span class="token punctuation">-</span> airbnb/rules/react
  <span class="token punctuation">-</span> airbnb/hooks</code></pre>
<p>Tổng kết</p>
<p><strong>package.json</strong></p>
<pre class="language-json"><code class="language-json"><span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"eslint"</span><span class="token operator">:</span> <span class="token string">"^6.1.0"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-config-airbnb"</span><span class="token operator">:</span> <span class="token string">"^18.0.1"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-plugin-import"</span><span class="token operator">:</span> <span class="token string">"^2.20.0"</span><span class="token punctuation">,</span> (peer dependency)
  <span class="token property">"eslint-plugin-jsx-a11y"</span><span class="token operator">:</span> <span class="token string">"^6.2.3"</span><span class="token punctuation">,</span> (peer dependency)
  <span class="token property">"eslint-plugin-react"</span><span class="token operator">:</span> <span class="token string">"^7.18.0"</span><span class="token punctuation">,</span> (peer dependency)
  <span class="token property">"eslint-plugin-react-hooks"</span><span class="token operator">:</span> <span class="token string">"^1.7.0"</span> (peer dependency)
<span class="token punctuation">}</span></code></pre>
<p><strong>.eslintrc.yaml</strong></p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">parserOptions</span><span class="token punctuation">:</span>
  <span class="token key atrule">ecmaVersion</span><span class="token punctuation">:</span> <span class="token number">6</span>

<span class="token key atrule">env</span><span class="token punctuation">:</span>
  <span class="token key atrule">browser</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token key atrule">extends</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> airbnb
  <span class="token punctuation">-</span> airbnb/hooks

<span class="token key atrule">rules</span><span class="token punctuation">:</span>
  <span class="token key atrule">react/react-in-jsx-scope</span><span class="token punctuation">:</span> off</code></pre>
<p><a href="https://github.com/yannickcr/eslint-plugin-react#list-of-supported-rules" target="_blank" rel="nofollow noopener noreferrer">Rảnh ngồi xem toàn bộ thiết đặt</a></p>
<h3 id="react-typescript"><a href="#react-typescript" aria-hidden="true"><span class="icon icon-link"></span></a>React TypeScript</h3>
<p>Nếu dùng TypeScript, chúng ta không thể cài theo kiểu <code class="language-text">npx install-peerdeps</code>, mà phải cài độc lập</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> eslint-config-airbnb-typescript <span class="token punctuation">\</span>
            eslint-plugin-import <span class="token punctuation">\</span>
            eslint-plugin-jsx-a11y <span class="token punctuation">\</span>
            eslint-plugin-react <span class="token punctuation">\</span>
            eslint-plugin-react-hooks <span class="token punctuation">\</span>
            @typescript-eslint/eslint-plugin <span class="token punctuation">\</span>
            --save-dev</code></pre>
<p><strong>.eslintrc.yaml</strong></p>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">parserOptions</span><span class="token punctuation">:</span>
  <span class="token key atrule">ecmaVersion</span><span class="token punctuation">:</span> <span class="token number">6</span>

<span class="token key atrule">env</span><span class="token punctuation">:</span>
  <span class="token key atrule">browser</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token key atrule">extends</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> airbnb<span class="token punctuation">-</span>typescript
  <span class="token punctuation">-</span> airbnb/hooks
  <span class="token punctuation">-</span> plugin<span class="token punctuation">:</span>@typescript<span class="token punctuation">-</span>eslint/recommended

<span class="token key atrule">rules</span><span class="token punctuation">:</span>
  <span class="token key atrule">react/react-in-jsx-scope</span><span class="token punctuation">:</span> off</code></pre>
<p><strong>package.json</strong></p>
<pre class="language-json"><code class="language-json"><span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"eslint"</span><span class="token operator">:</span> <span class="token string">"^6.8.0"</span><span class="token punctuation">,</span>
  <span class="token property">"@typescript-eslint/eslint-plugin"</span><span class="token operator">:</span> <span class="token string">"^2.17.0"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-config-airbnb-typescript"</span><span class="token operator">:</span> <span class="token string">"^6.3.1"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-plugin-import"</span><span class="token operator">:</span> <span class="token string">"^2.20.0"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-plugin-jsx-a11y"</span><span class="token operator">:</span> <span class="token string">"^6.2.3"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-plugin-react"</span><span class="token operator">:</span> <span class="token string">"^7.18.0"</span><span class="token punctuation">,</span>
  <span class="token property">"eslint-plugin-react-hooks"</span><span class="token operator">:</span> <span class="token string">"^2.3.0"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"lint"</span><span class="token operator">:</span> <span class="token string">"eslint . --ext .ts,.tsx"</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="cài-đặt-cho-vscode"><a href="#c%C3%A0i-%C4%91%E1%BA%B7t-cho-vscode" aria-hidden="true"><span class="icon icon-link"></span></a>Cài đặt cho VSCode</h2>
<p><a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" target="_blank" rel="nofollow noopener noreferrer">VSCode đã có plugin</a> khá thần thánh để hỗ trợ ESLint. Các thiết đặt yêu thích của mình</p>
<p>Tự động chạy lint khi save</p>
<pre class="language-json"><code class="language-json"><span class="token property">"eslint.run"</span><span class="token operator">:</span> <span class="token string">"onSave"</span></code></pre>
<p>VSCode sẽ kiểm tra trên JS, JSX, TS, TSX</p>
<pre class="language-json"><code class="language-json"><span class="token property">"eslint.validate"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">"javascript"</span><span class="token punctuation">,</span>
  <span class="token string">"javascriptreact"</span><span class="token punctuation">,</span>
  <span class="token string">"typescript"</span><span class="token punctuation">,</span>
  <span class="token string">"typescriptreact"</span>
<span class="token punctuation">]</span></code></pre>
<p>Chọn kiểu nháy đơn</p>
<pre class="language-json"><code class="language-json"><span class="token property">"javascript.preferences.quoteStyle"</span><span class="token operator">:</span> <span class="token string">"single"</span><span class="token punctuation">,</span>
<span class="token property">"typescript.preferences.quoteStyle"</span><span class="token operator">:</span> <span class="token string">"single"</span><span class="token punctuation">,</span></code></pre>
<p>Tự động cập nhập vị trí file</p>
<pre class="language-json"><code class="language-json"><span class="token property">"javascript.updateImportsOnFileMove.enabled"</span><span class="token operator">:</span> <span class="token string">"always"</span><span class="token punctuation">,</span>
<span class="token property">"typescript.updateImportsOnFileMove.enabled"</span><span class="token operator">:</span> <span class="token string">"always"</span><span class="token punctuation">,</span></code></pre>
<p><a href="https://blog.geographer.fr/eslint-guide" target="_blank" rel="nofollow noopener noreferrer">ESLint configuration and best practices</a></p>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/hoc-thuat/" class="post-tags__link"><span>#</span> hoc-thuat
		</a><a href="/tag/javascript/" class="post-tags__link"><span>#</span> javascript
		</a><a href="/tag/typescript/" class="post-tags__link"><span>#</span> typescript
		</a><a href="/tag/react/" class="post-tags__link"><span>#</span> react
		</a></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">Hiện tại site đang nâng cấp, các bạn xài tạm</p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020. </span><span class="footer__links">Powered by <a href="//gridsome.org"> Gridsome </a></span></footer></div>
    <script src="/assets/js/app.44ac298f.js" defer></script><script src="/assets/js/page--src-templates-post-vue.905a5c02.js" defer></script>
  </body>
</html>
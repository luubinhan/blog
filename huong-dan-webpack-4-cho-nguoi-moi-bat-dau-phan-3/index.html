<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Hướng dẫn webpack 4 cho người mới bắt đầu - Phần 3 - VuiLapTrinh.com</title><meta name="gridsome:hash" content="0ea6a5c7ec18fcd2d372c0c225289996c79af9fc"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Tutorials, Blog, Hướng dẫn, chia sẽ kinh nghiệm về Frontend, react, vue, ux, ui"><meta data-vue-tag="ssr" name="desc" content="Bài này sẽ nói Plugins, Development, HotModuleReplacement trong Webpack"><link rel="preload" href="/blog/assets/css/0.styles.d493c61a.css" as="style"><link rel="preload" href="/blog/assets/js/app.f8d91bd5.js" as="script"><link rel="preload" href="/blog/assets/js/page--src-templates-post-vue.980fbd47.js" as="script"><link rel="prefetch" href="/blog/assets/js/page--node-modules-gridsome-app-pages-404-vue.b044eecd.js"><link rel="prefetch" href="/blog/assets/js/page--src-pages-index-vue.bd4a2964.js"><link rel="prefetch" href="/blog/assets/js/page--src-templates-tag-vue.4999789e.js"><link rel="stylesheet" href="/blog/assets/css/0.styles.d493c61a.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/blog/" class="logo active"><span class="logo__text">
    ← VuiLapTrinh.com
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">Hướng dẫn webpack 4 cho người mới bắt đầu - Phần 3</h1><div class="post-meta">
  Đăng ngày 2018-05-28.
  
    Mất khoảng
    <strong>4 phút</strong> để đọc.
  </div></div><div class="post content-box"><div class="post__header"><!----></div><div class="post__content"><p>Trong Series này
1. <a href="2018-05-25-viet-code-javascript-tot-hon-voi-webpack">Webpack là gì và tại sao ta phải xài nó</a>
2. <a href="2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau">Dùng Loaders, code slitting trong webpack</a>
3. <a href="2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3">Plugins, Development Server</a></p>
<!-- TOC -->
<ul>
<li><a href="#t%C3%A1ch-css">Tách CSS</a></li>
<li><a href="#c%E1%BA%ADp-nh%E1%BA%ADp-html-t%E1%BB%B1-%C4%91%E1%BB%99ng">Cập nhập HTML tự động</a></li>
<li><a href="#development-server">Development Server</a></li>
<li><a href="#hotmodulereplacement">HotModuleReplacement</a></li>
</ul>
<!-- /TOC -->
<p>Trong khi loader sẽ tiến hành transform từng file một, <strong>plugins</strong> sẽ tiến hành xử lý trong từng đoạn code</p>
<p>Giờ chúng ta đã biết cách  bundle code, cài thêm các module bổ sung cho webpack, cách thêm các static asset, file bundle chúng ta sẽ bự dần bự dần - không sớm thì muộn thôi. Plugins sẽ giúp chúng ta tách phần code một cách thông mình hơn, optimize hơn cho production</p>
<p>Thật ra ma nói, khi sử dụng <code class="language-text">mode</code> development/production trong webpack chúng ta đã sử dụng rất nhiều plugin mặc định trong webpack</p>
<p><em>develoment</em></p>
<ul>
<li>lúc này giá trị biến <code class="language-text">process.env.NODE_ENV</code> sẽ bằng 'development'</li>
<li>dùng NamedModulesPlugin</li>
</ul>
<p><em>production</em></p>
<ul>
<li><code class="language-text">process.env.NODE_ENV</code> sẽ bằng 'production'</li>
<li>UglifyJsPlugin</li>
<li>ModuleConcatenationPlugin</li>
<li>NoEmitOnErrorsPlugin</li>
</ul>
<p>Trước khi thêm một số plugin khác, chúng ta sẽ tách file config ra thành 2, để sau này chúng ta apply các plugin khác nhau cho các mode chạy khác nhau</p>
<pre class="language-diff"><code class="language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> webpack.config.js
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> webpack.common.js
</span><span class="token prefix inserted">+</span><span class="token line"> webpack.dev.js
</span><span class="token prefix inserted">+</span><span class="token line"> webpack.prod.js</span></span></code></pre>
<p>Cài thêm plugin là <code class="language-text">webpack-merge</code> để trộn file <em>webpack.common.js</em> với một trong 2 file webpack.dev.js hoặc webpack.prod.js</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev webpack-merge</code></pre>
<p><strong>webpack.dev.js</strong></p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.common.js'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p><strong>webpack.prod.js</strong></p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.common.js'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'production'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p><strong>package.json</strong></p>
<pre class="language-diff"><code class="language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> "scripts": {
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    "develop": "webpack --watch --mode development",
</span><span class="token prefix deleted">-</span><span class="token line">    "build": "webpack --mode production"
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    "develop": "webpack --watch --config webpack.dev.js",
</span><span class="token prefix inserted">+</span><span class="token line">    "build": "webpack --config webpack.prod.js"
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">  },</span></span></code></pre>
<h2 id="tách-css"><a href="#t%C3%A1ch-css" aria-hidden="true"><span class="icon icon-link"></span></a>Tách CSS</h2>
<p>Chúng ta sẽ tách ra CSS khi chạy production bằng plugin là <code class="language-text">ExtractTextWebpackPlugin</code></p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev extract-text-webpack-plugin</code></pre>
<p>Setup loader cho file .scss giữ nguyên cho development mode, chỉ thêm ExtractTextWebpackPlugin cho production</p>
<p><strong>webpack.common.js</strong></p>
<pre class="language-diff"><code class="language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">...
</span><span class="token prefix unchanged"> </span><span class="token line"> module.exports = {
</span><span class="token prefix unchanged"> </span><span class="token line">   ...
</span><span class="token prefix unchanged"> </span><span class="token line">   module: {
</span><span class="token prefix unchanged"> </span><span class="token line">     rules: [
</span><span class="token prefix unchanged"> </span><span class="token line">       ...
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">       {
</span><span class="token prefix deleted">-</span><span class="token line">         test: /\.scss$/,
</span><span class="token prefix deleted">-</span><span class="token line">         use: [
</span><span class="token prefix deleted">-</span><span class="token line">           {
</span><span class="token prefix deleted">-</span><span class="token line">             loader: 'style-loader'
</span><span class="token prefix deleted">-</span><span class="token line">           }, {
</span><span class="token prefix deleted">-</span><span class="token line">             loader: 'css-loader'
</span><span class="token prefix deleted">-</span><span class="token line">           }, {
</span><span class="token prefix deleted">-</span><span class="token line">             loader: 'sass-loader'
</span><span class="token prefix deleted">-</span><span class="token line">           }
</span><span class="token prefix deleted">-</span><span class="token line">         ]
</span><span class="token prefix deleted">-</span><span class="token line">       },
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       ...
</span><span class="token prefix unchanged"> </span><span class="token line">     ]
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span><span class="token prefix unchanged"> </span><span class="token line"> }</span></span></code></pre>
<p><strong>webpack.dev.js</strong></p>
<pre class="language-diff"><code class="language-diff">const merge = require('webpack-merge')
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const common = require('./webpack.common.js')
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> module.exports = merge(common, {
</span><span class="token prefix unchanged"> </span><span class="token line">   mode: 'development',
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   module: {
</span><span class="token prefix inserted">+</span><span class="token line">     rules: [
</span><span class="token prefix inserted">+</span><span class="token line">       {
</span><span class="token prefix inserted">+</span><span class="token line">         test: /\.scss$/,
</span><span class="token prefix inserted">+</span><span class="token line">         use: [
</span><span class="token prefix inserted">+</span><span class="token line">           {
</span><span class="token prefix inserted">+</span><span class="token line">             loader: 'style-loader'
</span><span class="token prefix inserted">+</span><span class="token line">           }, {
</span><span class="token prefix inserted">+</span><span class="token line">             loader: 'css-loader'
</span><span class="token prefix inserted">+</span><span class="token line">           }, {
</span><span class="token prefix inserted">+</span><span class="token line">             loader: 'sass-loader'
</span><span class="token prefix inserted">+</span><span class="token line">           }
</span><span class="token prefix inserted">+</span><span class="token line">         ]
</span><span class="token prefix inserted">+</span><span class="token line">       }
</span><span class="token prefix inserted">+</span><span class="token line">     ]
</span><span class="token prefix inserted">+</span><span class="token line">   }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> })</span></span></code></pre>
<p><strong>webpack.prod.js</strong></p>
<pre class="language-diff"><code class="language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const merge = require('webpack-merge')
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const ExtractTextPlugin = require('extract-text-webpack-plugin')
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const common = require('./webpack.common.js')
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> module.exports = merge(common, {
</span><span class="token prefix unchanged"> </span><span class="token line">   mode: 'production',
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   module: {
</span><span class="token prefix inserted">+</span><span class="token line">     rules: [
</span><span class="token prefix inserted">+</span><span class="token line">       {
</span><span class="token prefix inserted">+</span><span class="token line">         test: /\.scss$/,
</span><span class="token prefix inserted">+</span><span class="token line">         use: ExtractTextPlugin.extract({
</span><span class="token prefix inserted">+</span><span class="token line">           fallback: 'style-loader',
</span><span class="token prefix inserted">+</span><span class="token line">           use: ['css-loader', 'sass-loader']
</span><span class="token prefix inserted">+</span><span class="token line">         })
</span><span class="token prefix inserted">+</span><span class="token line">       }
</span><span class="token prefix inserted">+</span><span class="token line">     ]
</span><span class="token prefix inserted">+</span><span class="token line">   },
</span><span class="token prefix inserted">+</span><span class="token line">   plugins: [
</span><span class="token prefix inserted">+</span><span class="token line">     new ExtractTextPlugin('style.css')
</span><span class="token prefix inserted">+</span><span class="token line">   ]
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> })</span></span></code></pre>
<p>Nếu chạy <code class="language-text">npm run build</code>, chúng ta có 3 file</p>
<ul>
<li>chat.bundle.js</li>
<li>app.bundle.js</li>
<li>style.css</li>
</ul>
<h2 id="cập-nhập-html-tự-động"><a href="#c%E1%BA%ADp-nh%E1%BA%ADp-html-t%E1%BB%B1-%C4%91%E1%BB%99ng" aria-hidden="true"><span class="icon icon-link"></span></a>Cập nhập HTML tự động</h2>
<p>Mỗi lần thay đổi chúng ta cứ phải tự tay chỉnh sửa file <code class="language-text">index.html</code> thì hơi lười. Dùng <code class="language-text">html-webpack-plugin</code> để tự động hóa quá trình này, đồng thời cần thêm <code class="language-text">clean-webpack-plugin</code> để clear hết thư mục <code class="language-text">dist</code></p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> instal --save-dev html-webpack-plugin clean-webpack-plugin</code></pre>
<p><strong>webpack.common.js</strong></p>
<pre class="language-diff"><code class="language-diff">const path = require('path')
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const CleanWebpackPlugin = require('clean-webpack-plugin');
</span><span class="token prefix inserted">+</span><span class="token line"> const HtmlWebpackPlugin = require('html-webpack-plugin');
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> module.exports = {
</span><span class="token prefix unchanged"> </span><span class="token line">   ...
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   plugins: [
</span><span class="token prefix inserted">+</span><span class="token line">     new CleanWebpackPlugin(['dist']),
</span><span class="token prefix inserted">+</span><span class="token line">     new HtmlWebpackPlugin({
</span><span class="token prefix inserted">+</span><span class="token line">       title: 'My killer app'
</span><span class="token prefix inserted">+</span><span class="token line">     })
</span><span class="token prefix inserted">+</span><span class="token line">   ]
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }</span></span></code></pre>
<p>Giờ mỗi lần build, chúng ta xóa hết thư mục dist luôn</p>
<h2 id="development-server"><a href="#development-server" aria-hidden="true"><span class="icon icon-link"></span></a>Development Server</h2>
<p>Với <code class="language-text">webpack-dev-server</code> cung cấp cho chúng ta một web server đơn giản với tính năng live reload rất rất là hữu ích luôn mấy man</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev webpack-dev-server</code></pre>
<p><strong>package.json</strong></p>
<pre class="language-diff"><code class="language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> {
</span><span class="token prefix unchanged"> </span><span class="token line">   ...
</span><span class="token prefix unchanged"> </span><span class="token line">   "scripts": {
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">     "develop": "webpack --watch --config webpack.dev.js",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">     "develop": "webpack-dev-server --config webpack.dev.js",
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   }
</span><span class="token prefix unchanged"> </span><span class="token line">   ...
</span><span class="token prefix unchanged"> </span><span class="token line"> }</span></span></code></pre>
<p>Giờ mà chạy <code class="language-text">npm run develop</code> chúng ta sẽ có ngay server <a href="http://localhost:8080/" target="_blank" rel="nofollow noopener noreferrer">http://localhost:8080/</a></p>
<h2 id="hotmodulereplacement"><a href="#hotmodulereplacement" aria-hidden="true"><span class="icon icon-link"></span></a>HotModuleReplacement</h2>
<p>Plugin <code class="language-text">HotModuleReplacement</code> sẽ nhỉnh hơn Live Reload một chút, thay vì live reload trình duyệt sẽ tự động refresh, chúng ta sẽ thấy nó load lại toàn bộ trang khi có thay đổi, còn HotModuleReplacement là nó swap nguyên cái module trong lúc đang chạy mà không cần refresh luôn. Nhanh như cái chớp mắt vậy. Nếu mà cấu hình đúng, chúng ta tiết kiệm được khối thời gian ngồi đợi load lại trang.</p>
<p><strong>webpack.dev.js</strong></p>
<pre class="language-diff"><code class="language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const webpack = require('webpack')
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const merge = require('webpack-merge')
</span><span class="token prefix unchanged"> </span><span class="token line"> const common = require('./webpack.common.js')
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> module.exports = merge(common, {
</span><span class="token prefix unchanged"> </span><span class="token line">   mode: 'development',
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   devServer: {
</span><span class="token prefix inserted">+</span><span class="token line">     hot: true
</span><span class="token prefix inserted">+</span><span class="token line">   },
</span><span class="token prefix inserted">+</span><span class="token line">   plugins: [
</span><span class="token prefix inserted">+</span><span class="token line">     new webpack.HotModuleReplacementPlugin()
</span><span class="token prefix inserted">+</span><span class="token line">   ],
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   ...
</span><span class="token prefix unchanged"> </span><span class="token line"> }</span></span></code></pre>
<p>Cho phép swap module trong app</p>
<p><strong>src/app.js</strong></p>
<pre class="language-diff"><code class="language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> if (module.hot) {
</span><span class="token prefix inserted">+</span><span class="token line">   module.hot.accept()
</span><span class="token prefix inserted">+</span><span class="token line"> }
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> ...</span></span></code></pre>
<p><code class="language-text">module.hot</code> sẽ có giá trị là <code class="language-text">true</code> trong mode development và <code class="language-text">false</code> trong production.</p>
<p><a href="https://www.sitepoint.com/beginners-guide-webpack-module-bundling/" target="_blank" rel="nofollow noopener noreferrer">Link bài gốc</a>
Tác giả: Mark Brown</p>
<p>Chỉnh sửa theo sự hiểu của mình một tí</p>
</div><div class="post__footer"><div class="post-tags"><a href="/blog/tag/javascript/" class="post-tags__link"><span>#</span> javascript
		</a><a href="/blog/tag/webpack/" class="post-tags__link"><span>#</span> webpack
		</a></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/blog/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/blog/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/blog/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">Hiện tại site đang nâng cấp, các bạn xài tạm</p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020.</span><span class="footer__links">luckyluu</span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Hướng dẫn webpack 4 cho người mới bắt đầu - Phần 3","path":"\u002Fhuong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\u002F","date":"2018-05-28","timeToRead":4,"tags":[{"id":"javascript","title":"javascript","path":"\u002Ftag\u002Fjavascript\u002F"},{"id":"webpack","title":"webpack","path":"\u002Ftag\u002Fwebpack\u002F"}],"desc":"Bài này sẽ nói Plugins, Development, HotModuleReplacement trong Webpack","content":"\u003Cp\u003ETrong Series này\n1. \u003Ca href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\"\u003EWebpack là gì và tại sao ta phải xài nó\u003C\u002Fa\u003E\n2. \u003Ca href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\"\u003EDùng Loaders, code slitting trong webpack\u003C\u002Fa\u003E\n3. \u003Ca href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\"\u003EPlugins, Development Server\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C!-- TOC --\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#t%C3%A1ch-css\"\u003ETách CSS\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#c%E1%BA%ADp-nh%E1%BA%ADp-html-t%E1%BB%B1-%C4%91%E1%BB%99ng\"\u003ECập nhập HTML tự động\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#development-server\"\u003EDevelopment Server\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#hotmodulereplacement\"\u003EHotModuleReplacement\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C!-- \u002FTOC --\u003E\n\u003Cp\u003ETrong khi loader sẽ tiến hành transform từng file một, \u003Cstrong\u003Eplugins\u003C\u002Fstrong\u003E sẽ tiến hành xử lý trong từng đoạn code\u003C\u002Fp\u003E\n\u003Cp\u003EGiờ chúng ta đã biết cách  bundle code, cài thêm các module bổ sung cho webpack, cách thêm các static asset, file bundle chúng ta sẽ bự dần bự dần - không sớm thì muộn thôi. Plugins sẽ giúp chúng ta tách phần code một cách thông mình hơn, optimize hơn cho production\u003C\u002Fp\u003E\n\u003Cp\u003EThật ra ma nói, khi sử dụng \u003Ccode class=\"language-text\"\u003Emode\u003C\u002Fcode\u003E development\u002Fproduction trong webpack chúng ta đã sử dụng rất nhiều plugin mặc định trong webpack\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003Edeveloment\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Elúc này giá trị biến \u003Ccode class=\"language-text\"\u003Eprocess.env.NODE_ENV\u003C\u002Fcode\u003E sẽ bằng 'development'\u003C\u002Fli\u003E\n\u003Cli\u003Edùng NamedModulesPlugin\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cem\u003Eproduction\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode class=\"language-text\"\u003Eprocess.env.NODE_ENV\u003C\u002Fcode\u003E sẽ bằng 'production'\u003C\u002Fli\u003E\n\u003Cli\u003EUglifyJsPlugin\u003C\u002Fli\u003E\n\u003Cli\u003EModuleConcatenationPlugin\u003C\u002Fli\u003E\n\u003Cli\u003ENoEmitOnErrorsPlugin\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETrước khi thêm một số plugin khác, chúng ta sẽ tách file config ra thành 2, để sau này chúng ta apply các plugin khác nhau cho các mode chạy khác nhau\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode class=\"language-diff\"\u003E\u003Cspan class=\"token deleted-sign deleted\"\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E webpack.config.js\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E webpack.common.js\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E webpack.dev.js\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E webpack.prod.js\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ECài thêm plugin là \u003Ccode class=\"language-text\"\u003Ewebpack-merge\u003C\u002Fcode\u003E để trộn file \u003Cem\u003Ewebpack.common.js\u003C\u002Fem\u003E với một trong 2 file webpack.dev.js hoặc webpack.prod.js\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token function\"\u003Enpm\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Einstall\u003C\u002Fspan\u003E --save-dev webpack-merge\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003Ewebpack.dev.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E merge \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'webpack-merge'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E common \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'.\u002Fwebpack.common.js'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\nmodule\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Eexports\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Emerge\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ecommon\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  mode\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'development'\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003Ewebpack.prod.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E merge \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'webpack-merge'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E common \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'.\u002Fwebpack.common.js'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\nmodule\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Eexports\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Emerge\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ecommon\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  mode\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'production'\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003Epackage.json\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode class=\"language-diff\"\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E \"scripts\": {\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token deleted-sign deleted\"\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E    \"develop\": \"webpack --watch --mode development\",\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E    \"build\": \"webpack --mode production\"\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E    \"develop\": \"webpack --watch --config webpack.dev.js\",\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E    \"build\": \"webpack --config webpack.prod.js\"\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E  },\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"tách-css\"\u003E\u003Ca href=\"#t%C3%A1ch-css\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ETách CSS\u003C\u002Fh2\u003E\n\u003Cp\u003EChúng ta sẽ tách ra CSS khi chạy production bằng plugin là \u003Ccode class=\"language-text\"\u003EExtractTextWebpackPlugin\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token function\"\u003Enpm\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Einstall\u003C\u002Fspan\u003E --save-dev extract-text-webpack-plugin\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ESetup loader cho file .scss giữ nguyên cho development mode, chỉ thêm ExtractTextWebpackPlugin cho production\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Ewebpack.common.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode class=\"language-diff\"\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E...\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E module.exports = {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   ...\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   module: {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     rules: [\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E       ...\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token deleted-sign deleted\"\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E       {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E         test: \u002F\\.scss$\u002F,\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E         use: [\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E           {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E             loader: 'style-loader'\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E           }, {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E             loader: 'css-loader'\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E           }, {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E             loader: 'sass-loader'\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E           }\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E         ]\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E       },\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E       ...\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     ]\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   }\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E }\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003Ewebpack.dev.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode class=\"language-diff\"\u003Econst merge = require('webpack-merge')\n\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E const common = require('.\u002Fwebpack.common.js')\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E module.exports = merge(common, {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   mode: 'development',\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   module: {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     rules: [\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E       {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E         test: \u002F\\.scss$\u002F,\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E         use: [\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E           {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E             loader: 'style-loader'\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E           }, {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E             loader: 'css-loader'\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E           }, {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E             loader: 'sass-loader'\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E           }\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E         ]\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E       }\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     ]\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   }\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E })\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003Ewebpack.prod.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode class=\"language-diff\"\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E const merge = require('webpack-merge')\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E const ExtractTextPlugin = require('extract-text-webpack-plugin')\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E const common = require('.\u002Fwebpack.common.js')\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E module.exports = merge(common, {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   mode: 'production',\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   module: {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     rules: [\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E       {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E         test: \u002F\\.scss$\u002F,\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E         use: ExtractTextPlugin.extract({\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E           fallback: 'style-loader',\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E           use: ['css-loader', 'sass-loader']\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E         })\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E       }\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     ]\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   },\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   plugins: [\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     new ExtractTextPlugin('style.css')\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   ]\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E })\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENếu chạy \u003Ccode class=\"language-text\"\u003Enpm run build\u003C\u002Fcode\u003E, chúng ta có 3 file\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Echat.bundle.js\u003C\u002Fli\u003E\n\u003Cli\u003Eapp.bundle.js\u003C\u002Fli\u003E\n\u003Cli\u003Estyle.css\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"cập-nhập-html-tự-động\"\u003E\u003Ca href=\"#c%E1%BA%ADp-nh%E1%BA%ADp-html-t%E1%BB%B1-%C4%91%E1%BB%99ng\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECập nhập HTML tự động\u003C\u002Fh2\u003E\n\u003Cp\u003EMỗi lần thay đổi chúng ta cứ phải tự tay chỉnh sửa file \u003Ccode class=\"language-text\"\u003Eindex.html\u003C\u002Fcode\u003E thì hơi lười. Dùng \u003Ccode class=\"language-text\"\u003Ehtml-webpack-plugin\u003C\u002Fcode\u003E để tự động hóa quá trình này, đồng thời cần thêm \u003Ccode class=\"language-text\"\u003Eclean-webpack-plugin\u003C\u002Fcode\u003E để clear hết thư mục \u003Ccode class=\"language-text\"\u003Edist\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token function\"\u003Enpm\u003C\u002Fspan\u003E instal --save-dev html-webpack-plugin clean-webpack-plugin\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003Ewebpack.common.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode class=\"language-diff\"\u003Econst path = require('path')\n\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E const CleanWebpackPlugin = require('clean-webpack-plugin');\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E const HtmlWebpackPlugin = require('html-webpack-plugin');\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E module.exports = {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   ...\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   plugins: [\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     new CleanWebpackPlugin(['dist']),\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     new HtmlWebpackPlugin({\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E       title: 'My killer app'\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     })\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   ]\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E }\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EGiờ mỗi lần build, chúng ta xóa hết thư mục dist luôn\u003C\u002Fp\u003E\n\u003Ch2 id=\"development-server\"\u003E\u003Ca href=\"#development-server\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EDevelopment Server\u003C\u002Fh2\u003E\n\u003Cp\u003EVới \u003Ccode class=\"language-text\"\u003Ewebpack-dev-server\u003C\u002Fcode\u003E cung cấp cho chúng ta một web server đơn giản với tính năng live reload rất rất là hữu ích luôn mấy man\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token function\"\u003Enpm\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Einstall\u003C\u002Fspan\u003E --save-dev webpack-dev-server\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003Epackage.json\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode class=\"language-diff\"\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   ...\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   \"scripts\": {\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token deleted-sign deleted\"\u003E\u003Cspan class=\"token prefix deleted\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     \"develop\": \"webpack --watch --config webpack.dev.js\",\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     \"develop\": \"webpack-dev-server --config webpack.dev.js\",\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   }\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   ...\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E }\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EGiờ mà chạy \u003Ccode class=\"language-text\"\u003Enpm run develop\u003C\u002Fcode\u003E chúng ta sẽ có ngay server \u003Ca href=\"http:\u002F\u002Flocalhost:8080\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Flocalhost:8080\u002F\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"hotmodulereplacement\"\u003E\u003Ca href=\"#hotmodulereplacement\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EHotModuleReplacement\u003C\u002Fh2\u003E\n\u003Cp\u003EPlugin \u003Ccode class=\"language-text\"\u003EHotModuleReplacement\u003C\u002Fcode\u003E sẽ nhỉnh hơn Live Reload một chút, thay vì live reload trình duyệt sẽ tự động refresh, chúng ta sẽ thấy nó load lại toàn bộ trang khi có thay đổi, còn HotModuleReplacement là nó swap nguyên cái module trong lúc đang chạy mà không cần refresh luôn. Nhanh như cái chớp mắt vậy. Nếu mà cấu hình đúng, chúng ta tiết kiệm được khối thời gian ngồi đợi load lại trang.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Ewebpack.dev.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode class=\"language-diff\"\u003E\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E const webpack = require('webpack')\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E const merge = require('webpack-merge')\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E const common = require('.\u002Fwebpack.common.js')\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E module.exports = merge(common, {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   mode: 'development',\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   devServer: {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     hot: true\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   },\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   plugins: [\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E     new webpack.HotModuleReplacementPlugin()\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   ],\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   ...\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E }\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ECho phép swap module trong app\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Esrc\u002Fapp.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-diff\"\u003E\u003Ccode class=\"language-diff\"\u003E\u003Cspan class=\"token inserted-sign inserted\"\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E if (module.hot) {\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E   module.hot.accept()\n\u003C\u002Fspan\u003E\u003Cspan class=\"token prefix inserted\"\u003E+\u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E }\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token unchanged\"\u003E\u003Cspan class=\"token prefix unchanged\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"token line\"\u003E ...\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Ccode class=\"language-text\"\u003Emodule.hot\u003C\u002Fcode\u003E sẽ có giá trị là \u003Ccode class=\"language-text\"\u003Etrue\u003C\u002Fcode\u003E trong mode development và \u003Ccode class=\"language-text\"\u003Efalse\u003C\u002Fcode\u003E trong production.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.sitepoint.com\u002Fbeginners-guide-webpack-module-bundling\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ELink bài gốc\u003C\u002Fa\u003E\nTác giả: Mark Brown\u003C\u002Fp\u003E\n\u003Cp\u003EChỉnh sửa theo sự hiểu của mình một tí\u003C\u002Fp\u003E\n","cover_image":""}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/blog/assets/js/app.f8d91bd5.js" defer></script><script src="/blog/assets/js/page--src-templates-post-vue.980fbd47.js" defer></script>
  </body>
</html>
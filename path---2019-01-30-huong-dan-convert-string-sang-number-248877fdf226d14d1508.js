webpackJsonp([74847190263375],{1530:function(n,s){n.exports={data:{markdownRemark:{html:'<p>Javascript rất lạ kỳ, convert giá trị String qua number cũng lắm nẻo dăm ba đường,nào NaN, nào radix. Bài này chúng ta cùng tìm hiểu parseFloat(), Number(), Number.isNaN(), isNaN()</p>\n<blockquote>\n<p>Một cách ngắn gọn, chúng ta nên dùng <code class="language-text">Number(x)</code> để convert giá trị sang dạng number, hoặc <code class="language-text">parseFloat(x)</code> nếu muốn chuẩn mực</p>\n</blockquote>\n<p>Để kiểm tra kết quả có convert được hay không, luôn dùng <code class="language-text">Number.isNaN()</code>, <strong>không nên</strong> dùng phương thức global <code class="language-text">isNaN()</code>.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">typeof</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">\'42\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \'number\'</span>\nNumber<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'42\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n\n<span class="token keyword">typeof</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \'number\'</span>\nNumber<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre>\n      </div>\n<p>Sử dụng <code class="language-text">Number(x)</code> sẽ có vài trường hợp đặc biệt, nó có thể là đúng cũng có thể là sai, tùy theo cách hiểu của chúng ta.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span></code></pre>\n      </div>\n<p>Rất nhiều dev sử dụng <code class="language-text">+x</code> để convert giá trị <em>x</em> sang number. Theo như khai báo của javascript, <code class="language-text">+x</code> sẽ tương tự như <code class="language-text">Number(x)</code></p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token operator">+</span><span class="token string">\'42 fail\'</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>\n<span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">valueOf</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">\'42\'</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>\n<span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">toString</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">\'42\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>\n<span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>\n<span class="token operator">+</span><span class="token punctuation">(</span><span class="token string">\'     \'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span></code></pre>\n      </div>\n<h2 id="cái-sai-của-code-classlanguage-textnumberxcode"><a href="#c%C3%A1i-sai-c%E1%BB%A7a-code-classlanguage-textnumberxcode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cái sai của <code class="language-text">Number(x)</code></h2>\n<p><code class="language-text">Number(x)</code> và <code class="language-text">parseFloat(x)</code> xử trí các tình huống đặc biệt rất khác nhau, <code class="language-text">parseFloat()</code> <em>có vẻ</em> dễ giải hơn khi chấp nhận một số kiểu String</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'42 fail\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>\n<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">\'42 fail\'</span><span class="token punctuation">)</span> <span class="token comment">// 42</span>\n<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">\'42 fail\'</span><span class="token punctuation">)</span> <span class="token comment">// 42</span>\n\n<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'    10\'</span><span class="token punctuation">)</span> <span class="token comment">// 10</span>\n<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">\'    10\'</span><span class="token punctuation">)</span> <span class="token comment">// 10</span>\n<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">\'    10\'</span><span class="token punctuation">)</span> <span class="token comment">// 10</span></code></pre>\n      </div>\n<p>Đừng thấy vậy mà kết luận rằng <code class="language-text">Number(x)</code> chuẩn mực và an toàn hơn. Thực ra, <code class="language-text">Number(x)</code> hay lấn cấn khi string chứa khoảng trắng, <code class="language-text">null</code>,  và một số tính huống khác. Nó convert khá nhiều trường hợp sang 0.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>\n<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>\n<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'        \'</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>\n<span class="token function">Number</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>\n<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">toString</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">\'\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>\n<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">valueOf</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">\'  \'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span></code></pre>\n      </div>\n<p>Nguyên tắc làm việc của <code class="language-text">parseFloat()</code> đơn giản và dễ đoán hơn. Cắt hết khoảng trắng, rồi kiểm tra với một regular expression được quy ước để lấy giá trị số dài nhất trong chuỗi.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// parseInt hoạt động tương tự</span>\n<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>\n<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>\n<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">\'    \'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>\n<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>\n<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">toString</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">\'\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>\n<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">valueOf</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">\'  \'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span></code></pre>\n      </div>\n<h2 id="numberisnan-và-isnan"><a href="#numberisnan-v%C3%A0-isnan" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Number.isNaN() và isNaN()</h2>\n<p>Javascript sẽ ko quăng lỗi nếu nó ko convert được giá trị sang number, nó trả về một giá trị đặc biệt gọi là <code class="language-text">NaN</code> (not a number). Và vẫn chưa đủ độ huyền bí, nếu kiểm tra <code class="language-text">typeof</code> của một giá trị là <code class="language-text">NaN</code> chúng ta nhận được \'number`. Nực cười quá mà.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>\n<span class="token keyword">typeof</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span> <span class="token comment">// \'number\'</span></code></pre>\n      </div>\n<p>Lý do cho sự có mặt của <code class="language-text">Number.isNaN()</code> và <code class="language-text">isNaN()</code> là vì <code class="language-text">==</code> và <code class="language-text">===</code> không chạy đúng trên giá trị <code class="language-text">NaN</code></p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre>\n      </div>\n<p><code class="language-text">Number.isNaN()</code> là một hàm mới được bổ sung trong ES6, tuy nhiên ko nhận được nhiều sự quan tâm. Chúng ta nên tập sử dụng <code class="language-text">Number.isNaN()</code> thay cho <code class="language-text">isNaN()</code></p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>\nNumber<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">\'fail\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre>\n      </div>\n<p>Một cách dễ hình dung sự khác nhau, nếu <code class="language-text">Number.isNaN()</code> là so sánh <code class="language-text">===</code> thì <code class="language-text">isNaN()</code> là so sánh <code class="language-text">==</code></p>\n<p>Thằng <code class="language-text">isNaN()</code> nó sẽ convert giá trị qua number trước, rồi mới đem đi so sánh kết quả.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token function">isNaN</span><span class="token punctuation">(</span>‘fail’<span class="token punctuation">)</span> <span class="token comment">// true</span>\n<span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>\n\nNumber<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>‘fail’<span class="token punctuation">)</span> <span class="token comment">// false</span>\nNumber<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// false</span></code></pre>\n      </div>\n<p>Nói cách khác, nếu giá trị x không phải kiểu number, thì <code class="language-text">Number.isNaN(x)</code> sẽ là false</p>\n<p>Cái polyfill cho <code class="language-text">Number.isNaN()</code> được hiện thực đơn giản như sau</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js">Number<span class="token punctuation">.</span><span class="token function-variable function">isNaN</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t<span class="token keyword">return</span> <span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">\'number\'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p><a target="_blank" rel="noopener noreferrer" href="http://thecodebarbarian.com/convert-a-string-to-a-number-in-javascript.html\n">Convert a String to a Number in JavaScript</a></p>',timeToRead:3,excerpt:"Javascript rất lạ kỳ, convert giá trị String qua number cũng lắm nẻo dăm ba đường,nào NaN, nào radix. Bài này chúng ta cùng tìm hiểu…",frontmatter:{title:"Convert giá trị String qua Number trong Javascript",cover:"",date:"2019-01-30",category:null,tags:["javascript"],desc:"Javascript rất lạ kỳ, convert giá trị String qua number cũng lắm nẻo dăm ba đường,nào NaN, nào radix. Bài này chúng ta cùng tìm hiểu parseFloat(), Number(), Number.isNaN(), isNaN()"},fields:{slug:"/2019-01-30-huong-dan-convert-string-sang-number"}}},pathContext:{slug:"/2019-01-30-huong-dan-convert-string-sang-number",prev:{frontmatter:{title:"Những cách thay đổi giá trị fill của SVG khi hover",desc:"Chúng ta có thể định dạng file SVG một cách dễ dàng bằng CSS, chúng ta sẽ tận dụng CSS để thay đổi định dạng khi hover chuột lên. Tất cả những cách có thể làm sẽ được liệt kê trong bài viết này.",type:"post",category:null,tags:["css"],date:"2019-02-10",cover:""},fields:{slug:"/2019-02-10-huong-dan-thay-doi-mau-sac-file-svg"}},next:{frontmatter:{title:"15 ví dụ sử dụng map, reduce và filter",desc:"Nếu đang muốn tìm những ví dụ thực tế sử dụng map và reduce, quá chán với ví dụ cộng số, bài viết này chính là dành cho bạn.",type:"post",category:null,tags:["javascript"],date:"2019-01-28",cover:""},fields:{slug:"/2019-01-28-vi-du-thuc-te-su-dung-array"}}}}}});
//# sourceMappingURL=path---2019-01-30-huong-dan-convert-string-sang-number-248877fdf226d14d1508.js.map
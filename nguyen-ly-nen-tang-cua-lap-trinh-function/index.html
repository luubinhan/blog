<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Nguyên lý nền tảng của lập trình function - VuiLapTrinh.com</title><meta name="gridsome:hash" content="be9cd8cba7af086bce31a0a023c14cacaa870421"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="A simple, hackable &amp; minimalistic starter for Gridsome that uses Markdown for content."><meta data-vue-tag="ssr" name="desc" content="Khái niệm ngàn người biết, bạn cũng phải biết"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.9ab035e6.css" as="style"><link rel="preload" href="/assets/js/app.44ac298f.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.905a5c02.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.1906fe28.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.83bbacb6.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.615124f8.js"><link rel="stylesheet" href="/assets/css/0.styles.9ab035e6.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← VuiLapTrinh.com
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">Nguyên lý nền tảng của lập trình function</h1><div class="post-meta">
   Posted 2019-07-26.
   <strong>5 min read.</strong></div></div><div class="post content-box"><div class="post__header"><!----></div><div class="post__content"><!-- TOC -->
<ul>
<li><a href="#n%c3%b3i-v%e1%bb%81-l%e1%bb%a3i-%c3%adch">Nói về lợi ích</a></li>
<li><a href="#immutable">Immutable</a></li>
<li><a href="#pure-function">Pure Function</a></li>
<li><a href="#%c4%90%e1%bb%87-quy">Đệ quy</a></li>
<li><a href="#t%e1%bb%95ng-k%e1%ba%bft">Tổng kết</a></li>
<li><a href="#t%c3%a0i-li%e1%bb%87u-tham-kh%e1%ba%a3o">Tài liệu tham khảo</a></li>
</ul>
<!-- /TOC -->
<h2 id="nói-về-lợi-ích"><a href="#n%C3%B3i-v%E1%BB%81-l%E1%BB%A3i-%C3%ADch" aria-hidden="true"><span class="icon icon-link"></span></a>Nói về lợi ích</h2>
<p>Trước tiên chúng ta phải nói về lợi ích của kiểu lập trình hướng function, để có thể có động lực <em>nghiên cứu đào sâu</em>, một vài điểm được nhiều người thống nhất</p>
<p>Code của chúng ta trở nên "module" hơn, nhắc về module thì lấy ví dụ trò xếp hình là dễ hình dung nhất</p>
<p><img src="https://cdn.redshift.autodesk.com/2014/10/benefits_of_modular_construction_lego.jpg" alt="Minh họa Module"></p>
<ul>
<li>Các function độc lập, khi kết nối với nhau tạo ra một chương trình
Module cũng sẽ giúp code dễ hiểu hơn, 1 function = 1 công dụng, <em>không có gì dấu diếm</em></li>
<li>Dễ copy/paste hơn</li>
<li>Dễ test hơn</li>
</ul>
<p>Bên dưới chúng ta sẽ đề cập đến những nguyên lý nền tảng, mà kinh nghiệm thực tế đúc kết được, như sử dụng <strong>immutable</strong> thay vì <strong>mutable</strong>, viết <strong>pure function</strong>, chia nhỏ bằng đệ quy, là những <strong>nguyên lý</strong> nền tảng, không ám chỉ một ngôn ngữ cụ thể nào</p>
<h2 id="immutable-sống-kiên-định-thủy-chung"><a href="#immutable-s%E1%BB%91ng-ki%C3%AAn-%C4%91%E1%BB%8Bnh-th%E1%BB%A7y-chung" aria-hidden="true"><span class="icon icon-link"></span></a>Immutable, sống kiên định thủy chung</h2>
<p>Nói đến lập trình function trước tiên phải nói về <strong>immutable</strong></p>
<blockquote>
<p>Immutable là dạng dữ liệu sau khi tạo ra thì không thay đổi nữa</p>
</blockquote>
<p>Mutate là gì? ví dụ, gán tham chiếu vào một biến đã có</p>
<pre class="language-js{2}"><code class="language-js{2}">var x = { name: 'luckyluu' }
var y = x

x = { name: 'vuilaptrinh' }
console.log(x, y)
// => {name: "vuilaptrinh"} { name: "luckyluu" }</code></pre>
<p>Giá trị <code class="language-text">x</code> tham chiếu đến một vùng nhớ khác khi viết <code class="language-text">x = { name: &#39;vuilaptrinh&#39; }</code>, trong khi đó <code class="language-text">y</code> vẫn tham chiếu đến vùng nhớ cũ là <code class="language-text">{ name: &#39;luckyluu&#39; }</code></p>
<p>Trường hợp 2 là chỉnh sửa giá một object có sẵn</p>
<pre class="language-js{4}"><code class="language-js{4}">var x = { name: 'luckyluu' }
var y = x

x.name = 'vuilaptrinh'
console.log(x, y)
// => {name: "vuilaptrinh"} { name: "vuilaptrinh" }</code></pre>
<p>Không thay đổi <code class="language-text">y</code>, nhưng cả 2 cùng tham chiếu tới cùng một <code class="language-text">x</code>.</p>
<p>Riêng javascript chúng ta phải dùng hẳn một thư viện <a href="https://immutable-js.github.io/immutable-js/docs/#/" target="_blank" rel="nofollow noopener noreferrer">immutable-js</a> vì việc "chặn" không cho thay đổi dữ liệu trong javascript thì "f..king complicated", đừng nghĩ <code class="language-text">const bienA</code> là đã mutable, nó chỉ thay đổi scope thôi bạn ơi</p>
<p>Immutable là một cách làm không tốn nhiều chi phí để ngăn chặn các con bug chúng ta gặp trong các tình huống cá biệt, như 2 luồng xử lý cũng thực hiện ghi đè một giá trị-cùng lúc, hay trong một lần đọc dữ liệu nào đó mà bạn "nhỡ tay" đã thay đổi dữ liệu mà không hay biết.</p>
<p>Cái gì cũng có giá của nó! Tùy vào ngôn ngữ và cục object bự cỡ nào, chi phí bỏ ra để <code class="language-text">clone</code> object ban đầu để chỉnh sửa sẽ khác nhau. Phát sinh vấn đề "xả rác" lung tung qua việc khai báo các object mới liên tục khi cần chỉnh sửa, do đó các trường hợp phát triển GUI (viết một editor như VS Code gọi là phát triển GUI) hay game sẽ không phù hợp với immutable, tất nhiên luôn có một vài chỗ vẫn dùng được</p>
<p>Khi bắt đầu dùng immutable, chúng ta phải tiếp cận khi viết code, phải suy nghĩ từng "cục" code nên làm thêm nào để <em>sạch</em> hơn, an toàn với sức khỏe bà mẹ và trẻ em hơn</p>
<h2 id="pure-function-sống-nề-nếp-không-ảnh-hưởng-đến-nhà-hàng-xóm"><a href="#pure-function-s%E1%BB%91ng-n%E1%BB%81-n%E1%BA%BFp-kh%C3%B4ng-%E1%BA%A3nh-h%C6%B0%E1%BB%9Fng-%C4%91%E1%BA%BFn-nh%C3%A0-h%C3%A0ng-x%C3%B3m" aria-hidden="true"><span class="icon icon-link"></span></a>Pure Function, sống nề nếp không ảnh hưởng đến nhà hàng xóm</h2>
<p>Thế nào là một <strong>Function Sạch</strong> ?</p>
<p>Đó giờ chúng ta vẫn viết function, lập trình hướng function thì có gì khác? <strong>function</strong> ở đây ám chỉ các hàm hoạt động như hàm toán học như <code class="language-text">f(x) = x + 1</code>, những hàm toán học này rất đơn giản, nhận một giá trị, và trả về một giá trị, không chỉnh sửa giá trị bên ngoài, dù nó được truyền vào như tham số của hàm, nếu cùng tham số truyền vào, <strong>luôn luôn</strong> nhận được cùng kết quả trả về. Truyền vào cho <code class="language-text">f(x) = x + 1</code> là 2 thì bất cứ lần nào cũng nhận được kết quả là 3.</p>
<p>Nhờ vậy chúng ta có thể <strong>cache</strong> kết quả này, sử dụng kết quả cache trong trường hợp có cùng input. Chúng ta cũng có thể gọi các function này trên nhiều luồng chạy song song mà không phải lo lắng gì. Nếu các function không phụ thuộc lẫn nhau, chúng ta cũng có thể gọi nó theo bất cứ thứ tự nào mà không quan tâm đến vấn đề <strong>race condition</strong></p>
<blockquote>
<p>Race condition, mình giải thích nôm na thế này, bạn là chàng trai lắm em theo đuổi, người đến trước, kẻ đến sau, mức độ quyết liệt của mỗi em lại khác nhau không phụ thuộc ai trước, ai sau, em xuất phát sau quá quyết liệt, nên ngỏ lời đòi cưới trước, bạn đồng ý, sau đó em xuất phát trước, cuối cùng cũng chạy tới được nhà bạn, bạn lại đồng ý tiếp. Thế là tiêu đời bạn rồi.</p>
</blockquote>
<h2 id="đệ-quy-sống-luôn-nhớ-về-ông-bà-tổ-tiên"><a href="#%C4%91%E1%BB%87-quy-s%E1%BB%91ng-lu%C3%B4n-nh%E1%BB%9B-v%E1%BB%81-%C3%B4ng-b%C3%A0-t%E1%BB%95-ti%C3%AAn" aria-hidden="true"><span class="icon icon-link"></span></a>Đệ quy, sống luôn nhớ về ông bà tổ tiên</h2>
<p>Function gọi lại chính nó, không phụ thuộc biến đếm liên quan gì tới lập trình function?</p>
<p>Ý tưởng cốt lõi của đệ quy là chia bài toán lớn thành bài toán tương tự như vậy, nhưng quy mô nhỏ hơn. Vấn đề nhỏ hơn nghĩa là cũng dễ hiểu hơn, cách giải quyết cũng rõ rành rành hơn. Khi chúng ta đổi mặt với vòng lặp, nghĩ xem đệ quy có phải là lựa chọn đúng hơn không. Ví dụ lặp bình thường phù hợp khi cần đi qua tất cả phần tử trong mảng, đệ quy lại phù hợp áp dụng quicksort trong mảng (thứ 6 tuần sau mình viết bài này nha!)</p>
<p>Khi làm việc với đệ quy, luôn nhớ sử dụng và nằm lòng câu hỏi <strong>điều gì sẽ thực thi khi nó ở vị trí cuối cùng</strong></p>
<pre class="language-js{6}"><code class="language-js{6}">function factorial(x, acc) {
	acc = acc || 1
	if (x > 1) {
		return factorial(x - 1, acc * x)
	} else {
		return acc
	}
}</code></pre>
<p>Hạn chế được yếu điểm của đệ quy là <strong>tràn stack</strong> với câu hỏi trên.</p>
<h2 id="tổng-kết"><a href="#t%E1%BB%95ng-k%E1%BA%BFt" aria-hidden="true"><span class="icon icon-link"></span></a>Tổng kết</h2>
<p>Tóm lại tại sao thiên hạ <strong>rần rần</strong> với lập trình function hâm he triệt lập trình hướng đối tượng OOP</p>
<ul>
<li>Không tạo ra side effect</li>
<li>Thứ tự chạy function không quan trọng</li>
<li>Dễ đọc (ý là người khác dễ đọc lại và hiểu mình đang viết gì)</li>
</ul>
<p>Tất nhiên không phải lúc nào lập trình function cũng phù hợp với bất kỳ trường hợp nào, đôi khi side effect là cần thiết, bắt buộc, bạn không thể viết toàn bộ chương trình bằng pure function</p>
<p>Theo quan điểm cá nhân: lập trình function trở nên phổ biến bởi 2 nguyên nhân: 1. Ngày càng nhiều vi xử lý có khả năng xử lý đồng thời trên đa luồng, 2. Đây là kiểu viết rất dễ tiếp cận với mọi người (như ai cũng xài windows vì bẻ khóa nó thì không có gì dễ đến thế)</p>
<h2 id="tài-liệu-tham-khảo"><a href="#t%C3%A0i-li%E1%BB%87u-tham-kh%E1%BA%A3o" aria-hidden="true"><span class="icon icon-link"></span></a>Tài liệu tham khảo</h2>
<p><a target="_blank" rel="noopener noreferrer" href="https://www.lucidchart.com/techblog/2017/11/29/functional-programming-principles-every-imperative-programmer-should-use/">FUNCTIONAL PROGRAMMING PRINCIPLES EVERY IMPERATIVE PROGRAMMER SHOULD USE</a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/36504/why-functional-languages">Why functional languages? </a></p>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/javascript/" class="post-tags__link"><span>#</span> javascript
		</a><a href="/tag/hoc-thuat/" class="post-tags__link"><span>#</span> hoc-thuat
		</a></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">Hiện tại site đang nâng cấp, các bạn xài tạm</p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020. </span><span class="footer__links">Powered by <a href="//gridsome.org"> Gridsome </a></span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Nguyên lý nền tảng của lập trình function","path":"\u002Fnguyen-ly-nen-tang-cua-lap-trinh-function\u002F","date":"2019-07-26","timeToRead":5,"tags":[{"id":"javascript","title":"javascript","path":"\u002Ftag\u002Fjavascript\u002F"},{"id":"hoc-thuat","title":"hoc-thuat","path":"\u002Ftag\u002Fhoc-thuat\u002F"}],"desc":"Khái niệm ngàn người biết, bạn cũng phải biết","content":"\u003C!-- TOC --\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#n%c3%b3i-v%e1%bb%81-l%e1%bb%a3i-%c3%adch\"\u003ENói về lợi ích\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#immutable\"\u003EImmutable\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#pure-function\"\u003EPure Function\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#%c4%90%e1%bb%87-quy\"\u003EĐệ quy\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#t%e1%bb%95ng-k%e1%ba%bft\"\u003ETổng kết\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#t%c3%a0i-li%e1%bb%87u-tham-kh%e1%ba%a3o\"\u003ETài liệu tham khảo\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C!-- \u002FTOC --\u003E\n\u003Ch2 id=\"nói-về-lợi-ích\"\u003E\u003Ca href=\"#n%C3%B3i-v%E1%BB%81-l%E1%BB%A3i-%C3%ADch\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ENói về lợi ích\u003C\u002Fh2\u003E\n\u003Cp\u003ETrước tiên chúng ta phải nói về lợi ích của kiểu lập trình hướng function, để có thể có động lực \u003Cem\u003Enghiên cứu đào sâu\u003C\u002Fem\u003E, một vài điểm được nhiều người thống nhất\u003C\u002Fp\u003E\n\u003Cp\u003ECode của chúng ta trở nên \"module\" hơn, nhắc về module thì lấy ví dụ trò xếp hình là dễ hình dung nhất\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fcdn.redshift.autodesk.com\u002F2014\u002F10\u002Fbenefits_of_modular_construction_lego.jpg\" alt=\"Minh họa Module\"\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECác function độc lập, khi kết nối với nhau tạo ra một chương trình\nModule cũng sẽ giúp code dễ hiểu hơn, 1 function = 1 công dụng, \u003Cem\u003Ekhông có gì dấu diếm\u003C\u002Fem\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EDễ copy\u002Fpaste hơn\u003C\u002Fli\u003E\n\u003Cli\u003EDễ test hơn\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EBên dưới chúng ta sẽ đề cập đến những nguyên lý nền tảng, mà kinh nghiệm thực tế đúc kết được, như sử dụng \u003Cstrong\u003Eimmutable\u003C\u002Fstrong\u003E thay vì \u003Cstrong\u003Emutable\u003C\u002Fstrong\u003E, viết \u003Cstrong\u003Epure function\u003C\u002Fstrong\u003E, chia nhỏ bằng đệ quy, là những \u003Cstrong\u003Enguyên lý\u003C\u002Fstrong\u003E nền tảng, không ám chỉ một ngôn ngữ cụ thể nào\u003C\u002Fp\u003E\n\u003Ch2 id=\"immutable-sống-kiên-định-thủy-chung\"\u003E\u003Ca href=\"#immutable-s%E1%BB%91ng-ki%C3%AAn-%C4%91%E1%BB%8Bnh-th%E1%BB%A7y-chung\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EImmutable, sống kiên định thủy chung\u003C\u002Fh2\u003E\n\u003Cp\u003ENói đến lập trình function trước tiên phải nói về \u003Cstrong\u003Eimmutable\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EImmutable là dạng dữ liệu sau khi tạo ra thì không thay đổi nữa\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EMutate là gì? ví dụ, gán tham chiếu vào một biến đã có\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js{2}\"\u003E\u003Ccode class=\"language-js{2}\"\u003Evar x = { name: 'luckyluu' }\nvar y = x\n\nx = { name: 'vuilaptrinh' }\nconsole.log(x, y)\n\u002F\u002F =\u003E {name: \"vuilaptrinh\"} { name: \"luckyluu\" }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EGiá trị \u003Ccode class=\"language-text\"\u003Ex\u003C\u002Fcode\u003E tham chiếu đến một vùng nhớ khác khi viết \u003Ccode class=\"language-text\"\u003Ex = { name: &#39;vuilaptrinh&#39; }\u003C\u002Fcode\u003E, trong khi đó \u003Ccode class=\"language-text\"\u003Ey\u003C\u002Fcode\u003E vẫn tham chiếu đến vùng nhớ cũ là \u003Ccode class=\"language-text\"\u003E{ name: &#39;luckyluu&#39; }\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETrường hợp 2 là chỉnh sửa giá một object có sẵn\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js{4}\"\u003E\u003Ccode class=\"language-js{4}\"\u003Evar x = { name: 'luckyluu' }\nvar y = x\n\nx.name = 'vuilaptrinh'\nconsole.log(x, y)\n\u002F\u002F =\u003E {name: \"vuilaptrinh\"} { name: \"vuilaptrinh\" }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EKhông thay đổi \u003Ccode class=\"language-text\"\u003Ey\u003C\u002Fcode\u003E, nhưng cả 2 cùng tham chiếu tới cùng một \u003Ccode class=\"language-text\"\u003Ex\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ERiêng javascript chúng ta phải dùng hẳn một thư viện \u003Ca href=\"https:\u002F\u002Fimmutable-js.github.io\u002Fimmutable-js\u002Fdocs\u002F#\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Eimmutable-js\u003C\u002Fa\u003E vì việc \"chặn\" không cho thay đổi dữ liệu trong javascript thì \"f..king complicated\", đừng nghĩ \u003Ccode class=\"language-text\"\u003Econst bienA\u003C\u002Fcode\u003E là đã mutable, nó chỉ thay đổi scope thôi bạn ơi\u003C\u002Fp\u003E\n\u003Cp\u003EImmutable là một cách làm không tốn nhiều chi phí để ngăn chặn các con bug chúng ta gặp trong các tình huống cá biệt, như 2 luồng xử lý cũng thực hiện ghi đè một giá trị-cùng lúc, hay trong một lần đọc dữ liệu nào đó mà bạn \"nhỡ tay\" đã thay đổi dữ liệu mà không hay biết.\u003C\u002Fp\u003E\n\u003Cp\u003ECái gì cũng có giá của nó! Tùy vào ngôn ngữ và cục object bự cỡ nào, chi phí bỏ ra để \u003Ccode class=\"language-text\"\u003Eclone\u003C\u002Fcode\u003E object ban đầu để chỉnh sửa sẽ khác nhau. Phát sinh vấn đề \"xả rác\" lung tung qua việc khai báo các object mới liên tục khi cần chỉnh sửa, do đó các trường hợp phát triển GUI (viết một editor như VS Code gọi là phát triển GUI) hay game sẽ không phù hợp với immutable, tất nhiên luôn có một vài chỗ vẫn dùng được\u003C\u002Fp\u003E\n\u003Cp\u003EKhi bắt đầu dùng immutable, chúng ta phải tiếp cận khi viết code, phải suy nghĩ từng \"cục\" code nên làm thêm nào để \u003Cem\u003Esạch\u003C\u002Fem\u003E hơn, an toàn với sức khỏe bà mẹ và trẻ em hơn\u003C\u002Fp\u003E\n\u003Ch2 id=\"pure-function-sống-nề-nếp-không-ảnh-hưởng-đến-nhà-hàng-xóm\"\u003E\u003Ca href=\"#pure-function-s%E1%BB%91ng-n%E1%BB%81-n%E1%BA%BFp-kh%C3%B4ng-%E1%BA%A3nh-h%C6%B0%E1%BB%9Fng-%C4%91%E1%BA%BFn-nh%C3%A0-h%C3%A0ng-x%C3%B3m\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EPure Function, sống nề nếp không ảnh hưởng đến nhà hàng xóm\u003C\u002Fh2\u003E\n\u003Cp\u003EThế nào là một \u003Cstrong\u003EFunction Sạch\u003C\u002Fstrong\u003E ?\u003C\u002Fp\u003E\n\u003Cp\u003EĐó giờ chúng ta vẫn viết function, lập trình hướng function thì có gì khác? \u003Cstrong\u003Efunction\u003C\u002Fstrong\u003E ở đây ám chỉ các hàm hoạt động như hàm toán học như \u003Ccode class=\"language-text\"\u003Ef(x) = x + 1\u003C\u002Fcode\u003E, những hàm toán học này rất đơn giản, nhận một giá trị, và trả về một giá trị, không chỉnh sửa giá trị bên ngoài, dù nó được truyền vào như tham số của hàm, nếu cùng tham số truyền vào, \u003Cstrong\u003Eluôn luôn\u003C\u002Fstrong\u003E nhận được cùng kết quả trả về. Truyền vào cho \u003Ccode class=\"language-text\"\u003Ef(x) = x + 1\u003C\u002Fcode\u003E là 2 thì bất cứ lần nào cũng nhận được kết quả là 3.\u003C\u002Fp\u003E\n\u003Cp\u003ENhờ vậy chúng ta có thể \u003Cstrong\u003Ecache\u003C\u002Fstrong\u003E kết quả này, sử dụng kết quả cache trong trường hợp có cùng input. Chúng ta cũng có thể gọi các function này trên nhiều luồng chạy song song mà không phải lo lắng gì. Nếu các function không phụ thuộc lẫn nhau, chúng ta cũng có thể gọi nó theo bất cứ thứ tự nào mà không quan tâm đến vấn đề \u003Cstrong\u003Erace condition\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ERace condition, mình giải thích nôm na thế này, bạn là chàng trai lắm em theo đuổi, người đến trước, kẻ đến sau, mức độ quyết liệt của mỗi em lại khác nhau không phụ thuộc ai trước, ai sau, em xuất phát sau quá quyết liệt, nên ngỏ lời đòi cưới trước, bạn đồng ý, sau đó em xuất phát trước, cuối cùng cũng chạy tới được nhà bạn, bạn lại đồng ý tiếp. Thế là tiêu đời bạn rồi.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch2 id=\"đệ-quy-sống-luôn-nhớ-về-ông-bà-tổ-tiên\"\u003E\u003Ca href=\"#%C4%91%E1%BB%87-quy-s%E1%BB%91ng-lu%C3%B4n-nh%E1%BB%9B-v%E1%BB%81-%C3%B4ng-b%C3%A0-t%E1%BB%95-ti%C3%AAn\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EĐệ quy, sống luôn nhớ về ông bà tổ tiên\u003C\u002Fh2\u003E\n\u003Cp\u003EFunction gọi lại chính nó, không phụ thuộc biến đếm liên quan gì tới lập trình function?\u003C\u002Fp\u003E\n\u003Cp\u003EÝ tưởng cốt lõi của đệ quy là chia bài toán lớn thành bài toán tương tự như vậy, nhưng quy mô nhỏ hơn. Vấn đề nhỏ hơn nghĩa là cũng dễ hiểu hơn, cách giải quyết cũng rõ rành rành hơn. Khi chúng ta đổi mặt với vòng lặp, nghĩ xem đệ quy có phải là lựa chọn đúng hơn không. Ví dụ lặp bình thường phù hợp khi cần đi qua tất cả phần tử trong mảng, đệ quy lại phù hợp áp dụng quicksort trong mảng (thứ 6 tuần sau mình viết bài này nha!)\u003C\u002Fp\u003E\n\u003Cp\u003EKhi làm việc với đệ quy, luôn nhớ sử dụng và nằm lòng câu hỏi \u003Cstrong\u003Eđiều gì sẽ thực thi khi nó ở vị trí cuối cùng\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js{6}\"\u003E\u003Ccode class=\"language-js{6}\"\u003Efunction factorial(x, acc) {\n\tacc = acc || 1\n\tif (x \u003E 1) {\n\t\treturn factorial(x - 1, acc * x)\n\t} else {\n\t\treturn acc\n\t}\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EHạn chế được yếu điểm của đệ quy là \u003Cstrong\u003Etràn stack\u003C\u002Fstrong\u003E với câu hỏi trên.\u003C\u002Fp\u003E\n\u003Ch2 id=\"tổng-kết\"\u003E\u003Ca href=\"#t%E1%BB%95ng-k%E1%BA%BFt\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ETổng kết\u003C\u002Fh2\u003E\n\u003Cp\u003ETóm lại tại sao thiên hạ \u003Cstrong\u003Erần rần\u003C\u002Fstrong\u003E với lập trình function hâm he triệt lập trình hướng đối tượng OOP\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EKhông tạo ra side effect\u003C\u002Fli\u003E\n\u003Cli\u003EThứ tự chạy function không quan trọng\u003C\u002Fli\u003E\n\u003Cli\u003EDễ đọc (ý là người khác dễ đọc lại và hiểu mình đang viết gì)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ETất nhiên không phải lúc nào lập trình function cũng phù hợp với bất kỳ trường hợp nào, đôi khi side effect là cần thiết, bắt buộc, bạn không thể viết toàn bộ chương trình bằng pure function\u003C\u002Fp\u003E\n\u003Cp\u003ETheo quan điểm cá nhân: lập trình function trở nên phổ biến bởi 2 nguyên nhân: 1. Ngày càng nhiều vi xử lý có khả năng xử lý đồng thời trên đa luồng, 2. Đây là kiểu viết rất dễ tiếp cận với mọi người (như ai cũng xài windows vì bẻ khóa nó thì không có gì dễ đến thế)\u003C\u002Fp\u003E\n\u003Ch2 id=\"tài-liệu-tham-khảo\"\u003E\u003Ca href=\"#t%C3%A0i-li%E1%BB%87u-tham-kh%E1%BA%A3o\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ETài liệu tham khảo\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https:\u002F\u002Fwww.lucidchart.com\u002Ftechblog\u002F2017\u002F11\u002F29\u002Ffunctional-programming-principles-every-imperative-programmer-should-use\u002F\"\u003EFUNCTIONAL PROGRAMMING PRINCIPLES EVERY IMPERATIVE PROGRAMMER SHOULD USE\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F36504\u002Fwhy-functional-languages\"\u003EWhy functional languages? \u003C\u002Fa\u003E\u003C\u002Fp\u003E\n","cover_image":""}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.44ac298f.js" defer></script><script src="/assets/js/page--src-templates-post-vue.905a5c02.js" defer></script>
  </body>
</html>
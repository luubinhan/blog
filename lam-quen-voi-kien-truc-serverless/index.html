<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Làm quen với kiến trúc Serverless - VuiLapTrinh.com</title><meta name="gridsome:hash" content="a337bfe482d2d0598cf40fe9952659ec662931a4"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Tutorials, Blog, Hướng dẫn, chia sẽ kinh nghiệm về Frontend, react, vue, ux, ui"><meta data-vue-tag="ssr" name="desc" content="Mình không phải chuyên gia trong lĩnh vực này, nghiên cứu để biết thêm, thấy cũng hay, chia sẽ cho mọi người cùng đọc"><link rel="preload" href="/assets/css/0.styles.ba3b7d1a.css" as="style"><link rel="preload" href="/assets/js/app.d00b202f.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.e6a28a97.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.a46e8bb1.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.b847b681.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.c4e079bc.js"><link rel="stylesheet" href="/assets/css/0.styles.ba3b7d1a.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div id="fb-root"></div>
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v8.0&appId=445556375516928&autoLogAppEvents=1"
      nonce="NM6X5rUi"
    ></script>
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute("data-theme", newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem("theme");
        } catch (err) {}

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem("theme", newTheme);
          } catch (err) {}
        };

        var darkQuery = window.matchMedia("(prefers-color-scheme: dark)");
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? "dark" : "light");
        });

        setTheme(preferredTheme || (darkQuery.matches ? "dark" : "light"));
      })();
    </script>

    <div id="app" data-server-rendered="true" class="layout-blog"><div class="sidebar" data-v-d28e11ae><div class="sidebar__inner" data-v-d28e11ae><a href="/" class="go-home active" data-v-d28e11ae>VuiLapTrinh.com</a><div class="navigation-component" data-v-d28e11ae><ul class="nav primary-menu" data-v-d28e11ae><li class="javascript" data-v-d28e11ae><a href="/tag/javascript" aria-label="Kiến thức Javascript" title="Kiến thức Javascript" target="" data-v-d28e11ae><span class="primary-menu__icon" data-v-d28e11ae><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><path d="M255.908 485.999c-6.116 0-12.323-1.642-17.708-4.746l-56.319-33.316c-8.397-4.747-4.29-6.389-1.551-7.303 11.226-3.925 13.508-4.745 25.465-11.592 1.279-.729 2.922-.457 4.199.366l43.266 25.648c1.552.912 3.741.912 5.202 0l168.592-97.304c1.553-.913 2.555-2.738 2.555-4.563V158.583c0-1.917-1.002-3.651-2.645-4.654L258.463 56.716c-1.551-.913-3.65-.913-5.202 0L84.852 154.019c-1.644.913-2.647 2.738-2.647 4.655v194.515c0 1.825 1.003 3.65 2.647 4.473l46.188 26.653c25.102 12.504 40.436-2.191 40.436-17.068V175.195c0-2.738 2.19-4.837 4.93-4.837h21.359c2.647 0 4.928 2.099 4.928 4.837v192.143c0 33.407-18.256 52.576-49.928 52.576-9.768 0-17.435 0-38.794-10.588l-44.179-25.467c-10.954-6.299-17.708-18.074-17.708-30.76V158.583c0-12.596 6.754-24.462 17.708-30.76L238.2 30.519c10.679-6.024 24.828-6.024 35.416 0l168.594 97.394c10.953 6.298 17.707 18.073 17.707 30.761v194.515c0 12.596-6.754 24.371-17.707 30.761l-168.594 97.303a35.5 35.5 0 01-17.708 4.746zm136.098-191.775c0-36.421-24.646-46.096-76.4-52.941-52.396-6.938-57.689-10.498-57.689-22.729 0-10.131 4.473-23.641 43.266-23.641 34.596 0 47.375 7.485 52.668 30.853.457 2.19 2.467 3.833 4.746 3.833h21.91c1.367 0 2.645-.547 3.559-1.552.914-1.003 1.369-2.373 1.275-3.743-3.375-40.252-30.121-58.965-84.158-58.965-48.103 0-76.764 20.264-76.764 54.311 0 36.876 28.569 47.101 74.664 51.662 55.225 5.387 59.514 13.511 59.514 24.373 0 18.805-15.15 26.835-50.658 26.835-44.635 0-54.403-11.227-57.689-33.406-.365-2.373-2.374-4.107-4.837-4.107h-21.817a4.81 4.81 0 00-4.836 4.836c0 28.39 15.426 62.254 89.271 62.254 53.305-.092 83.975-21.181 83.975-57.873z" fill="#539e43" data-v-d28e11ae></path></svg></span><!----><!----><!----><!----><!----><span class="primary-menu__label" data-v-d28e11ae>Javascript</span></a></li><li class="react" data-v-d28e11ae><a href="/tag/react" aria-label="Kiến thức React" title="Kiến thức React" target="" data-v-d28e11ae><!----><span class="primary-menu__icon" data-v-d28e11ae><svg id="Layer_2" version="1.1" viewBox="0 0 600 600" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><circle cx="299.5" cy="299.6" r="50.2" class="st0" data-v-d28e11ae></circle><path d="M299.5 414.6c-70.5 0-132.1-8.3-178.2-24.1-29.9-10.2-55.3-23.8-73.4-39.3-19.2-16.4-29.4-34.3-29.4-51.6 0-33.2 36.4-65.7 97.5-86.9 50-17.4 115.2-27.1 183.4-27.1 67 0 131.3 9.4 181 26.6 29.1 10 53.6 23 71 37.4 18.9 15.8 28.9 33.1 28.9 50 0 34.5-40.7 69.4-106.3 91.1-46.4 15.4-108.4 23.9-174.5 23.9zm0-205c-64.7 0-128.7 9.4-175.5 25.7-56.2 19.6-81.4 46.4-81.4 64.3 0 18.6 27.1 47.9 86.5 68.2 43.6 14.9 102.6 22.8 170.4 22.8 63.6 0 122.9-8 167-22.7 61.7-20.5 89.9-49.8 89.9-68.3 0-9.5-7.2-20.7-20.3-31.6-15.1-12.6-37.1-24.1-63.4-33.2-47.3-16.2-108.8-25.2-173.2-25.2z" class="st0" data-v-d28e11ae></path><path d="M185.6 549.8c-10.2 0-19.2-2.2-26.8-6.6-28.7-16.6-38.7-64.4-26.6-127.9 9.9-52.1 34.1-113.3 68.2-172.4 33.5-58 73.7-109 113.4-143.5 23.2-20.2 46.7-35 67.9-42.8 23.1-8.5 43.1-8.5 57.7-.1 29.9 17.2 39.8 70 25.8 137.6-9.9 48-33.5 105.9-66.5 163.2-35.2 61-73.2 110.2-109.9 142.3-23.8 20.8-48.3 36-70.7 43.9-11.7 4.2-22.7 6.3-32.5 6.3zm25.1-300.9l10.4 6c-32.3 56-56.2 116.1-65.4 164.9-11.1 58.5-.4 93.7 15 102.6 3.8 2.2 8.8 3.4 14.9 3.4 19.9 0 51.2-12.6 87.4-44.2 34.7-30.3 71-77.5 104.9-136.2 31.8-55.1 54.4-110.5 63.8-156 13.1-63.7 1.8-102.7-14.3-112-8.2-4.7-21.5-4.1-37.5 1.8-18.5 6.8-39.4 20.1-60.4 38.4-37.7 32.8-76.2 81.6-108.4 137.4l-10.4-6.1z" class="st0" data-v-d28e11ae></path><path d="M413.4 550.1c-27.2 0-61.7-16.4-97.7-47.4-40.2-34.6-81.1-86.1-115.3-145.2-33.6-58-57.6-118.3-67.7-170-5.9-30.2-7-57.9-3.2-80.2 4.2-24.3 14.1-41.6 28.8-50.1 29.8-17.3 80.5.5 132.1 46.4 36.6 32.5 75 81.9 108.1 139.1 35.3 61 59 118.5 68.4 166.3 6.1 31 7.1 59.8 2.8 83.2-4.6 24.9-15 42.6-30 51.3-7.5 4.4-16.4 6.6-26.3 6.6zM221.2 345.5c32.4 56 72.6 106.7 110.2 139 45.1 38.8 80.9 47.2 96.4 38.2 16.1-9.3 27.9-47.4 15.7-109-9-45.2-31.7-100.2-65.7-158.9-31.9-55.1-68.6-102.4-103.3-133.2-48.6-43.2-88-52.9-104.1-43.6-8.2 4.7-14.3 16.6-17.2 33.4-3.3 19.4-2.3 44.2 3.1 71.5 9.6 49.1 32.6 106.8 64.9 162.6z" class="st0" data-v-d28e11ae></path></svg></span><!----><!----><!----><!----><span class="primary-menu__label" data-v-d28e11ae>React</span></a></li><li class="reactNative" data-v-d28e11ae><a href="/tag/react-native" aria-label="Kiến thức React native" title="Kiến thức React native" target="" data-v-d28e11ae><!----><!----><span class="primary-menu__icon" data-v-d28e11ae><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><defs data-v-d28e11ae></defs><g id="phone" data-v-d28e11ae><path d="M47 2H17a5 5 0 00-5 5v50a5 5 0 005 5h30a5 5 0 005-5V7a5 5 0 00-5-5zM27 26a2.5 2.5 0 11-2.5 2.5A2.5 2.5 0 0127 26zm1 13a2 2 0 01-1.33-.5 2 2 0 01-.16-2.83L32 29.49l2.51-2.82a2 2 0 113 2.66L32 35.51l-2.51 2.82A2 2 0 0128 39zm8.5 0a2.5 2.5 0 112.5-2.5 2.5 2.5 0 01-2.5 2.5z" class="cls-1" data-v-d28e11ae></path><path d="M52 7v50a5 5 0 01-5 5H32V2h15a5 5 0 015 5z" class="cls-2" data-v-d28e11ae></path><path fill="#fff200" d="M14 10h36v44H14z" data-v-d28e11ae></path><path d="M27 26a2.5 2.5 0 102.5 2.5A2.5 2.5 0 0027 26zm9.5 8a2.5 2.5 0 102.5 2.5 2.5 2.5 0 00-2.5-2.5zm.83-7.5a2 2 0 00-2.82.17L32 29.49l-5.49 6.18a2 2 0 00.16 2.83A2 2 0 0028 39a2 2 0 001.49-.67L32 35.51l5.49-6.18a2 2 0 00-.16-2.83z" class="cls-1" data-v-d28e11ae></path><path fill="#ffbe00" d="M32 10h18v44H32z" data-v-d28e11ae></path><path d="M37.33 26.5a2 2 0 00-2.82.17L32 29.49v6l5.49-6.18a2 2 0 00-.16-2.81z" class="cls-2" data-v-d28e11ae></path><circle cx="36.5" cy="36.5" r="2.5" class="cls-2" data-v-d28e11ae></circle></g></svg></span><!----><!----><!----><span class="primary-menu__label" data-v-d28e11ae>React native</span></a></li><li class="vue" data-v-d28e11ae><a href="/tag/vuejs" aria-label="Kiến thức Vue" title="Kiến thức Vue" target="" data-v-d28e11ae><!----><!----><!----><!----><span class="primary-menu__icon" data-v-d28e11ae><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><path fill="#41b883" d="M392.46 59.011H313.5l-57.499 90.972-49.285-90.972H26.001l230 393.978L485.999 59.011z" data-v-d28e11ae></path><path fill="#35495e" d="M83.192 91.867h55.241l117.568 203.511L373.464 91.867h55.241l-172.704 295.92L83.192 91.867z" data-v-d28e11ae></path></svg></span><!----><span class="primary-menu__label" data-v-d28e11ae>Vue</span></a></li><li class="htmlCss" data-v-d28e11ae><a href="/tag/css" aria-label="Kiến thức HTML/CSS" title="Kiến thức HTML/CSS" target="" data-v-d28e11ae><!----><!----><!----><span class="primary-menu__icon" data-v-d28e11ae><svg version="1.0" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><path fill="#E44D26" d="M27.377 28.889L16.001 32 4.625 28.889 2 0h28.002z" data-v-d28e11ae></path><path fill="#FF6C39" d="M16 2v27.75l9.232-2.742L27.688 2z" data-v-d28e11ae></path><path fill="#FFF" d="M24.363 6H7.607L8 10l.619 7h10.884l-.355 3.984L16 21.99l-3.143-1.006L12.648 19H8.803l.459 4.987L16 25.99l6.728-2.004.99-10.986H12.252l-.25-3H24z" data-v-d28e11ae></path></svg></span><!----><!----><span class="primary-menu__label" data-v-d28e11ae>HTML/CSS</span></a></li><li class="uxUi" data-v-d28e11ae><a href="/tag/ux-ui" aria-label="Kiến thức UX/UI" title="Kiến thức UX/UI" target="" data-v-d28e11ae><!----><!----><!----><!----><!----><span class="primary-menu__icon" data-v-d28e11ae><svg viewBox="0 0 512 454.633" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><path d="M202.271 243.812c-9.741 10.73-12.13 18.428-24.884 38.588 8.237 5.752 24.104 19.055 35.095 41.959 21.953-12.592 32.188-14.514 43.821-24.309C332.24 236.092 518.244 6.836 511.839.204c-6.766-7.05-242.704 170.268-309.568 243.608zM155.442 300.209c-32.998-5.832-65.547 15.028-87.288 67.147C46.382 419.471 7.532 440.337.001 439.061c40.553 14.67 164.202 52.194 194.939-90.655-13.037-34.26-39.498-48.197-39.498-48.197z" data-v-d28e11ae></path></svg></span><span class="primary-menu__label" data-v-d28e11ae>UX/UI</span></a></li><li class="about" data-v-d28e11ae><a href="https://luubinhan.github.io/" target="_blank" data-v-d28e11ae>About</a></li></ul></div></div><div id="footer" data-v-d28e11ae><footer class="footer" data-v-d28e11ae><section class="footer-inner" data-v-d28e11ae><div class="social-links" data-v-d28e11ae><a href="https://www.youtube.com/channel/UC0Te8s0b0aplS1ZoVLfjKHA" target="_blank" rel="noopener noreferrer" class="link-youtube" data-v-d28e11ae><span class="link-youtube__icon" data-v-d28e11ae><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae data-v-d28e11ae><path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256z" fill="#CD201F" data-v-d28e11ae data-v-d28e11ae></path><path d="M391.1 194.6c-2.3-19.9-7.1-25.7-10.5-28.4-5.4-4.2-15.2-5.7-28.3-6.6-21-1.4-56.7-2.3-95.2-2.3-38.6 0-74.2.8-95.2 2.3-13.1.9-22.9 2.4-28.3 6.6-3.4 2.7-8.1 8.5-10.5 28.4-3.4 28.7-3.4 94.1 0 122.8 2.4 19.9 7.1 25.7 10.5 28.4 5.4 4.2 15.2 5.7 28.3 6.6 21 1.4 56.6 2.3 95.2 2.3s74.2-.9 95.2-2.3c13.1-.9 22.9-2.4 28.3-6.6 3.4-2.6 8.1-8.5 10.5-28.4 3.4-28.7 3.4-94.1 0-122.8zm-167 104.3V213l82.4 42.9-82.4 43z" fill="#FFF" data-v-d28e11ae data-v-d28e11ae></path></svg></span>
            Youtube
          </a></div><div class="credit" data-v-d28e11ae>Copyright © 2019. luckyluu</div></section></footer></div></div><div class="master"><main class="inner"><div class="single-post"><div class="single-post-container"><article><header><div class="post-title"><h1 class="post-title__text single-post-title">Làm quen với kiến trúc Serverless</h1><div class="post-meta">
  Đăng ngày
  <time dateTime="2019-08-30" itemprop="dateModified" content="2019-08-30">2019-08-30</time>.
  
    Mất khoảng
    <strong>7 phút</strong> để đọc.
  </div></div></header><div class="post content-box"><div class="post__header"><!----></div><div class="blog-post"><div class="post-content"><!-- TOC -->
<ul>
<li><a href="#serverless-l%c3%a0-g%c3%ac">Serverless là gì</a></li>
<li><a href="#function-as-a-service">Function as a Service</a></li>
<li><a href="#case-study">Case Study</a></li>
</ul>
<!-- /TOC -->
<p>Mười mấy năm về trước, ngày còn đang học đại học, mỗi lần đến ngày đăng ký môn học là mình được nghe điệp khúc hát mãi "server quá tải, số lượng sinh viên tranh nhau vào các lớp có nhiều gái xinh quá đông, quá nguy hiểm, mấy em vui lòng canh 12 giờ đêm, khi ko còn ai lên đăng ký môn học, chúng tôi mới đáp ứng kịp"</p>
<p>Ngày đó Server của trường nằm ở Nguyễn Văn Tráng, phòng server nhỏ như hang thỏ, mà chỉ xài đúng mấy ngày đầu học kỳ, nên thầy trưởng khoa ko thể nào xin ngân sách được để mà nâng cấp 10 mấy con server cho các em sinh viên xài thỏa thích.</p>
<p>Bài toán Server đó giờ được giải quyết ra sao? <strong>Serverless</strong></p>
<p>Trước tiên cần khẳng định <strong>Serverless</strong> không phải là bạn không cần server. Một shop <em>thú nuôi</em> đơn giản, vài ngàn người mua hoa một tháng, làm bằng wordpress bạn sẽ không thấy được lợi ích từ việc sử dụng kiến trúc mới này, không những vậy còn là việc ném một cục tiền cho mấy thằng bán dịch vụ như Amazon</p>
<p>Trang bán thú nuôi, kiến trúc cũ sẽ là thế này</p>
<p><img src="https://martinfowler.com/articles/serverless/ps.svg" alt="kiến trúc cũ sẽ là thế này"></p>
<p>Tất cả những logic sẽ nằm ở <strong>ứng dụng phía server</strong>: từ authentication, page navigation, searching, transaction (code backend đó)</p>
<p>Yêu cầu cần có ngân sách, kế hoạch cụ thể, lắp đặt các hệ thống máy chủ, tìm một chỗ để máy, đảm bảo luôn có điện, luôn mát lạnh, đi dây, chọn nhà cung cấp mạng không bị cá mập cắn…</p>
<p>Nói chung bạn tự làm mọi thứ, hoặc bỏ tiền ra thuê một thằng làm mọi thứ, mà nó còn hay đòi hỏi thêm thắt này kia nọ, vô cùng tốn thời gian, nhân lực, tiền bạc, cơ sở hạ tầng.</p>
<p><em>Infrastructure as a service - IaaS</em>, các dịch vụ cho <em>thuê mặt bằng</em> ra đời. Đáp ứng nhu cầu tiết kiệm chi phí ở thời điểm đầu, nhưng vẫn có thể <em>bành trướng</em> khi cần.</p>
<p>Bạn hình dung nó như việc mở một quán ăn, phải tìm mặt bằng, tìm người giữ xe, chỗ để xe cho khách, thu hút khách vào ăn, thanh toán, sửa chữa điện, nước… Những thằng <strong>IaaS</strong> là các trung tâm thương mại, nó lo hết mọi thứ khác, bạn chỉ việc bỏ tiền ra và thuê lại mặt bằng và kinh doanh.</p>
<h2 id="serverless-là-gì"><a href="#serverless-l%C3%A0-g%C3%AC" aria-hidden="true"><span class="icon icon-link"></span></a>Serverless là gì</h2>
<p>Nó như một khái niệm kinh tế học, không có một cách định nghĩa chính xác Serverless là gì! Có thể hiểu theo 2 cách sau</p>
<p>Serverless được dùng để ám chỉ những ứng dụng sử dụng phần lớn (hoặc toàn bộ) dịch vụ "nhà hàng xóm" (third-party), được host trên cloud, cho các vấn đề ở phía server là logic và state (ví dụ trạng thái đăng nhập, một dạng của dịch vụ chăm sóc khách hàng thân thiết). Những ứng dụng <strong>để sử dụng</strong> (không phải những trang profile công ty, show hiệu ứng bay lượn portfolio, ví dụ như Facebook, ứng dụng đăng ký môn học, hoặc ứng dụng điện thoại bị chửi bới quá trời FaceApp, tức là mô hình này không chỉ áp dụng riêng cho web). Những dịch vụ thường được outsource cho nhà hàng xóm là gì: database có <a href="https://parseplatform.org/" target="_blank" rel="nofollow noopener noreferrer">Parse</a>, <a href="https://firebase.google.com/" target="_blank" rel="nofollow noopener noreferrer">Firebase</a>, authentication có <a href="https://auth0.com/" target="_blank" rel="nofollow noopener noreferrer">Auth0</a>, AWS Cognito. Mấy nhà này nằm trong khu "Backend as a Service" - <strong>BaaS</strong>, khi gắn vào <em>hậu tố</em> as a Service bạn có thể biết là nó nằm ở nhà hàng xóm.</p>
<p>Serverless cũng có nghĩa là ứng dụng đó logic server vẫn có, developer vẫn phải viết logic này, tuy nhiên, không giống kiến trúc truyền thống, nó chạy theo cơ chế "tiền trao-cháo múc" (event-trigger), không quan tâm anh bạn có ở chung nhà mình không (stateless compute container). Khái niệm này được <a href="https://twitter.com/marak" target="_blank" rel="nofollow noopener noreferrer">@marak trên Twitter</a> gọi là <strong>Function as a Service</strong> - <strong>FaaS</strong>, bạn có nhu cầu cắt tóc, gội đầu, uống cafe, đánh giày thì bạn ra <em>tiệm</em> hết, không dùng đồ <em>nhà</em> có sẵn nữa. Hiện tại, <a href="https://aws.amazon.com/lambda/" target="_blank" rel="nofollow noopener noreferrer">AWS Lambda</a> là một trong những platform nổi tiếng nhất khi nói đến FaaS</p>
<p>Giờ nói tới FaaS, nó đang là trend, nó thay đổi cách chúng ta trước đây vẫn nghĩ về kiến trúc dưới server.</p>
<p>Tất cả những ông lớn đều có các sản phẩm BaaS và FaaS, <a href="https://aws.amazon.com/serverless/" target="_blank" rel="nofollow noopener noreferrer">Amazon Serverless</a>, <a href="https://firebase.google.com/docs/functions/" target="_blank" rel="nofollow noopener noreferrer">Google Cloud Functions for Firebase.</a></p>
<p><img src="https://hackernoon.com/hn-images/1*t4O4UXpdG68MQboNKC6bBw.jpeg" alt="Tất cả những ông lớn đều có các sản phẩm BaaS và FaaS"></p>
<p>Một kiến trúc Serverless nó như thế này</p>
<p><img src="https://martinfowler.com/articles/serverless/sps.svg" alt="Một kiến trúc Serverless"></p>
<ol>
<li>Phần authen trước đây được gửi <em>nhà hàng xóm</em> làm (cơ quan nhà nước chuyên cung cấp CMND)</li>
<li>Dữ liệu được đưa một về nhà kho quản lý, kiểu như Tiki bây giờ quá mệt quản lý kho hàng, các cửa hàng nhỏ lẻ tự quản lý kho, Tiki bán được thì chạy tới kho của bên thứ 3 lấy.</li>
<li>Với 2 thay đổi ở trên, điều này có nghĩa là một vài logic đã được nằm ở phía client, thí dụ, user session, bạn sẽ thấy rõ nhất ở các Single Page App chúng ta build, phần logic giao diện cho user đã và chưa đăng nhập nằm ở client - <em>nhà user</em>, những route nào user có thể vào nằm ở code client</li>
<li>Một vài hiển thị, ràng buộc tất nhiên vẫn được server nắm. Thí dụ "search". Chúng ta có thêm một <em>nhà</em> gọi là "API Gateway", dịch vụ giao nhận, tất cả các yêu cầu từ client đưa về đây, các anh em HTTP sẽ đi lấy dữ liệu từ kho về cho chúng ta.</li>
<li>Với tính năng đặt hàng, nó do một <em>nhà** khác cung cấp. Những logic khác nhau, được tách và deploy thành những </em>cục* khác nhau như vậy cách tiếp cận của FaaS cũng là cách tiếp cận rất phổ biến trong "Microservices"</li>
</ol>
<p>Nó sẽ có những lợi ích i chang như Microservices, tất nhiên là có trả giá, có nhiều thứ để kiểm soát và theo dõi hơn, vấn đề bảo mật cũng không phải đơn giản như xưa, nằm ở nhiều nơi quá mà, bài toán đi đi lại tránh kẹt xe giữa các hệ thống khác nhau, biết đâu đi lạc vào chổ nào đó mất CMND luôn !!</p>
<h2 id="function-as-a-service"><a href="#function-as-a-service" aria-hidden="true"><span class="icon icon-link"></span></a>Function as a Service</h2>
<p>Nãy giờ nói FaaS nhiều quá rồi, giờ "đào sâu" nghiên cứu nó chút. Trích dẫn từ trang <a href="https://aws.amazon.com/lambda/" target="_blank" rel="nofollow noopener noreferrer">Amazon Lambda</a></p>
<blockquote>
<p>AWS Lambda lets you run code without provisioning or managing servers. (1) ... With Lambda, you can run code for virtually any type of application or backend service (2) - all with zero administration. Just upload your code and Lambda takes care of everything required to run (3) and scale (4) your code with high availability. You can set up your code to automatically trigger from other AWS services (5) or call it directly from any web or mobile app (6).</p>
</blockquote>
<p>Diễn giải đoạn dài ngoằn kia</p>
<p>(1) FaaS là chạy backend code mà không cần quan tâm việc quản lý và bảo trì hệ thống server.</p>
<p>(2) FaaS không yêu cầu một framework hay thư viện cụ thể nào. Các <strong>function</strong> trên Lambda có thể được viết bằng Javascript, Python, Go, Java, Clojure, Scala, .NET.</p>
<p>(3) Deploy sẽ rất khác với hệ thống truyền thống. Tới *nhà** của FaaS chúng ta đưa đoạn code cho chủ nhà, còn lại chủ nhà làm gì thì làm.</p>
<p>(4) Scale sẽ tự động được chủ nhà làm. Nếu hệ thống cần đáp ứng 1000 request đồng thời, chủ nhà sẽ lo, bạn chỉ cần bơm tiền. Quan trọng nhất, bên cung cấp dịch vụ sẽ quản lý hết toàn bộ resource, xin giấy phép, nói chung là toàn bộ - bạn không cần làm gì với cluster, VM cả.</p>
<p>(5) Cung cấp cơ chế trigger ứng với các event bạn muốn.</p>
<p>(6) Mấy bên cung cấp dịch vụ, cho phép các function này trigger theo những sự kiện HTTP request, như ví dụ là search, và purchase, hoặc gọi trực tiếp lên các API được cung cấp bởi bên cung cấp</p>
<h2 id="case-study"><a href="#case-study" aria-hidden="true"><span class="icon icon-link"></span></a>Case Study</h2>
<p><a href="http://www.vogue.it/en/photovogue" target="_blank" rel="nofollow noopener noreferrer">PhotoVogue</a> trang Vogue của Ý, chạy từ năm 2011, sau một năm chạy, photographer bu vô như kiến, server ở nhà riêng quá tải không chịu nổi.</p>
<p>Giám đốc kỹ thuật quyết định chuyển đổi toàn bộ hệ thống server ở <em>nhà riêng</em> sang AWS trong 3 tháng.</p>
<p>Chạy theo trend này, còn có những cái tên rất phổ biến là Uber, Pokemon Go, Airbnb, Clash of Clans và rất nhiều ứng dụng khác khi số lượng user và real-time data lớn</p>
<p>Những vấn đề mà team PhotoVogue đã gặp</p>
<ul>
<li>Có hơn 130,000 photographer trên khắp thế giới sử dụng hệ thống để đưa ảnh lên, ước tính có khoảng 400,000 ảnh, với dung lượng tối đa mỗi hình là 50MB (bọn này chơi sang nhỉ)</li>
<li>Số lượng truy cập ngày càng tăng</li>
<li>Trải nghiệm sử dụng của user không tốt, thao tác xử lý quá chậm, up ảnh quá rùa</li>
</ul>
<p>Với AWS, nó đã giải quyết các vấn đề sau cho PhotoVogue</p>
<ul>
<li>Khả năng scale, dễ maintenance, quản lý chi phí rõ ràng</li>
<li>Lưu trữ hình trên Amazon S3</li>
<li>Khi up lên Amazon S3, bật trigger sử dụng AWS Lambda function, convert các file này qua gif, jpeg, png, tiff</li>
<li>Amazon API Gateway được sử dụng để làm tầng caching của REST API, Amazon CloudFront cho CDN</li>
</ul>
<p><img src="https://www.simform.com/wp-content/uploads/2017/12/serverless-graph.png" alt="Kiến trúc Serverless"></p>
<p>Còn vấn đề nào nữa không, mình hy vọng bạn nào chuyên gia vào chỉ giáo</p>
<p>Tài liệu tham khảo</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/what-is-serverless-architecture-what-are-its-pros-and-cons-cc4b804022e9">📜 What is Serverless Architecture? What are its Pros and Cons?</a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://martinfowler.com/articles/serverless.html">📜 Serverless Architectures</a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://www.simform.com/serverless-architecture-guide/">📜 Serverless Architecture: A Comprehensive Guide</a></p>
</div></div><div class="post__footer"><div class="post-tags"><a href="/tag/javascript/" class="post-tags__link"><span>#</span> javascript
		</a><a href="/tag/hoc-thuat/" class="post-tags__link"><span>#</span> hoc-thuat
		</a></div></div><div class="single-post__share"><a class="share-network-email" style="background-color:#333333;"><i class="mst-icon icon-mail"></i><span>Email</span></a><a class="share-network-facebook" style="background-color:#1877f2;"><i class="mst-icon icon-facebook"></i><span>Facebook</span></a><a class="share-network-linkedin" style="background-color:#007bb5;"><i class="mst-icon icon-linkedin"></i><span>LinkedIn</span></a><a class="share-network-pocket" style="background-color:#ef4056;"><i class="mst-icon icon-get-pocket"></i><span>Pocket</span></a><a class="share-network-skype" style="background-color:#00aff0;"><i class="mst-icon icon-skype"></i><span>Skype</span></a><a class="share-network-twitter" style="background-color:#1da1f2;"><i class="mst-icon icon-twitter"></i><span>Twitter</span></a></div></div><div class="post-comments"><div data-href="https://vuilaptrinh.com/lam-quen-voi-kien-truc-serverless/" data-numposts="10" data-width="100%" class="fb-comments"></div><div id="disqus_thread" style="min-height:200px;"></div></div><div class="author post-author"><a href="https://luubinhan.github.io/" target="_blank"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript></a><!----><p class="author__intro">Frontend Developer live in Ho Chi Minh City, a photography geek, and a music lover</p></div></article></div></div></main></div><div class="layout-blog__aside"><div class="layout-blog__aside-inner"><div class="search-wrapper"><div class="search__container"><input id="search" type="text" placeholder="Tìm bài viết..." value="" class="search__input"></div><div class="search__list"><!----><!----></div></div><div class="layout-blog__aside-footer"><div class="related-posts"><h4>Bài liên quan</h4><ul class="related-posts__container"><li class="related-posts__media"><div class="related-posts__index">1.</div><div class="related-posts__content"><h4 class="related-posts__title"><a href="/lam-quen-voi-react-hook-bang-vi-du/">Làm quen với React Hook bằng ví dụ</a></h4><p>Chúng ta cùng bắt đầu học sử dụng React Hook, nó giải quyết vấn đề gì, sử dụng nó ra sao</p></div></li><li class="related-posts__media"><div class="related-posts__index">2.</div><div class="related-posts__content"><h4 class="related-posts__title"><a href="/lam-quen-voi-phuong-phap-atomic-de-structure-source-code-design/">Làm quen với phương pháp Atomic để structure source code, design</a></h4><p>Atom, molecule, organism, template, và page là những khái niệm chính của phương pháp này</p></div></li><li class="related-posts__media"><div class="related-posts__index">3.</div><div class="related-posts__content"><h4 class="related-posts__title"><a href="/lam-quen-khai-niem-cors-cua-web/">Làm quen khái niệm CORS của Web</a></h4><p>Bài này khá căn bản và cần thiết cho bạn nào chưa biết gì về CORS, nghe ai đó nói về từ khóa ghê gớm này mà ko biết nó là gì, không để cập đến vấn đề setup làm sao để chạy CORS trên server - vì mình ko biết code phía server đâu</p></div></li><li class="related-posts__media"><div class="related-posts__index">4.</div><div class="related-posts__content"><h4 class="related-posts__title"><a href="/cau-dieu-kien-trong-javascript/">Câu điều kiện trong javascript</a></h4><p>Nắm vững conditional expression trong javascript để viết code sạch sẽ hơn</p></div></li></ul></div></div></div></div></div> <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Làm quen với kiến trúc Serverless","path":"\u002Flam-quen-voi-kien-truc-serverless\u002F","date":"2019-08-30","timeToRead":7,"tags":[{"id":"javascript","title":"javascript","path":"\u002Ftag\u002Fjavascript\u002F"},{"id":"hoc-thuat","title":"hoc-thuat","path":"\u002Ftag\u002Fhoc-thuat\u002F"}],"desc":"Mình không phải chuyên gia trong lĩnh vực này, nghiên cứu để biết thêm, thấy cũng hay, chia sẽ cho mọi người cùng đọc","content":"\u003C!-- TOC --\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#serverless-l%c3%a0-g%c3%ac\"\u003EServerless là gì\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#function-as-a-service\"\u003EFunction as a Service\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#case-study\"\u003ECase Study\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C!-- \u002FTOC --\u003E\n\u003Cp\u003EMười mấy năm về trước, ngày còn đang học đại học, mỗi lần đến ngày đăng ký môn học là mình được nghe điệp khúc hát mãi \"server quá tải, số lượng sinh viên tranh nhau vào các lớp có nhiều gái xinh quá đông, quá nguy hiểm, mấy em vui lòng canh 12 giờ đêm, khi ko còn ai lên đăng ký môn học, chúng tôi mới đáp ứng kịp\"\u003C\u002Fp\u003E\n\u003Cp\u003ENgày đó Server của trường nằm ở Nguyễn Văn Tráng, phòng server nhỏ như hang thỏ, mà chỉ xài đúng mấy ngày đầu học kỳ, nên thầy trưởng khoa ko thể nào xin ngân sách được để mà nâng cấp 10 mấy con server cho các em sinh viên xài thỏa thích.\u003C\u002Fp\u003E\n\u003Cp\u003EBài toán Server đó giờ được giải quyết ra sao? \u003Cstrong\u003EServerless\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETrước tiên cần khẳng định \u003Cstrong\u003EServerless\u003C\u002Fstrong\u003E không phải là bạn không cần server. Một shop \u003Cem\u003Ethú nuôi\u003C\u002Fem\u003E đơn giản, vài ngàn người mua hoa một tháng, làm bằng wordpress bạn sẽ không thấy được lợi ích từ việc sử dụng kiến trúc mới này, không những vậy còn là việc ném một cục tiền cho mấy thằng bán dịch vụ như Amazon\u003C\u002Fp\u003E\n\u003Cp\u003ETrang bán thú nuôi, kiến trúc cũ sẽ là thế này\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmartinfowler.com\u002Farticles\u002Fserverless\u002Fps.svg\" alt=\"kiến trúc cũ sẽ là thế này\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETất cả những logic sẽ nằm ở \u003Cstrong\u003Eứng dụng phía server\u003C\u002Fstrong\u003E: từ authentication, page navigation, searching, transaction (code backend đó)\u003C\u002Fp\u003E\n\u003Cp\u003EYêu cầu cần có ngân sách, kế hoạch cụ thể, lắp đặt các hệ thống máy chủ, tìm một chỗ để máy, đảm bảo luôn có điện, luôn mát lạnh, đi dây, chọn nhà cung cấp mạng không bị cá mập cắn…\u003C\u002Fp\u003E\n\u003Cp\u003ENói chung bạn tự làm mọi thứ, hoặc bỏ tiền ra thuê một thằng làm mọi thứ, mà nó còn hay đòi hỏi thêm thắt này kia nọ, vô cùng tốn thời gian, nhân lực, tiền bạc, cơ sở hạ tầng.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EInfrastructure as a service - IaaS\u003C\u002Fem\u003E, các dịch vụ cho \u003Cem\u003Ethuê mặt bằng\u003C\u002Fem\u003E ra đời. Đáp ứng nhu cầu tiết kiệm chi phí ở thời điểm đầu, nhưng vẫn có thể \u003Cem\u003Ebành trướng\u003C\u002Fem\u003E khi cần.\u003C\u002Fp\u003E\n\u003Cp\u003EBạn hình dung nó như việc mở một quán ăn, phải tìm mặt bằng, tìm người giữ xe, chỗ để xe cho khách, thu hút khách vào ăn, thanh toán, sửa chữa điện, nước… Những thằng \u003Cstrong\u003EIaaS\u003C\u002Fstrong\u003E là các trung tâm thương mại, nó lo hết mọi thứ khác, bạn chỉ việc bỏ tiền ra và thuê lại mặt bằng và kinh doanh.\u003C\u002Fp\u003E\n\u003Ch2 id=\"serverless-là-gì\"\u003E\u003Ca href=\"#serverless-l%C3%A0-g%C3%AC\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EServerless là gì\u003C\u002Fh2\u003E\n\u003Cp\u003ENó như một khái niệm kinh tế học, không có một cách định nghĩa chính xác Serverless là gì! Có thể hiểu theo 2 cách sau\u003C\u002Fp\u003E\n\u003Cp\u003EServerless được dùng để ám chỉ những ứng dụng sử dụng phần lớn (hoặc toàn bộ) dịch vụ \"nhà hàng xóm\" (third-party), được host trên cloud, cho các vấn đề ở phía server là logic và state (ví dụ trạng thái đăng nhập, một dạng của dịch vụ chăm sóc khách hàng thân thiết). Những ứng dụng \u003Cstrong\u003Eđể sử dụng\u003C\u002Fstrong\u003E (không phải những trang profile công ty, show hiệu ứng bay lượn portfolio, ví dụ như Facebook, ứng dụng đăng ký môn học, hoặc ứng dụng điện thoại bị chửi bới quá trời FaceApp, tức là mô hình này không chỉ áp dụng riêng cho web). Những dịch vụ thường được outsource cho nhà hàng xóm là gì: database có \u003Ca href=\"https:\u002F\u002Fparseplatform.org\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EParse\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Ffirebase.google.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EFirebase\u003C\u002Fa\u003E, authentication có \u003Ca href=\"https:\u002F\u002Fauth0.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EAuth0\u003C\u002Fa\u003E, AWS Cognito. Mấy nhà này nằm trong khu \"Backend as a Service\" - \u003Cstrong\u003EBaaS\u003C\u002Fstrong\u003E, khi gắn vào \u003Cem\u003Ehậu tố\u003C\u002Fem\u003E as a Service bạn có thể biết là nó nằm ở nhà hàng xóm.\u003C\u002Fp\u003E\n\u003Cp\u003EServerless cũng có nghĩa là ứng dụng đó logic server vẫn có, developer vẫn phải viết logic này, tuy nhiên, không giống kiến trúc truyền thống, nó chạy theo cơ chế \"tiền trao-cháo múc\" (event-trigger), không quan tâm anh bạn có ở chung nhà mình không (stateless compute container). Khái niệm này được \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fmarak\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E@marak trên Twitter\u003C\u002Fa\u003E gọi là \u003Cstrong\u003EFunction as a Service\u003C\u002Fstrong\u003E - \u003Cstrong\u003EFaaS\u003C\u002Fstrong\u003E, bạn có nhu cầu cắt tóc, gội đầu, uống cafe, đánh giày thì bạn ra \u003Cem\u003Etiệm\u003C\u002Fem\u003E hết, không dùng đồ \u003Cem\u003Enhà\u003C\u002Fem\u003E có sẵn nữa. Hiện tại, \u003Ca href=\"https:\u002F\u002Faws.amazon.com\u002Flambda\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EAWS Lambda\u003C\u002Fa\u003E là một trong những platform nổi tiếng nhất khi nói đến FaaS\u003C\u002Fp\u003E\n\u003Cp\u003EGiờ nói tới FaaS, nó đang là trend, nó thay đổi cách chúng ta trước đây vẫn nghĩ về kiến trúc dưới server.\u003C\u002Fp\u003E\n\u003Cp\u003ETất cả những ông lớn đều có các sản phẩm BaaS và FaaS, \u003Ca href=\"https:\u002F\u002Faws.amazon.com\u002Fserverless\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EAmazon Serverless\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffunctions\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EGoogle Cloud Functions for Firebase.\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fhackernoon.com\u002Fhn-images\u002F1*t4O4UXpdG68MQboNKC6bBw.jpeg\" alt=\"Tất cả những ông lớn đều có các sản phẩm BaaS và FaaS\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EMột kiến trúc Serverless nó như thế này\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmartinfowler.com\u002Farticles\u002Fserverless\u002Fsps.svg\" alt=\"Một kiến trúc Serverless\"\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EPhần authen trước đây được gửi \u003Cem\u003Enhà hàng xóm\u003C\u002Fem\u003E làm (cơ quan nhà nước chuyên cung cấp CMND)\u003C\u002Fli\u003E\n\u003Cli\u003EDữ liệu được đưa một về nhà kho quản lý, kiểu như Tiki bây giờ quá mệt quản lý kho hàng, các cửa hàng nhỏ lẻ tự quản lý kho, Tiki bán được thì chạy tới kho của bên thứ 3 lấy.\u003C\u002Fli\u003E\n\u003Cli\u003EVới 2 thay đổi ở trên, điều này có nghĩa là một vài logic đã được nằm ở phía client, thí dụ, user session, bạn sẽ thấy rõ nhất ở các Single Page App chúng ta build, phần logic giao diện cho user đã và chưa đăng nhập nằm ở client - \u003Cem\u003Enhà user\u003C\u002Fem\u003E, những route nào user có thể vào nằm ở code client\u003C\u002Fli\u003E\n\u003Cli\u003EMột vài hiển thị, ràng buộc tất nhiên vẫn được server nắm. Thí dụ \"search\". Chúng ta có thêm một \u003Cem\u003Enhà\u003C\u002Fem\u003E gọi là \"API Gateway\", dịch vụ giao nhận, tất cả các yêu cầu từ client đưa về đây, các anh em HTTP sẽ đi lấy dữ liệu từ kho về cho chúng ta.\u003C\u002Fli\u003E\n\u003Cli\u003EVới tính năng đặt hàng, nó do một \u003Cem\u003Enhà** khác cung cấp. Những logic khác nhau, được tách và deploy thành những \u003C\u002Fem\u003Ecục* khác nhau như vậy cách tiếp cận của FaaS cũng là cách tiếp cận rất phổ biến trong \"Microservices\"\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003ENó sẽ có những lợi ích i chang như Microservices, tất nhiên là có trả giá, có nhiều thứ để kiểm soát và theo dõi hơn, vấn đề bảo mật cũng không phải đơn giản như xưa, nằm ở nhiều nơi quá mà, bài toán đi đi lại tránh kẹt xe giữa các hệ thống khác nhau, biết đâu đi lạc vào chổ nào đó mất CMND luôn !!\u003C\u002Fp\u003E\n\u003Ch2 id=\"function-as-a-service\"\u003E\u003Ca href=\"#function-as-a-service\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EFunction as a Service\u003C\u002Fh2\u003E\n\u003Cp\u003ENãy giờ nói FaaS nhiều quá rồi, giờ \"đào sâu\" nghiên cứu nó chút. Trích dẫn từ trang \u003Ca href=\"https:\u002F\u002Faws.amazon.com\u002Flambda\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EAmazon Lambda\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EAWS Lambda lets you run code without provisioning or managing servers. (1) ... With Lambda, you can run code for virtually any type of application or backend service (2) - all with zero administration. Just upload your code and Lambda takes care of everything required to run (3) and scale (4) your code with high availability. You can set up your code to automatically trigger from other AWS services (5) or call it directly from any web or mobile app (6).\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EDiễn giải đoạn dài ngoằn kia\u003C\u002Fp\u003E\n\u003Cp\u003E(1) FaaS là chạy backend code mà không cần quan tâm việc quản lý và bảo trì hệ thống server.\u003C\u002Fp\u003E\n\u003Cp\u003E(2) FaaS không yêu cầu một framework hay thư viện cụ thể nào. Các \u003Cstrong\u003Efunction\u003C\u002Fstrong\u003E trên Lambda có thể được viết bằng Javascript, Python, Go, Java, Clojure, Scala, .NET.\u003C\u002Fp\u003E\n\u003Cp\u003E(3) Deploy sẽ rất khác với hệ thống truyền thống. Tới *nhà** của FaaS chúng ta đưa đoạn code cho chủ nhà, còn lại chủ nhà làm gì thì làm.\u003C\u002Fp\u003E\n\u003Cp\u003E(4) Scale sẽ tự động được chủ nhà làm. Nếu hệ thống cần đáp ứng 1000 request đồng thời, chủ nhà sẽ lo, bạn chỉ cần bơm tiền. Quan trọng nhất, bên cung cấp dịch vụ sẽ quản lý hết toàn bộ resource, xin giấy phép, nói chung là toàn bộ - bạn không cần làm gì với cluster, VM cả.\u003C\u002Fp\u003E\n\u003Cp\u003E(5) Cung cấp cơ chế trigger ứng với các event bạn muốn.\u003C\u002Fp\u003E\n\u003Cp\u003E(6) Mấy bên cung cấp dịch vụ, cho phép các function này trigger theo những sự kiện HTTP request, như ví dụ là search, và purchase, hoặc gọi trực tiếp lên các API được cung cấp bởi bên cung cấp\u003C\u002Fp\u003E\n\u003Ch2 id=\"case-study\"\u003E\u003Ca href=\"#case-study\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECase Study\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ca href=\"http:\u002F\u002Fwww.vogue.it\u002Fen\u002Fphotovogue\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EPhotoVogue\u003C\u002Fa\u003E trang Vogue của Ý, chạy từ năm 2011, sau một năm chạy, photographer bu vô như kiến, server ở nhà riêng quá tải không chịu nổi.\u003C\u002Fp\u003E\n\u003Cp\u003EGiám đốc kỹ thuật quyết định chuyển đổi toàn bộ hệ thống server ở \u003Cem\u003Enhà riêng\u003C\u002Fem\u003E sang AWS trong 3 tháng.\u003C\u002Fp\u003E\n\u003Cp\u003EChạy theo trend này, còn có những cái tên rất phổ biến là Uber, Pokemon Go, Airbnb, Clash of Clans và rất nhiều ứng dụng khác khi số lượng user và real-time data lớn\u003C\u002Fp\u003E\n\u003Cp\u003ENhững vấn đề mà team PhotoVogue đã gặp\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECó hơn 130,000 photographer trên khắp thế giới sử dụng hệ thống để đưa ảnh lên, ước tính có khoảng 400,000 ảnh, với dung lượng tối đa mỗi hình là 50MB (bọn này chơi sang nhỉ)\u003C\u002Fli\u003E\n\u003Cli\u003ESố lượng truy cập ngày càng tăng\u003C\u002Fli\u003E\n\u003Cli\u003ETrải nghiệm sử dụng của user không tốt, thao tác xử lý quá chậm, up ảnh quá rùa\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EVới AWS, nó đã giải quyết các vấn đề sau cho PhotoVogue\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EKhả năng scale, dễ maintenance, quản lý chi phí rõ ràng\u003C\u002Fli\u003E\n\u003Cli\u003ELưu trữ hình trên Amazon S3\u003C\u002Fli\u003E\n\u003Cli\u003EKhi up lên Amazon S3, bật trigger sử dụng AWS Lambda function, convert các file này qua gif, jpeg, png, tiff\u003C\u002Fli\u003E\n\u003Cli\u003EAmazon API Gateway được sử dụng để làm tầng caching của REST API, Amazon CloudFront cho CDN\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fwww.simform.com\u002Fwp-content\u002Fuploads\u002F2017\u002F12\u002Fserverless-graph.png\" alt=\"Kiến trúc Serverless\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ECòn vấn đề nào nữa không, mình hy vọng bạn nào chuyên gia vào chỉ giáo\u003C\u002Fp\u003E\n\u003Cp\u003ETài liệu tham khảo\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https:\u002F\u002Fhackernoon.com\u002Fwhat-is-serverless-architecture-what-are-its-pros-and-cons-cc4b804022e9\"\u003E📜 What is Serverless Architecture? What are its Pros and Cons?\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https:\u002F\u002Fmartinfowler.com\u002Farticles\u002Fserverless.html\"\u003E📜 Serverless Architectures\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https:\u002F\u002Fwww.simform.com\u002Fserverless-architecture-guide\u002F\"\u003E📜 Serverless Architecture: A Comprehensive Guide\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n","cover_image":"","related":[{"id":"9358bcb7257ba0e35f104945857aa41f","path":"\u002Flam-quen-voi-react-hook-bang-vi-du\u002F","title":"Làm quen với React Hook bằng ví dụ","desc":"Chúng ta cùng bắt đầu học sử dụng React Hook, nó giải quyết vấn đề gì, sử dụng nó ra sao"},{"id":"b96fe15a72c8084949568607882b071a","path":"\u002Flam-quen-voi-phuong-phap-atomic-de-structure-source-code-design\u002F","title":"Làm quen với phương pháp Atomic để structure source code, design","desc":"Atom, molecule, organism, template, và page là những khái niệm chính của phương pháp này"},{"id":"a4a5c1691d4f9e7958491cdb2d8003c9","path":"\u002Flam-quen-khai-niem-cors-cua-web\u002F","title":"Làm quen khái niệm CORS của Web","desc":"Bài này khá căn bản và cần thiết cho bạn nào chưa biết gì về CORS, nghe ai đó nói về từ khóa ghê gớm này mà ko biết nó là gì, không để cập đến vấn đề setup làm sao để chạy CORS trên server - vì mình ko biết code phía server đâu"},{"id":"1e87499ea6ebb8b16acfd36afb69a738","path":"\u002Fcau-dieu-kien-trong-javascript\u002F","title":"Câu điều kiện trong javascript","desc":"Nắm vững conditional expression trong javascript để viết code sạch sẽ hơn"}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.d00b202f.js" defer></script><script src="/assets/js/page--src-templates-post-vue.e6a28a97.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>10 kinh nghiệm khi làm việc với các dự án lớn viết bằng Vue.js - VuiLapTrinh.com</title><meta name="gridsome:hash" content="0395a9475e6dcec202a1209b8bd40b74ee081359"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Tutorials, Blog, Hướng dẫn, chia sẽ kinh nghiệm về Frontend, react, vue, ux, ui"><meta data-vue-tag="ssr" name="desc" content="Đây là 10 kinh nghiệm được đúc kết trong lúc làm việc với các bộ source lớn. Vấn đề với tất cả các bộ source lớn là nó rất khó để bảo trì."><link rel="preload" href="/assets/css/0.styles.4e7b3092.css" as="style"><link rel="preload" href="/assets/js/app.88e72233.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.0d21aba4.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.204466f8.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.0b0d171f.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.854eb99f.js"><link rel="stylesheet" href="/assets/css/0.styles.4e7b3092.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true" class="layout-blog"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← VuiLapTrinh.com
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="single-post"><div class="single-post-container"><article><header><div class="post-title"><h1 class="post-title__text single-post-title">10 kinh nghiệm khi làm việc với các dự án lớn viết bằng Vue.js</h1><div class="post-meta">
  Đăng ngày 2019-11-01.
  
    Mất khoảng
    <strong>6 phút</strong> để đọc.
  </div></div></header><div class="post content-box"><div class="post__header"><!----></div><div className="blog-post"><div class="post-content"><div class="post__content"><!-- TOC -->
<ul>
<li><a href="#s%E1%BB%AD-d%E1%BB%A5ng-slot-%C4%91%E1%BB%83-component-d%E1%BB%85-hi%E1%BB%83u-h%C6%A1n-v%C3%A0-d%E1%BB%85-t%C3%B9y-bi%E1%BA%BFn-h%C6%A1n">Sử dụng <code class="language-text">slot</code> để component dễ hiểu hơn và dễ tùy biến hơn</a></li>
<li><a href="#t%E1%BB%95-ch%E1%BB%A9c-vuex-store">Tổ chức Vuex Store</a></li>
<li><a href="#s%E1%BB%AD-d%E1%BB%A5ng-action-%C4%91%E1%BB%83-l%E1%BA%A5y-v%C3%A0-g%E1%BB%ADi-d%E1%BB%AF-li%E1%BB%87u">Sử dụng action để lấy và gửi dữ liệu</a></li>
<li><a href="#s%E1%BB%AD-d%E1%BB%A5ng-mapstate-mapgetters-mapmutations-v%C3%A0-mapactions">Sử dụng <code class="language-text">mapState</code>, <code class="language-text">mapGetters</code>, <code class="language-text">mapMutations</code> và <code class="language-text">mapActions</code></a></li>
<li><a href="#s%E1%BB%AD-d%E1%BB%A5ng-api-factories">Sử dụng API Factories</a></li>
<li><a href="#s%E1%BB%AD-d%E1%BB%A5ng-config-%C4%91%E1%BB%83-truy-c%E1%BA%ADp-bi%E1%BA%BFn-m%C3%B4i-tr%C6%B0%E1%BB%9Dng">Sử dụng <code class="language-text">$config</code> để truy cập biến môi trường</a></li>
<li><a href="#tu%C3%A2n-theo-m%E1%BB%99t-nguy%C3%AAn-t%E1%BA%AFc-chung-khi-vi%E1%BA%BFt-commit">Tuân theo một nguyên tắc chung khi viết commit</a></li>
<li><a href="#khi-l%C3%AAn-production-fix-lu%C3%B4n-c%C3%A1c-package-version-%C4%91ang-x%C3%A0i">Khi lên production, fix luôn các package version đang xài</a></li>
<li><a href="#s%E1%BB%AD-d%E1%BB%A5ng-virtual-scroller-khi-hi%E1%BB%83n-th%E1%BB%8B-nhi%E1%BB%81u-d%E1%BB%AF-li%E1%BB%87u">Sử dụng Virtual Scroller khi hiển thị nhiều dữ liệu</a></li>
<li><a href="#ki%E1%BB%83m-tra-dung-l%C6%B0%E1%BB%A3ng-package">Kiểm tra dung lượng package</a></li>
</ul>
<!-- /TOC -->
<h2 id="sử-dụng-slot-để-component-dễ-hiểu-hơn-và-dễ-tùy-biến-hơn"><a href="#s%E1%BB%AD-d%E1%BB%A5ng-slot-%C4%91%E1%BB%83-component-d%E1%BB%85-hi%E1%BB%83u-h%C6%A1n-v%C3%A0-d%E1%BB%85-t%C3%B9y-bi%E1%BA%BFn-h%C6%A1n" aria-hidden="true"><span class="icon icon-link"></span></a>Sử dụng <code class="language-text">slot</code> để component dễ hiểu hơn và dễ tùy biến hơn</h2>
<p>Bài viết hướng dẫn chi tiết khái niệm và cách dùng <code class="language-text">slot</code> bạn <a href="/2019-10-20-huong-dan-ung-dung-tuyet-voi-cua-vue-renderless-component">đọc lại ở đây</a>. Với việc sử dụng <code class="language-text">slot</code> bạn sẽ có những component với khả năng <em>xào đi nấu lại</em> dễ hơn.</p>
<p>Một ví dụ để thấy lợi ích của slot trong thực tế.</p>
<p>Khi mới nhận thiết kế từ bên design, popup modal vô cùng đơn giản, chỉ gồm <code class="language-text">title</code>, <code class="language-text">description</code> và dâm ba cái button bên dưới. Thoạt nhìn chúng ta chỉ cần 3 cái <code class="language-text">prop</code> và một sự kiện bắn ra khi click button để thay đổi tùy theo tình huống sử dụng.</p>
<p>Nhưng sau một thời gian, bên design họ vẽ vời thêm một mớ mới, nhúng form, chèn hẳn một component khác vào trong đó, vâng vâng. <code class="language-text">Prop</code> không đáp ứng nổi độ khùng của mấy bạn design. Và cách mà chúng ta refactor lại cái modal bằng <code class="language-text">slot</code></p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c-base-popup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$slot.header<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c-base-popup__header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$slot.subheader<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c-base-popup__subheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c-base-popup__body<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>desc<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ desc }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$slot.actions<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c-base-popup__actions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>actions<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$slot.footer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c-base-popup__footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    description<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token known-class-name class-name">String</span><span class="token punctuation">,</span>
      <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token keyword null nil">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token known-class-name class-name">String</span><span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<h2 id="tổ-chức-vuex-store"><a href="#t%E1%BB%95-ch%E1%BB%A9c-vuex-store" aria-hidden="true"><span class="icon icon-link"></span></a>Tổ chức Vuex Store</h2>
<p>Một lập trình viên bắt đầu mò mẫm cách xài Vuex vì họ gặp 2 vấn đề sau</p>
<ol>
<li>Cần truy cập vào dữ liệu từ một component khác, nó nằm xa ơi là xa so với component hiện tại.</li>
<li>Sau khi component bị xóa khỏi DOM, bạn vẫn muốn dữ liệu đó không bị xóa</li>
</ol>
<p>Khi bắt đầu tạo Vuex Store, chúng ta bắt đầu học được khái niệm <code class="language-text">module</code> và cách sử dụng trong ứng dụng.</p>
<p>Không một quy chuẩn nào để tổ chức <code class="language-text">module</code>, đồng nghĩa là mỗi người mỗi ý, đa phần các lập trình viên sẽ tổ chức theo dạng tính năng</p>
<ul>
<li>Auth</li>
<li>Blog</li>
<li>Inbox</li>
<li>Setting</li>
</ul>
<p>Hợp lý mà, một cách tiếp cận khác cũng hợp lý luôn là tổ chức theo dữ liệu trả về từ API</p>
<ul>
<li>User</li>
<li>Team</li>
<li>Message</li>
<li>Widget</li>
<li>Article</li>
</ul>
<p>Vì là quan điểm nên không thể nói đúng sai, nhưng chúng ta phải <strong>thống nhất một cách</strong> tổ chức Vuex Store mà mọi người đều đồng ý là hợp lý. Người mới vào team cũng dễ follow hơn.</p>
<p><a href="http://vuilaptrinh.com/2018-11-10-huong-dan-to-chuc-vuex-store-tren-du-an-lon/" target="_blank" rel="nofollow noopener noreferrer">Xem Kinh nghiệm tổ chức Vuex cho ứng dụng lớn</a></p>
<p><a href="http://vuilaptrinh.com/2019-10-12-flat-state-trong-vue-store-de-toi-uu-toc-do/" target="_blank" rel="nofollow noopener noreferrer"># Sử dụng flat state trong Vue Store</a></p>
<h2 id="sử-dụng-action-để-lấy-và-gửi-dữ-liệu"><a href="#s%E1%BB%AD-d%E1%BB%A5ng-action-%C4%91%E1%BB%83-l%E1%BA%A5y-v%C3%A0-g%E1%BB%ADi-d%E1%BB%AF-li%E1%BB%87u" aria-hidden="true"><span class="icon icon-link"></span></a>Sử dụng action để lấy và gửi dữ liệu</h2>
<p>Hầu hết các network request được đưa vào Vuex action. Bạn có thắc mắc, tại sao lại thế? 🤨</p>
<p>Đơn giản là vì hầu hết các dữ liệu lấy về sẽ được đưa vào trong store. Mặc khác, xét trên khía cạnh đóng gói và tái sử dụng thì đây là cách mang lại sự dễ chịu khi sử dụng nhất.</p>
<h2 id="sử-dụng-mapstate-mapgetters-mapmutations-và-mapactions"><a href="#s%E1%BB%AD-d%E1%BB%A5ng-mapstate-mapgetters-mapmutations-v%C3%A0-mapactions" aria-hidden="true"><span class="icon icon-link"></span></a>Sử dụng <code class="language-text">mapState</code>, <code class="language-text">mapGetters</code>, <code class="language-text">mapMutations</code> và <code class="language-text">mapActions</code></h2>
<p>Không có lý do gì phải có nhiều giá trị <code class="language-text">computed</code> hoặc phương thức chỉ vì bạn cần truy cập vào <code class="language-text">state/getter</code> hoặc gọi <code class="language-text">actions/mutations</code> bên trong component. Sử dụng các hàm được cung cấp sẵn của Vuex <code class="language-text">mapState</code>, <code class="language-text">mapGetters</code>, <code class="language-text">mapMutations</code> và <code class="language-text">mapActions</code></p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapGetters<span class="token punctuation">,</span> mapActions<span class="token punctuation">,</span> mapMutations <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">"vuex"</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// truy cập properties trong my_module</span>
    <span class="token spread operator">...</span><span class="token method function property-access">mapState</span><span class="token punctuation">(</span><span class="token string">"my_module"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"property"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// truy cập getters</span>
    <span class="token spread operator">...</span><span class="token method function property-access">mapGetters</span><span class="token punctuation">(</span><span class="token string">"my_module"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"property"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// truy cập các properties khác</span>
    <span class="token spread operator">...</span><span class="token method function property-access">mapState</span><span class="token punctuation">(</span><span class="token string">"my_module"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">property</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> state<span class="token punctuation">.</span><span class="token property-access">object</span><span class="token punctuation">.</span><span class="token property-access">nested</span><span class="token punctuation">.</span><span class="token property-access">property</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// truy cập actions</span>
    <span class="token spread operator">...</span><span class="token method function property-access">mapActions</span><span class="token punctuation">(</span><span class="token string">"my_module"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"myAction"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// truy cập mutations</span>
    <span class="token spread operator">...</span><span class="token method function property-access">mapMutations</span><span class="token punctuation">(</span><span class="token string">"my_module"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"myMutation"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><a href="https://vuex.vuejs.org/guide/modules.html" target="_blank" rel="nofollow noopener noreferrer">Xem tài liệu của Vuex</a></p>
<h2 id="sử-dụng-api-factories"><a href="#s%E1%BB%AD-d%E1%BB%A5ng-api-factories" aria-hidden="true"><span class="icon icon-link"></span></a>Sử dụng API Factories</h2>
<p>Tạo một hàm <code class="language-text">this.$api</code> để có thể gọi ở bất kỳ đâu khi cần tạo network request. Trong thư mục gốc, thêm một thư mục tên <code class="language-text">api</code> chứa tất cả các phương thức liên quan</p>
<pre class="language-bash"><code class="language-bash">api
├── auth.js
├── notifications.js
└── teams.js</code></pre>
<p><a href="https://vuejs.org/v2/guide/plugins.html" target="_blank" rel="nofollow noopener noreferrer">Xem cách đăng ký một phương thức global</a></p>
<h2 id="sử-dụng-config-để-truy-cập-biến-môi-trường"><a href="#s%E1%BB%AD-d%E1%BB%A5ng-config-%C4%91%E1%BB%83-truy-c%E1%BA%ADp-bi%E1%BA%BFn-m%C3%B4i-tr%C6%B0%E1%BB%9Dng" aria-hidden="true"><span class="icon icon-link"></span></a>Sử dụng <code class="language-text">$config</code> để truy cập biến môi trường</h2>
<p>Trong bộ source chúng ta sẽ luôn cần những biến chưa config trên môi trường khác nhau</p>
<pre class="language-bash"><code class="language-bash">config
├── development.json
└── production.json</code></pre>
<p>Nếu có thể truy cập những biến này thông qua <code class="language-text">this.$config</code> có phải tiện lợi lắm không</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token maybe-class-name">Vue</span> <span class="token keyword module">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>

<span class="token keyword module">import</span> development <span class="token keyword module">from</span> <span class="token string">"@/config/development.json"</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> production <span class="token keyword module">from</span> <span class="token string">"@/config/production.json"</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">"production"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Vue</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token property-access">$config</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">freeze</span><span class="token punctuation">(</span>production<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token class-name">Vue</span><span class="token punctuation">.</span><span class="token property-access">prototype</span><span class="token punctuation">.</span><span class="token property-access">$config</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">freeze</span><span class="token punctuation">(</span>development<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="tuân-theo-một-nguyên-tắc-chung-khi-viết-commit"><a href="#tu%C3%A2n-theo-m%E1%BB%99t-nguy%C3%AAn-t%E1%BA%AFc-chung-khi-vi%E1%BA%BFt-commit" aria-hidden="true"><span class="icon icon-link"></span></a>Tuân theo một nguyên tắc chung khi viết commit</h2>
<p>Nếu bạn nào có contribute cho các dự án trên Github, sẽ thấy lợi ích của việc có một chuẩn chung khi viết diễn giải cho commit. Có thể lấy cách viết của <a href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-commit-message-guidelines" target="_blank" rel="nofollow noopener noreferrer">Angular tham khảo</a></p>
<pre class="language-bash"><code class="language-bash"><span class="token function">git</span> commit -am <span class="token string">"&lt;type>(&lt;scope>): &lt;subject>"</span>

<span class="token comment"># Một vài ví dụ</span>
<span class="token function">git</span> commit -am <span class="token string">"docs(changelog): update changelog to beta.5"</span>
<span class="token function">git</span> commit -am <span class="token string">"fix(release): need to depend on latest rxjs and zone.js"</span></code></pre>
<p><a href="http://vuilaptrinh.com/2019-10-04-huong-dan-viet-code-vue-chuan" target="_blank" rel="nofollow noopener noreferrer">Xem Bộ guide để viết code sạch dành riêng cho Vue</a></p>
<h2 id="khi-lên-production-fix-luôn-các-package-version-đang-xài"><a href="#khi-l%C3%AAn-production-fix-lu%C3%B4n-c%C3%A1c-package-version-%C4%91ang-x%C3%A0i" aria-hidden="true"><span class="icon icon-link"></span></a>Khi lên production, fix luôn các package version đang xài</h2>
<p>Không phải package nào cũng được đặt version theo quy tắc đã chuẩn hóa. Để tránh nửa đêm bị gọi dậy vì một trong các package đã cài bộ source bỗng dưng không tương thích, production không còn chạy như trên local.</p>
<p>Tội đồ là cái prefix <code class="language-text">^</code> này. Xóa hết nó khi lên production</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"my project"</span><span class="token punctuation">,</span>

  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>

  <span class="token property">"private"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"axios"</span><span class="token operator">:</span> <span class="token string">"0.19.0"</span><span class="token punctuation">,</span>
    <span class="token property">"imagemin-mozjpeg"</span><span class="token operator">:</span> <span class="token string">"8.0.0"</span><span class="token punctuation">,</span>
    <span class="token property">"imagemin-pngquant"</span><span class="token operator">:</span> <span class="token string">"8.0.0"</span><span class="token punctuation">,</span>
    <span class="token property">"imagemin-svgo"</span><span class="token operator">:</span> <span class="token string">"7.0.0"</span><span class="token punctuation">,</span>
    <span class="token property">"nuxt"</span><span class="token operator">:</span> <span class="token string">"2.8.1"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"autoprefixer"</span><span class="token operator">:</span> <span class="token string">"9.6.1"</span><span class="token punctuation">,</span>
    <span class="token property">"babel-eslint"</span><span class="token operator">:</span> <span class="token string">"10.0.2"</span><span class="token punctuation">,</span>
    <span class="token property">"eslint"</span><span class="token operator">:</span> <span class="token string">"6.1.0"</span><span class="token punctuation">,</span>
    <span class="token property">"eslint-friendly-formatter"</span><span class="token operator">:</span> <span class="token string">"4.0.1"</span><span class="token punctuation">,</span>
    <span class="token property">"eslint-loader"</span><span class="token operator">:</span> <span class="token string">"2.2.1"</span><span class="token punctuation">,</span>
    <span class="token property">"eslint-plugin-vue"</span><span class="token operator">:</span> <span class="token string">"5.2.3"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p><a href="https://semver.org/" target="_blank" rel="nofollow noopener noreferrer">Xem Nguyên tắc đặt version</a></p>
<h2 id="sử-dụng-virtual-scroller-khi-hiển-thị-nhiều-dữ-liệu"><a href="#s%E1%BB%AD-d%E1%BB%A5ng-virtual-scroller-khi-hi%E1%BB%83n-th%E1%BB%8B-nhi%E1%BB%81u-d%E1%BB%AF-li%E1%BB%87u" aria-hidden="true"><span class="icon icon-link"></span></a>Sử dụng Virtual Scroller khi hiển thị nhiều dữ liệu</h2>
<p>Khi cần hiển thị một số lượng lớn các hàng dữ liệu trên mộ trang, việc loop qua toàn bộ dữ liệu và render sẽ bị chậm. Dùng <a href="https://github.com/Akryum/vue-virtual-scroller" target="_blank" rel="nofollow noopener noreferrer">vue-virtual-scroller</a></p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> vue-virtual-scroller</code></pre>
<p>Nó sẽ chỉ render các dữ liệu có thể vừa vặn trong viewport, phần dữ liệu chưa hiển thị trên viewport sẽ được <em>lazy</em> render khi cuộn tới, tăng tốc độ đáng kể</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RecycleScroller</span>
    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scroller<span class="token punctuation">"</span></span>
    <span class="token attr-name">:items</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span>
    <span class="token attr-name">:item-size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>32<span class="token punctuation">"</span></span>
    <span class="token attr-name">key-field</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span>
    <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ item }<span class="token punctuation">"</span></span>
  <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      {{ item.name }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RecycleScroller</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre>
<h2 id="kiểm-tra-dung-lượng-package"><a href="#ki%E1%BB%83m-tra-dung-l%C6%B0%E1%BB%A3ng-package" aria-hidden="true"><span class="icon icon-link"></span></a>Kiểm tra dung lượng package</h2>
<p>Bộ source lớn thường đồng nghĩa sử dụng nhiều package <em>lụm</em> được trên mạng, nếu không để ý, việc cài đặt bừa bãi các package này dễ dẫn đến việc dung lượng tăng vọt</p>
<p><a href="https://marketplace.visualstudio.com/items?itemName=wix.vscode-import-cost" target="_blank" rel="nofollow noopener noreferrer">Visual Studio Code có công cụ để kiểm tra dung lượng import</a> hoặc chạy công cụ <a href="https://www.npmjs.com/package/webpack-bundle-analyzer" target="_blank" rel="nofollow noopener noreferrer">Webpack Bundle Analyzer</a></p>
<p><strong>Bài viết sử dụng tham khảo</strong></p>
<p><a href="https://www.telerik.com/blogs/10-good-practices-building-maintaining-large-vuejs-projects" target="_blank" rel="nofollow noopener noreferrer">https://www.telerik.com/blogs/10-good-practices-building-maintaining-large-vuejs-projects</a></p>
</div></div></div><div class="post__footer"><div class="post-tags"><a href="/tag/kinh-nghiem/" class="post-tags__link"><span>#</span> kinh-nghiem
		</a><a href="/tag/vuejs/" class="post-tags__link"><span>#</span> vuejs
		</a></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">Hiện tại site đang nâng cấp, các bạn xài tạm</p></div></article></div></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020.</span><span class="footer__links">luckyluu</span></footer></div>
    <script src="/assets/js/app.88e72233.js" defer></script><script src="/assets/js/page--src-templates-post-vue.0d21aba4.js" defer></script>
  </body>
</html>
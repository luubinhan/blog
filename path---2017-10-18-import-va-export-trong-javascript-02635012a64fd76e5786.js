webpackJsonp([59],{"./node_modules/json-loader/index.js!./.cache/json/2017-10-18-import-va-export-trong-javascript.json":function(n,s){n.exports={data:{markdownRemark:{html:'<p>M·ªôt <strong>gi√° tr·ªã</strong>, <strong>h√†m</strong>, <strong>object</strong> c√≥ th·ªÉ ƒë∆∞·ª£c <code>export</code> t·ª´ m·ªôt file n√†y v√† d√πng c√¢u l·ªánh <code>import</code> ƒë·ªÉ s·ª≠ d·ª•ng b√™n trong file kh√°c.</p>\n<h1>Export</h1>\n<h2>C√∫ ph√°p</h2>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">export</span> <span class="token punctuation">{</span>name1<span class="token punctuation">,</span> name2<span class="token punctuation">,</span> name3<span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">,</span> nameN<span class="token punctuation">}</span>\n\n<span class="token comment" spellcheck="true">// export su dung alias</span>\n<span class="token keyword">export</span> <span class="token punctuation">{</span>name1 <span class="token keyword">as</span> differentName1<span class="token punctuation">,</span> name2 <span class="token keyword">as</span> differentName2<span class="token punctuation">}</span>\n\n<span class="token comment" spellcheck="true">// export mot khai bao bien so hoac hang so</span>\n<span class="token keyword">export</span> <span class="token keyword">let</span> name1<span class="token punctuation">,</span> <span class="token keyword">const</span> name2<span class="token punctuation">,</span> <span class="token keyword">var</span> name3\n<span class="token keyword">export</span> <span class="token keyword">let</span> name1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">const</span> name2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token keyword">var</span> name3 <span class="token operator">=</span> <span class="token number">30</span>\n\n<span class="token comment" spellcheck="true">// export mot class hoac function</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> expression<span class="token punctuation">;</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">name1</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<h2>Gi·∫£i th√≠ch</h2>\n<p>C√≥ 2 ki·ªÉu <code>export</code></p>\n<ol>\n<li>Export 1 function ƒë√£ ƒë∆∞·ª£c ƒë∆∞·ª£c khai b√°o ho·∫∑c m·ªôt gi√° tr·ªã: export c√≥ ƒë·ªãnh danh</li>\n</ol>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token comment" spellcheck="true">// exports a function declared earlier</span>\n<span class="token keyword">export</span> <span class="token punctuation">{</span> myFunction <span class="token punctuation">}</span><span class="token punctuation">;</span> \n\n<span class="token comment" spellcheck="true">// exports a constant</span>\n<span class="token keyword">export</span> <span class="token keyword">const</span> foo <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<ol start="2">\n<li>Default Export cho m·ªôt h√†m ho·∫∑c class</li>\n</ol>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<p>Khi export c√≥ ƒë·ªãnh danh th√¨ khi import c≈©ng ph·∫£i g·ªçi ƒë√∫ng t√™n ƒë√£ export, trong khi s·ª≠ d·ª•ng default export th√¨ khi import ƒë·∫∑t t√™n l√† g√¨ c≈©ng ƒë∆∞·ª£c.</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> k <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// test.js</span>\n\n<span class="token keyword">import</span> m <span class="token keyword">from</span> <span class="token string">\'./test\'</span> \nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// log 12</span>\n</code></pre>\n      </div>\n<p>Tr√™n m·ªôt file ch·ªâ c√≥ th·ªÉ c√≥ m·ªôt default export, c√¢u l·ªánh sau kh√¥ng ph·∫£i l√† default export</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">...</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<h1>Import</h1>\n<h2>C√∫ ph√°p</h2>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">import</span> defaultExport <span class="token keyword">from</span> <span class="token string">"module-name"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> name <span class="token keyword">from</span> <span class="token string">"module-name"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">export</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"module-name"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">export</span> <span class="token keyword">as</span> alias <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"module-name"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> export1 <span class="token punctuation">,</span> export2 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"module-name"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> export1 <span class="token punctuation">,</span> export2 <span class="token keyword">as</span> alias2 <span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"module-name"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> defaultExport<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token keyword">export</span> <span class="token punctuation">[</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"module-name"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> defaultExport<span class="token punctuation">,</span> <span class="token operator">*</span> <span class="token keyword">as</span> name <span class="token keyword">from</span> <span class="token string">"module-name"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">"module-name"</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<h2>Gi·∫£i th√≠ch</h2>\n<p>Module export c√≥ t√™n qu√° d√†i, c√≥ th·ªÉ ƒë·∫∑t alias trong c√¢u <code>import</code></p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>reallyReallyLongModuleExportName <span class="token keyword">as</span> shortName<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'/modules/my-module.js\'</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Import t·∫•t c·∫£ c√°c gi√° tr·ªã, h√†m, object,... ƒë√£ export trong m·ªôt file kh√°c</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> myModule <span class="token keyword">from</span> <span class="token string">\'another.file\'</span>\n</code></pre>\n      </div>\n<p>Import ch·ªâ ƒë·ªãnh m·ªôt s·ªë h√†m, object, gi√° tr·ªã trong file</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>funcA<span class="token punctuation">,</span> objB<span class="token punctuation">,</span> constC<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'another.file\'</span>\n</code></pre>\n      </div>',frontmatter:{date:"October 18, 2017",path:"/2017-10-18-import-va-export-trong-javascript",tags:["javascript"],title:"Import v√† Export trong Javascript",desc:"Khai b√°o export v√† import trong ES6"}}},pathContext:{prev:{excerpt:"D√π cho ƒëang ·ªü level n√†o c·ªßa javascript th√¨ tr∆∞·ªõc sau, √≠t nhi·ªÅu c≈©ng ƒë·ª•ng t·ªõi v·∫•n ƒë·ªÉ sort m·ªôt m·∫£ng trong javascript, t√†i li·ªáu tr√™n mozila c√≥ c√¢u n√†y h·∫øt s·ª©c nguy hi·ªÉm  sort is not necessarily stable. , gi·ªù th·ª≠ xem t·∫°i sao g·ªçi l√† kh√¥ng  stable V√¢ng...",html:'<p>D√π cho ƒëang ·ªü level n√†o c·ªßa javascript th√¨ tr∆∞·ªõc sau, √≠t nhi·ªÅu c≈©ng ƒë·ª•ng t·ªõi v·∫•n ƒë·ªÉ sort m·ªôt m·∫£ng trong javascript, t√†i li·ªáu tr√™n mozila c√≥ c√¢u n√†y h·∫øt s·ª©c nguy hi·ªÉm <strong>sort is not necessarily stable.</strong>, gi·ªù th·ª≠ xem t·∫°i sao g·ªçi l√† kh√¥ng <strong>stable</strong></p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">const</span> myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>\nmyArray<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// [ 2, 25, 33, 4, 98 ]</span>\n</code></pre>\n      </div>\n<p>V√¢ng, <strong>25 > 33 > 4</strong> </p>\n<p>M·∫£ng s·ªë ng√†y s·∫Ω ƒë∆∞·ª£c javascript sort theo th·ª© t·ª± alphabet, m·ªói gi√° tr·ªã s·ªë ƒë∆∞·ª£c ƒë∆∞a v·ªÅ <code>string</code> ƒë·ªÉ so s√°nh.</p>\n<p>H√†m <code>sort</code> c√≥ th·ªÉ s·ªë truy·ªÅn v√†o l√† <code>function</code> d√πng ƒë·ªÉ so s√°nh, n·∫øu b·∫°n kh√¥ng ƒë∆∞a h√†m n√†y v√†o, m·∫∑c ƒë·ªãnh n√≥ s·∫Ω convert gi√° tr·ªã c·∫ßn so s√°nh v·ªÅ <code>string</code> v√† so s√°nh m√£ unicode c·ªßa n√†y</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>\nnumbers<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// [80, 9]</span>\n\n<span class="token keyword">const</span> strings <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'80\'</span><span class="token punctuation">,</span> <span class="token string">\'9\'</span><span class="token punctuation">]</span>\nstrings<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// [\'80\', \'9\']</span>\n</code></pre>\n      </div>\n<p>Nh∆∞ v·∫≠y th√¨ vi·∫øt nh∆∞ th·∫ø n√†y c≈©ng ho√†n to√†n h·ª£p l·ªá</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">const</span> emojis <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"üòç"</span><span class="token punctuation">,</span><span class="token string">"üòÇ"</span><span class="token punctuation">,</span><span class="token string">"üò∞"</span><span class="token punctuation">]</span>\nemojis<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// ["üòÇ", "üòç", "üò∞"]</span>\n\n<span class="token keyword">const</span> wtfJavaScript <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">390</span><span class="token punctuation">,</span> <span class="token string">"üòÇ"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"2325"</span><span class="token punctuation">]</span>  \nwtfJavaScript<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// [1, "2325", 390, "üòÇ"]</span>\n</code></pre>\n      </div>\n<h2>V·∫≠y mu·ªën <code>sort</code> m·∫£ng s·ªë l√†m sao ?</h2>\n<p>Nh∆∞ ƒë√£ ƒë·ªÅ c·∫≠p, c·∫ßn ƒë∆∞a m·ªôt h√†m d√πng ƒë·ªÉ so s√°nh, h√†m n√†y ƒë·∫∑c ƒëi·ªÉm nh∆∞ sau</p>\n<ul>\n<li>N·∫øu gi√° tr·ªã tr·∫£ v·ªÅ c·ªßa h√†m <code>compareFunction(a,b)</code> &#x3C; 0, gi√° tr·ªã a s·∫Ω ƒë·ª©ng tr∆∞·ªõc b</li>\n<li>N·∫øu gi√° tr·ªã tr·∫£ v·ªÅ = 0, a v√† b b·∫±ng nhau</li>\n<li>Gi√° tr·ªã tr·∫£ v·ªÅ > 0, a ƒë·ª©ng sau b</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">const</span> myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>\nmyArray<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// [ 2, 4, 25, 33, 98 ]</span>\n</code></pre>\n      </div>\n<h2>V√† h∆°n th·∫ø n·ªØa</h2>\n<p>ECMAScript kh√¥ng ƒë∆∞a ra chu·∫©n m·ª±c n√†o v·ªÅ thu·∫≠t to√°n cho c√°ch <code>sort</code>, nghƒ©a l√† Javascript engine mu·ªën apply thu·∫≠t to√°n n√†o th√¨ t√πy n√≥, Google\'s V8 (Javascript engine c·ªßa Chrome) v√† NodeJS s·ª≠ d·ª•ng thu·∫≠t to√°n <code>quick sort</code> v√† k·∫øt qu·∫£ th√¨ kh√¥ng h·∫≥n l√† ch√≠nh x√°c 100%. Do ƒë√≥ n√™n nh·ªõ l√† <code>sort</code> tr√™n nh·ªØng tr√¨nh duy·ªát kh√°c nhau c≈©ng c√≥ kh·∫£ nƒÉng cho k·∫øt qu·∫£ kh√°c nhau n·∫øu n√≥ d√πng kh√°c Javascript Engine.</p>\n<p>N·∫øu r·∫£nh, v√† c√≥ tr√¨nh, th√¨ n√™n t·ª± implement m·ªôt sort function ƒë·ªÉ x√†i, m·ªôt s·ªë thu·∫≠t to√°n sort c√≥ th·ªÉ nghi√™n c·ª©u nh∆∞ <code>InsertionSort</code>, <code>MergeSort</code>, <code>QuickSort</code></p>',id:"E:/anluu/luckyluu/posts/2017-10-19-sort-trong-javascript/index.md absPath of file >>> MarkdownRemark",timeToRead:2,frontmatter:{date:"2017-10-19T13:35:13.234Z",path:"/2017-10-19-sort-trong-javascript",tags:["javascript"],title:"Sort trong javascript"}},next:{excerpt:"B·∫°n s·∫Ω g·∫∑p ƒëo·∫°n code sau r·∫•t nhi·ªÅu ƒêo·∫°n code n·∫±m b√™n trong   s·∫Ω ch·∫°y sau khi nh·∫≠n d·ªØ li·ªáu tr·∫£ v·ªÅ t·ª´ server tr∆∞·ªõc khi ch·∫°y ti·∫øp.   th·ª±c ch·∫•t l√† m·ªôt  object  c≈© x√¨ trong javascript, ƒëi·ªÅu kh√°c bi·ªát l√† n√≥ c√≥ nh·ªØng ph∆∞∆°ng th·ª©c cho ph√©p ch·∫°y ƒë·ªìng b·ªô...",html:'<p>B·∫°n s·∫Ω g·∫∑p ƒëo·∫°n code sau r·∫•t nhi·ªÅu</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">\'/user/1\'</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> user <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n        <span class="token comment" spellcheck="true">/* run after API return */</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>ƒêo·∫°n code n·∫±m b√™n trong <code>.then</code> s·∫Ω ch·∫°y sau khi nh·∫≠n d·ªØ li·ªáu tr·∫£ v·ªÅ t·ª´ server tr∆∞·ªõc khi ch·∫°y ti·∫øp. <code>Promise</code> th·ª±c ch·∫•t l√† m·ªôt <em>object</em> c≈© x√¨ trong javascript, ƒëi·ªÅu kh√°c bi·ªát l√† n√≥ c√≥ nh·ªØng ph∆∞∆°ng th·ª©c cho ph√©p ch·∫°y ƒë·ªìng b·ªô (synchronously)</p>\n<p>N·∫øu kh√¥ng tin b·∫°n th·ª≠ check ki·ªÉu c·ªßa Promise s·∫Ω th·∫•y</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">\'object\'</span> <span class="token comment" spellcheck="true">// true</span>\n</code></pre>\n      </div>\n<p>ƒê·ªÉ m√¨nh nh·∫Øc l·∫°i l·∫ßn n·ªØa ƒë·ªÉ b·∫°n kh√¥ng b·ªã c√°i t√™n hoa mƒ© <em>Promise</em> l·ª´a t√¨nh, <strong>Promise ch·ªâ ƒë∆°n thu·∫ßn l√† m·ªôt object</strong>. ƒê·ªÉ c√≥ th·ªÉ ƒë·ª£i tr·∫£ v·ªÅ t·ª´ server, tr∆∞·ªõc khi th·ª±c hi·ªán ch·∫°y ƒëo·∫°n code trong <code>.then()</code>, function c·ªßa b·∫°n <strong>BU·ªòC PH·∫¢I</strong> tr·∫£ v·ªÅ m·ªôt <em>Promise</em>. Function <code>fetch</code> ƒë∆∞·ª£c vi·∫øt nh∆∞ sau</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code>cost fetch <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n        <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> apiResponse<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>\n            <span class="token punctuation">}</span>\n\n            <span class="token function">resolve</span><span class="token punctuation">(</span>apiResponse<span class="token punctuation">)</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<p>Gi·ªù t·ªõi ph·∫ßn quan tr·ªçng, vi·∫øt l·∫°i khai b√°o Promise (g·ªçi l√† SimplePromise ƒë·ªÉ tr√°nh tr√πng t√™n) ƒë·ªÉ xem c√°ch l√†m c·ªßa Promise</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">SimplePromise</span> <span class="token punctuation">{</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span>executionFunction<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>promiseChain <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>handleError <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">this</span><span class="token punctuation">.</span>onResolve <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onResolve<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>onReject <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onReject<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>\n\n        <span class="token function">executionFunction</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>onResolve<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onReject<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">then</span><span class="token punctuation">(</span>onResolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>promiseChain<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>onResolve<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">catch</span><span class="token punctuation">(</span>handleError<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>handleError <span class="token operator">=</span> handleError<span class="token punctuation">;</span>\n\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">onResolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">let</span> storedValue <span class="token operator">=</span> value<span class="token punctuation">;</span>\n\n        <span class="token keyword">try</span> <span class="token punctuation">{</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>promiseChain<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> nextFunction <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n                storedValue <span class="token operator">=</span> <span class="token function">nextFunction</span><span class="token punctuation">(</span>storedValue<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>promiseChain <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onReject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">onReject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<p>Khi kh·ªüi t·∫°o m·ªôt Promise <code>new Promise((resolve, reject) =>{...} )</code> ch√∫ng ta truy·ªÅn v√†o m·ªôt callback function, function n√†y s·∫Ω nh·∫≠n 2 tham s·ªë truy·ªÅn v√†o l√† 2 function internal c·ªßa Promise <code>onResolve</code> v√† <code>onReject</code></p>\n<p>B√™n trong constructor ƒë·ªìng th·ªùi kh·ªüi t·∫°o m·∫£ng <code>promiseChain</code> v√† h√†m <code>handleError</code>, khi th√™m m·ªôt ho·∫∑c m·ªôt m·ªõ <code>.then()</code>, c√°c h√†m n√†y s·∫Ω ƒë∆∞·ª£c tu·∫ßn t·ª± ƒë∆∞a v√†o m·∫£ng <code>promiseChain</code>, h√†m <code>.catch()</code> th√¨ ƒë∆∞·ª£c map v·ªõi h√†m <code>handleError</code> trong Promise.</p>\n<blockquote>\n<p>L∆∞u √Ω, c√°i n√†y l√† v√≠ d·ª•, Promise th·ª±c t·∫ø th√¨ 2 h√†m <code>then</code> v√† <code>catch</code> s·∫Ω tr·∫£ v·ªÅ new Promise, c√°i n√†y l√†m cho ƒë∆°n gi·∫£n tr·∫£ v·ªÅ <code>this</code> th√¥i.</p>\n</blockquote>\n<p>Khi m·ªôt h√†m b·∫•t ƒë·ªìng b·ªô (async) ƒë∆∞·ª£c g·ªçi <code>resolve(apiResponse)</code>, object promise b·∫Øt ƒë·∫ßu ch·∫°y <code>onResolve(apiResponse)</code> n√≥ s·∫Ω loop qua <em>tu·∫ßn t·ª±</em> m·∫£ng <em>promiseChain</em>, th·ª±c thi c√°c x·ª≠ l√Ω trong h√†m t·ª´ ƒë·∫ßu ti√™n trong m·∫£ng, ƒë·∫øn h√†m th·ª© 2, 3, 4..., m·ªói l·∫ßn nh∆∞ v·∫≠y n√≥ s·∫Ω nh·∫≠n gi√° tr·ªã <code>storedValue</code> ƒë·ªìng th·ªùi c·∫≠p nh·∫≠p l·∫°i <code>storedValue</code> n√†y. </p>',id:"E:/anluu/luckyluu/posts/2017-10-12-javascript-promise/index.md absPath of file >>> MarkdownRemark",timeToRead:2,frontmatter:{date:"2017-10-12T13:35:13.234Z",path:"/2017-10-12-javascript-promise",tags:["javascript"],title:"Promise trong javascript"}}}}}});
//# sourceMappingURL=path---2017-10-18-import-va-export-trong-javascript-02635012a64fd76e5786.js.map
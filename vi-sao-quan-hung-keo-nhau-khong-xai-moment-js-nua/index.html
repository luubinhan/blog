<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Vì sao quần hùng kéo nhau không xài moment.js nữa - VuiLapTrinh.com</title><meta name="gridsome:hash" content="caea05e5fffa0cfcd138bf0521c438fe71931a82"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Tutorials, Blog, Hướng dẫn, chia sẽ kinh nghiệm về Frontend, react, vue, ux, ui"><meta data-vue-tag="ssr" name="desc" content="Tất cả chúng ta đã từng và đang sử dụng moment.js mà ko hề dành chút thời gian để xem nó ảnh hưởng như thế nào đến performance"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.6e7bce94.css" as="style"><link rel="preload" href="/assets/js/app.51940451.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.8b234962.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.1906fe28.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.771b03bf.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.77b6aec4.js"><link rel="stylesheet" href="/assets/css/0.styles.6e7bce94.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← VuiLapTrinh.com
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">Vì sao quần hùng kéo nhau không xài moment.js nữa</h1><div class="post-meta">
  Đăng ngày 2019-03-17.
  
    Mất khoảng
    <strong>5 phút</strong> để đọc.
  </div></div><div class="post content-box"><div class="post__header"><!----></div><div class="post__content"><!-- TOC -->
<ul>
<li>
<p><a href="#n%C3%B3-qu%C3%A1-ch%E1%BA%ADm">Nó quá chậm</a></p>
<ul>
<li><a href="#parsing-gi%C3%A1-tr%E1%BB%8B-iso-8601">Parsing giá trị ISO 8601</a></li>
<li><a href="#parsing-gi%C3%A1-tr%E1%BB%8B-epoch">Parsing giá trị EPOCH</a></li>
<li><a href="#format">Format</a></li>
<li><a href="#t%C3%ADnh-to%C3%A1n">Tính toán</a></li>
<li><a href="#so-s%C3%A1nh">So sánh</a></li>
</ul>
</li>
<li><a href="#n%C3%B3-qu%C3%A1-n%E1%BA%B7ng">Nó quá nặng</a></li>
<li><a href="#n%C3%B3-mutable">Nó Mutable</a></li>
<li><a href="#qu%C3%A1-kh%C3%B3-%C4%91%E1%BB%83-debug">Quá khó để debug</a></li>
</ul>
<!-- /TOC -->
<p>Trước đây khi nhắc đến thư viện xử lý ngày tháng, là trong đầu mọi developer frontend sẽ nghĩ ngay tới <a href="https://momentjs.com/" target="_blank" rel="nofollow noopener noreferrer">Moment.js</a>, tuy nhiên dạo gần đây, đâu đâu cũng nghe cũng thấy đến các bài viết khuyên chúng ta bỏ ngay moment.js hoặc ít nhất là xài một cách cẩn trọng hơn.</p>
<p>Thằng Date object build sẵn của javascript thì ko đủ xài. Sớm hay muộn chúng ta cùng cần đến một thư viện thứ 3 để làm việc với ngày tháng, và lựa chọn hiển nhiên trước đây là moment.js. Một thư viện tất cả trong một, giải quyết tuốt tuồn tật các vấn đề liên quan đến ngày tháng.</p>
<p><strong>Vậy tại sao bây giờ người ta chê nó?</strong></p>
<h2 id="nó-quá-chậm"><a href="#n%C3%B3-qu%C3%A1-ch%E1%BA%ADm" aria-hidden="true"><span class="icon icon-link"></span></a>Nó quá chậm</h2>
<p>Trong quá trình thực hiện optimize cho dự án, tác giả bài này (ko phải mình nhé) đã phát hiện ra rằng, phần lớn những chổ <strong>tắt nghẽn</strong> là ở chỗ  parsing ngày chuẩn ISO8601 từ database, cụ thể là hàm <code class="language-text">moment(ISO8601_DATE_HERE)</code>, khá là sốc với kết quả này, vì ko dùng bất cứ một định dạng đặc biệt nào, một input chuẩn ISO bình thường, nếu mà dùng <code class="language-text">moment(new Date(ISO8601_DATE_HERE))</code> thì nhanh hơn gấp 7 lần.</p>
<p>Thực hiện test và so sánh với một số thư viện khác</p>
<p><img src="https://i.imgur.com/QjK9gvY.png" alt="Nó quá nặng"></p>
<h3 id="parsing-giá-trị-iso-8601"><a href="#parsing-gi%C3%A1-tr%E1%BB%8B-iso-8601" aria-hidden="true"><span class="icon icon-link"></span></a>Parsing giá trị ISO 8601</h3>
<p>Moment.js tốn khoảng 9 giây để parse 100.000 giá trị ngày ISO8601, trong khi đó <a href="https://github.com/iamkun/dayjs" target="_blank" rel="nofollow noopener noreferrer">Day.js</a> chỉ mất .5 giây, các API cung cấp khá giống nhau, tuy nhiên thằng Day.js <strong>khôn hơn</strong>, nó xác định giá trị <code class="language-text">z</code> ở cuối string, nếu có nó sẽ gọi <code class="language-text">new Date(string)</code>. Trong khi Moment.js, <a href="https://moment.github.io/luxon/" target="_blank" rel="nofollow noopener noreferrer">Luxon</a> và <a href="https://js-joda.github.io/js-joda/" target="_blank" rel="nofollow noopener noreferrer">JS-Joda</a> sử dụng một regex của từng thằng để làm.</p>
<blockquote>
<p>Lưu ý không dùng Day.js hay Date-Fns nếu bạn cần hỗ trợ IE9, <em>hy vọng là bạn không xui tới vậy</em>, từ ES5 thì <code class="language-text">Date.parse</code> mới làm việc tốt với ISO 8601</p>
</blockquote>
<h3 id="parsing-giá-trị-epoch"><a href="#parsing-gi%C3%A1-tr%E1%BB%8B-epoch" aria-hidden="true"><span class="icon icon-link"></span></a>Parsing giá trị EPOCH</h3>
<p>Kết quả parse EPOCH Time thì các thư viện cho kết quả tương đương, tuy nhiên nếu bạn là đứa nghiện tốc độ, khuyến nghị sử dụng Date-Fns</p>
<h3 id="format"><a href="#format" aria-hidden="true"><span class="icon icon-link"></span></a>Format</h3>
<p>Về vấn đề format, các thư viện lại gần như ko cung cấp hàm nào cả, đa phần tụi nó sẽ dùng regex để thực hiện. Riêng thằng JS-Joda sử dụng một hàm trong đó nó ì các kiểu để kiểm tra, rồi <code class="language-text">charAt</code> nên nhanh hơn một chút so với những thằng dùng regex</p>
<h3 id="tính-toán"><a href="#t%C3%ADnh-to%C3%A1n" aria-hidden="true"><span class="icon icon-link"></span></a>Tính toán</h3>
<p>Các phép toán trên ngày tháng đúng là lằn xà ngoằn, moment.js làm khá tốt hơn hẳn Day.js và Luxon, tuy nhiên vô đối vấn là JS-Joda trên vụ này.</p>
<h3 id="so-sánh"><a href="#so-s%C3%A1nh" aria-hidden="true"><span class="icon icon-link"></span></a>So sánh</h3>
<p>Kiểm tra 2 giá trị ngày có là bằng nhau tương đối phức tạp hơn so sánh 2 ngày có lớn hơn nhau, bởi vì chúng ta không thực hiện so sánh giá trị khoảng thời gian (timestamps)
Mấy thư viện khác ngoài Luxon có vẻ ok, không rõ vì sao Luxon lại lấp vấp vụ này.</p>
<h2 id="nó-quá-nặng"><a href="#n%C3%B3-qu%C3%A1-n%E1%BA%B7ng" aria-hidden="true"><span class="icon icon-link"></span></a>Nó quá nặng</h2>
<p><img src="https://i.imgur.com/X7EsHHT.png" alt="Nó quá nặng"></p>
<p>Moment.js dung lượng khoảng 232kB (zip lại thì cỡ 66 kB), mà theo Yoshihide Jimbo thì có thể cắt bớt chỉ còn 68 kB ( 23 kB zip) bằng cách loại bỏ locale.</p>
<p>JS-Joda chỉ nhẹ hơn Moment.js chút xíu, tuy nhiên do nó cũng là thư viện nặng vì phải chứa period và time zone, 2 thằng này dùng Moment.js bạn phải cài thêm dạng plugin</p>
<p>Mấy thằng còn lại như Luxon, Day.js, Date-Fns thì nhẹ khỏi nói, ít nhất cũng phải nhẹ hơn 22 lần so với moment.js</p>
<p>Nếu bạn đang dùng moment.js ở Backend thì ko sợ nhiều, chứ còn ở Frontend thì 1kb cũng có giá của nó.</p>
<h2 id="nó-mutable"><a href="#n%C3%B3-mutable" aria-hidden="true"><span class="icon icon-link"></span></a>Nó Mutable</h2>
<p>Ví dụ bạn đang làm một cái app lịch hiển thị những sự kiện sắp diễn ra.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> startedAt <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> endedAt   <span class="token operator">=</span> startedAt<span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'year'</span><span class="token punctuation">)</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>startedAt<span class="token punctuation">)</span> <span class="token comment">// > 2020-02-09T13:39:07+01:00</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>endedAt<span class="token punctuation">)</span>   <span class="token comment">// > 2020-02-09T13:39:07+01:00</span></code></pre>
<p><code class="language-text">startedAt</code>, <code class="language-text">endedAt</code> đều là mutable (có thể thay đổi), rõ ràng chúng ta không muốn giá trị của <code class="language-text">startedAt</code> bị thay đổi sau khi gọi hàm <code class="language-text">add</code></p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> init   <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> add    <span class="token operator">=</span> init<span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'year'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> sub    <span class="token operator">=</span> init<span class="token punctuation">.</span><span class="token method function property-access">subtract</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'months'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> start  <span class="token operator">=</span> init<span class="token punctuation">.</span><span class="token method function property-access">startOf</span><span class="token punctuation">(</span><span class="token string">'year'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> end    <span class="token operator">=</span> init<span class="token punctuation">.</span><span class="token method function property-access">endOf</span><span class="token punctuation">(</span><span class="token string">'year'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> utc    <span class="token operator">=</span> init<span class="token punctuation">.</span><span class="token method function property-access">utc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> local  <span class="token operator">=</span> init<span class="token punctuation">.</span><span class="token method function property-access">local</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> offset <span class="token operator">=</span> init<span class="token punctuation">.</span><span class="token method function property-access">utcOffset</span><span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">)</span></code></pre>
<p>Tất cả đống biến này đều trỏ tới cùng 1 object.  Giải quyết cũng đơn giản</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> startedAt <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> endedAt   <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span>startedAt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'year'</span><span class="token punctuation">)</span></code></pre>
<blockquote>
<p>Khi dùng Moment.js luôn nhớ dùng cách này để tạo một instance mới</p>
</blockquote>
<h2 id="quá-khó-để-debug"><a href="#qu%C3%A1-kh%C3%B3-%C4%91%E1%BB%83-debug" aria-hidden="true"><span class="icon icon-link"></span></a>Quá khó để debug</h2>
<p>Nếu giá trị input đẹp đẽ, sạch sẽ, mọi việc đều sẽ trót lọt (ko tính đến vụ mutation nhé). Tuy nhiên đời mà ai lại ko có lỗi lầm</p>
<p>Giờ chúng ta thử ví dụ, có object là. <code class="language-text">person { lastVisitedAt }</code> </p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> lastVisitedAt<span class="token operator">:</span> <span class="token string">'2017-11-11T00:00:00.000Z'</span> <span class="token punctuation">}</span>
<span class="token function">moment</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token property-access">lastVsitedAt</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// > '2019-02-08T16:01:45+01:00'</span></code></pre>
<p>Nếu bạn lỡ gõ nhầm tên property như vậy đi <code class="language-text">lastVsitedAt</code>, thì <code class="language-text">moment(undefined)</code> cũng không <code class="language-text">throw error</code> luôn.</p>
<p>Giờ thử đưa mấy giá trị lạ lạ như sau vào moment()</p>
<pre class="language-js"><code class="language-js"><span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment">// > 2019-02-08T17:07:22+01:00</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// > 2019-02-08T17:07:22+01:00</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// > Invalid date</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// > 2019-02-08T17:07:22+01:00</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// > Invalid date</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// > 2019-02-08T17:07:22+01:00</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment">// > Invalid date</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment">// > 1970-01-01T01:00:00+01:00</span></code></pre>
<p>Moment.js ko throw error mà chỉ trả về <code class="language-text">Invalid Date object</code></p>
<p>Khi gọi <code class="language-text">toISOString()</code> nó lại lạ kỳ trả về <code class="language-text">null</code> chứ ko phải chuỗi <code class="language-text">Invalid Date</code></p>
<pre class="language-js"><code class="language-js"><span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment">// >  2019-02-08T16:14:10.835Z</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// >  2019-02-08T16:14:10.835Z</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">// >  null</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// >  2019-02-08T16:14:10.836Z</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// >  null</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// >  2019-02-08T16:14:10.836Z</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment">// >  null</span>
<span class="token function">moment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment">// >  1970-01-01T00:00:00.000Z</span></code></pre>
<p>Nói cách ngắn gọn, <code class="language-text">undefined</code> không hợp lệ trong moment(), nhưng <code class="language-text">null</code> thì ok. Bị lỗi ư, nó trả về một <code class="language-text">Invalid Date object</code>, <code class="language-text">null</code> hoặc custom object tuỳ vào nó vui hay buồn.</p>
<p>Nếu kết quả này chưa làm bạn thuyết phục, hay tự kiểm chứng nhé.
<a href="https://repl.it/@piotrekfracek/DateTime" target="_blank" rel="nofollow noopener noreferrer">https://repl.it/@piotrekfracek/DateTime</a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://overreacted.io/how-are-function-components-different-from-classes/">Why you shouldn't use Moment.js...</a></p>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/javascript/" class="post-tags__link"><span>#</span> javascript
		</a></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">Hiện tại site đang nâng cấp, các bạn xài tạm</p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020.</span><span class="footer__links">luckyluu</span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Vì sao quần hùng kéo nhau không xài moment.js nữa","path":"\u002Fvi-sao-quan-hung-keo-nhau-khong-xai-moment-js-nua\u002F","date":"2019-03-17","timeToRead":5,"tags":[{"id":"javascript","title":"javascript","path":"\u002Ftag\u002Fjavascript\u002F"}],"desc":"Tất cả chúng ta đã từng và đang sử dụng moment.js mà ko hề dành chút thời gian để xem nó ảnh hưởng như thế nào đến performance","content":"\u003C!-- TOC --\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"#n%C3%B3-qu%C3%A1-ch%E1%BA%ADm\"\u003ENó quá chậm\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#parsing-gi%C3%A1-tr%E1%BB%8B-iso-8601\"\u003EParsing giá trị ISO 8601\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#parsing-gi%C3%A1-tr%E1%BB%8B-epoch\"\u003EParsing giá trị EPOCH\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#format\"\u003EFormat\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#t%C3%ADnh-to%C3%A1n\"\u003ETính toán\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#so-s%C3%A1nh\"\u003ESo sánh\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#n%C3%B3-qu%C3%A1-n%E1%BA%B7ng\"\u003ENó quá nặng\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#n%C3%B3-mutable\"\u003ENó Mutable\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#qu%C3%A1-kh%C3%B3-%C4%91%E1%BB%83-debug\"\u003EQuá khó để debug\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C!-- \u002FTOC --\u003E\n\u003Cp\u003ETrước đây khi nhắc đến thư viện xử lý ngày tháng, là trong đầu mọi developer frontend sẽ nghĩ ngay tới \u003Ca href=\"https:\u002F\u002Fmomentjs.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EMoment.js\u003C\u002Fa\u003E, tuy nhiên dạo gần đây, đâu đâu cũng nghe cũng thấy đến các bài viết khuyên chúng ta bỏ ngay moment.js hoặc ít nhất là xài một cách cẩn trọng hơn.\u003C\u002Fp\u003E\n\u003Cp\u003EThằng Date object build sẵn của javascript thì ko đủ xài. Sớm hay muộn chúng ta cùng cần đến một thư viện thứ 3 để làm việc với ngày tháng, và lựa chọn hiển nhiên trước đây là moment.js. Một thư viện tất cả trong một, giải quyết tuốt tuồn tật các vấn đề liên quan đến ngày tháng.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EVậy tại sao bây giờ người ta chê nó?\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"nó-quá-chậm\"\u003E\u003Ca href=\"#n%C3%B3-qu%C3%A1-ch%E1%BA%ADm\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ENó quá chậm\u003C\u002Fh2\u003E\n\u003Cp\u003ETrong quá trình thực hiện optimize cho dự án, tác giả bài này (ko phải mình nhé) đã phát hiện ra rằng, phần lớn những chổ \u003Cstrong\u003Etắt nghẽn\u003C\u002Fstrong\u003E là ở chỗ  parsing ngày chuẩn ISO8601 từ database, cụ thể là hàm \u003Ccode class=\"language-text\"\u003Emoment(ISO8601_DATE_HERE)\u003C\u002Fcode\u003E, khá là sốc với kết quả này, vì ko dùng bất cứ một định dạng đặc biệt nào, một input chuẩn ISO bình thường, nếu mà dùng \u003Ccode class=\"language-text\"\u003Emoment(new Date(ISO8601_DATE_HERE))\u003C\u002Fcode\u003E thì nhanh hơn gấp 7 lần.\u003C\u002Fp\u003E\n\u003Cp\u003EThực hiện test và so sánh với một số thư viện khác\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fi.imgur.com\u002FQjK9gvY.png\" alt=\"Nó quá nặng\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"parsing-giá-trị-iso-8601\"\u003E\u003Ca href=\"#parsing-gi%C3%A1-tr%E1%BB%8B-iso-8601\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EParsing giá trị ISO 8601\u003C\u002Fh3\u003E\n\u003Cp\u003EMoment.js tốn khoảng 9 giây để parse 100.000 giá trị ngày ISO8601, trong khi đó \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fiamkun\u002Fdayjs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EDay.js\u003C\u002Fa\u003E chỉ mất .5 giây, các API cung cấp khá giống nhau, tuy nhiên thằng Day.js \u003Cstrong\u003Ekhôn hơn\u003C\u002Fstrong\u003E, nó xác định giá trị \u003Ccode class=\"language-text\"\u003Ez\u003C\u002Fcode\u003E ở cuối string, nếu có nó sẽ gọi \u003Ccode class=\"language-text\"\u003Enew Date(string)\u003C\u002Fcode\u003E. Trong khi Moment.js, \u003Ca href=\"https:\u002F\u002Fmoment.github.io\u002Fluxon\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ELuxon\u003C\u002Fa\u003E và \u003Ca href=\"https:\u002F\u002Fjs-joda.github.io\u002Fjs-joda\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EJS-Joda\u003C\u002Fa\u003E sử dụng một regex của từng thằng để làm.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ELưu ý không dùng Day.js hay Date-Fns nếu bạn cần hỗ trợ IE9, \u003Cem\u003Ehy vọng là bạn không xui tới vậy\u003C\u002Fem\u003E, từ ES5 thì \u003Ccode class=\"language-text\"\u003EDate.parse\u003C\u002Fcode\u003E mới làm việc tốt với ISO 8601\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3 id=\"parsing-giá-trị-epoch\"\u003E\u003Ca href=\"#parsing-gi%C3%A1-tr%E1%BB%8B-epoch\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EParsing giá trị EPOCH\u003C\u002Fh3\u003E\n\u003Cp\u003EKết quả parse EPOCH Time thì các thư viện cho kết quả tương đương, tuy nhiên nếu bạn là đứa nghiện tốc độ, khuyến nghị sử dụng Date-Fns\u003C\u002Fp\u003E\n\u003Ch3 id=\"format\"\u003E\u003Ca href=\"#format\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EFormat\u003C\u002Fh3\u003E\n\u003Cp\u003EVề vấn đề format, các thư viện lại gần như ko cung cấp hàm nào cả, đa phần tụi nó sẽ dùng regex để thực hiện. Riêng thằng JS-Joda sử dụng một hàm trong đó nó ì các kiểu để kiểm tra, rồi \u003Ccode class=\"language-text\"\u003EcharAt\u003C\u002Fcode\u003E nên nhanh hơn một chút so với những thằng dùng regex\u003C\u002Fp\u003E\n\u003Ch3 id=\"tính-toán\"\u003E\u003Ca href=\"#t%C3%ADnh-to%C3%A1n\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ETính toán\u003C\u002Fh3\u003E\n\u003Cp\u003ECác phép toán trên ngày tháng đúng là lằn xà ngoằn, moment.js làm khá tốt hơn hẳn Day.js và Luxon, tuy nhiên vô đối vấn là JS-Joda trên vụ này.\u003C\u002Fp\u003E\n\u003Ch3 id=\"so-sánh\"\u003E\u003Ca href=\"#so-s%C3%A1nh\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESo sánh\u003C\u002Fh3\u003E\n\u003Cp\u003EKiểm tra 2 giá trị ngày có là bằng nhau tương đối phức tạp hơn so sánh 2 ngày có lớn hơn nhau, bởi vì chúng ta không thực hiện so sánh giá trị khoảng thời gian (timestamps)\nMấy thư viện khác ngoài Luxon có vẻ ok, không rõ vì sao Luxon lại lấp vấp vụ này.\u003C\u002Fp\u003E\n\u003Ch2 id=\"nó-quá-nặng\"\u003E\u003Ca href=\"#n%C3%B3-qu%C3%A1-n%E1%BA%B7ng\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ENó quá nặng\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fi.imgur.com\u002FX7EsHHT.png\" alt=\"Nó quá nặng\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EMoment.js dung lượng khoảng 232kB (zip lại thì cỡ 66 kB), mà theo Yoshihide Jimbo thì có thể cắt bớt chỉ còn 68 kB ( 23 kB zip) bằng cách loại bỏ locale.\u003C\u002Fp\u003E\n\u003Cp\u003EJS-Joda chỉ nhẹ hơn Moment.js chút xíu, tuy nhiên do nó cũng là thư viện nặng vì phải chứa period và time zone, 2 thằng này dùng Moment.js bạn phải cài thêm dạng plugin\u003C\u002Fp\u003E\n\u003Cp\u003EMấy thằng còn lại như Luxon, Day.js, Date-Fns thì nhẹ khỏi nói, ít nhất cũng phải nhẹ hơn 22 lần so với moment.js\u003C\u002Fp\u003E\n\u003Cp\u003ENếu bạn đang dùng moment.js ở Backend thì ko sợ nhiều, chứ còn ở Frontend thì 1kb cũng có giá của nó.\u003C\u002Fp\u003E\n\u003Ch2 id=\"nó-mutable\"\u003E\u003Ca href=\"#n%C3%B3-mutable\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ENó Mutable\u003C\u002Fh2\u003E\n\u003Cp\u003EVí dụ bạn đang làm một cái app lịch hiển thị những sự kiện sắp diễn ra.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E startedAt \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E endedAt   \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E startedAt\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'year'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token console class-name\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EstartedAt\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E 2020-02-09T13:39:07+01:00\u003C\u002Fspan\u003E\n\u003Cspan class=\"token console class-name\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EendedAt\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E   \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E 2020-02-09T13:39:07+01:00\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Ccode class=\"language-text\"\u003EstartedAt\u003C\u002Fcode\u003E, \u003Ccode class=\"language-text\"\u003EendedAt\u003C\u002Fcode\u003E đều là mutable (có thể thay đổi), rõ ràng chúng ta không muốn giá trị của \u003Ccode class=\"language-text\"\u003EstartedAt\u003C\u002Fcode\u003E bị thay đổi sau khi gọi hàm \u003Ccode class=\"language-text\"\u003Eadd\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E init   \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E add    \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E init\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'year'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E sub    \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E init\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Esubtract\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E10\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'months'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E start  \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E init\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EstartOf\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'year'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E end    \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E init\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EendOf\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'year'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E utc    \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E init\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eutc\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E local  \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E init\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Elocal\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E offset \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E init\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EutcOffset\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E480\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ETất cả đống biến này đều trỏ tới cùng 1 object.  Giải quyết cũng đơn giản\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E startedAt \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E endedAt   \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EstartedAt\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eadd\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'year'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EKhi dùng Moment.js luôn nhớ dùng cách này để tạo một instance mới\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch2 id=\"quá-khó-để-debug\"\u003E\u003Ca href=\"#qu%C3%A1-kh%C3%B3-%C4%91%E1%BB%83-debug\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EQuá khó để debug\u003C\u002Fh2\u003E\n\u003Cp\u003ENếu giá trị input đẹp đẽ, sạch sẽ, mọi việc đều sẽ trót lọt (ko tính đến vụ mutation nhé). Tuy nhiên đời mà ai lại ko có lỗi lầm\u003C\u002Fp\u003E\n\u003Cp\u003EGiờ chúng ta thử ví dụ, có object là. \u003Ccode class=\"language-text\"\u003Eperson { lastVisitedAt }\u003C\u002Fcode\u003E \u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E person \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E lastVisitedAt\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'2017-11-11T00:00:00.000Z'\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eperson\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003ElastVsitedAt\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eformat\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E '2019-02-08T16:01:45+01:00'\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENếu bạn lỡ gõ nhầm tên property như vậy đi \u003Ccode class=\"language-text\"\u003ElastVsitedAt\u003C\u002Fcode\u003E, thì \u003Ccode class=\"language-text\"\u003Emoment(undefined)\u003C\u002Fcode\u003E cũng không \u003Ccode class=\"language-text\"\u003Ethrow error\u003C\u002Fcode\u003E luôn.\u003C\u002Fp\u003E\n\u003Cp\u003EGiờ thử đưa mấy giá trị lạ lạ như sau vào moment()\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eformat\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E          \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E 2019-02-08T17:07:22+01:00\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword nil\"\u003Eundefined\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eformat\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E 2019-02-08T17:07:22+01:00\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword null nil\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eformat\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E      \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E Invalid date\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eformat\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E        \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E 2019-02-08T17:07:22+01:00\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eformat\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E        \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E Invalid date\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eformat\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E        \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E 2019-02-08T17:07:22+01:00\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003ENaN\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eformat\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E       \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E Invalid date\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eformat\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E         \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E 1970-01-01T01:00:00+01:00\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EMoment.js ko throw error mà chỉ trả về \u003Ccode class=\"language-text\"\u003EInvalid Date object\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EKhi gọi \u003Ccode class=\"language-text\"\u003EtoISOString()\u003C\u002Fcode\u003E nó lại lạ kỳ trả về \u003Ccode class=\"language-text\"\u003Enull\u003C\u002Fcode\u003E chứ ko phải chuỗi \u003Ccode class=\"language-text\"\u003EInvalid Date\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EtoISOString\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E          \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E  2019-02-08T16:14:10.835Z\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword nil\"\u003Eundefined\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EtoISOString\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E  2019-02-08T16:14:10.835Z\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword null nil\"\u003Enull\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EtoISOString\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E      \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E  null\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EtoISOString\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E        \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E  2019-02-08T16:14:10.836Z\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EtoISOString\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E        \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E  null\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EtoISOString\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E        \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E  2019-02-08T16:14:10.836Z\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003ENaN\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EtoISOString\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E       \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E  null\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Emoment\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003EtoISOString\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E         \u003Cspan class=\"token comment\"\u003E\u002F\u002F \u003E  1970-01-01T00:00:00.000Z\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENói cách ngắn gọn, \u003Ccode class=\"language-text\"\u003Eundefined\u003C\u002Fcode\u003E không hợp lệ trong moment(), nhưng \u003Ccode class=\"language-text\"\u003Enull\u003C\u002Fcode\u003E thì ok. Bị lỗi ư, nó trả về một \u003Ccode class=\"language-text\"\u003EInvalid Date object\u003C\u002Fcode\u003E, \u003Ccode class=\"language-text\"\u003Enull\u003C\u002Fcode\u003E hoặc custom object tuỳ vào nó vui hay buồn.\u003C\u002Fp\u003E\n\u003Cp\u003ENếu kết quả này chưa làm bạn thuyết phục, hay tự kiểm chứng nhé.\n\u003Ca href=\"https:\u002F\u002Frepl.it\u002F@piotrekfracek\u002FDateTime\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Frepl.it\u002F@piotrekfracek\u002FDateTime\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https:\u002F\u002Foverreacted.io\u002Fhow-are-function-components-different-from-classes\u002F\"\u003EWhy you shouldn't use Moment.js...\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n","cover_image":""}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.51940451.js" defer></script><script src="/assets/js/page--src-templates-post-vue.8b234962.js" defer></script>
  </body>
</html>
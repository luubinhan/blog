<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Webpack là gì và tại sao ta phải xài nó - VuiLapTrinh.com</title><meta name="gridsome:hash" content="6175dd7c207af29dae90f46c78c7f1565a54745e"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Tutorials, Blog, Hướng dẫn, chia sẽ kinh nghiệm về Frontend, react, vue, ux, ui"><meta data-vue-tag="ssr" name="description" content="Bài này sẽ nói rõ tại sao Webpack là sự lựa chọn sáng suốt cho bundle javascript"><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="Webpack là gì và tại sao ta phải xài nó"><meta data-vue-tag="ssr" property="og:description" cotent="Bài này sẽ nói rõ tại sao Webpack là sự lựa chọn sáng suốt cho bundle javascript"><meta data-vue-tag="ssr" property="og:image" content=""><meta data-vue-tag="ssr" property="image" content=""><meta data-vue-tag="ssr" name="twitter:card" content="summary"><meta data-vue-tag="ssr" name="twitter:creator" content="@luubinhan"><meta data-vue-tag="ssr" name="fb:app_id" content="445556375516928"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/svg+xml" sizes="16x16" href="/assets/static/luckyluu.ce0531f.735bb1a8acbae8ddedf73f03eb1579c3.svg"><link data-vue-tag="ssr" rel="icon" type="image/svg+xml" sizes="32x32" href="/assets/static/luckyluu.ac8d93a.735bb1a8acbae8ddedf73f03eb1579c3.svg"><link data-vue-tag="ssr" rel="icon" type="image/svg+xml" sizes="96x96" href="/assets/static/luckyluu.b9532cc.735bb1a8acbae8ddedf73f03eb1579c3.svg"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/svg+xml" sizes="76x76" href="/assets/static/luckyluu.f22e9f3.735bb1a8acbae8ddedf73f03eb1579c3.svg"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/svg+xml" sizes="152x152" href="/assets/static/luckyluu.62d22cb.735bb1a8acbae8ddedf73f03eb1579c3.svg"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/svg+xml" sizes="120x120" href="/assets/static/luckyluu.1539b60.735bb1a8acbae8ddedf73f03eb1579c3.svg"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/svg+xml" sizes="167x167" href="/assets/static/luckyluu.dc0cdc5.735bb1a8acbae8ddedf73f03eb1579c3.svg"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/svg+xml" sizes="180x180" href="/assets/static/luckyluu.7b22250.735bb1a8acbae8ddedf73f03eb1579c3.svg"><link rel="preload" href="/assets/css/0.styles.eaceb45d.css" as="style"><link rel="preload" href="/assets/js/app.7cffcc6d.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.b389c026.js" as="script"><link rel="prefetch" href="/assets/js/page--src-pages-404-vue.7a134a53.js"><link rel="prefetch" href="/assets/js/page--src-pages-cheat-sheet-vue.9e7df976.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.a65bef96.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.5e1608d8.js"><link rel="stylesheet" href="/assets/css/0.styles.eaceb45d.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute("data-theme", newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem("theme");
        } catch (err) {}

        window.__setPreferredTheme = function(newTheme) {
          console.log(newTheme);
          setTheme(newTheme);
          try {
            localStorage.setItem("theme", newTheme);
          } catch (err) {}
        };

        var darkQuery = window.matchMedia("(prefers-color-scheme: dark)");
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? "dark" : "light");
        });

        setTheme(preferredTheme || (darkQuery.matches ? "dark" : "light"));
      })();
    </script>

    <div id="app" data-server-rendered="true" class="layout-blog"><div class="toggle-theme toggle-theme--mobile"><span role="checkbox" aria-checked="false" tabindex="0" class="toggle-wrapper" data-v-34d79acf><span class="toggle-background" style="background-color:#dae1e7;" data-v-34d79acf><span class="icon" data-v-34d79acf>
			☀️
		</span></span><span class="toggle-indicator" style="transform:translateX(0);" data-v-34d79acf></span></span></div><div class="sidebar"><div class="sidebar__inner"><a href="/" class="go-home active" data-v-15f0ebd7>VuiLapTrinh.com</a><button type="button" aria-expanded="false" aria-label="nav" class="navbar-toggle collapsed"><div class="hamburger hamburger-1"><span class="line"></span><span class="line"></span><span class="line"></span></div></button><div class="navigation-component"><ul class="nav primary-menu collapsed"><li class="javascript"><a href="/tag/javascript"><span class="primary-menu__icon"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M255.908 485.999c-6.116 0-12.323-1.642-17.708-4.746l-56.319-33.316c-8.397-4.747-4.29-6.389-1.551-7.303 11.226-3.925 13.508-4.745 25.465-11.592 1.279-.729 2.922-.457 4.199.366l43.266 25.648c1.552.912 3.741.912 5.202 0l168.592-97.304c1.553-.913 2.555-2.738 2.555-4.563V158.583c0-1.917-1.002-3.651-2.645-4.654L258.463 56.716c-1.551-.913-3.65-.913-5.202 0L84.852 154.019c-1.644.913-2.647 2.738-2.647 4.655v194.515c0 1.825 1.003 3.65 2.647 4.473l46.188 26.653c25.102 12.504 40.436-2.191 40.436-17.068V175.195c0-2.738 2.19-4.837 4.93-4.837h21.359c2.647 0 4.928 2.099 4.928 4.837v192.143c0 33.407-18.256 52.576-49.928 52.576-9.768 0-17.435 0-38.794-10.588l-44.179-25.467c-10.954-6.299-17.708-18.074-17.708-30.76V158.583c0-12.596 6.754-24.462 17.708-30.76L238.2 30.519c10.679-6.024 24.828-6.024 35.416 0l168.594 97.394c10.953 6.298 17.707 18.073 17.707 30.761v194.515c0 12.596-6.754 24.371-17.707 30.761l-168.594 97.303a35.5 35.5 0 01-17.708 4.746zm136.098-191.775c0-36.421-24.646-46.096-76.4-52.941-52.396-6.938-57.689-10.498-57.689-22.729 0-10.131 4.473-23.641 43.266-23.641 34.596 0 47.375 7.485 52.668 30.853.457 2.19 2.467 3.833 4.746 3.833h21.91c1.367 0 2.645-.547 3.559-1.552.914-1.003 1.369-2.373 1.275-3.743-3.375-40.252-30.121-58.965-84.158-58.965-48.103 0-76.764 20.264-76.764 54.311 0 36.876 28.569 47.101 74.664 51.662 55.225 5.387 59.514 13.511 59.514 24.373 0 18.805-15.15 26.835-50.658 26.835-44.635 0-54.403-11.227-57.689-33.406-.365-2.373-2.374-4.107-4.837-4.107h-21.817a4.81 4.81 0 00-4.836 4.836c0 28.39 15.426 62.254 89.271 62.254 53.305-.092 83.975-21.181 83.975-57.873z" fill="#539e43"></path></svg></span><!----><!----><!----><!----><!----><span class="primary-menu__label">Javascript</span></a></li><li class="react"><a href="/tag/react"><!----><span class="primary-menu__icon"><svg id="Layer_2" version="1.1" viewBox="0 0 600 600" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><circle cx="299.5" cy="299.6" r="50.2" class="st0"></circle><path d="M299.5 414.6c-70.5 0-132.1-8.3-178.2-24.1-29.9-10.2-55.3-23.8-73.4-39.3-19.2-16.4-29.4-34.3-29.4-51.6 0-33.2 36.4-65.7 97.5-86.9 50-17.4 115.2-27.1 183.4-27.1 67 0 131.3 9.4 181 26.6 29.1 10 53.6 23 71 37.4 18.9 15.8 28.9 33.1 28.9 50 0 34.5-40.7 69.4-106.3 91.1-46.4 15.4-108.4 23.9-174.5 23.9zm0-205c-64.7 0-128.7 9.4-175.5 25.7-56.2 19.6-81.4 46.4-81.4 64.3 0 18.6 27.1 47.9 86.5 68.2 43.6 14.9 102.6 22.8 170.4 22.8 63.6 0 122.9-8 167-22.7 61.7-20.5 89.9-49.8 89.9-68.3 0-9.5-7.2-20.7-20.3-31.6-15.1-12.6-37.1-24.1-63.4-33.2-47.3-16.2-108.8-25.2-173.2-25.2z" class="st0"></path><path d="M185.6 549.8c-10.2 0-19.2-2.2-26.8-6.6-28.7-16.6-38.7-64.4-26.6-127.9 9.9-52.1 34.1-113.3 68.2-172.4 33.5-58 73.7-109 113.4-143.5 23.2-20.2 46.7-35 67.9-42.8 23.1-8.5 43.1-8.5 57.7-.1 29.9 17.2 39.8 70 25.8 137.6-9.9 48-33.5 105.9-66.5 163.2-35.2 61-73.2 110.2-109.9 142.3-23.8 20.8-48.3 36-70.7 43.9-11.7 4.2-22.7 6.3-32.5 6.3zm25.1-300.9l10.4 6c-32.3 56-56.2 116.1-65.4 164.9-11.1 58.5-.4 93.7 15 102.6 3.8 2.2 8.8 3.4 14.9 3.4 19.9 0 51.2-12.6 87.4-44.2 34.7-30.3 71-77.5 104.9-136.2 31.8-55.1 54.4-110.5 63.8-156 13.1-63.7 1.8-102.7-14.3-112-8.2-4.7-21.5-4.1-37.5 1.8-18.5 6.8-39.4 20.1-60.4 38.4-37.7 32.8-76.2 81.6-108.4 137.4l-10.4-6.1z" class="st0"></path><path d="M413.4 550.1c-27.2 0-61.7-16.4-97.7-47.4-40.2-34.6-81.1-86.1-115.3-145.2-33.6-58-57.6-118.3-67.7-170-5.9-30.2-7-57.9-3.2-80.2 4.2-24.3 14.1-41.6 28.8-50.1 29.8-17.3 80.5.5 132.1 46.4 36.6 32.5 75 81.9 108.1 139.1 35.3 61 59 118.5 68.4 166.3 6.1 31 7.1 59.8 2.8 83.2-4.6 24.9-15 42.6-30 51.3-7.5 4.4-16.4 6.6-26.3 6.6zM221.2 345.5c32.4 56 72.6 106.7 110.2 139 45.1 38.8 80.9 47.2 96.4 38.2 16.1-9.3 27.9-47.4 15.7-109-9-45.2-31.7-100.2-65.7-158.9-31.9-55.1-68.6-102.4-103.3-133.2-48.6-43.2-88-52.9-104.1-43.6-8.2 4.7-14.3 16.6-17.2 33.4-3.3 19.4-2.3 44.2 3.1 71.5 9.6 49.1 32.6 106.8 64.9 162.6z" class="st0"></path></svg></span><!----><!----><!----><!----><span class="primary-menu__label">React</span></a></li><li class="vue"><a href="/tag/vuejs"><!----><!----><!----><!----><span class="primary-menu__icon"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill="#41b883" d="M392.46 59.011H313.5l-57.499 90.972-49.285-90.972H26.001l230 393.978L485.999 59.011z"></path><path fill="#35495e" d="M83.192 91.867h55.241l117.568 203.511L373.464 91.867h55.241l-172.704 295.92L83.192 91.867z"></path></svg></span><!----><span class="primary-menu__label">Vue</span></a></li><li class="htmlCss"><a href="/tag/css"><!----><!----><!----><span class="primary-menu__icon"><svg version="1.0" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path fill="#E44D26" d="M27.377 28.889L16.001 32 4.625 28.889 2 0h28.002z"></path><path fill="#FF6C39" d="M16 2v27.75l9.232-2.742L27.688 2z"></path><path fill="#FFF" d="M24.363 6H7.607L8 10l.619 7h10.884l-.355 3.984L16 21.99l-3.143-1.006L12.648 19H8.803l.459 4.987L16 25.99l6.728-2.004.99-10.986H12.252l-.25-3H24z"></path></svg></span><!----><!----><span class="primary-menu__label">HTML/CSS</span></a></li><li class="uxUi"><a href="/tag/ux-ui"><!----><!----><!----><!----><!----><span class="primary-menu__icon"><svg viewBox="0 0 512 454.633" xmlns="http://www.w3.org/2000/svg"><path d="M202.271 243.812c-9.741 10.73-12.13 18.428-24.884 38.588 8.237 5.752 24.104 19.055 35.095 41.959 21.953-12.592 32.188-14.514 43.821-24.309C332.24 236.092 518.244 6.836 511.839.204c-6.766-7.05-242.704 170.268-309.568 243.608zM155.442 300.209c-32.998-5.832-65.547 15.028-87.288 67.147C46.382 419.471 7.532 440.337.001 439.061c40.553 14.67 164.202 52.194 194.939-90.655-13.037-34.26-39.498-48.197-39.498-48.197z"></path></svg></span><span class="primary-menu__label">UX/UI</span></a></li><li class="about"><a href="https://luubinhan.github.io/" target="_blank">About</a></li></ul></div></div><div id="footer" data-v-254d4a23><footer class="footer" data-v-254d4a23><section class="footer-inner" data-v-254d4a23><div class="social-links" data-v-254d4a23><a href="https://www.youtube.com/channel/UC0Te8s0b0aplS1ZoVLfjKHA" target="_blank" rel="noopener noreferrer" class="link-youtube" style="display: none;" data-v-254d4a23><span class="link-youtube__icon" data-v-254d4a23><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" data-v-254d4a23 data-v-254d4a23><path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256z" fill="#CD201F" data-v-254d4a23 data-v-254d4a23></path><path d="M391.1 194.6c-2.3-19.9-7.1-25.7-10.5-28.4-5.4-4.2-15.2-5.7-28.3-6.6-21-1.4-56.7-2.3-95.2-2.3-38.6 0-74.2.8-95.2 2.3-13.1.9-22.9 2.4-28.3 6.6-3.4 2.7-8.1 8.5-10.5 28.4-3.4 28.7-3.4 94.1 0 122.8 2.4 19.9 7.1 25.7 10.5 28.4 5.4 4.2 15.2 5.7 28.3 6.6 21 1.4 56.6 2.3 95.2 2.3s74.2-.9 95.2-2.3c13.1-.9 22.9-2.4 28.3-6.6 3.4-2.6 8.1-8.5 10.5-28.4 3.4-28.7 3.4-94.1 0-122.8zm-167 104.3V213l82.4 42.9-82.4 43z" fill="#FFF" data-v-254d4a23 data-v-254d4a23></path></svg></span>
					Youtube
				</a></div><div class="credit" data-v-254d4a23>Since 2016. luckyluu</div></section></footer></div></div><div class="master"><main class="inner"><div class="master__search"><div class="search-wrapper"><div class="mb-2"><div class="post-tags"><a href="/tag/javascript" class="post-tags__link"><span>#</span>
    Javascript
  </a><a href="/tag/dam-dao" class="post-tags__link"><span>#</span>
    Đàm đạo chém gió chuyện nghề
  </a><a href="/tag/css" class="post-tags__link"><span>#</span>
    CSS từ căn bản tới nâng cao
  </a><a href="/tag/thu-thuat" class="post-tags__link"><span>#</span>
    Thủ thuật
  </a><a href="/tag/hoc-thuat" class="post-tags__link"><span>#</span>
    Kiến thức nền tảng
  </a><a href="/tag/react" class="post-tags__link"><span>#</span>
    React
  </a><a href="/tag/vuejs" class="post-tags__link"><span>#</span>
    Vue JS
  </a><a href="/tag/chrome" class="post-tags__link"><span>#</span>
    Chrome DevTools
  </a></div></div><div class="search__container"><input type="text" placeholder="Tìm bài viết..." value="" class="search__input"><!----></div><div class="search__list"><!----><!----></div></div></div><div id="scrollTop"></div><div class="single-post"><div class="single-post-container"><article><header><div class="post-title"><h1 class="post-title__text single-post-title">
              Webpack là gì và tại sao ta phải xài nó
            </h1><div class="post-meta">
  Đăng ngày
  <time dateTime="2018-05-25" itemprop="dateModified" content="2018-05-25">2018-05-25</time>.
  
    Mất khoảng
    <strong>5 phút</strong> để đọc.
  </div><a href="https://github.com/luubinhan/blog/edit/master/content/posts//2018-05-25-huong-dan-viet-code-javascript-tot-hon-voi-webpack.md" rel="noopener noreferrer" target="_blank" aria-label="Connect Facebook" class="link">
              Sửa bài viết này
            </a></div></header><div class="post content-box"><div class="post__header"><!----></div><div class="blog-post"><div class="post-content"><h1 id="trong-series-này"><a href="#trong-series-n%C3%A0y" aria-hidden="true"><span class="icon icon-link"></span></a>Trong Series này</h1>
<ol>
<li><a href="2018-05-25-viet-code-javascript-tot-hon-voi-webpack">Webpack là gì và tại sao ta phải xài nó</a></li>
<li><a href="2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau">Dùng Loaders, code slitting trong webpack</a></li>
<li><a href="2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3">Plugins, Development Server</a></li>
</ol>
<!-- TOC -->
<ul>
<li>
<p><a href="#trong-series-n%C3%A0y">Trong Series này</a></p>
<ul>
<li>
<p><a href="#v%E1%BA%A5n-%C4%91%E1%BB%81">Vấn đề</a></p>
<ul>
<li><a href="#c%C3%A1ch-t%E1%BB%91t-h%C6%A1n">Cách tốt hơn</a></li>
</ul>
</li>
<li><a href="#webpack-vs-gulp">Webpack vs. Gulp</a></li>
<li><a href="#vi%E1%BA%BFt-code-module">Viết code Module</a></li>
<li><a href="#c%E1%BA%A5u-h%C3%ACnh-webpack">Cấu hình Webpack</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="vấn-đề"><a href="#v%E1%BA%A5n-%C4%91%E1%BB%81" aria-hidden="true"><span class="icon icon-link"></span></a>Vấn đề</h2>
<p>Viết code client-side nếu không có các công cụ hỗ trợ thì trước sau vì cũng giống như đống hỗn độn trên desktop, để maintain và người khác có thể vào đọc hiểu được thì việc code được tổ chức tốt là điều ai cũng biết, lý thuyết là thế, nhưng nếu cứ làm việc theo kiểu cũ cứ quăng script tràng lan bằng thẻ <code>&#x3C;script></code> sẽ chẳng dễ gì sắp xếp và nhớ nổi cái nào là cái nào nếu, add thêm cỡ chục files, <em>best practice</em> khuyên rằng hạn chế số lượng file script càng ít càng tốt, tốt nhất là 1 file duy nhất.</p>
<p>Trước đây có nhiều giải pháp cho vấn đề như là Gulp, dùng để bunch toàn bộ javascript thành 1 file. Nhưng chưa đủ. Với Gulp chúng ta đã đẩy các dependency ngang hàng nhau, và phụ thuộc vào biến global để chia sẽ dữ liệu giữa các files.</p>
<h3 id="cách-tốt-hơn"><a href="#c%C3%A1ch-t%E1%BB%91t-h%C6%A1n" aria-hidden="true"><span class="icon icon-link"></span></a>Cách tốt hơn</h3>
<p>Nếu trước đây chưa từng sử dụng mấy cái tool để quản lý asset ở frontend, tốt nhất là học luôn Webpack, bỏ qua Gulp, Gruntjs luôn. Còn nếu nếu đã từng dùng mấy task runner kiểu Gulp, Gruntjs, thì chuyển qua dùng webpack cũng không khó khăn lắm, chỉ là khác nhau cách tổ chức và quản lý dependency.</p>
<h2 id="webpack-vs-gulp"><a href="#webpack-vs-gulp" aria-hidden="true"><span class="icon icon-link"></span></a>Webpack vs. Gulp</h2>
<p>Chắc đã từng nghe tới câu này: <strong>Gulp là task runner, Webpack là module bundler</strong>, ý nhĩa thật sự sau câu này là gì?</p>
<p>Gulp là công cụ tự động hóa tốt, cho phép chúng ta setup một mớ các tiến trình phức tạp cần thực hiện (một cách tự động) bằng javascript, rồi chạy nó bằng một lệnh duy nhất. Vấn đề với Gulp là nếu code file A depend vào code ở file B, bạn cần báo cáo với Gulp để nó include file A trước, và khi bạn thêm càng lúc càng nhiều file depend chồng chéo kiểu này, cây dependency là lớn dần, và sẽ gần như không thể maintain được nữa, vì chúng ta phải config bằng tay, nếu sử dụng file manifest với plugin <code>asset-builder</code> cũng không thể cứu vãn.</p>
<p><img src="https://res.cloudinary.com/forestry-demo/image/fetch/c_limit,dpr_auto,f_auto,q_80,w_674/https://forestry.io/uploads/2018/03/webpack_fighter_of_the_gulpstack_champion_of_the_bundle.png"></p>
<p>Bài toán dependency này đã được Webpack giải quyết triệt để. Những gì bạn cần làm là báo với Webpack file <strong>entry</strong> point mình cần bundle là gì, chuyện bạn <em>import module</em> lúc code sẽ do webpack đảm nhiệm chuyện dựng lên dependency graph, webpack sẽ bundle cho bạn 1 file duy nhất bạn cần. Chúng ta khỏi phải báo cáo với webpack thứ tự các file nào cần trước hay sau, để đó Webpack lo!</p>
<p>Ngắn gọn là: với Gulp dependency bị giới hạn vì nó yêu cầu mình tự chỉ định sự phụ thuộc, Webpack thì nó dùng logic để tính toán rồi bundle đúng thứ tự.</p>
<h2 id="viết-code-module"><a href="#vi%E1%BA%BFt-code-module" aria-hidden="true"><span class="icon icon-link"></span></a>Viết code Module</h2>
<p>Để Webpack hoạt động như phép màu như vậy, chúng ta chỉ cần viết javascript của mình dạng <em>module</em>. Viết module trong javascript là tách các file ra thành nhiều file, việc sử dụng code giữa các file sẽ thực hiện bằng <strong>export</strong> và <strong>import</strong></p>
<p>Webpack hỗ trợ 2 chuẩn module hóa hiện giờ là <strong>EcmaScript</strong> và  <strong>CommonJS</strong>. Ví dụ bên dưới để hình dung cách viết module trong file <code>hello.js</code> rồi <strong>import</strong> vào trong file <code>app.js</code> bằng cả 2 kiểu viết EcmaScript và CommonJS</p>
<p>Viết kiểu <strong>EcmaScript</strong></p>
<p><strong>hello.js</strong></p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Hello Binh An!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong>app.js</strong></p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>hello<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'./hello'</span>
<span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Viết kiểu <strong>CommonJS</strong></p>
<p><strong>hello.js</strong></p>
<pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Hello Bình An!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><strong>app.js</strong></p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> hello <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="cấu-hình-webpack"><a href="#c%E1%BA%A5u-h%C3%ACnh-webpack" aria-hidden="true"><span class="icon icon-link"></span></a>Cấu hình Webpack</h2>
<p>Một điểm hay của webpack là nếu có ai đó đã config rồi thì những người sau không cần phải vào file config để hiểu cách tổ chức code, chỉ cần hiểu được cách tổ chức code của project.</p>
<p>Giờ thử config đơn giản nhất để hiểu một số thành phần quan trọng nhất của webpack</p>
<p>Tổ chức project như vầy</p>
<pre class="language-basic"><code class="language-basic">src<span class="token operator">/</span>
    app.js
webpack.config.js</code></pre>
<p>Mặt định Webpack sẽ tìm file config với tên là <strong>webpack.config.js</strong>. Tiếp chúng ta cần cài <strong>webpack</strong> và <strong>webpack-cli</strong></p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> init -y
<span class="token function">npm</span> <span class="token function">install</span> --save-dev webpack webpack-cli</code></pre>
<p>Trong file <strong>webpack.config.js</strong></p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token operator">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    output<span class="token operator">:</span> <span class="token punctuation">{</span>
        path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>2 phần quan trọng nhất mà phải biết là <strong>entry</strong> - file source nằm ở đâu và <strong>output</strong> - file sẽ bundle ở đâu. Sử dụng module <code>path</code> để biết vị trí thực tế lúc chạy.</p>
<p>Chạy CLI để bundle</p>
<pre class="language-bash"><code class="language-bash">./node_modules/webpack-cli/bin/webpack.js</code></pre>
<p>Nó sẽ đọc source trong file <code>src/app.js</code> rồi compile vào <code>dist/bundle.js</code>. Thư mục sau khi chạy xong sẽ có</p>
<pre class="language-basic"><code class="language-basic">dist<span class="token operator">/</span>
    bundle.js
src<span class="token operator">/</span>
    app.js
package.json
webpack.config.js</code></pre>
<p>Để rút chạy đoạn CLI dài ngoằn <code>./node_modules/webpack-cli/bin/webpack.js</code> có thể thêm một custom script trong file <strong>package.json</strong>. Bạn có thể chạy nó bằng <code>npm run SCRIPT_NAME</code></p>
<p>Thêm vào trong <strong>package.json</strong></p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>    
    <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span><span class="token punctuation">,</span>
        <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"./node_modules/webpack-cli/bin/webpack.js"</span><span class="token punctuation">,</span>
        <span class="token property">"watch"</span><span class="token operator">:</span> <span class="token string">"./node_modules/webpack-cli/bin/webpack.js --watch"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre>
<p>Giờ chúng ta có thể chạy bằng lệnh <code>npm run build</code>, ở trên chúng ta cũng vừa thêm đoạn <code>npm run watch</code>, thêm option <code>--watch</code> để khi có bất kỳ thay đổi nào nó sẽ tự động detect và compile lại.</p>
<p>!!!! CUNG HỶ !!!!!</p>
<p>Bạn đã chạm được vào cánh cửa đầu tiên của webpack, webpack còn nhiều khả năng nữa, tuy nhiên module bundle là core feature, bài tiếp theo chúng ta sẽ khám phá nhiều hơn như loaders, plugins, development server.</p>
<p><a href="2017-10-18-import-va-export-trong-javascript">Tìm hiểu thêm về import và export</a></p>
<p><a href="https://forestry.io/blog/write-better-javascript-with-webpack/" target="_blank" rel="nofollow noopener noreferrer">Link bài gốc</a></p>
<p>Tác giả: DJ Walker</p>
</div></div><div class="post__footer"><div class="post-tags"><a href="/tag/javascript/" class="post-tags__link"><span>#</span>
    javascript
  </a><a href="/tag/webpack/" class="post-tags__link"><span>#</span>
    webpack
  </a></div></div><div class="single-post__share"><a href="javascript:void(0)" class="share-network-email" style="background-color:#333333;"><i class="mst-icon icon-mail"></i><span>Email</span></a><a href="javascript:void(0)" class="share-network-facebook" style="background-color:#1877f2;"><i class="mst-icon icon-facebook"></i><span>Facebook</span></a><a href="javascript:void(0)" class="share-network-linkedin" style="background-color:#007bb5;"><i class="mst-icon icon-linkedin"></i><span>LinkedIn</span></a><a href="javascript:void(0)" class="share-network-pocket" style="background-color:#ef4056;"><i class="mst-icon icon-get-pocket"></i><span>Pocket</span></a><a href="javascript:void(0)" class="share-network-skype" style="background-color:#00aff0;"><i class="mst-icon icon-skype"></i><span>Skype</span></a><a href="javascript:void(0)" class="share-network-twitter" style="background-color:#1da1f2;"><i class="mst-icon icon-twitter"></i><span>Twitter</span></a></div></div></article><div class="section-below-post"><div class="post-comments"><!----><div id="disqus_thread" style="min-height:200px;"></div></div><div class="related-posts" data-v-0ab71b42><h4 data-v-0ab71b42>Bài liên quan</h4><ul class="related-posts__container" data-v-0ab71b42><li class="related-posts__media" data-v-0ab71b42><div class="related-posts__index" data-v-0ab71b42>1.</div><div class="related-posts__content" data-v-0ab71b42><h4 class="related-posts__title" data-v-0ab71b42><a href="/redux-la-gi-va-tai-sao-phai-dung/" data-v-0ab71b42>Redux là gì và tại sao phải dùng?</a></h4><p data-v-0ab71b42>Nếu đã đụng tới React thì sớm muộn gì bạn cũng sẽ nghe đến Redux</p></div></li><li class="related-posts__media" data-v-0ab71b42><div class="related-posts__index" data-v-0ab71b42>2.</div><div class="related-posts__content" data-v-0ab71b42><h4 class="related-posts__title" data-v-0ab71b42><a href="/iife-trong-javascript-la-cai-gi-vai/" data-v-0ab71b42>IIFE trong javascript là cái gì vại</a></h4><p data-v-0ab71b42>Giới thiệu về Íp-Phi trong javascript, tuy không còn dùng nhiều nữa, nhưng vẫn là một kiến thức tốt cần biết</p></div></li><li class="related-posts__media" data-v-0ab71b42><div class="related-posts__index" data-v-0ab71b42>3.</div><div class="related-posts__content" data-v-0ab71b42><h4 class="related-posts__title" data-v-0ab71b42><a href="/hoi-nhanh-dap-gon-ve-webpack/" data-v-0ab71b42>Hỏi nhanh đáp gọn về webpack</a></h4><p data-v-0ab71b42>Chuyên mục hỏi nhanh - đáp gọn, nếu bạn chưa biết gì về webpack</p></div></li></ul></div><div class="author post-author"><a href="https://luubinhan.github.io/" target="_blank"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript></a><h2 class="author__site-title">VuiLapTrinh.com</h2><p class="author__intro">Nếu đọc bài viết thấy hay, bạn xài bớt cái bọc ni lông, ra đường mua tờ vé số giúp các cô các bác là đã cảm ơn mình</p></div></div></div></div></main></div><div class="layout-blog__aside"><div class="layout-blog__aside-inner"><div class="toggle-theme"><span role="checkbox" aria-checked="false" tabindex="0" class="toggle-wrapper" data-v-34d79acf><span class="toggle-background" style="background-color:#dae1e7;" data-v-34d79acf><span class="icon" data-v-34d79acf>
			☀️
		</span></span><span class="toggle-indicator" style="transform:translateX(0);" data-v-34d79acf></span></span></div><div class="search-wrapper"><div class="mb-2"><div class="post-tags"><a href="/tag/javascript" class="post-tags__link"><span>#</span>
    Javascript
  </a><a href="/tag/dam-dao" class="post-tags__link"><span>#</span>
    Đàm đạo chém gió chuyện nghề
  </a><a href="/tag/css" class="post-tags__link"><span>#</span>
    CSS từ căn bản tới nâng cao
  </a><a href="/tag/thu-thuat" class="post-tags__link"><span>#</span>
    Thủ thuật
  </a><a href="/tag/hoc-thuat" class="post-tags__link"><span>#</span>
    Kiến thức nền tảng
  </a><a href="/tag/react" class="post-tags__link"><span>#</span>
    React
  </a><a href="/tag/vuejs" class="post-tags__link"><span>#</span>
    Vue JS
  </a><a href="/tag/chrome" class="post-tags__link"><span>#</span>
    Chrome DevTools
  </a></div></div><div class="search__container"><input type="text" placeholder="Tìm bài viết..." value="" class="search__input"><!----></div><div class="search__list"><!----><!----></div></div><div class="layout-blog__aside-footer"></div></div></div></div> <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Webpack là gì và tại sao ta phải xài nó","path":"\u002Fwebpack-la-gi-va-tai-sao-ta-phai-xai-no\u002F","slug":"\u002F2018-05-25-huong-dan-viet-code-javascript-tot-hon-voi-webpack","date":"2018-05-25","timeToRead":5,"tags":[{"id":"javascript","title":"javascript","path":"\u002Ftag\u002Fjavascript\u002F"},{"id":"webpack","title":"webpack","path":"\u002Ftag\u002Fwebpack\u002F"}],"desc":"Bài này sẽ nói rõ tại sao Webpack là sự lựa chọn sáng suốt cho bundle javascript","content":"\u003Ch1 id=\"trong-series-này\"\u003E\u003Ca href=\"#trong-series-n%C3%A0y\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ETrong Series này\u003C\u002Fh1\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Ca href=\"2018-05-25-viet-code-javascript-tot-hon-voi-webpack\"\u003EWebpack là gì và tại sao ta phải xài nó\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"2018-05-27-huong-dan-webpack-4-cho-nguoi-moi-bat-dau\"\u003EDùng Loaders, code slitting trong webpack\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"2018-05-28-huong-dan-webpack-4-cho-nguoi-moi-bat-dau-phan-3\"\u003EPlugins, Development Server\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C!-- TOC --\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"#trong-series-n%C3%A0y\"\u003ETrong Series này\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81\"\u003EVấn đề\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#c%C3%A1ch-t%E1%BB%91t-h%C6%A1n\"\u003ECách tốt hơn\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#webpack-vs-gulp\"\u003EWebpack vs. Gulp\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#vi%E1%BA%BFt-code-module\"\u003EViết code Module\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#c%E1%BA%A5u-h%C3%ACnh-webpack\"\u003ECấu hình Webpack\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C!-- \u002FTOC --\u003E\n\u003Ch2 id=\"vấn-đề\"\u003E\u003Ca href=\"#v%E1%BA%A5n-%C4%91%E1%BB%81\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EVấn đề\u003C\u002Fh2\u003E\n\u003Cp\u003EViết code client-side nếu không có các công cụ hỗ trợ thì trước sau vì cũng giống như đống hỗn độn trên desktop, để maintain và người khác có thể vào đọc hiểu được thì việc code được tổ chức tốt là điều ai cũng biết, lý thuyết là thế, nhưng nếu cứ làm việc theo kiểu cũ cứ quăng script tràng lan bằng thẻ \u003Ccode\u003E&#x3C;script\u003E\u003C\u002Fcode\u003E sẽ chẳng dễ gì sắp xếp và nhớ nổi cái nào là cái nào nếu, add thêm cỡ chục files, \u003Cem\u003Ebest practice\u003C\u002Fem\u003E khuyên rằng hạn chế số lượng file script càng ít càng tốt, tốt nhất là 1 file duy nhất.\u003C\u002Fp\u003E\n\u003Cp\u003ETrước đây có nhiều giải pháp cho vấn đề như là Gulp, dùng để bunch toàn bộ javascript thành 1 file. Nhưng chưa đủ. Với Gulp chúng ta đã đẩy các dependency ngang hàng nhau, và phụ thuộc vào biến global để chia sẽ dữ liệu giữa các files.\u003C\u002Fp\u003E\n\u003Ch3 id=\"cách-tốt-hơn\"\u003E\u003Ca href=\"#c%C3%A1ch-t%E1%BB%91t-h%C6%A1n\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECách tốt hơn\u003C\u002Fh3\u003E\n\u003Cp\u003ENếu trước đây chưa từng sử dụng mấy cái tool để quản lý asset ở frontend, tốt nhất là học luôn Webpack, bỏ qua Gulp, Gruntjs luôn. Còn nếu nếu đã từng dùng mấy task runner kiểu Gulp, Gruntjs, thì chuyển qua dùng webpack cũng không khó khăn lắm, chỉ là khác nhau cách tổ chức và quản lý dependency.\u003C\u002Fp\u003E\n\u003Ch2 id=\"webpack-vs-gulp\"\u003E\u003Ca href=\"#webpack-vs-gulp\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EWebpack vs. Gulp\u003C\u002Fh2\u003E\n\u003Cp\u003EChắc đã từng nghe tới câu này: \u003Cstrong\u003EGulp là task runner, Webpack là module bundler\u003C\u002Fstrong\u003E, ý nhĩa thật sự sau câu này là gì?\u003C\u002Fp\u003E\n\u003Cp\u003EGulp là công cụ tự động hóa tốt, cho phép chúng ta setup một mớ các tiến trình phức tạp cần thực hiện (một cách tự động) bằng javascript, rồi chạy nó bằng một lệnh duy nhất. Vấn đề với Gulp là nếu code file A depend vào code ở file B, bạn cần báo cáo với Gulp để nó include file A trước, và khi bạn thêm càng lúc càng nhiều file depend chồng chéo kiểu này, cây dependency là lớn dần, và sẽ gần như không thể maintain được nữa, vì chúng ta phải config bằng tay, nếu sử dụng file manifest với plugin \u003Ccode\u003Easset-builder\u003C\u002Fcode\u003E cũng không thể cứu vãn.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fforestry-demo\u002Fimage\u002Ffetch\u002Fc_limit,dpr_auto,f_auto,q_80,w_674\u002Fhttps:\u002F\u002Fforestry.io\u002Fuploads\u002F2018\u002F03\u002Fwebpack_fighter_of_the_gulpstack_champion_of_the_bundle.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EBài toán dependency này đã được Webpack giải quyết triệt để. Những gì bạn cần làm là báo với Webpack file \u003Cstrong\u003Eentry\u003C\u002Fstrong\u003E point mình cần bundle là gì, chuyện bạn \u003Cem\u003Eimport module\u003C\u002Fem\u003E lúc code sẽ do webpack đảm nhiệm chuyện dựng lên dependency graph, webpack sẽ bundle cho bạn 1 file duy nhất bạn cần. Chúng ta khỏi phải báo cáo với webpack thứ tự các file nào cần trước hay sau, để đó Webpack lo!\u003C\u002Fp\u003E\n\u003Cp\u003ENgắn gọn là: với Gulp dependency bị giới hạn vì nó yêu cầu mình tự chỉ định sự phụ thuộc, Webpack thì nó dùng logic để tính toán rồi bundle đúng thứ tự.\u003C\u002Fp\u003E\n\u003Ch2 id=\"viết-code-module\"\u003E\u003Ca href=\"#vi%E1%BA%BFt-code-module\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EViết code Module\u003C\u002Fh2\u003E\n\u003Cp\u003EĐể Webpack hoạt động như phép màu như vậy, chúng ta chỉ cần viết javascript của mình dạng \u003Cem\u003Emodule\u003C\u002Fem\u003E. Viết module trong javascript là tách các file ra thành nhiều file, việc sử dụng code giữa các file sẽ thực hiện bằng \u003Cstrong\u003Eexport\u003C\u002Fstrong\u003E và \u003Cstrong\u003Eimport\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EWebpack hỗ trợ 2 chuẩn module hóa hiện giờ là \u003Cstrong\u003EEcmaScript\u003C\u002Fstrong\u003E và  \u003Cstrong\u003ECommonJS\u003C\u002Fstrong\u003E. Ví dụ bên dưới để hình dung cách viết module trong file \u003Ccode\u003Ehello.js\u003C\u002Fcode\u003E rồi \u003Cstrong\u003Eimport\u003C\u002Fstrong\u003E vào trong file \u003Ccode\u003Eapp.js\u003C\u002Fcode\u003E bằng cả 2 kiểu viết EcmaScript và CommonJS\u003C\u002Fp\u003E\n\u003Cp\u003EViết kiểu \u003Cstrong\u003EEcmaScript\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Ehello.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword module\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Ehello\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token console class-name\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'Hello Binh An!'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003Eapp.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword module\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token imports\"\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003Ehello\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword module\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'.\u002Fhello'\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Ehello\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EViết kiểu \u003Cstrong\u003ECommonJS\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Ehello.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003Emodule\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method-variable function-variable method function property-access\"\u003Eexports\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token console class-name\"\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'Hello Bình An!'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cstrong\u003Eapp.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E hello \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'.\u002Fhello'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Ehello\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"cấu-hình-webpack\"\u003E\u003Ca href=\"#c%E1%BA%A5u-h%C3%ACnh-webpack\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECấu hình Webpack\u003C\u002Fh2\u003E\n\u003Cp\u003EMột điểm hay của webpack là nếu có ai đó đã config rồi thì những người sau không cần phải vào file config để hiểu cách tổ chức code, chỉ cần hiểu được cách tổ chức code của project.\u003C\u002Fp\u003E\n\u003Cp\u003EGiờ thử config đơn giản nhất để hiểu một số thành phần quan trọng nhất của webpack\u003C\u002Fp\u003E\n\u003Cp\u003ETổ chức project như vầy\u003C\u002Fp\u003E\n\u003Cpre class=\"language-basic\"\u003E\u003Ccode class=\"language-basic\"\u003Esrc\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003E\n    app.js\nwebpack.config.js\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EMặt định Webpack sẽ tìm file config với tên là \u003Cstrong\u003Ewebpack.config.js\u003C\u002Fstrong\u003E. Tiếp chúng ta cần cài \u003Cstrong\u003Ewebpack\u003C\u002Fstrong\u003E và \u003Cstrong\u003Ewebpack-cli\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token function\"\u003Enpm\u003C\u002Fspan\u003E init -y\n\u003Cspan class=\"token function\"\u003Enpm\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Einstall\u003C\u002Fspan\u003E --save-dev webpack webpack-cli\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ETrong file \u003Cstrong\u003Ewebpack.config.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Evar\u003C\u002Fspan\u003E path \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'path'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\nmodule\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Eexports\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    entry\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'.\u002Fsrc\u002Fapp.js'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    output\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        path\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E path\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Eresolve\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E__dirname\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'dist'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n        filename\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'bundle.js'\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E2 phần quan trọng nhất mà phải biết là \u003Cstrong\u003Eentry\u003C\u002Fstrong\u003E - file source nằm ở đâu và \u003Cstrong\u003Eoutput\u003C\u002Fstrong\u003E - file sẽ bundle ở đâu. Sử dụng module \u003Ccode\u003Epath\u003C\u002Fcode\u003E để biết vị trí thực tế lúc chạy.\u003C\u002Fp\u003E\n\u003Cp\u003EChạy CLI để bundle\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003E.\u002Fnode_modules\u002Fwebpack-cli\u002Fbin\u002Fwebpack.js\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENó sẽ đọc source trong file \u003Ccode\u003Esrc\u002Fapp.js\u003C\u002Fcode\u003E rồi compile vào \u003Ccode\u003Edist\u002Fbundle.js\u003C\u002Fcode\u003E. Thư mục sau khi chạy xong sẽ có\u003C\u002Fp\u003E\n\u003Cpre class=\"language-basic\"\u003E\u003Ccode class=\"language-basic\"\u003Edist\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003E\n    bundle.js\nsrc\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003E\n    app.js\npackage.json\nwebpack.config.js\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EĐể rút chạy đoạn CLI dài ngoằn \u003Ccode\u003E.\u002Fnode_modules\u002Fwebpack-cli\u002Fbin\u002Fwebpack.js\u003C\u002Fcode\u003E có thể thêm một custom script trong file \u003Cstrong\u003Epackage.json\u003C\u002Fstrong\u003E. Bạn có thể chạy nó bằng \u003Ccode\u003Enpm run SCRIPT_NAME\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EThêm vào trong \u003Cstrong\u003Epackage.json\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E    \n    \u003Cspan class=\"token property\"\u003E\"scripts\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token property\"\u003E\"test\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token property\"\u003E\"build\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\".\u002Fnode_modules\u002Fwebpack-cli\u002Fbin\u002Fwebpack.js\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token property\"\u003E\"watch\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\".\u002Fnode_modules\u002Fwebpack-cli\u002Fbin\u002Fwebpack.js --watch\"\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EGiờ chúng ta có thể chạy bằng lệnh \u003Ccode\u003Enpm run build\u003C\u002Fcode\u003E, ở trên chúng ta cũng vừa thêm đoạn \u003Ccode\u003Enpm run watch\u003C\u002Fcode\u003E, thêm option \u003Ccode\u003E--watch\u003C\u002Fcode\u003E để khi có bất kỳ thay đổi nào nó sẽ tự động detect và compile lại.\u003C\u002Fp\u003E\n\u003Cp\u003E!!!! CUNG HỶ !!!!!\u003C\u002Fp\u003E\n\u003Cp\u003EBạn đã chạm được vào cánh cửa đầu tiên của webpack, webpack còn nhiều khả năng nữa, tuy nhiên module bundle là core feature, bài tiếp theo chúng ta sẽ khám phá nhiều hơn như loaders, plugins, development server.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"2017-10-18-import-va-export-trong-javascript\"\u003ETìm hiểu thêm về import và export\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fforestry.io\u002Fblog\u002Fwrite-better-javascript-with-webpack\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ELink bài gốc\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETác giả: DJ Walker\u003C\u002Fp\u003E\n","cover_image":"","related":[{"id":"9fb0c6362096788ba892dbc1ce48951b","path":"\u002Fredux-la-gi-va-tai-sao-phai-dung\u002F","title":"Redux là gì và tại sao phải dùng?","desc":"Nếu đã đụng tới React thì sớm muộn gì bạn cũng sẽ nghe đến Redux"},{"id":"c288e21d08d57a4cc39d7265faf2e95f","path":"\u002Fiife-trong-javascript-la-cai-gi-vai\u002F","title":"IIFE trong javascript là cái gì vại","desc":"Giới thiệu về Íp-Phi trong javascript, tuy không còn dùng nhiều nữa, nhưng vẫn là một kiến thức tốt cần biết"},{"id":"dc34c8a0c083ef6c15db1a0747852887","path":"\u002Fhoi-nhanh-dap-gon-ve-webpack\u002F","title":"Hỏi nhanh đáp gọn về webpack","desc":"Chuyên mục hỏi nhanh - đáp gọn, nếu bạn chưa biết gì về webpack"}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.7cffcc6d.js" defer></script><script src="/assets/js/page--src-templates-post-vue.b389c026.js" defer></script>
  </body>
</html>

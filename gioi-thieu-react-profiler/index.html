<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Giới thiệu React Profiler - VuiLapTrinh.com</title><meta name="gridsome:hash" content="758a6cb1620fd44d4d49859fe95b9857298eb57d"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.21"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Tutorials, Blog, Hướng dẫn, chia sẽ kinh nghiệm về Frontend, react, vue, ux, ui"><meta data-vue-tag="ssr" name="desc" content="Từ version React 16.5 bổ sung thêm một plugin DevTool profiler. Plugin này được dùng để thu thập các thông tin về thời gian render một component, xác định nguyên nhân làm trì trệ performance."><link rel="preload" href="/assets/css/0.styles.08d693e0.css" as="style"><link rel="preload" href="/assets/js/app.11a2acaa.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.136044c9.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.a46e8bb1.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.d7acbf4e.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.94dc72c0.js"><link rel="stylesheet" href="/assets/css/0.styles.08d693e0.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div id="fb-root"></div>
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v8.0&appId=445556375516928&autoLogAppEvents=1"
      nonce="NM6X5rUi"
    ></script>
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute("data-theme", newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem("theme");
        } catch (err) {}

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem("theme", newTheme);
          } catch (err) {}
        };

        var darkQuery = window.matchMedia("(prefers-color-scheme: dark)");
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? "dark" : "light");
        });

        setTheme(preferredTheme || (darkQuery.matches ? "dark" : "light"));
      })();
    </script>

    <div id="app" data-server-rendered="true" class="layout-blog"><div class="sidebar" data-v-d28e11ae><div class="sidebar__inner" data-v-d28e11ae><a href="/" class="go-home active" data-v-d28e11ae>VuiLapTrinh.com</a><div class="navigation-component" data-v-d28e11ae><ul class="nav primary-menu" data-v-d28e11ae><li class="javascript" data-v-d28e11ae><a href="/tag/javascript" aria-label="Kiến thức Javascript" title="Kiến thức Javascript" target="" data-v-d28e11ae><span class="primary-menu__icon" data-v-d28e11ae><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><path d="M255.908 485.999c-6.116 0-12.323-1.642-17.708-4.746l-56.319-33.316c-8.397-4.747-4.29-6.389-1.551-7.303 11.226-3.925 13.508-4.745 25.465-11.592 1.279-.729 2.922-.457 4.199.366l43.266 25.648c1.552.912 3.741.912 5.202 0l168.592-97.304c1.553-.913 2.555-2.738 2.555-4.563V158.583c0-1.917-1.002-3.651-2.645-4.654L258.463 56.716c-1.551-.913-3.65-.913-5.202 0L84.852 154.019c-1.644.913-2.647 2.738-2.647 4.655v194.515c0 1.825 1.003 3.65 2.647 4.473l46.188 26.653c25.102 12.504 40.436-2.191 40.436-17.068V175.195c0-2.738 2.19-4.837 4.93-4.837h21.359c2.647 0 4.928 2.099 4.928 4.837v192.143c0 33.407-18.256 52.576-49.928 52.576-9.768 0-17.435 0-38.794-10.588l-44.179-25.467c-10.954-6.299-17.708-18.074-17.708-30.76V158.583c0-12.596 6.754-24.462 17.708-30.76L238.2 30.519c10.679-6.024 24.828-6.024 35.416 0l168.594 97.394c10.953 6.298 17.707 18.073 17.707 30.761v194.515c0 12.596-6.754 24.371-17.707 30.761l-168.594 97.303a35.5 35.5 0 01-17.708 4.746zm136.098-191.775c0-36.421-24.646-46.096-76.4-52.941-52.396-6.938-57.689-10.498-57.689-22.729 0-10.131 4.473-23.641 43.266-23.641 34.596 0 47.375 7.485 52.668 30.853.457 2.19 2.467 3.833 4.746 3.833h21.91c1.367 0 2.645-.547 3.559-1.552.914-1.003 1.369-2.373 1.275-3.743-3.375-40.252-30.121-58.965-84.158-58.965-48.103 0-76.764 20.264-76.764 54.311 0 36.876 28.569 47.101 74.664 51.662 55.225 5.387 59.514 13.511 59.514 24.373 0 18.805-15.15 26.835-50.658 26.835-44.635 0-54.403-11.227-57.689-33.406-.365-2.373-2.374-4.107-4.837-4.107h-21.817a4.81 4.81 0 00-4.836 4.836c0 28.39 15.426 62.254 89.271 62.254 53.305-.092 83.975-21.181 83.975-57.873z" fill="#539e43" data-v-d28e11ae></path></svg></span><!----><!----><!----><!----><!----><span class="primary-menu__label" data-v-d28e11ae>Javascript</span></a></li><li class="react" data-v-d28e11ae><a href="/tag/react" aria-label="Kiến thức React" title="Kiến thức React" target="" data-v-d28e11ae><!----><span class="primary-menu__icon" data-v-d28e11ae><svg id="Layer_2" version="1.1" viewBox="0 0 600 600" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><circle cx="299.5" cy="299.6" r="50.2" class="st0" data-v-d28e11ae></circle><path d="M299.5 414.6c-70.5 0-132.1-8.3-178.2-24.1-29.9-10.2-55.3-23.8-73.4-39.3-19.2-16.4-29.4-34.3-29.4-51.6 0-33.2 36.4-65.7 97.5-86.9 50-17.4 115.2-27.1 183.4-27.1 67 0 131.3 9.4 181 26.6 29.1 10 53.6 23 71 37.4 18.9 15.8 28.9 33.1 28.9 50 0 34.5-40.7 69.4-106.3 91.1-46.4 15.4-108.4 23.9-174.5 23.9zm0-205c-64.7 0-128.7 9.4-175.5 25.7-56.2 19.6-81.4 46.4-81.4 64.3 0 18.6 27.1 47.9 86.5 68.2 43.6 14.9 102.6 22.8 170.4 22.8 63.6 0 122.9-8 167-22.7 61.7-20.5 89.9-49.8 89.9-68.3 0-9.5-7.2-20.7-20.3-31.6-15.1-12.6-37.1-24.1-63.4-33.2-47.3-16.2-108.8-25.2-173.2-25.2z" class="st0" data-v-d28e11ae></path><path d="M185.6 549.8c-10.2 0-19.2-2.2-26.8-6.6-28.7-16.6-38.7-64.4-26.6-127.9 9.9-52.1 34.1-113.3 68.2-172.4 33.5-58 73.7-109 113.4-143.5 23.2-20.2 46.7-35 67.9-42.8 23.1-8.5 43.1-8.5 57.7-.1 29.9 17.2 39.8 70 25.8 137.6-9.9 48-33.5 105.9-66.5 163.2-35.2 61-73.2 110.2-109.9 142.3-23.8 20.8-48.3 36-70.7 43.9-11.7 4.2-22.7 6.3-32.5 6.3zm25.1-300.9l10.4 6c-32.3 56-56.2 116.1-65.4 164.9-11.1 58.5-.4 93.7 15 102.6 3.8 2.2 8.8 3.4 14.9 3.4 19.9 0 51.2-12.6 87.4-44.2 34.7-30.3 71-77.5 104.9-136.2 31.8-55.1 54.4-110.5 63.8-156 13.1-63.7 1.8-102.7-14.3-112-8.2-4.7-21.5-4.1-37.5 1.8-18.5 6.8-39.4 20.1-60.4 38.4-37.7 32.8-76.2 81.6-108.4 137.4l-10.4-6.1z" class="st0" data-v-d28e11ae></path><path d="M413.4 550.1c-27.2 0-61.7-16.4-97.7-47.4-40.2-34.6-81.1-86.1-115.3-145.2-33.6-58-57.6-118.3-67.7-170-5.9-30.2-7-57.9-3.2-80.2 4.2-24.3 14.1-41.6 28.8-50.1 29.8-17.3 80.5.5 132.1 46.4 36.6 32.5 75 81.9 108.1 139.1 35.3 61 59 118.5 68.4 166.3 6.1 31 7.1 59.8 2.8 83.2-4.6 24.9-15 42.6-30 51.3-7.5 4.4-16.4 6.6-26.3 6.6zM221.2 345.5c32.4 56 72.6 106.7 110.2 139 45.1 38.8 80.9 47.2 96.4 38.2 16.1-9.3 27.9-47.4 15.7-109-9-45.2-31.7-100.2-65.7-158.9-31.9-55.1-68.6-102.4-103.3-133.2-48.6-43.2-88-52.9-104.1-43.6-8.2 4.7-14.3 16.6-17.2 33.4-3.3 19.4-2.3 44.2 3.1 71.5 9.6 49.1 32.6 106.8 64.9 162.6z" class="st0" data-v-d28e11ae></path></svg></span><!----><!----><!----><!----><span class="primary-menu__label" data-v-d28e11ae>React</span></a></li><li class="reactNative" data-v-d28e11ae><a href="/tag/react-native" aria-label="Kiến thức React native" title="Kiến thức React native" target="" data-v-d28e11ae><!----><!----><span class="primary-menu__icon" data-v-d28e11ae><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><defs data-v-d28e11ae></defs><g id="phone" data-v-d28e11ae><path d="M47 2H17a5 5 0 00-5 5v50a5 5 0 005 5h30a5 5 0 005-5V7a5 5 0 00-5-5zM27 26a2.5 2.5 0 11-2.5 2.5A2.5 2.5 0 0127 26zm1 13a2 2 0 01-1.33-.5 2 2 0 01-.16-2.83L32 29.49l2.51-2.82a2 2 0 113 2.66L32 35.51l-2.51 2.82A2 2 0 0128 39zm8.5 0a2.5 2.5 0 112.5-2.5 2.5 2.5 0 01-2.5 2.5z" class="cls-1" data-v-d28e11ae></path><path d="M52 7v50a5 5 0 01-5 5H32V2h15a5 5 0 015 5z" class="cls-2" data-v-d28e11ae></path><path fill="#fff200" d="M14 10h36v44H14z" data-v-d28e11ae></path><path d="M27 26a2.5 2.5 0 102.5 2.5A2.5 2.5 0 0027 26zm9.5 8a2.5 2.5 0 102.5 2.5 2.5 2.5 0 00-2.5-2.5zm.83-7.5a2 2 0 00-2.82.17L32 29.49l-5.49 6.18a2 2 0 00.16 2.83A2 2 0 0028 39a2 2 0 001.49-.67L32 35.51l5.49-6.18a2 2 0 00-.16-2.83z" class="cls-1" data-v-d28e11ae></path><path fill="#ffbe00" d="M32 10h18v44H32z" data-v-d28e11ae></path><path d="M37.33 26.5a2 2 0 00-2.82.17L32 29.49v6l5.49-6.18a2 2 0 00-.16-2.81z" class="cls-2" data-v-d28e11ae></path><circle cx="36.5" cy="36.5" r="2.5" class="cls-2" data-v-d28e11ae></circle></g></svg></span><!----><!----><!----><span class="primary-menu__label" data-v-d28e11ae>React native</span></a></li><li class="vue" data-v-d28e11ae><a href="/tag/vuejs" aria-label="Kiến thức Vue" title="Kiến thức Vue" target="" data-v-d28e11ae><!----><!----><!----><!----><span class="primary-menu__icon" data-v-d28e11ae><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><path fill="#41b883" d="M392.46 59.011H313.5l-57.499 90.972-49.285-90.972H26.001l230 393.978L485.999 59.011z" data-v-d28e11ae></path><path fill="#35495e" d="M83.192 91.867h55.241l117.568 203.511L373.464 91.867h55.241l-172.704 295.92L83.192 91.867z" data-v-d28e11ae></path></svg></span><!----><span class="primary-menu__label" data-v-d28e11ae>Vue</span></a></li><li class="htmlCss" data-v-d28e11ae><a href="/tag/css" aria-label="Kiến thức HTML/CSS" title="Kiến thức HTML/CSS" target="" data-v-d28e11ae><!----><!----><!----><span class="primary-menu__icon" data-v-d28e11ae><svg version="1.0" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><path fill="#E44D26" d="M27.377 28.889L16.001 32 4.625 28.889 2 0h28.002z" data-v-d28e11ae></path><path fill="#FF6C39" d="M16 2v27.75l9.232-2.742L27.688 2z" data-v-d28e11ae></path><path fill="#FFF" d="M24.363 6H7.607L8 10l.619 7h10.884l-.355 3.984L16 21.99l-3.143-1.006L12.648 19H8.803l.459 4.987L16 25.99l6.728-2.004.99-10.986H12.252l-.25-3H24z" data-v-d28e11ae></path></svg></span><!----><!----><span class="primary-menu__label" data-v-d28e11ae>HTML/CSS</span></a></li><li class="uxUi" data-v-d28e11ae><a href="/tag/ux-ui" aria-label="Kiến thức UX/UI" title="Kiến thức UX/UI" target="" data-v-d28e11ae><!----><!----><!----><!----><!----><span class="primary-menu__icon" data-v-d28e11ae><svg viewBox="0 0 512 454.633" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae><path d="M202.271 243.812c-9.741 10.73-12.13 18.428-24.884 38.588 8.237 5.752 24.104 19.055 35.095 41.959 21.953-12.592 32.188-14.514 43.821-24.309C332.24 236.092 518.244 6.836 511.839.204c-6.766-7.05-242.704 170.268-309.568 243.608zM155.442 300.209c-32.998-5.832-65.547 15.028-87.288 67.147C46.382 419.471 7.532 440.337.001 439.061c40.553 14.67 164.202 52.194 194.939-90.655-13.037-34.26-39.498-48.197-39.498-48.197z" data-v-d28e11ae></path></svg></span><span class="primary-menu__label" data-v-d28e11ae>UX/UI</span></a></li><li class="about" data-v-d28e11ae><a href="https://luubinhan.github.io/" target="_blank" data-v-d28e11ae>About</a></li></ul></div></div><div id="footer" data-v-d28e11ae><footer class="footer" data-v-d28e11ae><section class="footer-inner" data-v-d28e11ae><div class="social-links" data-v-d28e11ae><a href="https://www.youtube.com/channel/UC0Te8s0b0aplS1ZoVLfjKHA" target="_blank" rel="noopener noreferrer" class="link-youtube" data-v-d28e11ae><span class="link-youtube__icon" data-v-d28e11ae><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" data-v-d28e11ae data-v-d28e11ae><path d="M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256z" fill="#CD201F" data-v-d28e11ae data-v-d28e11ae></path><path d="M391.1 194.6c-2.3-19.9-7.1-25.7-10.5-28.4-5.4-4.2-15.2-5.7-28.3-6.6-21-1.4-56.7-2.3-95.2-2.3-38.6 0-74.2.8-95.2 2.3-13.1.9-22.9 2.4-28.3 6.6-3.4 2.7-8.1 8.5-10.5 28.4-3.4 28.7-3.4 94.1 0 122.8 2.4 19.9 7.1 25.7 10.5 28.4 5.4 4.2 15.2 5.7 28.3 6.6 21 1.4 56.6 2.3 95.2 2.3s74.2-.9 95.2-2.3c13.1-.9 22.9-2.4 28.3-6.6 3.4-2.6 8.1-8.5 10.5-28.4 3.4-28.7 3.4-94.1 0-122.8zm-167 104.3V213l82.4 42.9-82.4 43z" fill="#FFF" data-v-d28e11ae data-v-d28e11ae></path></svg></span>
            Youtube
          </a></div><div class="credit" data-v-d28e11ae>Copyright © 2019. luckyluu</div></section></footer></div></div><div class="master"><main class="inner"><div class="single-post"><div class="single-post-container"><article><header><div class="post-title"><h1 class="post-title__text single-post-title">Giới thiệu React Profiler</h1><div class="post-meta">
  Đăng ngày
  <time dateTime="2018-09-19" itemprop="dateModified" content="2018-09-19">2018-09-19</time>.
  
    Mất khoảng
    <strong>2 phút</strong> để đọc.
  </div></div></header><div class="post content-box"><div class="post__header"><!----></div><div class="blog-post"><div class="post-content"><!-- TOC -->
<ul>
<li><a href="#thu-th%E1%BA%ADp">Thu thập</a></li>
<li><a href="#%C4%91%E1%BB%8Dc-hi%E1%BB%83u-k%E1%BA%BFt-qu%E1%BA%A3">Đọc hiểu kết quả</a></li>
<li><a href="#l%E1%BB%8Dc-commit">Lọc commit</a></li>
<li><a href="#flame-chart">Flame chart</a></li>
<li><a href="#ranked-chart">Ranked chart</a></li>
<li><a href="#component-chart">Component Chart</a></li>
<li><a href="#t%C6%B0%C6%A1ng-t%C3%A1c">Tương tác</a></li>
</ul>
<!-- /TOC -->
<h2 id="thu-thập"><a href="#thu-th%E1%BA%ADp" aria-hidden="true"><span class="icon icon-link"></span></a>Thu thập</h2>
<p>Trên bộ DevTools sẽ có thêm tab <strong>Profiler</strong></p>
<p><img src="https://reactjs.org/static/devtools-profiler-tab-4da6b55fc3c98de04c261cd902c14dc3-acf85.png"></p>
<p>React-dom 16.5+ hỗ trợ thu thập dữ liệu khi chạy DEV, để dùng trong production sử dụng <code class="language-text">react-dom/profiling</code>, Đọc thêm cách sử dụng ở đây <a href="https://fb.me/react-profiling" target="_blank" rel="nofollow noopener noreferrer">https://fb.me/react-profiling</a></p>
<p>Trên màn hình vừa mở, click nút record để bắt đầu thu thập dữ liệu</p>
<p><img src="https://reactjs.org/static/start-profiling-bae8d10e17f06eeb8c512c91c0153cff-acf85.png" alt="record để bắt đầu thu thập dữ liệu"></p>
<p>Lúc này, khi một component react chạy <code class="language-text">render</code>, thông tin sẽ được thu thập. Sử dụng app như bình thường, khi không muốn thu thập dữ liệu nữa, click nút <strong>stop</strong></p>
<p><img src="https://reactjs.org/static/start-profiling-bae8d10e17f06eeb8c512c91c0153cff-acf85.png" alt="stop record"></p>
<h2 id="đọc-hiểu-kết-quả"><a href="#%C4%91%E1%BB%8Dc-hi%E1%BB%83u-k%E1%BA%BFt-qu%E1%BA%A3" aria-hidden="true"><span class="icon icon-link"></span></a>Đọc hiểu kết quả</h2>
<p>Chúng ta quan tâm đến quá trình <strong>commit</strong> React component - là khi component được <strong>insert</strong>, <strong>update</strong>, hoặc <strong>remove</strong> khỏi DOM.</p>
<p>Ở trên cùng, bên phải, để ý cái bar chart</p>
<p><img src="https://reactjs.org/static/commit-selector-bd72dec045515d59be51c944e902d263-8ef72.png"></p>
<p>Mỗi một cột trong cái chart này đại diện cho một commit, commit đang chọn sẽ được tô đen. Độ cao của cột này tương ứng cho thời gian cần để render.</p>
<h2 id="lọc-commit"><a href="#l%E1%BB%8Dc-commit" aria-hidden="true"><span class="icon icon-link"></span></a>Lọc commit</h2>
<p>Thời gian thu thập dữ liệu càng lâu, ứng dụng render càng nhiều lần, sớm muộn số lượng dữ liệu quá lớn như vậy chúng ta cần phải lọc để xem nhanh kết quả cần tìm. Ví dụ ẩn đi toàn bộ commit có thời gian bé hơn giá trị ms nào đó</p>
<p><img src="https://reactjs.org/filtering-commits-683b9d860ef722e1505e5e629df7ef7e.gif"></p>
<h2 id="flame-chart"><a href="#flame-chart" aria-hidden="true"><span class="icon icon-link"></span></a>Flame chart</h2>
<p><strong>Flame chart</strong> đại diện cho trạng thái của ứng trong một thời điểm commit cụ thể. Mỗi cột đại diện cho một component, kích thước và màu sắc thể hiện thời gian render component và các component con bên trong. Màu xanh thì tốn ít thời gian, màu vàng là nhiều thời gian và màu xám là không render</p>
<p><img src="https://reactjs.org/static/flame-chart-3046f500b9bfc052bde8b7b3b3cfc243-acf85.png" alt="Flame chart"></p>
<p>Ví dụ trên, commit trên tiêu tốn hết 18.4ms để render. Router tốn nhiều nhất thời gian để render: 18.4ms. Phần lớn là do phải render tất cả các component con, <code class="language-text">Nav</code> (8.4ms), <code class="language-text">Route</code> (7.9ms)</p>
<p>Click vào từng cột để hiển thị chi tiết các component con</p>
<p><img src="https://reactjs.org/zoom-in-and-out-39ba82394205242af7c37ccb3a631f4d.gif" alt="Click vào từng cột để hiển thị chi tiết các component con"></p>
<p>Bên cột phải chúng ta có các thông tin như props, state, tổng số lần render.</p>
<p><img src="https://reactjs.org/props-and-state-1f4d023f1a0f281386625f28df87c78f.gif"></p>
<p>Trong một số trường hợp, chọn vào component, chuyển qua lại giữa commit, sẽ có thông tin bổ sung tại sao component được render lại</p>
<p><img src="https://reactjs.org/see-which-props-changed-cc2a8b37bbce52c49a11c2f8e55dccbc.gif"></p>
<h2 id="ranked-chart"><a href="#ranked-chart" aria-hidden="true"><span class="icon icon-link"></span></a>Ranked chart</h2>
<p><strong>Ranked chart</strong> đại diện cho 1 commit. Mỗi cột trong chart là một component, các cột này được sếp theo thứ tự component nào tốn nhiều thời gian render nhất sẽ lên trên.</p>
<p><img src="https://reactjs.org/static/ranked-chart-0c81347535e28c9cdef0e94fab887b89-acf85.png"></p>
<h2 id="component-chart"><a href="#component-chart" aria-hidden="true"><span class="icon icon-link"></span></a>Component Chart</h2>
<p>Để xem đã bao nhiêu lần 1 component được render. Mỗi cột là mỗi lần component được render.</p>
<p><img src="https://reactjs.org/static/component-chart-d71275b42c6109e222fbb0932a0c8c09-acf85.png"></p>
<p>Double-click vào component này hoặc chọn component và chọn nút blue bar phải góc phải trên. Để xem thêm các thông tin khác</p>
<p><img src="https://reactjs.org/see-all-commits-for-a-fiber-99cb4321ded8eb0c21ae5fc673878563.gif"></p>
<h2 id="tương-tác"><a href="#t%C6%B0%C6%A1ng-t%C3%A1c" aria-hidden="true"><span class="icon icon-link"></span></a>Tương tác</h2>
<p>Hiện tại đây đang trong quá trình thử nghiệm cho tính năng này, tracking nguyên nhân gây ra update.</p>
<p><img src="https://reactjs.org/static/interactions-a91a39ac076b71aa7a202aaf46f8bd5a-acf85.png"></p>
<p>Mỗi dòng là một tương tác đã được track. Nút màu xanh bên cạnh là commit liên quan tới tương tác này.</p>
<p>Kiểm tra một tương tác trong commit cụ thể từ <strong>flame chart</strong> và <strong>ranked chart</strong></p>
<p><img src="https://reactjs.org/static/interactions-for-commit-9847e78f930cb7cf2b0f9682853a5dbc-acf85.png"></p>
<p><a href="https://github.com/facebook/react-devtools/tree/master/test/example" target="_blank" rel="nofollow noopener noreferrer">Source code ví dụ</a></p>
<p><a href="https://react-devtools-profiler-demo.now.sh/" target="_blank" rel="nofollow noopener noreferrer">Demo</a></p>
<p><a href="https://reactjs.org/blog/2018/09/10/introducing-the-react-profiler.html" target="_blank" rel="nofollow noopener noreferrer">Link bài gốc</a></p>
</div></div><div class="post__footer"><div class="post-tags"><a href="/tag/react/" class="post-tags__link"><span>#</span> react
		</a><a href="/tag/performance/" class="post-tags__link"><span>#</span> performance
		</a></div></div><div class="single-post__share"><a class="share-network-email" style="background-color:#333333;"><i class="mst-icon icon-mail"></i><span>Email</span></a><a class="share-network-facebook" style="background-color:#1877f2;"><i class="mst-icon icon-facebook"></i><span>Facebook</span></a><a class="share-network-linkedin" style="background-color:#007bb5;"><i class="mst-icon icon-linkedin"></i><span>LinkedIn</span></a><a class="share-network-pocket" style="background-color:#ef4056;"><i class="mst-icon icon-get-pocket"></i><span>Pocket</span></a><a class="share-network-skype" style="background-color:#00aff0;"><i class="mst-icon icon-skype"></i><span>Skype</span></a><a class="share-network-twitter" style="background-color:#1da1f2;"><i class="mst-icon icon-twitter"></i><span>Twitter</span></a></div></div><div class="post-comments"><div data-href="https://vuilaptrinh.com/gioi-thieu-react-profiler/" data-numposts="10" data-width="100%" class="fb-comments"></div><div id="disqus_thread" style="min-height:200px;"></div></div><div class="author post-author"><a href="https://luubinhan.github.io/" target="_blank"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-52311ff214b737f722259e901102d6b3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-52311ff214b737f722259e901102d6b3)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABwEDBAUGCAAC/8QAMxAAAQMCAwcBBgYDAAAAAAAAAQIDEQAEBRIhBhMxQVFhcQciIzJCgbEIFDORodEWgsH/xAAZAQEBAQEBAQAAAAAAAAAAAAAEAwUGAAH/xAAhEQABBAMAAgMBAAAAAAAAAAABAAIDEQQSISJBBRNRMf/aAAwDAQACEQMRAD8A6Pr1fOalmvLyUAk6AnxS5VROUx4oR%2bvmPXNjZYbhti48DcKUt9LRIJAHsgkaxMmO1ByzxnG8PeQ/a3d5bOIIUVJdUOHMifvWjB8c6aMP2q0CfPbC/TW119SVz9YetmOMLYRfWWH3TaSA4pKVNrWOuhgH6UYtkNrsK2stFvYU65nbjesOpyrbnhPIjuKhPhSwDZw4qw5kU5ph6r%2blpCYFNOLKflV5o1JSXMkDlS5xy1qtDo4mfrWe2/xhWEbJ3t400%2b6oZWyGpkBRiTGoSNJj/tVbEXEN/VMyAC1iPUTaS2xjG3bO3IS3ay2HNJc1lR6xPDx3oa4g0RvVlQcSfhFRLrEF3V0LpSAh10layOMzw7eKl3jqLhxsxLaRw4610MUYiAa1ZMxMosrPugpJJ0nlwiiJ%2bH69eZ28NulfuX7R0LTOhygKB8yKxWLaWoC0BJKpgfL2rdfh8sV3G1F9iBTLNnalGbkFuEADzAVVMpwOO6/xCx4izJaAuiSsT8UV8KKyBznmKih1J714OqIiCa5jVdJsqk4ggL9oRPSqDbty4/w/GnLVzKPyypBkaEif4p5N2RwA/anlPtvsrafAW0tJStChKVA8QR0p4ZqQQil1ilz5Y5nGloXKkcNev908G8iUoSCUiiHtVhFhhdou6wu2O6JyuNg/pzwUCdY5a8JrAXtwErWi3RmIEZwZE9utaccm/QEVzKVZjVrltN4JyJMqFdGemuz7OzmyFjbBGS5eQLm6PMuLAMf6iE/SgBavuMPNOON75wKC0tr4GDPtdqO%2bxm0i8ew0O3O7RfJnett6J4mCnXhH81DNDzGK/i%2b4/wBbZSb7S1xQ2IIVBHWvb2BAIioBcVxMCml3KgYFZQZadtSzAK460hCpkk%2bBTzahmmnXnRA0APmadsj0ol1uE2T6r5SEWgbO9K%2bARGs0H7stto3luczSyS3mEKUJIBI66VrvUnGWlJZwlKsuaHnjmgafCk/f9qwD6y%2b2pbjhKU%2bylWaJ8dabjxmtne0HInolrVcYThj18w5clKzl1KOZ/sVLRtJ%2bQbQ7akpum/01oEA9c3bvULB8WtGbRYuW1vvBOVtTivm48eVUt9Z3dwpKlIbaZIhJQZEdJq7fJxDxxHcdWgxnvtFbZz1ItsQCWMWyWb8hJcn3ZV3Pyz14eK2e9WpUBJoGYHhVpmCQyCtTZBMaHz1oq7DYxvmBh11IeZT7pR%2bZA5eR9vFCyoGs8owm4sz38kK//9k=' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" data-srcset="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.95c26cbf81b488daf3af4259c9393a66.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript></a><!----><p class="author__intro">Frontend Developer live in Ho Chi Minh City, a photography geek, and a music lover</p></div></article></div></div></main></div><div class="aside"></div></div> <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Giới thiệu React Profiler","path":"\u002Fgioi-thieu-react-profiler\u002F","date":"2018-09-19","timeToRead":2,"tags":[{"id":"react","title":"react","path":"\u002Ftag\u002Freact\u002F"},{"id":"performance","title":"performance","path":"\u002Ftag\u002Fperformance\u002F"}],"desc":"Từ version React 16.5 bổ sung thêm một plugin DevTool profiler. Plugin này được dùng để thu thập các thông tin về thời gian render một component, xác định nguyên nhân làm trì trệ performance.","content":"\u003C!-- TOC --\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#thu-th%E1%BA%ADp\"\u003EThu thập\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#%C4%91%E1%BB%8Dc-hi%E1%BB%83u-k%E1%BA%BFt-qu%E1%BA%A3\"\u003EĐọc hiểu kết quả\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#l%E1%BB%8Dc-commit\"\u003ELọc commit\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#flame-chart\"\u003EFlame chart\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#ranked-chart\"\u003ERanked chart\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#component-chart\"\u003EComponent Chart\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#t%C6%B0%C6%A1ng-t%C3%A1c\"\u003ETương tác\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C!-- \u002FTOC --\u003E\n\u003Ch2 id=\"thu-thập\"\u003E\u003Ca href=\"#thu-th%E1%BA%ADp\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EThu thập\u003C\u002Fh2\u003E\n\u003Cp\u003ETrên bộ DevTools sẽ có thêm tab \u003Cstrong\u003EProfiler\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fstatic\u002Fdevtools-profiler-tab-4da6b55fc3c98de04c261cd902c14dc3-acf85.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EReact-dom 16.5+ hỗ trợ thu thập dữ liệu khi chạy DEV, để dùng trong production sử dụng \u003Ccode class=\"language-text\"\u003Ereact-dom\u002Fprofiling\u003C\u002Fcode\u003E, Đọc thêm cách sử dụng ở đây \u003Ca href=\"https:\u002F\u002Ffb.me\u002Freact-profiling\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Ffb.me\u002Freact-profiling\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETrên màn hình vừa mở, click nút record để bắt đầu thu thập dữ liệu\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fstatic\u002Fstart-profiling-bae8d10e17f06eeb8c512c91c0153cff-acf85.png\" alt=\"record để bắt đầu thu thập dữ liệu\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ELúc này, khi một component react chạy \u003Ccode class=\"language-text\"\u003Erender\u003C\u002Fcode\u003E, thông tin sẽ được thu thập. Sử dụng app như bình thường, khi không muốn thu thập dữ liệu nữa, click nút \u003Cstrong\u003Estop\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fstatic\u002Fstart-profiling-bae8d10e17f06eeb8c512c91c0153cff-acf85.png\" alt=\"stop record\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"đọc-hiểu-kết-quả\"\u003E\u003Ca href=\"#%C4%91%E1%BB%8Dc-hi%E1%BB%83u-k%E1%BA%BFt-qu%E1%BA%A3\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EĐọc hiểu kết quả\u003C\u002Fh2\u003E\n\u003Cp\u003EChúng ta quan tâm đến quá trình \u003Cstrong\u003Ecommit\u003C\u002Fstrong\u003E React component - là khi component được \u003Cstrong\u003Einsert\u003C\u002Fstrong\u003E, \u003Cstrong\u003Eupdate\u003C\u002Fstrong\u003E, hoặc \u003Cstrong\u003Eremove\u003C\u002Fstrong\u003E khỏi DOM.\u003C\u002Fp\u003E\n\u003Cp\u003EỞ trên cùng, bên phải, để ý cái bar chart\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fstatic\u002Fcommit-selector-bd72dec045515d59be51c944e902d263-8ef72.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EMỗi một cột trong cái chart này đại diện cho một commit, commit đang chọn sẽ được tô đen. Độ cao của cột này tương ứng cho thời gian cần để render.\u003C\u002Fp\u003E\n\u003Ch2 id=\"lọc-commit\"\u003E\u003Ca href=\"#l%E1%BB%8Dc-commit\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ELọc commit\u003C\u002Fh2\u003E\n\u003Cp\u003EThời gian thu thập dữ liệu càng lâu, ứng dụng render càng nhiều lần, sớm muộn số lượng dữ liệu quá lớn như vậy chúng ta cần phải lọc để xem nhanh kết quả cần tìm. Ví dụ ẩn đi toàn bộ commit có thời gian bé hơn giá trị ms nào đó\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Ffiltering-commits-683b9d860ef722e1505e5e629df7ef7e.gif\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"flame-chart\"\u003E\u003Ca href=\"#flame-chart\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EFlame chart\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cstrong\u003EFlame chart\u003C\u002Fstrong\u003E đại diện cho trạng thái của ứng trong một thời điểm commit cụ thể. Mỗi cột đại diện cho một component, kích thước và màu sắc thể hiện thời gian render component và các component con bên trong. Màu xanh thì tốn ít thời gian, màu vàng là nhiều thời gian và màu xám là không render\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fstatic\u002Fflame-chart-3046f500b9bfc052bde8b7b3b3cfc243-acf85.png\" alt=\"Flame chart\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EVí dụ trên, commit trên tiêu tốn hết 18.4ms để render. Router tốn nhiều nhất thời gian để render: 18.4ms. Phần lớn là do phải render tất cả các component con, \u003Ccode class=\"language-text\"\u003ENav\u003C\u002Fcode\u003E (8.4ms), \u003Ccode class=\"language-text\"\u003ERoute\u003C\u002Fcode\u003E (7.9ms)\u003C\u002Fp\u003E\n\u003Cp\u003EClick vào từng cột để hiển thị chi tiết các component con\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fzoom-in-and-out-39ba82394205242af7c37ccb3a631f4d.gif\" alt=\"Click vào từng cột để hiển thị chi tiết các component con\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EBên cột phải chúng ta có các thông tin như props, state, tổng số lần render.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fprops-and-state-1f4d023f1a0f281386625f28df87c78f.gif\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETrong một số trường hợp, chọn vào component, chuyển qua lại giữa commit, sẽ có thông tin bổ sung tại sao component được render lại\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fsee-which-props-changed-cc2a8b37bbce52c49a11c2f8e55dccbc.gif\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"ranked-chart\"\u003E\u003Ca href=\"#ranked-chart\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ERanked chart\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cstrong\u003ERanked chart\u003C\u002Fstrong\u003E đại diện cho 1 commit. Mỗi cột trong chart là một component, các cột này được sếp theo thứ tự component nào tốn nhiều thời gian render nhất sẽ lên trên.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fstatic\u002Franked-chart-0c81347535e28c9cdef0e94fab887b89-acf85.png\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"component-chart\"\u003E\u003Ca href=\"#component-chart\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EComponent Chart\u003C\u002Fh2\u003E\n\u003Cp\u003EĐể xem đã bao nhiêu lần 1 component được render. Mỗi cột là mỗi lần component được render.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fstatic\u002Fcomponent-chart-d71275b42c6109e222fbb0932a0c8c09-acf85.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EDouble-click vào component này hoặc chọn component và chọn nút blue bar phải góc phải trên. Để xem thêm các thông tin khác\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fsee-all-commits-for-a-fiber-99cb4321ded8eb0c21ae5fc673878563.gif\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"tương-tác\"\u003E\u003Ca href=\"#t%C6%B0%C6%A1ng-t%C3%A1c\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ETương tác\u003C\u002Fh2\u003E\n\u003Cp\u003EHiện tại đây đang trong quá trình thử nghiệm cho tính năng này, tracking nguyên nhân gây ra update.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fstatic\u002Finteractions-a91a39ac076b71aa7a202aaf46f8bd5a-acf85.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EMỗi dòng là một tương tác đã được track. Nút màu xanh bên cạnh là commit liên quan tới tương tác này.\u003C\u002Fp\u003E\n\u003Cp\u003EKiểm tra một tương tác trong commit cụ thể từ \u003Cstrong\u003Eflame chart\u003C\u002Fstrong\u003E và \u003Cstrong\u003Eranked chart\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Freactjs.org\u002Fstatic\u002Finteractions-for-commit-9847e78f930cb7cf2b0f9682853a5dbc-acf85.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ffacebook\u002Freact-devtools\u002Ftree\u002Fmaster\u002Ftest\u002Fexample\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ESource code ví dụ\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Freact-devtools-profiler-demo.now.sh\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EDemo\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Freactjs.org\u002Fblog\u002F2018\u002F09\u002F10\u002Fintroducing-the-react-profiler.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ELink bài gốc\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n","cover_image":""}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.11a2acaa.js" defer></script><script src="/assets/js/page--src-templates-post-vue.136044c9.js" defer></script>
  </body>
</html>
